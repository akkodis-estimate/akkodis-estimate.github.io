(self.webpackChunkangular_clean_architecture_serverless=self.webpackChunkangular_clean_architecture_serverless||[]).push([[179],{2011:(Vt,St,Re)=>{"use strict";Re.d(St,{Dh:()=>A,GT:()=>z,cc:()=>b,hO:()=>f,on:()=>g,pX:()=>_,xv:()=>y});var s=Re(4650),et=Re(127),Ne=Re(5813);Vt=Re.hmd(Vt);const rt=["ngOnDestroy"],_=(E,v,D,S={})=>new Proxy(E,{get:(R,L)=>D.runOutsideAngular(()=>{var Z;if(E[L])return!(null===(Z=S?.spy)||void 0===Z)&&Z.get&&S.spy.get(L,E[L]),E[L];if(rt.indexOf(L)>-1)return()=>{};const ee=v.toPromise().then(ne=>{const J=ne&&ne[L];return"function"==typeof J?J.bind(ne):J&&J.then?J.then(re=>D.run(()=>re)):D.run(()=>J)});return new Proxy(()=>{},{get:(ne,J)=>ee[J],apply:(ne,J,re)=>ee.then(oe=>{var fe;const ae=oe&&oe(...re);return!(null===(fe=S?.spy)||void 0===fe)&&fe.apply&&S.spy.apply(L,re,ae),ae})})})}),z=(E,v)=>{v.forEach(D=>{Object.getOwnPropertyNames(D.prototype||D).forEach(S=>{Object.defineProperty(E.prototype,S,Object.getOwnPropertyDescriptor(D.prototype||D,S))})})};class B{constructor(v){return v}}const A=new s.OlP("angularfire2.app.options"),y=new s.OlP("angularfire2.app.name");function g(E,v,D){const R="object"==typeof D&&D||{};R.name=R.name||"string"==typeof D&&D||"[DEFAULT]";const Z=et.Z.apps.filter(ee=>ee&&ee.name===R.name)[0]||v.runOutsideAngular(()=>et.Z.initializeApp(E,R));try{JSON.stringify(E)!==JSON.stringify(Z.options)&&d("error",`${Z.name} Firebase App already initialized with different options${Vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new B(Z)}const d=(E,...v)=>{(0,s.X6Q)()&&typeof console<"u"&&console[E](...v)},u={provide:B,useFactory:g,deps:[A,s.R0b,[new s.FiY,y]]};let f=(()=>{class E{constructor(D){et.Z.registerVersion("angularfire",Ne.q4.full,"core"),et.Z.registerVersion("angularfire",Ne.q4.full,"app-compat"),et.Z.registerVersion("angular",s.q4F.full,D.toString())}static initializeApp(D,S){return{ngModule:E,providers:[{provide:A,useValue:D},{provide:y,useValue:S}]}}}return E.\u0275fac=function(D){return new(D||E)(s.LFG(s.Lbi))},E.\u0275mod=s.oAB({type:E}),E.\u0275inj=s.cJS({providers:[u]}),E})();function b(E,v,D,S,R){const[,L,Z]=globalThis.\u0275AngularfireInstanceCache.find(ee=>ee[0]===E)||[];if(L)return function p(E,v){try{return E.toString()===v.toString()}catch{return E===v}}(R,Z)||(C("error",`${v} was already initialized on the ${D} Firebase App with different settings.${m?" You may need to reload as Firebase is not HMR aware.":""}`),C("warn",{is:R,was:Z})),L;{const ee=S();return globalThis.\u0275AngularfireInstanceCache.push([E,ee,R]),ee}}const m=!!Vt.hot,C=(E,...v)=>{(0,s.X6Q)()&&typeof console<"u"&&console[E](...v)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Vt,St,Re)=>{"use strict";Re.d(St,{q4:()=>wu,iC:()=>uc,fc:()=>Yp,HU:()=>gi,vb:()=>$n,JM:()=>ps});var s=Re(4650),et=Re(5867),Ne=Re(5861),rt=Re(9681),_=Re(2090),z=Re(4859),B=Re(1877),A=Re(8766);const y="@firebase/installations",g="0.5.12",d=1e4,u=`w:${g}`,f="FIS_v2",b="https://firebaseinstallations.googleapis.com/v1",p=36e5,v=new _.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function D(ge){return ge instanceof _.ZR&&ge.code.includes("request-failed")}function S({projectId:ge}){return`${b}/projects/${ge}/installations`}function R(ge){return{token:ge.token,requestStatus:2,expiresIn:oe(ge.expiresIn),creationTime:Date.now()}}function L(ge,me){return Z.apply(this,arguments)}function Z(){return(Z=(0,Ne.Z)(function*(ge,me){const $e=(yield me.json()).error;return v.create("request-failed",{requestName:ge,serverCode:$e.code,serverMessage:$e.message,serverStatus:$e.status})})).apply(this,arguments)}function ee({apiKey:ge}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ge})}function J(ge){return re.apply(this,arguments)}function re(){return(re=(0,Ne.Z)(function*(ge){const me=yield ge();return me.status>=500&&me.status<600?ge():me})).apply(this,arguments)}function oe(ge){return Number(ge.replace("s","000"))}function $(){return($=(0,Ne.Z)(function*({appConfig:ge,heartbeatServiceProvider:me},{fid:xe}){const $e=S(ge),nt=ee(ge),ft=me.getImmediate({optional:!0});if(ft){const Rn=yield ft.getHeartbeatsHeader();Rn&&nt.append("x-firebase-client",Rn)}const Xt={method:"POST",headers:nt,body:JSON.stringify({fid:xe,authVersion:f,appId:ge.appId,sdkVersion:u})},An=yield J(()=>fetch($e,Xt));if(An.ok){const Rn=yield An.json();return{fid:Rn.fid||xe,registrationStatus:2,refreshToken:Rn.refreshToken,authToken:R(Rn.authToken)}}throw yield L("Create Installation",An)})).apply(this,arguments)}function W(ge){return new Promise(me=>{setTimeout(me,ge)})}const T=/^[cdef][\w-]{21}$/,I="";function k(){try{const ge=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ge),ge[0]=112+ge[0]%16;const xe=function N(ge){return function ie(ge){return btoa(String.fromCharCode(...ge)).replace(/\+/g,"-").replace(/\//g,"_")}(ge).substr(0,22)}(ge);return T.test(xe)?xe:I}catch{return I}}function P(ge){return`${ge.appName}!${ge.appId}`}const U=new Map;function Y(ge,me){const xe=P(ge);be(xe,me),function K(ge,me){const xe=function q(){return!_e&&"BroadcastChannel"in self&&(_e=new BroadcastChannel("[Firebase] FID Change"),_e.onmessage=ge=>{be(ge.data.key,ge.data.fid)}),_e}();xe&&xe.postMessage({key:ge,fid:me}),function G(){0===U.size&&_e&&(_e.close(),_e=null)}()}(xe,me)}function be(ge,me){const xe=U.get(ge);if(xe)for(const $e of xe)$e(me)}let _e=null;const ue="firebase-installations-database",Te=1,Me="firebase-installations-store";let Ee=null;function ke(){return Ee||(Ee=(0,A.X3)(ue,Te,{upgrade:(ge,me)=>{0===me&&ge.createObjectStore(Me)}})),Ee}function We(ge,me){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,Ne.Z)(function*(ge,me){const xe=P(ge),nt=(yield ke()).transaction(Me,"readwrite"),ft=nt.objectStore(Me),Ct=yield ft.get(xe);return yield ft.put(me,xe),yield nt.done,(!Ct||Ct.fid!==me.fid)&&Y(ge,me.fid),me})).apply(this,arguments)}function Se(ge){return qe.apply(this,arguments)}function qe(){return(qe=(0,Ne.Z)(function*(ge){const me=P(ge),$e=(yield ke()).transaction(Me,"readwrite");yield $e.objectStore(Me).delete(me),yield $e.done})).apply(this,arguments)}function ze(ge,me){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,Ne.Z)(function*(ge,me){const xe=P(ge),nt=(yield ke()).transaction(Me,"readwrite"),ft=nt.objectStore(Me),Ct=yield ft.get(xe),Xt=me(Ct);return void 0===Xt?yield ft.delete(xe):yield ft.put(Xt,xe),yield nt.done,Xt&&(!Ct||Ct.fid!==Xt.fid)&&Y(ge,Xt.fid),Xt})).apply(this,arguments)}function st(ge){return tt.apply(this,arguments)}function tt(){return tt=(0,Ne.Z)(function*(ge){let me;const xe=yield ze(ge.appConfig,$e=>{const nt=function it(ge){return Dn(ge||{fid:k(),registrationStatus:0})}($e),ft=function lt(ge,me){if(0===me.registrationStatus){if(!navigator.onLine)return{installationEntry:me,registrationPromise:Promise.reject(v.create("app-offline"))};const xe={fid:me.fid,registrationStatus:1,registrationTime:Date.now()},$e=function ht(ge,me){return kt.apply(this,arguments)}(ge,xe);return{installationEntry:xe,registrationPromise:$e}}return 1===me.registrationStatus?{installationEntry:me,registrationPromise:Wt(ge)}:{installationEntry:me}}(ge,nt);return me=ft.registrationPromise,ft.installationEntry});return xe.fid===I?{installationEntry:yield me}:{installationEntry:xe,registrationPromise:me}}),tt.apply(this,arguments)}function kt(){return kt=(0,Ne.Z)(function*(ge,me){try{const xe=yield function ae(ge,me){return $.apply(this,arguments)}(ge,me);return We(ge.appConfig,xe)}catch(xe){throw D(xe)&&409===xe.customData.serverCode?yield Se(ge.appConfig):yield We(ge.appConfig,{fid:me.fid,registrationStatus:0}),xe}}),kt.apply(this,arguments)}function Wt(ge){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,Ne.Z)(function*(ge){let me=yield qt(ge.appConfig);for(;1===me.registrationStatus;)yield W(100),me=yield qt(ge.appConfig);if(0===me.registrationStatus){const{installationEntry:xe,registrationPromise:$e}=yield st(ge);return $e||xe}return me})).apply(this,arguments)}function qt(ge){return ze(ge,me=>{if(!me)throw v.create("installation-not-found");return Dn(me)})}function Dn(ge){return function gn(ge){return 1===ge.registrationStatus&&ge.registrationTime+d<Date.now()}(ge)?{fid:ge.fid,registrationStatus:0}:ge}function sn(){return(sn=(0,Ne.Z)(function*({appConfig:ge,heartbeatServiceProvider:me},xe){const $e=function Dt(ge,{fid:me}){return`${S(ge)}/${me}/authTokens:generate`}(ge,xe),nt=function ne(ge,{refreshToken:me}){const xe=ee(ge);return xe.append("Authorization",function fe(ge){return`${f} ${ge}`}(me)),xe}(ge,xe),ft=me.getImmediate({optional:!0});if(ft){const Rn=yield ft.getHeartbeatsHeader();Rn&&nt.append("x-firebase-client",Rn)}const Xt={method:"POST",headers:nt,body:JSON.stringify({installation:{sdkVersion:u,appId:ge.appId}})},An=yield J(()=>fetch($e,Xt));if(An.ok)return R(yield An.json());throw yield L("Generate Auth Token",An)})).apply(this,arguments)}function Fe(ge){return Be.apply(this,arguments)}function Be(){return Be=(0,Ne.Z)(function*(ge,me=!1){let xe;const $e=yield ze(ge.appConfig,ft=>{if(!Jt(ft))throw v.create("not-registered");const Ct=ft.authToken;if(!me&&function on(ge){return 2===ge.requestStatus&&!function Qt(ge){const me=Date.now();return me<ge.creationTime||ge.creationTime+ge.expiresIn<me+p}(ge)}(Ct))return ft;if(1===Ct.requestStatus)return xe=function Pe(ge,me){return Ue.apply(this,arguments)}(ge,me),ft;{if(!navigator.onLine)throw v.create("app-offline");const Xt=function tr(ge){const me={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ge),{authToken:me})}(ft);return xe=function ot(ge,me){return yt.apply(this,arguments)}(ge,Xt),Xt}});return xe?yield xe:$e.authToken}),Be.apply(this,arguments)}function Ue(){return(Ue=(0,Ne.Z)(function*(ge,me){let xe=yield Ze(ge.appConfig);for(;1===xe.authToken.requestStatus;)yield W(100),xe=yield Ze(ge.appConfig);const $e=xe.authToken;return 0===$e.requestStatus?Fe(ge,me):$e})).apply(this,arguments)}function Ze(ge){return ze(ge,me=>{if(!Jt(me))throw v.create("not-registered");return function Ut(ge){return 1===ge.requestStatus&&ge.requestTime+d<Date.now()}(me.authToken)?Object.assign(Object.assign({},me),{authToken:{requestStatus:0}}):me})}function yt(){return yt=(0,Ne.Z)(function*(ge,me){try{const xe=yield function Mt(ge,me){return sn.apply(this,arguments)}(ge,me),$e=Object.assign(Object.assign({},me),{authToken:xe});return yield We(ge.appConfig,$e),xe}catch(xe){if(!D(xe)||401!==xe.customData.serverCode&&404!==xe.customData.serverCode){const $e=Object.assign(Object.assign({},me),{authToken:{requestStatus:0}});yield We(ge.appConfig,$e)}else yield Se(ge.appConfig);throw xe}}),yt.apply(this,arguments)}function Jt(ge){return void 0!==ge&&2===ge.registrationStatus}function lr(){return(lr=(0,Ne.Z)(function*(ge){const me=ge,{installationEntry:xe,registrationPromise:$e}=yield st(me);return $e?$e.catch(console.error):Fe(me).catch(console.error),xe.fid})).apply(this,arguments)}function vn(){return vn=(0,Ne.Z)(function*(ge,me=!1){const xe=ge;return yield function Bi(ge){return In.apply(this,arguments)}(xe),(yield Fe(xe,me)).token}),vn.apply(this,arguments)}function In(){return(In=(0,Ne.Z)(function*(ge){const{registrationPromise:me}=yield st(ge);me&&(yield me)})).apply(this,arguments)}function yn(ge){return v.create("missing-app-config-values",{valueName:ge})}const en="installations",Cn=ge=>{const me=ge.getProvider("app").getImmediate(),xe=function fr(ge){if(!ge||!ge.options)throw yn("App Configuration");if(!ge.name)throw yn("App Name");const me=["projectId","apiKey","appId"];for(const xe of me)if(!ge.options[xe])throw yn(xe);return{appName:ge.name,projectId:ge.options.projectId,apiKey:ge.options.apiKey,appId:ge.options.appId}}(me);return{app:me,appConfig:xe,heartbeatServiceProvider:(0,rt._getProvider)(me,"heartbeat"),_delete:()=>Promise.resolve()}},Wn=ge=>{const me=ge.getProvider("app").getImmediate(),xe=(0,rt._getProvider)(me,en).getImmediate();return{getId:()=>function an(ge){return lr.apply(this,arguments)}(xe),getToken:nt=>function Zt(ge){return vn.apply(this,arguments)}(xe,nt)}};(function En(){(0,rt._registerComponent)(new z.wA(en,Cn,"PUBLIC")),(0,rt._registerComponent)(new z.wA("installations-internal",Wn,"PRIVATE"))})(),(0,rt.registerVersion)(y,g),(0,rt.registerVersion)(y,g,"esm2017");const Kn="@firebase/remote-config",Le=new _.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Rs{constructor(me,xe,$e,nt){this.client=me,this.storage=xe,this.storageCache=$e,this.logger=nt}isCachedDataFresh(me,xe){if(!xe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $e=Date.now()-xe,nt=$e<=me;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$e}. Cache max age millis (minimumFetchIntervalMillis setting): ${me}. Is cache hit: ${nt}.`),nt}fetch(me){var xe=this;return(0,Ne.Z)(function*(){const[$e,nt]=yield Promise.all([xe.storage.getLastSuccessfulFetchTimestampMillis(),xe.storage.getLastSuccessfulFetchResponse()]);if(nt&&xe.isCachedDataFresh(me.cacheMaxAgeMillis,$e))return nt;me.eTag=nt&&nt.eTag;const ft=yield xe.client.fetch(me),Ct=[xe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ft.status&&Ct.push(xe.storage.setLastSuccessfulFetchResponse(ft)),yield Promise.all(Ct),ft})()}}function ri(ge=navigator){return ge.languages&&ge.languages[0]||ge.language}class Yn{constructor(me,xe,$e,nt,ft,Ct){this.firebaseInstallations=me,this.sdkVersion=xe,this.namespace=$e,this.projectId=nt,this.apiKey=ft,this.appId=Ct}fetch(me){var xe=this;return(0,Ne.Z)(function*(){var $e,nt,ft;const[Ct,Xt]=yield Promise.all([xe.firebaseInstallations.getId(),xe.firebaseInstallations.getToken()]),Rn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${xe.projectId}/namespaces/${xe.namespace}:fetch?key=${xe.apiKey}`,Hn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":me.eTag||"*"},kn={sdk_version:xe.sdkVersion,app_instance_id:Ct,app_instance_id_token:Xt,app_id:xe.appId,language_code:ri()},Ii={method:"POST",headers:Hn,body:JSON.stringify(kn)},_i=fetch(Rn,Ii),es=new Promise((Do,Rr)=>{me.signal.addEventListener(()=>{const hc=new Error("The operation was aborted.");hc.name="AbortError",Rr(hc)})});let Sl;try{yield Promise.race([_i,es]),Sl=yield _i}catch(Do){let Rr="fetch-client-network";throw"AbortError"===(null===($e=Do)||void 0===$e?void 0:$e.name)&&(Rr="fetch-timeout"),Le.create(Rr,{originalErrorMessage:null===(nt=Do)||void 0===nt?void 0:nt.message})}let Ra=Sl.status;const ao=Sl.headers.get("ETag")||void 0;let ta,si;if(200===Sl.status){let Do;try{Do=yield Sl.json()}catch(Rr){throw Le.create("fetch-client-parse",{originalErrorMessage:null===(ft=Rr)||void 0===ft?void 0:ft.message})}ta=Do.entries,si=Do.state}if("INSTANCE_STATE_UNSPECIFIED"===si?Ra=500:"NO_CHANGE"===si?Ra=304:("NO_TEMPLATE"===si||"EMPTY_CONFIG"===si)&&(ta={}),304!==Ra&&200!==Ra)throw Le.create("fetch-status",{httpStatus:Ra});return{status:Ra,eTag:ao,config:ta}})()}}class di{constructor(me,xe){this.client=me,this.storage=xe}fetch(me){var xe=this;return(0,Ne.Z)(function*(){const $e=(yield xe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return xe.attemptFetch(me,$e)})()}attemptFetch(me,{throttleEndTimeMillis:xe,backoffCount:$e}){var nt=this;return(0,Ne.Z)(function*(){yield function Gn(ge,me){return new Promise((xe,$e)=>{const nt=Math.max(me-Date.now(),0),ft=setTimeout(xe,nt);ge.addEventListener(()=>{clearTimeout(ft),$e(Le.create("fetch-throttle",{throttleEndTimeMillis:me}))})})}(me.signal,xe);try{const ft=yield nt.client.fetch(me);return yield nt.storage.deleteThrottleMetadata(),ft}catch(ft){if(!function Cr(ge){if(!(ge instanceof _.ZR&&ge.customData))return!1;const me=Number(ge.customData.httpStatus);return 429===me||500===me||503===me||504===me}(ft))throw ft;const Ct={throttleEndTimeMillis:Date.now()+(0,_.$s)($e),backoffCount:$e+1};return yield nt.storage.setThrottleMetadata(Ct),nt.attemptFetch(me,Ct)}})()}}class Vi{constructor(me,xe,$e,nt,ft){this.app=me,this._client=xe,this._storageCache=$e,this._storage=nt,this._logger=ft,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hi(ge,me){var xe;const $e=ge.target.error||void 0;return Le.create(me,{originalErrorMessage:$e&&(null===(xe=$e)||void 0===xe?void 0:xe.message)})}const $r="app_namespace_store";class Qi{constructor(me,xe,$e,nt=function zr(){return new Promise((ge,me)=>{var xe;try{const $e=indexedDB.open("firebase_remote_config",1);$e.onerror=nt=>{me(Hi(nt,"storage-open"))},$e.onsuccess=nt=>{ge(nt.target.result)},$e.onupgradeneeded=nt=>{0===nt.oldVersion&&nt.target.result.createObjectStore($r,{keyPath:"compositeKey"})}}catch($e){me(Le.create("storage-open",{originalErrorMessage:null===(xe=$e)||void 0===xe?void 0:xe.message}))}})}()){this.appId=me,this.appName=xe,this.namespace=$e,this.openDbPromise=nt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(me){return this.set("last_fetch_status",me)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(me){return this.set("last_successful_fetch_timestamp_millis",me)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(me){return this.set("last_successful_fetch_response",me)}getActiveConfig(){return this.get("active_config")}setActiveConfig(me){return this.set("active_config",me)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(me){return this.set("active_config_etag",me)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(me){return this.set("throttle_metadata",me)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(me){var xe=this;return(0,Ne.Z)(function*(){const $e=yield xe.openDbPromise;return new Promise((nt,ft)=>{var Ct;const An=$e.transaction([$r],"readonly").objectStore($r),Rn=xe.createCompositeKey(me);try{const Hn=An.get(Rn);Hn.onerror=kn=>{ft(Hi(kn,"storage-get"))},Hn.onsuccess=kn=>{const Ii=kn.target.result;nt(Ii?Ii.value:void 0)}}catch(Hn){ft(Le.create("storage-get",{originalErrorMessage:null===(Ct=Hn)||void 0===Ct?void 0:Ct.message}))}})})()}set(me,xe){var $e=this;return(0,Ne.Z)(function*(){const nt=yield $e.openDbPromise;return new Promise((ft,Ct)=>{var Xt;const Rn=nt.transaction([$r],"readwrite").objectStore($r),Hn=$e.createCompositeKey(me);try{const kn=Rn.put({compositeKey:Hn,value:xe});kn.onerror=Ii=>{Ct(Hi(Ii,"storage-set"))},kn.onsuccess=()=>{ft()}}catch(kn){Ct(Le.create("storage-set",{originalErrorMessage:null===(Xt=kn)||void 0===Xt?void 0:Xt.message}))}})})()}delete(me){var xe=this;return(0,Ne.Z)(function*(){const $e=yield xe.openDbPromise;return new Promise((nt,ft)=>{var Ct;const An=$e.transaction([$r],"readwrite").objectStore($r),Rn=xe.createCompositeKey(me);try{const Hn=An.delete(Rn);Hn.onerror=kn=>{ft(Hi(kn,"storage-delete"))},Hn.onsuccess=()=>{nt()}}catch(Hn){ft(Le.create("storage-delete",{originalErrorMessage:null===(Ct=Hn)||void 0===Ct?void 0:Ct.message}))}})})()}createCompositeKey(me){return[this.appId,this.appName,this.namespace,me].join()}}class to{constructor(me){this.storage=me}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var me=this;return(0,Ne.Z)(function*(){const xe=me.storage.getLastFetchStatus(),$e=me.storage.getLastSuccessfulFetchTimestampMillis(),nt=me.storage.getActiveConfig(),ft=yield xe;ft&&(me.lastFetchStatus=ft);const Ct=yield $e;Ct&&(me.lastSuccessfulFetchTimestampMillis=Ct);const Xt=yield nt;Xt&&(me.activeConfig=Xt)})()}setLastFetchStatus(me){return this.lastFetchStatus=me,this.storage.setLastFetchStatus(me)}setLastSuccessfulFetchTimestampMillis(me){return this.lastSuccessfulFetchTimestampMillis=me,this.storage.setLastSuccessfulFetchTimestampMillis(me)}setActiveConfig(me){return this.activeConfig=me,this.storage.setActiveConfig(me)}}function Zo(){return sl.apply(this,arguments)}function sl(){return(sl=(0,Ne.Z)(function*(){if(!(0,_.hl)())return!1;try{return yield(0,_.eu)()}catch{return!1}})).apply(this,arguments)}!function Xi(){(0,rt._registerComponent)(new z.wA("remote-config",function ge(me,{instanceIdentifier:xe}){const $e=me.getProvider("app").getImmediate(),nt=me.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Le.create("registration-window");if(!(0,_.hl)())throw Le.create("indexed-db-unavailable");const{projectId:ft,apiKey:Ct,appId:Xt}=$e.options;if(!ft)throw Le.create("registration-project-id");if(!Ct)throw Le.create("registration-api-key");if(!Xt)throw Le.create("registration-app-id");const An=new Qi(Xt,$e.name,xe=xe||"firebase"),Rn=new to(An),Hn=new B.Yd(Kn);Hn.logLevel=B.in.ERROR;const kn=new Yn(nt,rt.SDK_VERSION,xe,ft,Ct,Xt),Ii=new di(kn,An),_i=new Rs(Ii,An,Rn,Hn),es=new Vi($e,_i,Rn,An,Hn);return function pn(ge){const me=(0,_.m9)(ge);me._initializePromise||(me._initializePromise=me._storageCache.loadFromStorage().then(()=>{me._isInitializationComplete=!0}))}(es),es},"PUBLIC").setMultipleInstances(!0)),(0,rt.registerVersion)(Kn,"0.3.11"),(0,rt.registerVersion)(Kn,"0.3.11","esm2017")}();const Wo="/firebase-messaging-sw.js",bo="/firebase-cloud-messaging-push-scope",ol="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$l="https://fcmregistrations.googleapis.com/v1",fd="google.c.a.c_id",Lp="google.c.a.c_l",Bp="google.c.a.ts",u0="google.c.a.e";var wa=(()=>{return(ge=wa||(wa={})).PUSH_RECEIVED="push-received",ge.NOTIFICATION_CLICKED="notification-clicked",wa;var ge})();function no(ge){const me=new Uint8Array(ge);return btoa(String.fromCharCode(...me)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function d0(ge){const xe=(ge+"=".repeat((4-ge.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$e=atob(xe),nt=new Uint8Array($e.length);for(let ft=0;ft<$e.length;++ft)nt[ft]=$e.charCodeAt(ft);return nt}const $i="fcm_token_details_db",pd=5,hs="fcm_token_object_Store";function Oh(){return Oh=(0,Ne.Z)(function*(ge){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ft=>ft.name).includes($i))return null;let me=null;return(yield(0,A.X3)($i,pd,{upgrade:($e=(0,Ne.Z)(function*(nt,ft,Ct,Xt){var An;if(ft<2||!nt.objectStoreNames.contains(hs))return;const Rn=Xt.objectStore(hs),Hn=yield Rn.index("fcmSenderId").get(ge);if(yield Rn.clear(),Hn)if(2===ft){const kn=Hn;if(!kn.auth||!kn.p256dh||!kn.endpoint)return;me={token:kn.fcmToken,createTime:null!==(An=kn.createTime)&&void 0!==An?An:Date.now(),subscriptionOptions:{auth:kn.auth,p256dh:kn.p256dh,endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:"string"==typeof kn.vapidKey?kn.vapidKey:no(kn.vapidKey)}}}else if(3===ft){const kn=Hn;me={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:no(kn.auth),p256dh:no(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:no(kn.vapidKey)}}}else if(4===ft){const kn=Hn;me={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:no(kn.auth),p256dh:no(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:no(kn.vapidKey)}}}}),function(ft,Ct,Xt,An){return $e.apply(this,arguments)})})).close(),yield(0,A.Lj)($i),yield(0,A.Lj)("fcm_vapid_details_db"),yield(0,A.Lj)("undefined"),function Ko(ge){if(!ge||!ge.subscriptionOptions)return!1;const{subscriptionOptions:me}=ge;return"number"==typeof ge.createTime&&ge.createTime>0&&"string"==typeof ge.token&&ge.token.length>0&&"string"==typeof me.auth&&me.auth.length>0&&"string"==typeof me.p256dh&&me.p256dh.length>0&&"string"==typeof me.endpoint&&me.endpoint.length>0&&"string"==typeof me.swScope&&me.swScope.length>0&&"string"==typeof me.vapidKey&&me.vapidKey.length>0}(me)?me:null;var $e}),Oh.apply(this,arguments)}const Kc="firebase-messaging-database",Ca=1,Ta="firebase-messaging-store";let Yc=null;function ll(){return Yc||(Yc=(0,A.X3)(Kc,Ca,{upgrade:(ge,me)=>{0===me&&ge.createObjectStore(Ta)}})),Yc}function Jc(ge){return cl.apply(this,arguments)}function cl(){return cl=(0,Ne.Z)(function*(ge){const me=dl(ge),$e=yield(yield ll()).transaction(Ta).objectStore(Ta).get(me);if($e)return $e;{const nt=yield function md(ge){return Oh.apply(this,arguments)}(ge.appConfig.senderId);if(nt)return yield Ea(ge,nt),nt}}),cl.apply(this,arguments)}function Ea(ge,me){return zl.apply(this,arguments)}function zl(){return(zl=(0,Ne.Z)(function*(ge,me){const xe=dl(ge),nt=(yield ll()).transaction(Ta,"readwrite");return yield nt.objectStore(Ta).put(me,xe),yield nt.done,me})).apply(this,arguments)}function ul(){return(ul=(0,Ne.Z)(function*(ge){const me=dl(ge),$e=(yield ll()).transaction(Ta,"readwrite");yield $e.objectStore(Ta).delete(me),yield $e.done})).apply(this,arguments)}function dl({appConfig:ge}){return ge.appId}const Wr=new _.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qc(ge,me){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,Ne.Z)(function*(ge,me){var xe;const $e=yield xa(ge),nt=Gl(me),ft={method:"POST",headers:$e,body:JSON.stringify(nt)};let Ct;try{Ct=yield(yield fetch(fl(ge.appConfig),ft)).json()}catch(Xt){throw Wr.create("token-subscribe-failed",{errorInfo:null===(xe=Xt)||void 0===xe?void 0:xe.toString()})}if(Ct.error)throw Wr.create("token-subscribe-failed",{errorInfo:Ct.error.message});if(!Ct.token)throw Wr.create("token-subscribe-no-token");return Ct.token})).apply(this,arguments)}function Sa(){return(Sa=(0,Ne.Z)(function*(ge,me){var xe;const $e=yield xa(ge),nt=Gl(me.subscriptionOptions),ft={method:"PATCH",headers:$e,body:JSON.stringify(nt)};let Ct;try{Ct=yield(yield fetch(`${fl(ge.appConfig)}/${me.token}`,ft)).json()}catch(Xt){throw Wr.create("token-update-failed",{errorInfo:null===(xe=Xt)||void 0===xe?void 0:xe.toString()})}if(Ct.error)throw Wr.create("token-update-failed",{errorInfo:Ct.error.message});if(!Ct.token)throw Wr.create("token-update-no-token");return Ct.token})).apply(this,arguments)}function ii(ge,me){return _d.apply(this,arguments)}function _d(){return(_d=(0,Ne.Z)(function*(ge,me){var xe;const nt={method:"DELETE",headers:yield xa(ge)};try{const Ct=yield(yield fetch(`${fl(ge.appConfig)}/${me}`,nt)).json();if(Ct.error)throw Wr.create("token-unsubscribe-failed",{errorInfo:Ct.error.message})}catch(ft){throw Wr.create("token-unsubscribe-failed",{errorInfo:null===(xe=ft)||void 0===xe?void 0:xe.toString()})}})).apply(this,arguments)}function fl({projectId:ge}){return`${$l}/projects/${ge}/registrations`}function xa(ge){return fi.apply(this,arguments)}function fi(){return(fi=(0,Ne.Z)(function*({appConfig:ge,installations:me}){const xe=yield me.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ge.apiKey,"x-goog-firebase-installations-auth":`FIS ${xe}`})})).apply(this,arguments)}function Gl({p256dh:ge,auth:me,endpoint:xe,vapidKey:$e}){const nt={web:{endpoint:xe,auth:me,p256dh:ge}};return $e!==ol&&(nt.web.applicationPubKey=$e),nt}const pl=6048e5;function vo(){return vo=(0,Ne.Z)(function*(ge){const me=yield function yd(ge,me){return bd.apply(this,arguments)}(ge.swRegistration,ge.vapidKey),xe={vapidKey:ge.vapidKey,swScope:ge.swRegistration.scope,endpoint:me.endpoint,auth:no(me.getKey("auth")),p256dh:no(me.getKey("p256dh"))},$e=yield Jc(ge.firebaseDependencies);if($e){if(function nu(ge,me){return me.vapidKey===ge.vapidKey&&me.endpoint===ge.endpoint&&me.auth===ge.auth&&me.p256dh===ge.p256dh}($e.subscriptionOptions,xe))return Date.now()>=$e.createTime+pl?function Vn(ge,me){return eu.apply(this,arguments)}(ge,{token:$e.token,createTime:Date.now(),subscriptionOptions:xe}):$e.token;try{yield ii(ge.firebaseDependencies,$e.token)}catch(nt){console.warn(nt)}return Ph(ge.firebaseDependencies,xe)}return Ph(ge.firebaseDependencies,xe)}),vo.apply(this,arguments)}function Zl(){return Zl=(0,Ne.Z)(function*(ge){const me=yield Jc(ge.firebaseDependencies);me&&(yield ii(ge.firebaseDependencies,me.token),yield function gd(ge){return ul.apply(this,arguments)}(ge.firebaseDependencies));const xe=yield ge.swRegistration.pushManager.getSubscription();return!xe||xe.unsubscribe()}),Zl.apply(this,arguments)}function eu(){return eu=(0,Ne.Z)(function*(ge,me){try{const xe=yield function hl(ge,me){return Sa.apply(this,arguments)}(ge.firebaseDependencies,me),$e=Object.assign(Object.assign({},me),{token:xe,createTime:Date.now()});return yield Ea(ge.firebaseDependencies,$e),xe}catch(xe){throw yield function ql(ge){return Zl.apply(this,arguments)}(ge),xe}}),eu.apply(this,arguments)}function Ph(ge,me){return tu.apply(this,arguments)}function tu(){return(tu=(0,Ne.Z)(function*(ge,me){const $e={token:yield Qc(ge,me),createTime:Date.now(),subscriptionOptions:me};return yield Ea(ge,$e),$e.token})).apply(this,arguments)}function bd(){return(bd=(0,Ne.Z)(function*(ge,me){return(yield ge.pushManager.getSubscription())||ge.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:d0(me)})})).apply(this,arguments)}function jp(ge){const me={from:ge.from,collapseKey:ge.collapse_key,messageId:ge.fcmMessageId};return function vd(ge,me){if(!me.notification)return;ge.notification={};const xe=me.notification.title;xe&&(ge.notification.title=xe);const $e=me.notification.body;$e&&(ge.notification.body=$e);const nt=me.notification.image;nt&&(ge.notification.image=nt)}(me,ge),function Et(ge,me){me.data&&(ge.data=me.data)}(me,ge),function mr(ge,me){var xe,$e,nt,ft,Ct;if(!(me.fcmOptions||null!==(xe=me.notification)&&void 0!==xe&&xe.click_action))return;ge.fcmOptions={};const Xt=null!==(nt=null===($e=me.fcmOptions)||void 0===$e?void 0:$e.link)&&void 0!==nt?nt:null===(ft=me.notification)||void 0===ft?void 0:ft.click_action;Xt&&(ge.fcmOptions.link=Xt);const An=null===(Ct=me.fcmOptions)||void 0===Ct?void 0:Ct.analytics_label;An&&(ge.fcmOptions.analyticsLabel=An)}(me,ge),me}function Fh(ge,me){const xe=[];for(let $e=0;$e<ge.length;$e++)xe.push(ge.charAt($e)),$e<me.length&&xe.push(me.charAt($e));return xe.join("")}function Wl(ge){return Wr.create("missing-app-config-values",{valueName:ge})}Fh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ru{constructor(me,xe,$e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const nt=function zi(ge){if(!ge||!ge.options)throw Wl("App Configuration Object");if(!ge.name)throw Wl("App Name");const me=["projectId","apiKey","appId","messagingSenderId"],{options:xe}=ge;for(const $e of me)if(!xe[$e])throw Wl($e);return{appName:ge.name,projectId:xe.projectId,apiKey:xe.apiKey,appId:xe.appId,senderId:xe.messagingSenderId}}(me);this.firebaseDependencies={app:me,appConfig:nt,installations:xe,analyticsProvider:$e}}_delete(){return Promise.resolve()}}function ws(ge){return iu.apply(this,arguments)}function iu(){return(iu=(0,Ne.Z)(function*(ge){var me;try{ge.swRegistration=yield navigator.serviceWorker.register(Wo,{scope:bo}),ge.swRegistration.update().catch(()=>{})}catch(xe){throw Wr.create("failed-service-worker-registration",{browserErrorMessage:null===(me=xe)||void 0===me?void 0:me.message})}})).apply(this,arguments)}function Lh(){return(Lh=(0,Ne.Z)(function*(ge,me){if(!me&&!ge.swRegistration&&(yield ws(ge)),me||!ge.swRegistration){if(!(me instanceof ServiceWorkerRegistration))throw Wr.create("invalid-sw-registration");ge.swRegistration=me}})).apply(this,arguments)}function ou(){return(ou=(0,Ne.Z)(function*(ge,me){me?ge.vapidKey=me:ge.vapidKey||(ge.vapidKey=ol)})).apply(this,arguments)}function Cs(){return Cs=(0,Ne.Z)(function*(ge,me){if(!navigator)throw Wr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wr.create("permission-blocked");return yield function Cd(ge,me){return ou.apply(this,arguments)}(ge,me?.vapidKey),yield function su(ge,me){return Lh.apply(this,arguments)}(ge,me?.serviceWorkerRegistration),function Xc(ge){return vo.apply(this,arguments)}(ge)}),Cs.apply(this,arguments)}function Da(){return(Da=(0,Ne.Z)(function*(ge,me,xe){const $e=function ro(ge){switch(ge){case wa.NOTIFICATION_CLICKED:return"notification_open";case wa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(me);(yield ge.firebaseDependencies.analyticsProvider.get()).logEvent($e,{message_id:xe[fd],message_name:xe[Lp],message_time:xe[Bp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Kl(){return Kl=(0,Ne.Z)(function*(ge,me){const xe=me.data;if(!xe.isFirebaseMessaging)return;ge.onMessageHandler&&xe.messageType===wa.PUSH_RECEIVED&&("function"==typeof ge.onMessageHandler?ge.onMessageHandler(jp(xe)):ge.onMessageHandler.next(jp(xe)));const $e=xe.data;(function wd(ge){return"object"==typeof ge&&!!ge&&fd in ge})($e)&&"1"===$e[u0]&&(yield function Yo(ge,me,xe){return Da.apply(this,arguments)}(ge,xe.messageType,$e))}),Kl.apply(this,arguments)}const jh="@firebase/messaging",Ed=ge=>{const me=new ru(ge.getProvider("app").getImmediate(),ge.getProvider("installations-internal").getImmediate(),ge.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",xe=>function Bh(ge,me){return Kl.apply(this,arguments)}(me,xe)),me},wo=ge=>{const me=ge.getProvider("messaging").getImmediate();return{getToken:$e=>function pi(ge,me){return Cs.apply(this,arguments)}(me,$e)}};function Sd(){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,Ne.Z)(function*(){try{yield(0,_.eu)()}catch{return!1}return typeof window<"u"&&(0,_.hl)()&&(0,_.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Uh(){(0,rt._registerComponent)(new z.wA("messaging",Ed,"PUBLIC")),(0,rt._registerComponent)(new z.wA("messaging-internal",wo,"PRIVATE")),(0,rt.registerVersion)(jh,"0.9.16"),(0,rt.registerVersion)(jh,"0.9.16","esm2017")}();const $h="analytics",fs="firebase_id",ml="origin",Lr=6e4,gl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xd="https://www.googletagmanager.com/gtag/js",Gi=new B.Yd("@firebase/analytics");function Hp(ge){return Promise.all(ge.map(me=>me.catch(xe=>xe)))}function Ia(){return(Ia=(0,Ne.Z)(function*(ge,me,xe,$e,nt,ft){const Ct=$e[nt];try{if(Ct)yield me[Ct];else{const An=(yield Hp(xe)).find(Rn=>Rn.measurementId===nt);An&&(yield me[An.appId])}}catch(Xt){Gi.error(Xt)}ge("config",nt,ft)})).apply(this,arguments)}function Jo(){return(Jo=(0,Ne.Z)(function*(ge,me,xe,$e,nt){try{let ft=[];if(nt&&nt.send_to){let Ct=nt.send_to;Array.isArray(Ct)||(Ct=[Ct]);const Xt=yield Hp(xe);for(const An of Ct){const Rn=Xt.find(kn=>kn.measurementId===An),Hn=Rn&&me[Rn.appId];if(!Hn){ft=[];break}ft.push(Hn)}}0===ft.length&&(ft=Object.values(me)),yield Promise.all(ft),ge("event",$e,nt||{})}catch(ft){Gi.error(ft)}})).apply(this,arguments)}const Os=new _.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),lu=30,Gh=new class Aa{constructor(me={},xe=1e3){this.throttleMetadata=me,this.intervalMillis=xe}getThrottleMetadata(me){return this.throttleMetadata[me]}setThrottleMetadata(me,xe){this.throttleMetadata[me]=xe}deleteThrottleMetadata(me){delete this.throttleMetadata[me]}};function $p(ge){return new Headers({Accept:"application/json","x-goog-api-key":ge})}function Xl(){return(Xl=(0,Ne.Z)(function*(ge){var me;const{appId:xe,apiKey:$e}=ge,nt={method:"GET",headers:$p($e)},ft=gl.replace("{app-id}",xe),Ct=yield fetch(ft,nt);if(200!==Ct.status&&304!==Ct.status){let Xt="";try{const An=yield Ct.json();null!==(me=An.error)&&void 0!==me&&me.message&&(Xt=An.error.message)}catch{}throw Os.create("config-fetch-failed",{httpStatus:Ct.status,responseMessage:Xt})}return Ct.json()})).apply(this,arguments)}function ec(){return(ec=(0,Ne.Z)(function*(ge,me=Gh,xe){const{appId:$e,apiKey:nt,measurementId:ft}=ge.options;if(!$e)throw Os.create("no-app-id");if(!nt){if(ft)return{measurementId:ft,appId:$e};throw Os.create("no-api-key")}const Ct=me.getThrottleMetadata($e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xt=new tc;return setTimeout((0,Ne.Z)(function*(){Xt.abort()}),void 0!==xe?xe:Lr),Co({appId:$e,apiKey:nt,measurementId:ft},Ct,Xt,me)})).apply(this,arguments)}function Co(ge,me,xe){return To.apply(this,arguments)}function To(){return To=(0,Ne.Z)(function*(ge,{throttleEndTimeMillis:me,backoffCount:xe},$e,nt=Gh){var ft,Ct;const{appId:Xt,measurementId:An}=ge;try{yield function yl(ge,me){return new Promise((xe,$e)=>{const nt=Math.max(me-Date.now(),0),ft=setTimeout(xe,nt);ge.addEventListener(()=>{clearTimeout(ft),$e(Os.create("fetch-throttle",{throttleEndTimeMillis:me}))})})}($e,me)}catch(Rn){if(An)return Gi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${An} provided in the "measurementId" field in the local Firebase config. [${null===(ft=Rn)||void 0===ft?void 0:ft.message}]`),{appId:Xt,measurementId:An};throw Rn}try{const Rn=yield function ka(ge){return Xl.apply(this,arguments)}(ge);return nt.deleteThrottleMetadata(Xt),Rn}catch(Rn){const Hn=Rn;if(!function Id(ge){if(!(ge instanceof _.ZR&&ge.customData))return!1;const me=Number(ge.customData.httpStatus);return 429===me||500===me||503===me||504===me}(Hn)){if(nt.deleteThrottleMetadata(Xt),An)return Gi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${An} provided in the "measurementId" field in the local Firebase config. [${Hn?.message}]`),{appId:Xt,measurementId:An};throw Rn}const kn=503===Number(null===(Ct=Hn?.customData)||void 0===Ct?void 0:Ct.httpStatus)?(0,_.$s)(xe,nt.intervalMillis,lu):(0,_.$s)(xe,nt.intervalMillis),Ii={throttleEndTimeMillis:Date.now()+kn,backoffCount:xe+1};return nt.setThrottleMetadata(Xt,Ii),Gi.debug(`Calling attemptFetch again in ${kn} millis`),Co(ge,Ii,$e,nt)}}),To.apply(this,arguments)}class tc{constructor(){this.listeners=[]}addEventListener(me){this.listeners.push(me)}abort(){this.listeners.forEach(me=>me())}}let cu,ea;function Xo(){return(Xo=(0,Ne.Z)(function*(ge,me,xe,$e,nt){if(nt&&nt.global)ge("event",xe,$e);else{const ft=yield me;ge("event",xe,Object.assign(Object.assign({},$e),{send_to:ft}))}})).apply(this,arguments)}function Ad(){return(Ad=(0,Ne.Z)(function*(){var ge;if(!(0,_.hl)())return Gi.warn(Os.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_.eu)()}catch(me){return Gi.warn(Os.create("indexeddb-unavailable",{errorInfo:null===(ge=me)||void 0===ge?void 0:ge.toString()}).message),!1}return!0})).apply(this,arguments)}function ac(){return ac=(0,Ne.Z)(function*(ge,me,xe,$e,nt,ft,Ct){var Xt;const An=function Gr(ge){return ec.apply(this,arguments)}(ge);An.then(_i=>{xe[_i.measurementId]=_i.appId,ge.options.measurementId&&_i.measurementId!==ge.options.measurementId&&Gi.warn(`The measurement ID in the local Firebase config (${ge.options.measurementId}) does not match the measurement ID fetched from the server (${_i.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_i=>Gi.error(_i)),me.push(An);const Rn=function oc(){return Ad.apply(this,arguments)}().then(_i=>{if(_i)return $e.getId()}),[Hn,kn]=yield Promise.all([An,Rn]);(function _l(){const ge=window.document.getElementsByTagName("script");for(const me of Object.values(ge))if(me.src&&me.src.includes(xd))return me;return null})()||function f0(ge,me){const xe=document.createElement("script");xe.src=`${xd}?l=${ge}&id=${me}`,xe.async=!0,document.head.appendChild(xe)}(ft,Hn.measurementId),ea&&(nt("consent","default",ea),function sc(ge){ea=ge}(void 0)),nt("js",new Date);const Ii=null!==(Xt=Ct?.config)&&void 0!==Xt?Xt:{};return Ii[ml]="firebase",Ii.update=!0,null!=kn&&(Ii[fs]=kn),nt("config",Hn.measurementId,Ii),cu&&(nt("set",cu),function hu(ge){cu=ge}(void 0)),Hn.measurementId}),ac.apply(this,arguments)}class qh{constructor(me){this.app=me}_delete(){return delete io[this.app.options.appId],Promise.resolve()}}let io={},fu=[];const Ma={};let pu,Eo,so="dataLayer",Zh="gtag",qs=!1;function mu(ge,me,xe){!function Wh(){const ge=[];if((0,_.ru)()&&ge.push("This is a browser extension environment."),(0,_.zI)()||ge.push("Cookies are not available."),ge.length>0){const me=ge.map(($e,nt)=>`(${nt+1}) ${$e}`).join(" "),xe=Os.create("invalid-analytics-context",{errorInfo:me});Gi.warn(xe.message)}}();const $e=ge.options.appId;if(!$e)throw Os.create("no-app-id");if(!ge.options.apiKey){if(!ge.options.measurementId)throw Os.create("no-api-key");Gi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ge.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=io[$e])throw Os.create("already-exists",{id:$e});if(!qs){!function p0(ge){let me=[];Array.isArray(window[ge])?me=window[ge]:window[ge]=me}(so);const{wrappedGtag:ft,gtagCore:Ct}=function Ql(ge,me,xe,$e,nt){let ft=function(...Ct){window[$e].push(arguments)};return window[nt]&&"function"==typeof window[nt]&&(ft=window[nt]),window[nt]=function Jl(ge,me,xe,$e){function ft(){return ft=(0,Ne.Z)(function*(Ct,Xt,An){try{"event"===Ct?yield function Dd(ge,me,xe,$e,nt){return Jo.apply(this,arguments)}(ge,me,xe,Xt,An):"config"===Ct?yield function Yl(ge,me,xe,$e,nt,ft){return Ia.apply(this,arguments)}(ge,me,xe,$e,Xt,An):"consent"===Ct?ge("consent","update",An):ge("set",Xt)}catch(Rn){Gi.error(Rn)}}),ft.apply(this,arguments)}return function nt(Ct,Xt,An){return ft.apply(this,arguments)}}(ft,ge,me,xe),{gtagCore:ft,wrappedGtag:window[nt]}}(io,fu,Ma,so,Zh);Eo=ft,pu=Ct,qs=!0}return io[$e]=function Na(ge,me,xe,$e,nt,ft,Ct){return ac.apply(this,arguments)}(ge,fu,Ma,me,pu,so,xe),new qh(ge)}function gu(){return So.apply(this,arguments)}function So(){return(So=(0,Ne.Z)(function*(){if((0,_.ru)()||!(0,_.zI)()||!(0,_.hl)())return!1;try{return yield(0,_.eu)()}catch{return!1}})).apply(this,arguments)}const dr="@firebase/analytics";!function g0(){(0,rt._registerComponent)(new z.wA($h,(me,{options:xe})=>mu(me.getProvider("app").getImmediate(),me.getProvider("installations-internal").getImmediate(),xe),"PUBLIC")),(0,rt._registerComponent)(new z.wA("analytics-internal",function ge(me){try{const xe=me.getProvider($h).getImmediate();return{logEvent:($e,nt,ft)=>function Gp(ge,me,xe,$e){ge=(0,_.m9)(ge),function uu(ge,me,xe,$e,nt){return Xo.apply(this,arguments)}(Eo,io[ge.app.options.appId],me,xe,$e).catch(nt=>Gi.error(nt))}(xe,$e,nt,ft)}}catch(xe){throw Os.create("interop-component-reg-failed",{reason:xe})}},"PRIVATE")),(0,rt.registerVersion)(dr,"0.8.0"),(0,rt.registerVersion)(dr,"0.8.0","esm2017")}();var yu=Re(4408),Zp=Re(7565);const Wp=new class Jh extends Zp.v{}(class qp extends yu.o{constructor(me,xe){super(me,xe),this.scheduler=me,this.work=xe}schedule(me,xe=0){return xe>0?super.schedule(me,xe):(this.delay=xe,this.state=me,this.scheduler.flush(this),this)}execute(me,xe){return xe>0||this.closed?super.execute(me,xe):this._execute(me,xe)}requestAsyncId(me,xe,$e=0){return null!=$e&&$e>0||null==$e&&this.delay>0?super.requestAsyncId(me,xe,$e):(me.flush(this),0)}});var Kp=Re(4986),Rd=Re(8505),Mr=Re(5363),vu=Re(9468);const wu=new s.GfV("7.6.1"),Od="__angularfire_symbol__analyticsIsSupportedValue",Ts="__angularfire_symbol__analyticsIsSupported",oo="__angularfire_symbol__remoteConfigIsSupportedValue",Cu="__angularfire_symbol__remoteConfigIsSupported",cc="__angularfire_symbol__messagingIsSupportedValue",Tl="__angularfire_symbol__messagingIsSupported";function ps(ge,me,xe){if(me){if(1===me.length)return me[0];const ft=me.filter(Ct=>Ct.app===xe);if(1===ft.length)return ft[0]}return xe.container.getProvider(ge).getImmediate({optional:!0})}globalThis[Ts]||(globalThis[Ts]=gu().then(ge=>globalThis[Od]=ge).catch(()=>globalThis[Od]=!1)),globalThis[Tl]||(globalThis[Tl]=Sd().then(ge=>globalThis[cc]=ge).catch(()=>globalThis[cc]=!1)),globalThis[Cu]||(globalThis[Cu]=Zo().then(ge=>globalThis[oo]=ge).catch(()=>globalThis[oo]=!1));const $n=(ge,me)=>{const xe=me?[me]:(0,et.C6)(),$e=[];return xe.forEach(nt=>{nt.container.getProvider(ge).instances.forEach(Ct=>{$e.includes(Ct)||$e.push(Ct)})}),$e};function mi(){}class Pt{constructor(me,xe=Wp){this.zone=me,this.delegate=xe}now(){return this.delegate.now()}schedule(me,xe,$e){const nt=this.zone;return this.delegate.schedule(function(Ct){nt.runGuarded(()=>{me.apply(this,[Ct])})},xe,$e)}}class br{constructor(me){this.zone=me,this.task=null}call(me,xe){const $e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mi,{},mi,mi)),xe.pipe((0,Rd.b)({next:$e,complete:$e,error:$e})).subscribe(me).add($e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gi=(()=>{class ge{constructor(xe){this.ngZone=xe,this.outsideAngular=xe.runOutsideAngular(()=>new Pt(Zone.current)),this.insideAngular=xe.run(()=>new Pt(Zone.current,Kp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ge.\u0275fac=function(xe){return new(xe||ge)(s.LFG(s.R0b))},ge.\u0275prov=s.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();function xo(){const ge=globalThis.\u0275AngularFireScheduler;if(!ge)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ge}function Yp(ge){return ge.pipe((0,Mr.Q)(xo().outsideAngular))}function uc(ge){return xo(),function dc(ge){return function(xe){return(xe=xe.lift(new br(ge.ngZone))).pipe((0,vu.R)(ge.outsideAngular),(0,Mr.Q)(ge.insideAngular))}}(xo())(ge)}},2090:(Vt,St,Re)=>{"use strict";Re.d(St,{$s:()=>gn,BH:()=>f,DV:()=>he,Dv:()=>ze,G6:()=>ee,GJ:()=>Y,L:()=>A,LL:()=>$,Mn:()=>L,Pz:()=>I,Sg:()=>b,UG:()=>C,UI:()=>K,US:()=>z,Wj:()=>tt,Yr:()=>Z,ZB:()=>d,ZR:()=>ae,b$:()=>D,cI:()=>T,d:()=>S,dS:()=>lt,eu:()=>J,g5:()=>Ne,gK:()=>Ye,gQ:()=>Ee,h$:()=>B,hl:()=>ne,hu:()=>et,jU:()=>E,lb:()=>it,m9:()=>Dt,ne:()=>ke,p$:()=>g,pd:()=>Me,r3:()=>ce,ru:()=>v,tV:()=>y,uI:()=>m,ug:()=>ht,vZ:()=>_e,w1:()=>R,w9:()=>U,xO:()=>ue,xb:()=>be,z$:()=>p,zI:()=>re,zd:()=>Te});const s={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},et=function(Fe,Be){if(!Fe)throw Ne(Be)},Ne=function(Fe){return new Error("Firebase Database ("+s.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Fe)},rt=function(Fe){const Be=[];let Pe=0;for(let Ue=0;Ue<Fe.length;Ue++){let Ze=Fe.charCodeAt(Ue);Ze<128?Be[Pe++]=Ze:Ze<2048?(Be[Pe++]=Ze>>6|192,Be[Pe++]=63&Ze|128):55296==(64512&Ze)&&Ue+1<Fe.length&&56320==(64512&Fe.charCodeAt(Ue+1))?(Ze=65536+((1023&Ze)<<10)+(1023&Fe.charCodeAt(++Ue)),Be[Pe++]=Ze>>18|240,Be[Pe++]=Ze>>12&63|128,Be[Pe++]=Ze>>6&63|128,Be[Pe++]=63&Ze|128):(Be[Pe++]=Ze>>12|224,Be[Pe++]=Ze>>6&63|128,Be[Pe++]=63&Ze|128)}return Be},z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Fe,Be){if(!Array.isArray(Fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Pe=Be?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ue=[];for(let Ze=0;Ze<Fe.length;Ze+=3){const ot=Fe[Ze],yt=Ze+1<Fe.length,Jt=yt?Fe[Ze+1]:0,on=Ze+2<Fe.length,Qt=on?Fe[Ze+2]:0;let an=(15&Jt)<<2|Qt>>6,lr=63&Qt;on||(lr=64,yt||(an=64)),Ue.push(Pe[ot>>2],Pe[(3&ot)<<4|Jt>>4],Pe[an],Pe[lr])}return Ue.join("")},encodeString(Fe,Be){return this.HAS_NATIVE_SUPPORT&&!Be?btoa(Fe):this.encodeByteArray(rt(Fe),Be)},decodeString(Fe,Be){return this.HAS_NATIVE_SUPPORT&&!Be?atob(Fe):function(Fe){const Be=[];let Pe=0,Ue=0;for(;Pe<Fe.length;){const Ze=Fe[Pe++];if(Ze<128)Be[Ue++]=String.fromCharCode(Ze);else if(Ze>191&&Ze<224){const ot=Fe[Pe++];Be[Ue++]=String.fromCharCode((31&Ze)<<6|63&ot)}else if(Ze>239&&Ze<365){const on=((7&Ze)<<18|(63&Fe[Pe++])<<12|(63&Fe[Pe++])<<6|63&Fe[Pe++])-65536;Be[Ue++]=String.fromCharCode(55296+(on>>10)),Be[Ue++]=String.fromCharCode(56320+(1023&on))}else{const ot=Fe[Pe++],yt=Fe[Pe++];Be[Ue++]=String.fromCharCode((15&Ze)<<12|(63&ot)<<6|63&yt)}}return Be.join("")}(this.decodeStringToByteArray(Fe,Be))},decodeStringToByteArray(Fe,Be){this.init_();const Pe=Be?this.charToByteMapWebSafe_:this.charToByteMap_,Ue=[];for(let Ze=0;Ze<Fe.length;){const ot=Pe[Fe.charAt(Ze++)],Jt=Ze<Fe.length?Pe[Fe.charAt(Ze)]:0;++Ze;const Qt=Ze<Fe.length?Pe[Fe.charAt(Ze)]:64;++Ze;const Ut=Ze<Fe.length?Pe[Fe.charAt(Ze)]:64;if(++Ze,null==ot||null==Jt||null==Qt||null==Ut)throw Error();Ue.push(ot<<2|Jt>>4),64!==Qt&&(Ue.push(Jt<<4&240|Qt>>2),64!==Ut&&Ue.push(Qt<<6&192|Ut))}return Ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Fe=0;Fe<this.ENCODED_VALS.length;Fe++)this.byteToCharMap_[Fe]=this.ENCODED_VALS.charAt(Fe),this.charToByteMap_[this.byteToCharMap_[Fe]]=Fe,this.byteToCharMapWebSafe_[Fe]=this.ENCODED_VALS_WEBSAFE.charAt(Fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Fe]]=Fe,Fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Fe)]=Fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Fe)]=Fe)}}},B=function(Fe){const Be=rt(Fe);return z.encodeByteArray(Be,!0)},A=function(Fe){return B(Fe).replace(/\./g,"")},y=function(Fe){try{return z.decodeString(Fe,!0)}catch(Be){console.error("base64Decode failed: ",Be)}return null};function g(Fe){return d(void 0,Fe)}function d(Fe,Be){if(!(Be instanceof Object))return Be;switch(Be.constructor){case Date:return new Date(Be.getTime());case Object:void 0===Fe&&(Fe={});break;case Array:Fe=[];break;default:return Be}for(const Pe in Be)!Be.hasOwnProperty(Pe)||!u(Pe)||(Fe[Pe]=d(Fe[Pe],Be[Pe]));return Fe}function u(Fe){return"__proto__"!==Fe}class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Be,Pe)=>{this.resolve=Be,this.reject=Pe})}wrapCallback(Be){return(Pe,Ue)=>{Pe?this.reject(Pe):this.resolve(Ue),"function"==typeof Be&&(this.promise.catch(()=>{}),1===Be.length?Be(Pe):Be(Pe,Ue))}}}function b(Fe,Be){if(Fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ue=Be||"demo-project",Ze=Fe.iat||0,ot=Fe.sub||Fe.user_id;if(!ot)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${Ue}`,aud:Ue,iat:Ze,exp:Ze+3600,auth_time:Ze,sub:ot,user_id:ot,firebase:{sign_in_provider:"custom",identities:{}}},Fe);return[A(JSON.stringify({alg:"none",type:"JWT"})),A(JSON.stringify(yt)),""].join(".")}function p(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function C(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function E(){return"object"==typeof self&&self.self===self}function v(){const Fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Fe&&void 0!==Fe.id}function D(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function S(){return p().indexOf("Electron/")>=0}function R(){const Fe=p();return Fe.indexOf("MSIE ")>=0||Fe.indexOf("Trident/")>=0}function L(){return p().indexOf("MSAppHost/")>=0}function Z(){return!0===s.NODE_CLIENT||!0===s.NODE_ADMIN}function ee(){return!C()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){return"object"==typeof indexedDB}function J(){return new Promise((Fe,Be)=>{try{let Pe=!0;const Ue="validate-browser-context-for-indexeddb-analytics-module",Ze=self.indexedDB.open(Ue);Ze.onsuccess=()=>{Ze.result.close(),Pe||self.indexedDB.deleteDatabase(Ue),Fe(!0)},Ze.onupgradeneeded=()=>{Pe=!1},Ze.onerror=()=>{var ot;Be((null===(ot=Ze.error)||void 0===ot?void 0:ot.message)||"")}}catch(Pe){Be(Pe)}})}function re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ae extends Error{constructor(Be,Pe,Ue){super(Pe),this.code=Be,this.customData=Ue,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$.prototype.create)}}class ${constructor(Be,Pe,Ue){this.service=Be,this.serviceName=Pe,this.errors=Ue}create(Be,...Pe){const Ue=Pe[0]||{},Ze=`${this.service}/${Be}`,ot=this.errors[Be],yt=ot?function W(Fe,Be){return Fe.replace(ie,(Pe,Ue)=>{const Ze=Be[Ue];return null!=Ze?String(Ze):`<${Ue}?>`})}(ot,Ue):"Error";return new ae(Ze,`${this.serviceName}: ${yt} (${Ze}).`,Ue)}}const ie=/\{\$([^}]+)}/g;function T(Fe){return JSON.parse(Fe)}function I(Fe){return JSON.stringify(Fe)}const k=function(Fe){let Be={},Pe={},Ue={},Ze="";try{const ot=Fe.split(".");Be=T(y(ot[0])||""),Pe=T(y(ot[1])||""),Ze=ot[2],Ue=Pe.d||{},delete Pe.d}catch{}return{header:Be,claims:Pe,data:Ue,signature:Ze}},U=function(Fe){const Pe=k(Fe).claims;return!!Pe&&"object"==typeof Pe&&Pe.hasOwnProperty("iat")},Y=function(Fe){const Be=k(Fe).claims;return"object"==typeof Be&&!0===Be.admin};function ce(Fe,Be){return Object.prototype.hasOwnProperty.call(Fe,Be)}function he(Fe,Be){if(Object.prototype.hasOwnProperty.call(Fe,Be))return Fe[Be]}function be(Fe){for(const Be in Fe)if(Object.prototype.hasOwnProperty.call(Fe,Be))return!1;return!0}function K(Fe,Be,Pe){const Ue={};for(const Ze in Fe)Object.prototype.hasOwnProperty.call(Fe,Ze)&&(Ue[Ze]=Be.call(Pe,Fe[Ze],Ze,Fe));return Ue}function _e(Fe,Be){if(Fe===Be)return!0;const Pe=Object.keys(Fe),Ue=Object.keys(Be);for(const Ze of Pe){if(!Ue.includes(Ze))return!1;const ot=Fe[Ze],yt=Be[Ze];if(q(ot)&&q(yt)){if(!_e(ot,yt))return!1}else if(ot!==yt)return!1}for(const Ze of Ue)if(!Pe.includes(Ze))return!1;return!0}function q(Fe){return null!==Fe&&"object"==typeof Fe}function ue(Fe){const Be=[];for(const[Pe,Ue]of Object.entries(Fe))Array.isArray(Ue)?Ue.forEach(Ze=>{Be.push(encodeURIComponent(Pe)+"="+encodeURIComponent(Ze))}):Be.push(encodeURIComponent(Pe)+"="+encodeURIComponent(Ue));return Be.length?"&"+Be.join("&"):""}function Te(Fe){const Be={};return Fe.replace(/^\?/,"").split("&").forEach(Ue=>{if(Ue){const[Ze,ot]=Ue.split("=");Be[decodeURIComponent(Ze)]=decodeURIComponent(ot)}}),Be}function Me(Fe){const Be=Fe.indexOf("?");if(!Be)return"";const Pe=Fe.indexOf("#",Be);return Fe.substring(Be,Pe>0?Pe:void 0)}class Ee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Be=1;Be<this.blockSize;++Be)this.pad_[Be]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Be,Pe){Pe||(Pe=0);const Ue=this.W_;if("string"==typeof Be)for(let Ut=0;Ut<16;Ut++)Ue[Ut]=Be.charCodeAt(Pe)<<24|Be.charCodeAt(Pe+1)<<16|Be.charCodeAt(Pe+2)<<8|Be.charCodeAt(Pe+3),Pe+=4;else for(let Ut=0;Ut<16;Ut++)Ue[Ut]=Be[Pe]<<24|Be[Pe+1]<<16|Be[Pe+2]<<8|Be[Pe+3],Pe+=4;for(let Ut=16;Ut<80;Ut++){const an=Ue[Ut-3]^Ue[Ut-8]^Ue[Ut-14]^Ue[Ut-16];Ue[Ut]=4294967295&(an<<1|an>>>31)}let Qt,tr,Ze=this.chain_[0],ot=this.chain_[1],yt=this.chain_[2],Jt=this.chain_[3],on=this.chain_[4];for(let Ut=0;Ut<80;Ut++){Ut<40?Ut<20?(Qt=Jt^ot&(yt^Jt),tr=1518500249):(Qt=ot^yt^Jt,tr=1859775393):Ut<60?(Qt=ot&yt|Jt&(ot|yt),tr=2400959708):(Qt=ot^yt^Jt,tr=3395469782);const an=(Ze<<5|Ze>>>27)+Qt+on+tr+Ue[Ut]&4294967295;on=Jt,Jt=yt,yt=4294967295&(ot<<30|ot>>>2),ot=Ze,Ze=an}this.chain_[0]=this.chain_[0]+Ze&4294967295,this.chain_[1]=this.chain_[1]+ot&4294967295,this.chain_[2]=this.chain_[2]+yt&4294967295,this.chain_[3]=this.chain_[3]+Jt&4294967295,this.chain_[4]=this.chain_[4]+on&4294967295}update(Be,Pe){if(null==Be)return;void 0===Pe&&(Pe=Be.length);const Ue=Pe-this.blockSize;let Ze=0;const ot=this.buf_;let yt=this.inbuf_;for(;Ze<Pe;){if(0===yt)for(;Ze<=Ue;)this.compress_(Be,Ze),Ze+=this.blockSize;if("string"==typeof Be){for(;Ze<Pe;)if(ot[yt]=Be.charCodeAt(Ze),++yt,++Ze,yt===this.blockSize){this.compress_(ot),yt=0;break}}else for(;Ze<Pe;)if(ot[yt]=Be[Ze],++yt,++Ze,yt===this.blockSize){this.compress_(ot),yt=0;break}}this.inbuf_=yt,this.total_+=Pe}digest(){const Be=[];let Pe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ze=this.blockSize-1;Ze>=56;Ze--)this.buf_[Ze]=255&Pe,Pe/=256;this.compress_(this.buf_);let Ue=0;for(let Ze=0;Ze<5;Ze++)for(let ot=24;ot>=0;ot-=8)Be[Ue]=this.chain_[Ze]>>ot&255,++Ue;return Be}}function ke(Fe,Be){const Pe=new We(Fe,Be);return Pe.subscribe.bind(Pe)}class We{constructor(Be,Pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Pe,this.task.then(()=>{Be(this)}).catch(Ue=>{this.error(Ue)})}next(Be){this.forEachObserver(Pe=>{Pe.next(Be)})}error(Be){this.forEachObserver(Pe=>{Pe.error(Be)}),this.close(Be)}complete(){this.forEachObserver(Be=>{Be.complete()}),this.close()}subscribe(Be,Pe,Ue){let Ze;if(void 0===Be&&void 0===Pe&&void 0===Ue)throw new Error("Missing Observer.");Ze=function Se(Fe,Be){if("object"!=typeof Fe||null===Fe)return!1;for(const Pe of Be)if(Pe in Fe&&"function"==typeof Fe[Pe])return!0;return!1}(Be,["next","error","complete"])?Be:{next:Be,error:Pe,complete:Ue},void 0===Ze.next&&(Ze.next=qe),void 0===Ze.error&&(Ze.error=qe),void 0===Ze.complete&&(Ze.complete=qe);const ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ze.error(this.finalError):Ze.complete()}catch{}}),this.observers.push(Ze),ot}unsubscribeOne(Be){void 0===this.observers||void 0===this.observers[Be]||(delete this.observers[Be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Be){if(!this.finalized)for(let Pe=0;Pe<this.observers.length;Pe++)this.sendOne(Pe,Be)}sendOne(Be,Pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Be])try{Pe(this.observers[Be])}catch(Ue){typeof console<"u"&&console.error&&console.error(Ue)}})}close(Be){this.finalized||(this.finalized=!0,void 0!==Be&&(this.finalError=Be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qe(){}const ze=function(Fe,Be,Pe,Ue){let Ze;if(Ue<Be?Ze="at least "+Be:Ue>Pe&&(Ze=0===Pe?"none":"no more than "+Pe),Ze)throw new Error(Fe+" failed: Was called with "+Ue+(1===Ue?" argument.":" arguments.")+" Expects "+Ze+".")};function Ye(Fe,Be){return`${Fe} failed: ${Be} argument `}function tt(Fe,Be,Pe,Ue){if((!Ue||Pe)&&"function"!=typeof Pe)throw new Error(Ye(Fe,Be)+"must be a valid function.")}function it(Fe,Be,Pe,Ue){if((!Ue||Pe)&&("object"!=typeof Pe||null===Pe))throw new Error(Ye(Fe,Be)+"must be a valid context object.")}const lt=function(Fe){const Be=[];let Pe=0;for(let Ue=0;Ue<Fe.length;Ue++){let Ze=Fe.charCodeAt(Ue);if(Ze>=55296&&Ze<=56319){const ot=Ze-55296;Ue++,et(Ue<Fe.length,"Surrogate pair missing trail surrogate."),Ze=65536+(ot<<10)+(Fe.charCodeAt(Ue)-56320)}Ze<128?Be[Pe++]=Ze:Ze<2048?(Be[Pe++]=Ze>>6|192,Be[Pe++]=63&Ze|128):Ze<65536?(Be[Pe++]=Ze>>12|224,Be[Pe++]=Ze>>6&63|128,Be[Pe++]=63&Ze|128):(Be[Pe++]=Ze>>18|240,Be[Pe++]=Ze>>12&63|128,Be[Pe++]=Ze>>6&63|128,Be[Pe++]=63&Ze|128)}return Be},ht=function(Fe){let Be=0;for(let Pe=0;Pe<Fe.length;Pe++){const Ue=Fe.charCodeAt(Pe);Ue<128?Be++:Ue<2048?Be+=2:Ue>=55296&&Ue<=56319?(Be+=4,Pe++):Be+=3}return Be},Wt=1e3,Nt=2,qt=144e5,Dn=.5;function gn(Fe,Be=Wt,Pe=Nt){const Ue=Be*Math.pow(Pe,Fe),Ze=Math.round(Dn*Ue*(Math.random()-.5)*2);return Math.min(qt,Ue+Ze)}function Dt(Fe){return Fe&&Fe._delegate?Fe._delegate:Fe}},1961:(Vt,St,Re)=>{"use strict";var s=Re(4650);let et=null;function Ne(){return et}class _{}const z=new s.OlP("DocumentToken");let B=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function A(){return(0,s.LFG)(g)}()},providedIn:"platform"}),n})();const y=new s.OlP("Location Initialized");let g=(()=>{class n extends B{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ne().getBaseHref(this._doc)}onPopState(e){const r=Ne().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Ne().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){d()?this._history.pushState(e,r,i):this._location.hash=i}replaceState(e,r,i){d()?this._history.replaceState(e,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function u(){return new g((0,s.LFG)(z))}()},providedIn:"platform"}),n})();function d(){return!!window.history.pushState}function f(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function b(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function p(n){return n&&"?"!==n[0]?"?"+n:n}let m=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(E)},providedIn:"root"}),n})();const C=new s.OlP("appBaseHref");let E=(()=>{class n extends m{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+p(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const c=this.prepareExternalUrl(i+p(o));this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,o){const c=this.prepareExternalUrl(i+p(o));this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(C,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v=(()=>{class n extends m{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=f(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let c=this.prepareExternalUrl(i+p(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,o){let c=this.prepareExternalUrl(i+p(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(C,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),D=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function Z(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(b(L(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+p(r))}normalize(e){return n.stripTrailingSlash(function R(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,L(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+p(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+p(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=p,n.joinWithSlash=f,n.stripTrailingSlash=b,n.\u0275fac=function(e){return new(e||n)(s.LFG(m))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function S(){return new D((0,s.LFG)(m))}()},providedIn:"root"}),n})();function L(n){return n.replace(/\/index.html$/,"")}function at(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}const Tt=/\s+/,Qe=[];let wt=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=Qe,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Tt):Qe}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Tt):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,Boolean(e[r]));this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Tt).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class mn{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hn=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mn(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===o?void 0:o);else if(null!==o){const w=r.get(o);r.move(w,c),pn(w,i)}});for(let i=0,o=r.length;i<o;i++){const w=r.get(i).context;w.index=i,w.count=o,w.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{pn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function pn(n,t){n.context.$implicit=t.item}let er=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){yr("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){yr("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class tn{constructor(){this.$implicit=null,this.ngIf=null}}function yr(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}function di(n,t){return new s.vHH(2100,!1)}class Di{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class Ui{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const Vi=new Ui,Hi=new Di;let $r=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,s.QGY)(e))return Vi;if((0,s.F4k)(e))return Hi;throw di()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Qi=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw di();return e.toUpperCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})(),$i=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const pd="browser",hs="server";function Ko(n){return n===pd}function Kc(n){return n===hs}let ll=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Jc((0,s.LFG)(z),window)}),n})();class Jc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ea(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=cl(this.window.history)||cl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function cl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gd{}class Jo extends _{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Jl extends Jo{static makeCurrent(){!function rt(n){et||(et=n)}(new Jl)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function _l(){return Ql=Ql||document.querySelector("base"),Ql?Ql.getAttribute("href"):null}();return null==e?null:function Os(n){Qo=Qo||document.createElement("a"),Qo.setAttribute("href",n);const t=Qo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ql=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return at(document.cookie,t)}}let Qo,Ql=null;const lu=new s.OlP("TRANSITION_ID"),Aa=[{provide:s.ip1,useFactory:function zh(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const r=Ne(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[lu,z,s.zs3],multi:!0}];let $p=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ka=new s.OlP("EventManagerPlugins");let Xl=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const c=i[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ka),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Gr{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Ne().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let ec=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,r){const i=this.usageCount;let o=i.get(e)??0;return o+=r,o>0?i.set(e,o):i.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Co=(()=>{class n extends ec{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.forEach(o=>o.remove()),r.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,r){const i=this.doc.createElement("style");i.textContent=r,e.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const To={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yl=/%COMP%/g,bl=new s.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function rc(n,t){return t.flat(100).map(e=>e.replace(yl,n))}function du(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let qi=(()=>{class n{constructor(e,r,i,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new ic(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(e,r);return i instanceof Ad?i.applyToHost(e):i instanceof oc&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const c=this.eventManager,w=this.sharedStylesHost,M=this.removeStylesOnCompDestory;switch(r.encapsulation){case s.ifc.Emulated:o=new Ad(c,w,r,this.appId,M);break;case s.ifc.ShadowDom:return new hu(c,w,e,r);default:o=new oc(c,w,r,M)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xl),s.LFG(Co),s.LFG(s.AFp),s.LFG(bl))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ic{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(To[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(sc(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(sc(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=To[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=To[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,r,i&s.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,du(r)):this.eventManager.addEventListener(t,e,du(r))}}function sc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class hu extends ic{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=rc(i.id,i.styles);for(const c of o){const w=document.createElement("style");w.textContent=c,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class oc extends ic{constructor(t,e,r,i,o=r.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=rc(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ad extends oc{constructor(t,e,r,i,o){const c=i+"-"+r.id;super(t,e,r,o,c),this.contentAttr=function vl(n){return"_ngcontent-%COMP%".replace(yl,n)}(c),this.hostAttr=function nc(n){return"_nghost-%COMP%".replace(yl,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let Na=(()=>{class n extends Gr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ac=["alt","control","meta","shift"],qh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},io={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fu=(()=>{class n extends Gr{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ne().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let c="",w=r.indexOf("code");if(w>-1&&(r.splice(w,1),c="code."),ac.forEach(H=>{const te=r.indexOf(H);te>-1&&(r.splice(te,1),c+=H+".")}),c+=o,0!=r.length||0===o.length)return null;const M={};return M.domEventName=i,M.fullKey=c,M}static matchEventFullKeyCode(e,r){let i=qh[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ac.forEach(c=>{c!==i&&(0,io[c])(e)&&(o+=c+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Kh=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:pd},{provide:s.g9A,useValue:function qs(){Jl.makeCurrent()},multi:!0},{provide:z,useFactory:function Wh(){return(0,s.RDi)(document),document},deps:[]}]),kd=new s.OlP(""),gu=[{provide:s.rWj,useClass:class Gh{addToWindow(t){s.dqk.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let o=i.length,c=!1;const w=function(M){c=c||M,o--,0==o&&r(c)};i.forEach(function(M){M.whenStable(w)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?Ne().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],So=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function m0(){return new s.qLn},deps:[]},{provide:ka,useClass:Na,multi:!0,deps:[z,s.R0b,s.Lbi]},{provide:ka,useClass:fu,multi:!0,deps:[z]},{provide:qi,useClass:qi,deps:[Xl,Co,s.AFp,bl]},{provide:s.FYo,useExisting:qi},{provide:ec,useExisting:Co},{provide:Co,useClass:Co,deps:[z]},{provide:Xl,useClass:Xl,deps:[ka,s.R0b]},{provide:gd,useClass:$p,deps:[]},[]];let Cl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:lu,useExisting:s.AFp},Aa]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kd,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...So,...gu],imports:[$i,s.hGG]}),n})(),Gp=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function lc(){return new Gp((0,s.LFG)(z))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Qh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):s.LFG(_0),r},providedIn:"root"}),n})(),_0=(()=>{class n extends Qh{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case s.q3G.NONE:return r;case s.q3G.HTML:return(0,s.qzn)(r,"HTML")?(0,s.z3N)(r):(0,s.EiD)(this._doc,String(r)).toString();case s.q3G.STYLE:return(0,s.qzn)(r,"Style")?(0,s.z3N)(r):r;case s.q3G.SCRIPT:if((0,s.qzn)(r,"Script"))return(0,s.z3N)(r);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(r,"URL")?(0,s.z3N)(r):(0,s.mCW)(String(r));case s.q3G.RESOURCE_URL:if((0,s.qzn)(r,"ResourceURL"))return(0,s.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Xh(n){return new _0(n.get(z))}(s.LFG(s.zs3)),r},providedIn:"root"}),n})();var $n=Re(8996),mi=Re(3269);function Pt(...n){const t=(0,mi.yG)(n);return(0,$n.D)(n,t)}var br=Re(7579);class gi extends br.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const El=(0,Re(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ir=Re(9751);const{isArray:Yp}=Array,{getPrototypeOf:ef,prototype:uc,keys:dc}=Object;function Eu(n){if(1===n.length){const t=n[0];if(Yp(t))return{args:t,keys:null};if(function Su(n){return n&&"object"==typeof n&&ef(n)===uc}(t)){const e=dc(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var ge=Re(4671),me=Re(4004);const{isArray:xe}=Array;function nt(n){return(0,me.U)(t=>function $e(n,t){return xe(t)?n(...t):n(t)}(n,t))}function ft(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}var Ct=Re(5403),Xt=Re(9672);function An(...n){const t=(0,mi.yG)(n),e=(0,mi.jO)(n),{args:r,keys:i}=Eu(n);if(0===r.length)return(0,$n.D)([],t);const o=new Ir.y(function Rn(n,t,e=ge.y){return r=>{Hn(t,()=>{const{length:i}=n,o=new Array(i);let c=i,w=i;for(let M=0;M<i;M++)Hn(t,()=>{const H=(0,$n.D)(n[M],t);let te=!1;H.subscribe((0,Ct.x)(r,de=>{o[M]=de,te||(te=!0,w--),w||r.next(e(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,t,i?c=>ft(i,c):ge.y));return e?o.pipe(nt(e)):o}function Hn(n,t,e){n?(0,Xt.f)(e,n,t):t()}var kn=Re(8189);function _i(...n){return function Ii(){return(0,kn.J)(1)}()((0,$n.D)(n,(0,mi.yG)(n)))}var es=Re(8421);function Sl(n){return new Ir.y(t=>{(0,es.Xf)(n()).subscribe(t)})}var Ra=Re(9635),ao=Re(576);function ta(n,t){const e=(0,ao.m)(n)?n:()=>n,r=i=>i.error(e());return new Ir.y(t?i=>t.schedule(r,0,i):r)}var si=Re(515),Do=Re(727),Rr=Re(4482);function hc(){return(0,Rr.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Ct.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class Jp extends Ir.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Rr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Do.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Ct.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Do.w0.EMPTY)}return t}refCount(){return hc()(this)}}function Vr(n,t){return(0,Rr.e)((e,r)=>{let i=null,o=0,c=!1;const w=()=>c&&!i&&r.complete();e.subscribe((0,Ct.x)(r,M=>{i?.unsubscribe();let H=0;const te=o++;(0,es.Xf)(n(M,te)).subscribe(i=(0,Ct.x)(r,de=>r.next(t?t(M,de,te,H++):de),()=>{i=null,w()}))},()=>{c=!0,w()}))})}function ts(n){return n<=0?()=>si.E:(0,Rr.e)((t,e)=>{let r=0;t.subscribe((0,Ct.x)(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Oa(...n){const t=(0,mi.yG)(n);return(0,Rr.e)((e,r)=>{(t?_i(n,e,t):_i(n,e)).subscribe(r)})}function Ai(n,t){return(0,Rr.e)((e,r)=>{let i=0;e.subscribe((0,Ct.x)(r,o=>n.call(t,o,i++)&&r.next(o)))})}var Qr=Re(5577);function Qp(n){return(0,Rr.e)((t,e)=>{let r=!1;t.subscribe((0,Ct.x)(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function sb(n=Xp){return(0,Rr.e)((t,e)=>{let r=!1;t.subscribe((0,Ct.x)(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function Xp(){return new El}function Pa(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Ai((i,o)=>n(i,o,r)):ge.y,ts(1),e?Qp(t):sb(()=>new El))}function fc(n,t){return(0,ao.m)(t)?(0,Qr.z)(n,t,1):(0,Qr.z)(n,1)}var ns=Re(8505);function pc(n){return(0,Rr.e)((t,e)=>{let o,r=null,i=!1;r=t.subscribe((0,Ct.x)(e,void 0,void 0,c=>{o=(0,es.Xf)(n(c,pc(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Fa(n,t){return(0,Rr.e)(function T2(n,t,e,r,i){return(o,c)=>{let w=e,M=t,H=0;o.subscribe((0,Ct.x)(c,te=>{const de=H++;M=w?n(M,te,de):(w=!0,te),r&&c.next(M)},i&&(()=>{w&&c.next(M),c.complete()})))}}(n,t,arguments.length>=2,!0))}function tf(n){return n<=0?()=>si.E:(0,Rr.e)((t,e)=>{let r=[];t.subscribe((0,Ct.x)(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function nf(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Ai((i,o)=>n(i,o,r)):ge.y,tf(1),e?Qp(t):sb(()=>new El))}function rf(n){return(0,me.U)(()=>n)}function sf(n){return(0,Rr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Mn="primary",Pd=Symbol("RouteTitle");class ob{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function xu(n){return new ob(n)}function b0(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],w=n[o];if(c.startsWith(":"))i[c.substring(1)]=w;else if(c!==w.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function na(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!af(n[i],t[i]))return!1;return!0}function af(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function v0(n){return Array.prototype.concat.apply([],n)}function lf(n){return n.length>0?n[n.length-1]:null}function ki(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function oi(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,$n.D)(Promise.resolve(n)):Pt(n)}const mc=!1,em={exact:function w0(n,t,e){if(!Ba(n.segments,t.segments)||!Du(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!w0(n.children[r],t.children[r],e))return!1;return!0},subset:C0},cf={exact:function Ld(n,t){return na(n,t)},subset:function xl(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>af(n[e],t[e]))},ignored:()=>!0};function rs(n,t,e){return em[e.paths](n.root,t.root,e.matrixParams)&&cf[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function C0(n,t,e){return tm(n,t,t.segments,e)}function tm(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Ba(i,e)||t.hasChildren()||!Du(i,e,r))}if(n.segments.length===e.length){if(!Ba(n.segments,e)||!Du(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!C0(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Ba(n.segments,i)&&Du(n.segments,i,r)&&n.children[Mn])&&tm(n.children[Mn],t,o,r)}}function Du(n,t,e){return t.every((r,i)=>cf[e](n[i].parameters,r.parameters))}class La{constructor(t=new nr([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xu(this.queryParams)),this._queryParamMap}toString(){return jd.serialize(this)}}class nr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ki(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uf(this)}}class Iu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=xu(this.parameters)),this._parameterMap}toString(){return hf(this)}}function Ba(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let gc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Bd},providedIn:"root"}),n})();class Bd{parse(t){const e=new om(t);return new La(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ud(t.root,!0)}`,r=function lb(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Au(e)}=${Au(i)}`).join("&"):`${Au(e)}=${Au(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function rm(n){return encodeURI(n)}(t.fragment)}`:""}`}}const jd=new Bd;function uf(n){return n.segments.map(t=>hf(t)).join("/")}function Ud(n,t){if(!n.hasChildren())return uf(n);if(t){const e=n.children[Mn]?Ud(n.children[Mn],!1):"",r=[];return ki(n.children,(i,o)=>{o!==Mn&&r.push(`${o}:${Ud(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function nm(n,t){let e=[];return ki(n.children,(r,i)=>{i===Mn&&(e=e.concat(t(r,i)))}),ki(n.children,(r,i)=>{i!==Mn&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Mn?[Ud(n.children[Mn],!1)]:[`${i}:${Ud(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mn]?`${uf(n)}/${e[0]}`:`${uf(n)}/(${e.join("//")})`}}function df(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Au(n){return df(n).replace(/%3B/gi,";")}function ra(n){return df(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ku(n){return decodeURIComponent(n)}function im(n){return ku(n.replace(/\+/g,"%20"))}function hf(n){return`${ra(n.path)}${function Vd(n){return Object.keys(n).map(t=>`;${ra(t)}=${ra(n[t])}`).join("")}(n.parameters)}`}const cb=/^[^\/()?;=#]+/;function _c(n){const t=n.match(cb);return t?t[0]:""}const ub=/^[^=?&#]+/,hb=/^[^&#]+/;class om{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nr([],{}):new nr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Mn]=new nr(t,e)),r}parseSegment(){const t=_c(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,mc);return this.capture(t),new Iu(ku(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=_c(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=_c(this.remaining);i&&(r=i,this.capture(r))}t[ku(e)]=ku(r)}parseQueryParam(t){const e=function db(n){const t=n.match(ub);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const c=function sm(n){const t=n.match(hb);return t?t[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=im(e),o=im(r);if(t.hasOwnProperty(i)){let c=t[i];Array.isArray(c)||(c=[c],t[i]=c),c.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_c(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new s.vHH(4010,mc);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Mn);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[Mn]:new nr([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,mc)}}function ff(n){return n.segments.length>0?new nr([],{[Mn]:n}):n}function Nu(n){const t={};for(const r of Object.keys(n.children)){const o=Nu(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function fb(n){if(1===n.numberOfChildren&&n.children[Mn]){const t=n.children[Mn];return new nr(n.segments.concat(t.segments),t.children)}return n}(new nr(n.segments,t))}function Io(n){return n instanceof La}const pf=!1;function E0(n,t,e,r,i){if(0===e.length)return Ao(t.root,t.root,t.root,r,i);const o=function lm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gf(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const w={};return ki(o.outlets,(M,H)=>{w[H]="string"==typeof M?M.split("/"):M}),[...i,{outlets:w}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((w,M)=>{0==M&&"."===w||(0==M&&""===w?e=!0:".."===w?t++:""!=w&&i.push(w))}),i):[...i,o]},[]);return new gf(e,t,r)}(e);return o.toRoot()?Ao(t.root,t.root,new nr([],{}),r,i):function c(M){const H=function Ps(n,t,e,r){if(n.isAbsolute)return new ja(t.root,!0,0);if(-1===r)return new ja(e,e===t.root,0);return function Ua(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new s.vHH(4005,pf&&"Invalid number of '../'");i=r.segments.length}return new ja(r,!1,i-o)}(e,r+(Hd(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,M),te=H.processChildren?ia(H.segmentGroup,H.index,o.commands):_f(H.segmentGroup,H.index,o.commands);return Ao(t.root,H.segmentGroup,te,r,i)}(n.snapshot?._lastPathIndex)}function Hd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $d(n){return"object"==typeof n&&null!=n&&n.outlets}function Ao(n,t,e,r,i){let c,o={};r&&ki(r,(M,H)=>{o[H]=Array.isArray(M)?M.map(te=>`${te}`):`${M}`}),c=n===t?e:mf(n,t,e);const w=ff(Nu(c));return new La(w,o,i)}function mf(n,t,e){const r={};return ki(n.children,(i,o)=>{r[o]=i===t?e:mf(i,t,e)}),new nr(n.segments,r)}class gf{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Hd(r[0]))throw new s.vHH(4003,pf&&"Root segment cannot have matrix parameters");const i=r.find($d);if(i&&i!==lf(r))throw new s.vHH(4004,pf&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ja{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function _f(n,t,e){if(n||(n=new nr([],{})),0===n.segments.length&&n.hasChildren())return ia(n,t,e);const r=function Gd(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const c=n.segments[i],w=e[r];if($d(w))break;const M=`${w}`,H=r<e.length-1?e[r+1]:null;if(i>0&&void 0===M)break;if(M&&H&&"object"==typeof H&&void 0===H.outlets){if(!sa(M,H,c))return o;r+=2}else{if(!sa(M,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new nr(n.segments.slice(0,r.pathIndex),{});return o.children[Mn]=new nr(n.segments.slice(r.pathIndex),n.children),ia(o,0,i)}return r.match&&0===i.length?new nr(n.segments,{}):r.match&&!n.hasChildren()?qd(n,t,e):r.match?ia(n,0,i):qd(n,t,e)}function ia(n,t,e){if(0===e.length)return new nr(n.segments,{});{const r=function zd(n){return $d(n[0])?n[0].outlets:{[Mn]:n}}(e),i={};if(!r[Mn]&&n.children[Mn]&&1===n.numberOfChildren&&0===n.children[Mn].segments.length){const o=ia(n.children[Mn],t,e);return new nr(n.segments,o.children)}return ki(r,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[c]=_f(n.children[c],t,o))}),ki(n.children,(o,c)=>{void 0===r[c]&&(i[c]=o)}),new nr(n.segments,i)}}function qd(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if($d(o)){const M=Mu(o.outlets);return new nr(r,M)}if(0===i&&Hd(e[0])){r.push(new Iu(n.segments[t].path,S0(e[0]))),i++;continue}const c=$d(o)?o.outlets[Mn]:`${o}`,w=i<e.length-1?e[i+1]:null;c&&w&&Hd(w)?(r.push(new Iu(c,S0(w))),i+=2):(r.push(new Iu(c,{})),i++)}return new nr(r,{})}function Mu(n){const t={};return ki(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=qd(new nr([],{}),0,e))}),t}function S0(n){const t={};return ki(n,(e,r)=>t[r]=`${e}`),t}function sa(n,t,e){return n==e.path&&na(t,e.parameters)}const Ru="imperative";class oa{constructor(t,e){this.id=t,this.url=e}}class um extends oa{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Il extends oa{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ou extends oa{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yi extends oa{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=16}}class yc extends oa{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Al extends oa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pb extends oa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Va extends oa{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yf extends oa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x0 extends oa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bf{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mb{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vf{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wf{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dm{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D0{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hm{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let V=(()=>{class n{createUrlTree(e,r,i,o,c,w){return E0(e||r.root,i,o,c,w)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return V.\u0275fac(t)},providedIn:"root"}),n})();class Ae{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Je(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Je(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=pt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return pt(t,this._root).map(e=>e.value)}}function Je(n,t){if(n===t.value)return t;for(const e of t.children){const r=Je(n,e);if(r)return r}return null}function pt(n,t){if(n===t.value)return[t];for(const e of t.children){const r=pt(n,e);if(r.length)return r.unshift(t),r}return[]}class Bt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ln(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class On extends Ae{constructor(t,e){super(t),this.snapshot=e,Cf(this,t)}toString(){return this.snapshot.toString()}}function Nn(n,t){const e=function Ni(n,t){const c=new Pu([],{},{},"",{},Mn,t,null,n.root,-1,{});return new pm("",new Bt(c,[]))}(n,t),r=new gi([new Iu("",{})]),i=new gi({}),o=new gi({}),c=new gi({}),w=new gi(""),M=new ms(r,i,c,w,o,Mn,t,e.root);return M.snapshot=e.root,new On(new Bt(M,[]),e)}class ms{constructor(t,e,r,i,o,c,w,M){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=w,this.title=this.data?.pipe((0,me.U)(H=>H[Pd]))??Pt(void 0),this._futureSnapshot=M}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,me.U)(t=>xu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,me.U)(t=>xu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zd(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function fm(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Pu{get title(){return this.data?.[Pd]}constructor(t,e,r,i,o,c,w,M,H,te,de){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=w,this.routeConfig=M,this._urlSegment=H,this._lastPathIndex=te,this._resolve=de}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pm extends Ae{constructor(t,e){super(e),this.url=t,Cf(this,e)}toString(){return Tf(this._root)}}function Cf(n,t){t.value._routerState=n,t.children.forEach(e=>Cf(n,e))}function Tf(n){const t=n.children.length>0?` { ${n.children.map(Tf).join(", ")} } `:"";return`${n.value}${t}`}function bc(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,na(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),na(t.params,e.params)||n.params.next(e.params),function Fd(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!na(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),na(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function lo(n,t){const e=na(n.params,t.params)&&function ab(n,t){return Ba(n,t)&&n.every((e,r)=>na(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||lo(n.parent,t.parent))}function wc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function I0(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return wc(n,r,i);return wc(n,r)})}(n,t,e);return new Bt(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(w=>wc(n,w)),c}}const r=function Ef(n){return new ms(new gi(n.url),new gi(n.params),new gi(n.queryParams),new gi(n.fragment),new gi(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>wc(n,o));return new Bt(r,i)}}const A0="ngNavigationCancelingError";function ID(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Io(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=AD(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function AD(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[A0]=!0,r.cancellationCode=t,e&&(r.url=e),r}function k0(n){return N0(n)&&Io(n.url)}function N0(n){return n&&n[A0]}class B6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new M0,this.attachRef=null}}let M0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new B6,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mm=!1;let R0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mn,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(M0),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,mm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,mm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,mm);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new s.vHH(4013,mm);this._activatedRoute=e;const i=this.location,c=e.snapshot.component,w=this.parentContexts.getOrCreateContext(this.name).children,M=new kD(e,w,i.injector);if(r&&function ND(n){return!!n.resolveComponentFactory}(r)){const H=r.resolveComponentFactory(c);this.activated=i.createComponent(H,i.length,M)}else this.activated=i.createComponent(c,{index:i.length,injector:M,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class kD{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===ms?this.route:t===M0?this.childContexts:this.parent.get(t,e)}}let gb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,r){1&e&&s._UZ(0,"router-outlet")},dependencies:[R0],encapsulation:2}),n})();function _b(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function O0(n){const t=n.children&&n.children.map(O0),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Mn&&(e.component=gb),e}function aa(n){return n.outlet||Mn}function I2(n,t){const e=n.filter(r=>aa(r)===t);return e.push(...n.filter(r=>aa(r)!==t)),e}function gm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class A2{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),bc(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=ln(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),ki(i,(o,c)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=ln(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),w=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:w})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=ln(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=ln(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new D0(o.value.snapshot))}),t.children.length&&this.forwardEvent(new wf(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(bc(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const w=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(w.contexts),c.attachRef=w.componentRef,c.route=w.route.value,c.outlet&&c.outlet.attach(w.componentRef,w.route.value),bc(w.route.value),this.activateChildRoutes(t,null,c.children)}else{const w=gm(i.snapshot),M=w?.get(s._Vd)??null;c.attachRef=null,c.route=i,c.resolver=M,c.injector=w,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,r)}}class PD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class bb{constructor(t,e){this.component=t,this.route=e}}function _m(n,t,e){const r=n._root;return Sf(r,t?t._root:null,e,[r.value])}function Wd(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:r}function Sf(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ln(t);return n.children.forEach(c=>{(function k2(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,w=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const M=function FD(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ba(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ba(n.url,t.url)||!na(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lo(n,t)||!na(n.queryParams,t.queryParams);default:return!lo(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);M?i.canActivateChecks.push(new PD(r)):(o.data=c.data,o._resolvedData=c._resolvedData),Sf(n,t,o.component?w?w.children:null:e,r,i),M&&w&&w.outlet&&w.outlet.isActivated&&i.canDeactivateChecks.push(new bb(w.outlet.component,c))}else c&&ym(t,w,i),i.canActivateChecks.push(new PD(r)),Sf(n,null,o.component?w?w.children:null:e,r,i)})(c,o[c.value.outlet],e,r.concat([c.value]),i),delete o[c.value.outlet]}),ki(o,(c,w)=>ym(c,e.getContext(w),i)),i}function ym(n,t,e){const r=ln(n),i=n.value;ki(r,(o,c)=>{ym(o,i.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new bb(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function xf(n){return"function"==typeof n}function Cc(n){return n instanceof El||"EmptyError"===n?.name}const P0=Symbol("INITIAL_VALUE");function Fu(){return Vr(n=>An(n.map(t=>t.pipe(ts(1),Oa(P0)))).pipe((0,me.U)(t=>{for(const e of t)if(!0!==e){if(e===P0)return P0;if(!1===e||e instanceof La)return e}return!0}),Ai(t=>t!==P0),ts(1)))}function xb(n){return(0,Ra.z)((0,ns.b)(t=>{if(Io(t))throw ID(0,t)}),(0,me.U)(t=>!0===t))}const Db={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function O2(n,t,e,r,i){const o=Ib(n,t,e);return o.matched?function Df(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?Pt(i.map(c=>{const w=Wd(c,n);return oi(function Tb(n){return n&&xf(n.canMatch)}(w)?w.canMatch(t,e):n.runInContext(()=>w(t,e)))})).pipe(Fu(),xb()):Pt(!0)}(r=_b(t,r),t,e).pipe((0,me.U)(c=>!0===c?o:{...Db})):Pt(o)}function Ib(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Db}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||b0)(e,n,t);if(!i)return{...Db};const o={};ki(i.posParams,(w,M)=>{o[M]=w.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function If(n,t,e,r){if(e.length>0&&function $D(n,t,e){return e.some(r=>Ab(n,t,r)&&aa(r)!==Mn)}(n,e,r)){const o=new nr(t,function P2(n,t,e,r){const i={};i[Mn]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&aa(o)!==Mn){const c=new nr([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,i[aa(o)]=c}return i}(n,t,r,new nr(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function F2(n,t,e){return e.some(r=>Ab(n,t,r))}(n,e,r)){const o=new nr(n.segments,function HD(n,t,e,r,i){const o={};for(const c of r)if(Ab(n,e,c)&&!i[aa(c)]){const w=new nr([],{});w._sourceSegment=n,w._segmentIndexShift=t.length,o[aa(c)]=w}return{...i,...o}}(n,t,e,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const i=new nr(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:e}}function Ab(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function L2(n,t,e,r){return!!(aa(n)===r||r!==Mn&&Ab(t,e,n))&&("**"===n.path||Ib(t,n,e).matched)}function Af(n,t,e){return 0===t.length&&!n.children[e]}const B0=!1;class Tc{constructor(t){this.segmentGroup=t||null}}class kf{constructor(t){this.urlTree=t}}function bm(n){return ta(new Tc(n))}function kb(n){return ta(new kf(n))}class B2{constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=If(this.urlTree.root,[],[],this.config).segmentGroup,e=new nr(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Mn).pipe((0,me.U)(o=>this.createUrlTree(Nu(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pc(o=>{if(o instanceof kf)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Tc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Mn).pipe((0,me.U)(i=>this.createUrlTree(Nu(i),t.queryParams,t.fragment))).pipe(pc(i=>{throw i instanceof Tc?this.noMatchError(i):i}))}noMatchError(t){return new s.vHH(4002,B0)}createUrlTree(t,e,r){const i=ff(t);return new La(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,me.U)(o=>new nr([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,$n.D)(i).pipe(fc(o=>{const c=r.children[o],w=I2(e,o);return this.expandSegmentGroup(t,w,c,o).pipe((0,me.U)(M=>({segment:M,outlet:o})))}),Fa((o,c)=>(o[c.outlet]=c.segment,o),{}),nf())}expandSegment(t,e,r,i,o,c){return(0,$n.D)(r).pipe(fc(w=>this.expandSegmentAgainstRoute(t,e,r,w,i,o,c).pipe(pc(H=>{if(H instanceof Tc)return Pt(null);throw H}))),Pa(w=>!!w),pc((w,M)=>{if(Cc(w))return Af(e,i,o)?Pt(new nr([],{})):bm(e);throw w}))}expandSegmentAgainstRoute(t,e,r,i,o,c,w){return L2(i,e,o,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,c):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,c):bm(e):bm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kb(o):this.lineralizeSegments(r,o).pipe((0,Qr.z)(c=>{const w=new nr(c,{});return this.expandSegment(t,w,e,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,c){const{matched:w,consumedSegments:M,remainingSegments:H,positionalParamSegments:te}=Ib(e,i,o);if(!w)return bm(e);const de=this.applyRedirectCommands(M,i.redirectTo,te);return i.redirectTo.startsWith("/")?kb(de):this.lineralizeSegments(i,de).pipe((0,Qr.z)(ye=>this.expandSegment(t,e,r,ye.concat(H),c,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=_b(r,t),r.loadChildren?(r._loadedRoutes?Pt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,me.U)(w=>(r._loadedRoutes=w.routes,r._loadedInjector=w.injector,new nr(i,{})))):Pt(new nr(i,{}))):O2(e,r,i,t).pipe(Vr(({matched:c,consumedSegments:w,remainingSegments:M})=>c?this.getChildConfig(t=r._injector??t,r,i).pipe((0,Qr.z)(te=>{const de=te.injector??t,ye=te.routes,{segmentGroup:Ce,slicedSegments:Ie}=If(e,w,M,ye),He=new nr(Ce.segments,Ce.children);if(0===Ie.length&&He.hasChildren())return this.expandChildren(de,ye,He).pipe((0,me.U)(At=>new nr(w,At)));if(0===ye.length&&0===Ie.length)return Pt(new nr(w,{}));const Ke=aa(r)===o;return this.expandSegment(de,He,ye,Ie,Ke?Mn:o,!0).pipe((0,me.U)(_t=>new nr(w.concat(_t.segments),_t.children)))})):bm(e)))}getChildConfig(t,e,r){return e.children?Pt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Pt({routes:e._loadedRoutes,injector:e._loadedInjector}):function VD(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?Pt(!0):Pt(i.map(c=>{const w=Wd(c,n);return oi(function wb(n){return n&&xf(n.canLoad)}(w)?w.canLoad(t,e):n.runInContext(()=>w(t,e)))})).pipe(Fu(),xb())}(t,e,r).pipe((0,Qr.z)(i=>i?this.configLoader.loadChildren(t,e).pipe((0,ns.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function GD(n){return ta(AD(B0,3))}())):Pt({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Pt(r);if(i.numberOfChildren>1||!i.children[Mn])return t.redirectTo,ta(new s.vHH(4e3,B0));i=i.children[Mn]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new La(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return ki(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const w=i.substring(1);r[o]=e[w]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let c={};return ki(e.children,(w,M)=>{c[M]=this.createSegmentGroup(t,w,r,i)}),new nr(o,c)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new s.vHH(4001,B0);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class Nb{}class vm{constructor(t,e,r,i,o,c,w){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=w}recognize(){const t=If(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Mn).pipe((0,me.U)(e=>{if(null===e)return null;const r=new Pu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Bt(r,e),o=new pm(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=Zd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return(0,$n.D)(Object.keys(r.children)).pipe(fc(i=>{const o=r.children[i],c=I2(e,i);return this.processSegmentGroup(t,c,o,i)}),Fa((i,o)=>i&&o?(i.push(...o),i):null),function y0(n,t=!1){return(0,Rr.e)((e,r)=>{let i=0;e.subscribe((0,Ct.x)(r,o=>{const c=n(o,i++);(c||t)&&r.next(o),!c&&r.complete()}))})}(i=>null!==i),Qp(null),nf(),(0,me.U)(i=>{if(null===i)return null;const o=U2(i);return function WD(n){n.sort((t,e)=>t.value.outlet===Mn?-1:e.value.outlet===Mn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return(0,$n.D)(e).pipe(fc(c=>this.processSegmentAgainstRoute(c._injector??t,c,r,i,o)),Pa(c=>!!c),pc(c=>{if(Cc(c))return Af(r,i,o)?Pt([]):Pt(null);throw c}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!L2(e,r,i,o))return Pt(null);let c;if("**"===e.path){const w=i.length>0?lf(i).parameters:{},M=H2(r)+i.length;c=Pt({snapshot:new Pu(i,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kl(e),aa(e),e.component??e._loadedComponent??null,e,V2(r),M,$2(e)),consumedSegments:[],remainingSegments:[]})}else c=O2(r,e,i,t).pipe((0,me.U)(({matched:w,consumedSegments:M,remainingSegments:H,parameters:te})=>{if(!w)return null;const de=H2(r)+M.length;return{snapshot:new Pu(M,te,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kl(e),aa(e),e.component??e._loadedComponent??null,e,V2(r),de,$2(e)),consumedSegments:M,remainingSegments:H}}));return c.pipe(Vr(w=>{if(null===w)return Pt(null);const{snapshot:M,consumedSegments:H,remainingSegments:te}=w;t=e._injector??t;const de=e._loadedInjector??t,ye=function KD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Ce,slicedSegments:Ie}=If(r,H,te,ye.filter(Ke=>void 0===Ke.redirectTo));if(0===Ie.length&&Ce.hasChildren())return this.processChildren(de,ye,Ce).pipe((0,me.U)(Ke=>null===Ke?null:[new Bt(M,Ke)]));if(0===ye.length&&0===Ie.length)return Pt([new Bt(M,[])]);const He=aa(e)===o;return this.processSegment(de,ye,Ce,Ie,He?Mn:o).pipe((0,me.U)(Ke=>null===Ke?null:[new Bt(M,Ke)]))}))}}function YD(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function U2(n){const t=[],e=new Set;for(const r of n){if(!YD(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=U2(r.children);t.push(new Bt(r.value,i))}return t.filter(r=>!e.has(r))}function V2(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function H2(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function kl(n){return n.data||{}}function $2(n){return n.resolve||{}}function Rb(n){return"string"==typeof n.title||null===n.title}function Ob(n){return Vr(t=>{const e=n(t);return e?(0,$n.D)(e).pipe((0,me.U)(()=>t)):Pt(t)})}const Nf=new s.OlP("ROUTES");let Fb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Pt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=oi(e.loadComponent()).pipe((0,me.U)(q2),(0,ns.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),sf(()=>{this.componentLoaders.delete(e)})),i=new Jp(r,()=>new br.x).pipe(hc());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Pt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,me.U)(w=>{this.onLoadEndListener&&this.onLoadEndListener(r);let M,H,te=!1;Array.isArray(w)?H=w:(M=w.create(e).injector,H=v0(M.get(Nf,[],s.XFs.Self|s.XFs.Optional)));return{routes:H.map(O0),injector:M}}),sf(()=>{this.childrenLoaders.delete(r)})),c=new Jp(o,()=>new br.x).pipe(hc());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(e){return oi(e()).pipe((0,me.U)(q2),(0,Qr.z)(r=>r instanceof s.YKP||Array.isArray(r)?Pt(r):(0,$n.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function q2(n){return function Ha(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let U0=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new br.x,this.configLoader=(0,s.f3M)(Fb),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(gc),this.rootContexts=(0,s.f3M)(M0),this.navigationId=0,this.afterPreactivation=()=>Pt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new mb(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new bf(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new gi({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ru,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ai(r=>0!==r.id),(0,me.U)(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),Vr(r=>{let i=!1,o=!1;return Pt(r).pipe((0,ns.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vr(c=>{const w=e.browserUrlTree.toString(),M=!e.navigated||c.extractedUrl.toString()!==w||w!==e.currentUrlTree.toString();if(!M&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const te="";return this.events.next(new yi(c.id,e.serializeUrl(r.rawUrl),te,0)),e.rawUrlTree=c.rawUrl,c.resolve(null),si.E}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Z2(c.source)&&(e.browserUrlTree=c.extractedUrl),Pt(c).pipe(Vr(te=>{const de=this.transitions?.getValue();return this.events.next(new um(te.id,this.urlSerializer.serialize(te.extractedUrl),te.source,te.restoredState)),de!==this.transitions?.getValue()?si.E:Promise.resolve(te)}),function j2(n,t,e,r){return Vr(i=>function qD(n,t,e,r,i){return new B2(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe((0,me.U)(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,ns.b)(te=>{this.currentNavigation={...this.currentNavigation,finalUrl:te.urlAfterRedirects},r.urlAfterRedirects=te.urlAfterRedirects}),function QD(n,t,e,r,i){return(0,Qr.z)(o=>function Mb(n,t,e,r,i,o,c="emptyOnly"){return new vm(n,t,e,r,i,c,o).recognize().pipe(Vr(w=>null===w?function ZD(n){return new Ir.y(t=>t.error(n))}(new Nb):Pt(w)))}(n,t,e,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe((0,me.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,ns.b)(te=>{if(r.targetSnapshot=te.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!te.extras.skipLocationChange){const ye=e.urlHandlingStrategy.merge(te.urlAfterRedirects,te.rawUrl);e.setBrowserUrl(ye,te)}e.browserUrlTree=te.urlAfterRedirects}const de=new Al(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(te.urlAfterRedirects),te.targetSnapshot);this.events.next(de)}));if(M&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:te,extractedUrl:de,source:ye,restoredState:Ce,extras:Ie}=c,He=new um(te,this.urlSerializer.serialize(de),ye,Ce);this.events.next(He);const Ke=Nn(de,this.rootComponentType).snapshot;return Pt(r={...c,targetSnapshot:Ke,urlAfterRedirects:de,extras:{...Ie,skipLocationChange:!1,replaceUrl:!1}})}{const te="";return this.events.next(new yi(c.id,e.serializeUrl(r.extractedUrl),te,1)),e.rawUrlTree=c.rawUrl,c.resolve(null),si.E}}),(0,ns.b)(c=>{const w=new pb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(w)}),(0,me.U)(c=>r={...c,guards:_m(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function F0(n,t){return(0,Qr.z)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?Pt({...e,guardsResult:!0}):function jD(n,t,e,r){return(0,$n.D)(n).pipe((0,Qr.z)(i=>function UD(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Pt(o.map(w=>{const M=gm(t)??i,H=Wd(w,M);return oi(function LD(n){return n&&xf(n.canDeactivate)}(H)?H.canDeactivate(n,t,e,r):M.runInContext(()=>H(n,t,e,r))).pipe(Pa())})).pipe(Fu()):Pt(!0)}(i.component,i.route,e,t,r)),Pa(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Qr.z)(w=>w&&function N2(n){return"boolean"==typeof n}(w)?function Eb(n,t,e,r){return(0,$n.D)(t).pipe(fc(i=>_i(function Kd(n,t){return null!==n&&t&&t(new vf(n)),Pt(!0)}(i.route.parent,r),function L0(n,t){return null!==n&&t&&t(new dm(n)),Pt(!0)}(i.route,r),function Sb(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function vb(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Sl(()=>Pt(c.guards.map(M=>{const H=gm(c.node)??e,te=Wd(M,H);return oi(function Cb(n){return n&&xf(n.canActivateChild)}(te)?te.canActivateChild(r,n):H.runInContext(()=>te(r,n))).pipe(Pa())})).pipe(Fu())));return Pt(o).pipe(Fu())}(n,i.path,e),function R2(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Pt(!0);const i=r.map(o=>Sl(()=>{const c=gm(t)??e,w=Wd(o,c);return oi(function U6(n){return n&&xf(n.canActivate)}(w)?w.canActivate(t,n):c.runInContext(()=>w(t,n))).pipe(Pa())}));return Pt(i).pipe(Fu())}(n,i.route,e))),Pa(i=>!0!==i,!0))}(r,o,n,t):Pt(w)),(0,me.U)(w=>({...e,guardsResult:w})))})}(this.environmentInjector,c=>this.events.next(c)),(0,ns.b)(c=>{if(r.guardsResult=c.guardsResult,Io(c.guardsResult))throw ID(0,c.guardsResult);const w=new Va(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(w)}),Ai(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Ob(c=>{if(c.guards.canActivateChecks.length)return Pt(c).pipe((0,ns.b)(w=>{const M=new yf(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(M)}),Vr(w=>{let M=!1;return Pt(w).pipe(function V6(n,t){return(0,Qr.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Pt(e);let o=0;return(0,$n.D)(i).pipe(fc(c=>function H6(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!Rb(i)&&(o[Pd]=i.title),function z2(n,t,e,r){const i=function $6(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Pt({});const o={};return(0,$n.D)(i).pipe((0,Qr.z)(c=>function G2(n,t,e,r){const i=gm(t)??r,o=Wd(n,i);return oi(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[c],t,e,r).pipe(Pa(),(0,ns.b)(w=>{o[c]=w}))),tf(1),rf(o),pc(c=>Cc(c)?si.E:ta(c)))}(o,n,t,r).pipe((0,me.U)(c=>(n._resolvedData=c,n.data=Zd(n,e).resolve,i&&Rb(i)&&(n.data[Pd]=i.title),null)))}(c.route,r,n,t)),(0,ns.b)(()=>o++),tf(1),(0,Qr.z)(c=>o===i.length?Pt(e):si.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,ns.b)({next:()=>M=!0,complete:()=>{M||(e.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),(0,ns.b)(w=>{const M=new x0(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(M)}))}),Ob(c=>{const w=M=>{const H=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&H.push(this.configLoader.loadComponent(M.routeConfig).pipe((0,ns.b)(te=>{M.component=te}),(0,me.U)(()=>{})));for(const te of M.children)H.push(...w(te));return H};return An(w(c.targetSnapshot.root)).pipe(Qp(),ts(1))}),Ob(()=>this.afterPreactivation()),(0,me.U)(c=>{const w=function vc(n,t,e){const r=wc(n,t._root,e?e._root:void 0);return new On(r,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:w}}),(0,ns.b)(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((n,t,e)=>(0,me.U)(r=>(new A2(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c)),ts(1),(0,ns.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Il(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),sf(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),pc(c=>{if(o=!0,N0(c)){k0(c)||(e.navigated=!0,e.restoreHistory(r,!0));const w=new Ou(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(w),k0(c)){const M=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),H={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Z2(r.source)};e.scheduleNavigation(M,Ru,null,H,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const w=new yc(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(w);try{r.resolve(e.errorHandler(c))}catch(M){r.reject(M)}}return si.E}))}))}cancelNavigationTransition(e,r,i){const o=new Ou(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z2(n){return n!==Ru}let W2=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Mn);return r}getResolvedTitleForRoute(e){return e.data[Pd]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(XD)},providedIn:"root"}),n})(),XD=(()=>{class n extends W2{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Gp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(tI)},providedIn:"root"}),n})();class eI{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let tI=(()=>{class n extends eI{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qn=new s.OlP("",{providedIn:"root",factory:()=>({})});let Y2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(J2)},providedIn:"root"}),n})(),J2=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rI(n){throw n}function iI(n,t,e){return t.parse("/")}const Q2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(qn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||rI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||iI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(Y2),this.routeReuseStrategy=(0,s.f3M)(K2),this.urlCreationStrategy=(0,s.f3M)(we),this.titleStrategy=(0,s.f3M)(W2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=v0((0,s.f3M)(Nf,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(U0),this.urlSerializer=(0,s.f3M)(gc),this.location=(0,s.f3M)(D),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new La,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Nn(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ru,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const M={...i};delete M.navigationId,delete M.\u0275routerPageId,0!==Object.keys(M).length&&(o.state=M)}const w=this.parseUrl(e);this.scheduleNavigation(w,r,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(O0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:w,preserveFragment:M}=r,H=M?this.currentUrlTree.fragment:c;let te=null;switch(w){case"merge":te={...this.currentUrlTree.queryParams,...o};break;case"preserve":te=this.currentUrlTree.queryParams;break;default:te=o||null}return null!==te&&(te=this.removeEmptyProps(te)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,e,te,H??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Io(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ru,null,r)}navigate(e,r={skipLocationChange:!1}){return function oI(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...Q2}:!1===r?{...sI}:r,Io(e))return rs(this.currentUrlTree,e,i);const o=this.parseUrl(e);return rs(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,c){if(this.disposed)return Promise.resolve(!1);let w,M,H,te;return c?(w=c.resolve,M=c.reject,H=c.promise):H=new Promise((de,ye)=>{w=de,M=ye}),te="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:te,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:w,reject:M,promise:H,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),H.catch(de=>Promise.reject(de))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bb{}let jb=(()=>{class n{constructor(e,r,i,o,c){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(e=>e instanceof Il),fc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const c=o._injector??e,w=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(w,o.children??o._loadedRoutes))}return(0,$n.D)(i).pipe((0,kn.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Pt(null);const o=i.pipe((0,Qr.z)(c=>null===c?Pt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,$n.D)([o,c]).pipe((0,kn.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bi),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(Bb),s.LFG(Fb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tm=new s.OlP("");let eC=(()=>{class n{constructor(e,r,i,o,c={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof um?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Il&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof hm&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hm(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var la=(()=>((la=la||{})[la.COMPLETE=0]="COMPLETE",la[la.FAILED=1]="FAILED",la[la.REDIRECTING=2]="REDIRECTING",la))();const Em=!1;function Yd(n,t){return{\u0275kind:n,\u0275providers:t}}const Vb=new s.OlP("",{providedIn:"root",factory:()=>!1});function Sm(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const r=n.get(bi),i=n.get(tC);1===n.get(H0)&&r.initialNavigation(),n.get(nC,null,s.XFs.Optional)?.setUpPreloading(),n.get(Tm,null,s.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const tC=new s.OlP(Em?"bootstrap done indicator":"",{factory:()=>new br.x}),H0=new s.OlP(Em?"initial navigation":"",{providedIn:"root",factory:()=>1});function uI(){let n=[];return n=Em?[{provide:s.Xts,multi:!0,useFactory:()=>{const t=(0,s.f3M)(bi);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function Q(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Yd(1,n)}const nC=new s.OlP(Em?"router preloader":"");function dI(n){return Yd(0,[{provide:nC,useExisting:jb},{provide:Bb,useExisting:n}])}const Of=!1,pI=new s.OlP(Of?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Hb=[D,{provide:gc,useClass:Bd},bi,M0,{provide:ms,useFactory:function Ub(n){return n.routerState.root},deps:[bi]},Fb,Of?{provide:Vb,useValue:!0}:[]];function mI(){return new s.PXZ("Router",bi)}let iC=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[Hb,Of&&r?.enableTracing?uI().\u0275providers:[],{provide:Nf,multi:!0,useValue:e},{provide:pI,useFactory:oC,deps:[[bi,new s.FiY,new s.tp0]]},{provide:qn,useValue:r||{}},r?.useHash?{provide:m,useClass:v}:{provide:m,useClass:E},{provide:Tm,useFactory:()=>{const n=(0,s.f3M)(ll),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(qn),r=(0,s.f3M)(U0),i=(0,s.f3M)(gc);return e.scrollOffset&&n.setOffset(e.scrollOffset),new eC(i,r,n,t,e)}},r?.preloadingStrategy?dI(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:mI},r?.initialNavigation?_I(r):[],[{provide:aC,useFactory:Sm},{provide:s.tb,multi:!0,useExisting:aC}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Nf,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pI,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[gb]}),n})();function oC(n){if(Of&&n)throw new s.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function _I(n){return["disabled"===n.initialNavigation?Yd(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(bi);return()=>{t.setUpLocationChangeListener()}}},{provide:H0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Yd(2,[{provide:H0,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(y,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=t.get(bi),o=t.get(tC);(function q6(n,t){n.events.pipe(Ai(e=>e instanceof Il||e instanceof Ou||e instanceof yc||e instanceof yi),(0,me.U)(e=>e instanceof Il||e instanceof yi?la.COMPLETE:e instanceof Ou&&(0===e.code||1===e.code)?la.REDIRECTING:la.FAILED),Ai(e=>e!==la.REDIRECTING),ts(1)).subscribe(()=>{t()})})(i,()=>{r(!0)}),t.get(U0).afterPreactivation=()=>(r(!0),o.closed?Pt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const aC=new s.OlP(Of?"Router Initializer":"");class z0{}class Dm{}const $a="*";function G0(n,t){return{type:7,name:n,definitions:t,options:{}}}function $b(n,t=null){return{type:4,styles:t,timings:n}}function q0(n,t=null){return{type:2,steps:n,options:t}}function Jd(n){return{type:6,styles:n,offset:null}}function Z0(n,t,e){return{type:0,name:n,styles:t,options:e}}function uC(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function dC(n){Promise.resolve().then(n)}class Im{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){dC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class co{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?dC(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++r==o&&this._onDestroy()}),c.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,w)=>Math.max(c,w.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const zb="!";function wI(n){return new s.vHH(3e3,!1)}function Ec(){return typeof window<"u"&&typeof window.document<"u"}function Ff(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function za(n){switch(n.length){case 0:return new Im;case 1:return n[0];default:return new co(n)}}function Lf(n,t,e,r,i=new Map,o=new Map){const c=[],w=[];let M=-1,H=null;if(r.forEach(te=>{const de=te.get("offset"),ye=de==M,Ce=ye&&H||new Map;te.forEach((Ie,He)=>{let Ke=He,ut=Ie;if("offset"!==He)switch(Ke=t.normalizePropertyName(Ke,c),ut){case zb:ut=i.get(He);break;case $a:ut=o.get(He);break;default:ut=t.normalizeStyleValue(He,Ke,ut,c)}Ce.set(Ke,ut)}),ye||w.push(Ce),H=Ce,M=de}),c.length)throw function FI(n){return new s.vHH(3502,!1)}();return w}function Jb(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&J0(e,"start",n)));break;case"done":n.onDone(()=>r(e&&J0(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&J0(e,"destroy",n)))}}function J0(n,t,e){const o=Q0(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function Q0(n,t,e,r,i="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!c}}function ko(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function yC(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Qd=(n,t)=>!1,bC=(n,t,e)=>[],jI=null;function Qb(n){const t=n.parentNode||n.host;return t===jI?null:t}(Ff()||typeof Element<"u")&&(Ec()?(jI=(()=>document.documentElement)(),Qd=(n,t)=>{for(;t;){if(t===n)return!0;t=Qb(t)}return!1}):Qd=(n,t)=>n.contains(t),bC=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Xd=null,vC=!1;const X0=Qd,CC=bC;let EC=(()=>{class n{validateStyleProperty(e){return function VI(n){Xd||(Xd=function wC(){return typeof document<"u"?document.body:null}()||{},vC=!!Xd.style&&"WebkitAppearance"in Xd.style);let t=!0;return Xd.style&&!function UI(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Xd.style,!t&&vC&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Xd.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return X0(e,r)}getParentElement(e){return Qb(e)}query(e,r,i){return CC(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,c,w=[],M){return new Im(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Xb=(()=>{class n{}return n.NOOP=new EC,n})();const HI=1e3,ev="ng-enter",e_="ng-leave",Am="ng-trigger",km=".ng-trigger",xC="ng-animating",DC=".ng-animating";function Ml(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:IC(parseFloat(t[1]),t[2])}function IC(n,t){return"s"===t?n*HI:n}function eh(n,t,e){return n.hasOwnProperty("duration")?n:function zI(n,t,e){let i,o=0,c="";if("string"==typeof n){const w=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===w)return t.push(wI()),{duration:0,delay:0,easing:""};i=IC(parseFloat(w[1]),w[2]);const M=w[3];null!=M&&(o=IC(parseFloat(M),w[4]));const H=w[5];H&&(c=H)}else i=n;if(!e){let w=!1,M=t.length;i<0&&(t.push(function Gb(){return new s.vHH(3100,!1)}()),w=!0),o<0&&(t.push(function hC(){return new s.vHH(3101,!1)}()),w=!0),w&&t.splice(M,0,wI())}return{duration:i,delay:o,easing:c}}(n,t,e)}function Nm(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function t_(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ca(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function Es(n,t,e){return e?t+":"+e+";":""}function Lu(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=Es(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Es(0,Uf(e),n.style[e]));n.setAttribute("style",t)}function No(n,t,e){n.style&&(t.forEach((r,i)=>{const o=ju(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r}),Ff()&&Lu(n))}function gs(n,t){n.style&&(t.forEach((e,r)=>{const i=ju(r);n.style[i]=""}),Ff()&&Lu(n))}function th(n){return Array.isArray(n)?1==n.length?n[0]:q0(n):n}const Bu=new RegExp("{{\\s*(.+?)\\s*}}","g");function nh(n){let t=[];if("string"==typeof n){let e;for(;e=Bu.exec(n);)t.push(e[1]);Bu.lastIndex=0}return t}function Rl(n,t,e){const r=n.toString(),i=r.replace(Bu,(o,c)=>{let w=t[c];return null==w&&(e.push(function TI(n){return new s.vHH(3003,!1)}()),w=""),w.toString()});return i==r?n:i}function Sc(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const jf=/-+([a-z0-9])/g;function ju(n){return n.replace(jf,(...t)=>t[1].toUpperCase())}function Uf(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function uo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function EI(n){return new s.vHH(3004,!1)}()}}function tv(n,t){return window.getComputedStyle(n)[t]}const n_="*";function RC(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ZI(n,t,e){if(":"==n[0]){const M=function OC(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function RI(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof M)return void t.push(M);n=M}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function pC(n){return new s.vHH(3015,!1)}()),t;const i=r[1],o=r[2],c=r[3];t.push(PC(i,c));"<"==o[0]&&!(i==n_&&c==n_)&&t.push(PC(c,i))}(r,e,t)):e.push(n),e}const Hf=new Set(["true","1"]),$f=new Set(["false","0"]);function PC(n,t){const e=Hf.has(n)||$f.has(n),r=Hf.has(t)||$f.has(t);return(i,o)=>{let c=n==n_||n==i,w=t==n_||t==o;return!c&&e&&"boolean"==typeof i&&(c=i?Hf.has(n):$f.has(n)),!w&&r&&"boolean"==typeof o&&(w=o?Hf.has(t):$f.has(t)),c&&w}}const r_=new RegExp("s*:selfs*,?","g");function Pm(n,t,e,r){return new i_(n).build(t,e,r)}class i_{constructor(t){this._driver=t}build(t,e,r){const i=new BC(e);return this._resetContextStyleTimingState(i),uo(this,th(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function SI(){return new s.vHH(3006,!1)}()),t.definitions.forEach(w=>{if(this._resetContextStyleTimingState(e),0==w.type){const M=w,H=M.name;H.toString().split(/\s*,\s*/).forEach(te=>{M.name=te,o.push(this.visitState(M,e))}),M.name=H}else if(1==w.type){const M=this.visitTransition(w,e);r+=M.queryCount,i+=M.depCount,c.push(M)}else e.errors.push(function xI(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,c=i||{};r.styles.forEach(w=>{w instanceof Map&&w.forEach(M=>{nh(M).forEach(H=>{c.hasOwnProperty(H)||o.add(H)})})}),o.size&&(Sc(o.values()),e.errors.push(function qb(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=uo(this,th(t.animation),e);return{type:1,matchers:RC(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Uu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>uo(this,r,e)),options:Uu(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(c=>{e.currentTime=r;const w=uo(this,c,e);return i=Math.max(i,e.currentTime),w});return e.currentTime=i,{type:3,steps:o,options:Uu(t.options)}}visitAnimate(t,e){const r=function jC(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Fm(eh(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Fm(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=eh(e,t);return Fm(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:Jd({});if(5==o.type)i=this.visitKeyframes(o,e);else{let c=t.styles,w=!1;if(!c){w=!0;const H={};r.easing&&(H.easing=r.easing),c=Jd(H)}e.currentTime+=r.duration+r.delay;const M=this.visitStyle(c,e);M.isEmptyStep=w,i=M}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let w of i)"string"==typeof w?w===$a?r.push(w):e.errors.push(new s.vHH(3002,!1)):r.push(t_(w));let o=!1,c=null;return r.forEach(w=>{if(w instanceof Map&&(w.has("easing")&&(c=w.get("easing"),w.delete("easing")),!o))for(let M of w.values())if(M.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((w,M)=>{const H=e.collectedStyles.get(e.currentQuerySelector),te=H.get(M);let de=!0;te&&(o!=i&&o>=te.startTime&&i<=te.endTime&&(e.errors.push(function II(n,t,e,r,i){return new s.vHH(3010,!1)}()),de=!1),o=te.startTime),de&&H.set(M,{startTime:o,endTime:i}),e.options&&function Bf(n,t,e){const r=t.params||{},i=nh(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function CI(n){return new s.vHH(3001,!1)}())})}(w,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function AI(){return new s.vHH(3011,!1)}()),r;let o=0;const c=[];let w=!1,M=!1,H=0;const te=t.steps.map(ut=>{const _t=this._makeStyleAst(ut,e);let At=null!=_t.offset?_t.offset:function nv(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(_t.styles),vt=0;return null!=At&&(o++,vt=_t.offset=At),M=M||vt<0||vt>1,w=w||vt<H,H=vt,c.push(vt),_t});M&&e.errors.push(function kI(){return new s.vHH(3012,!1)}()),w&&e.errors.push(function Nl(){return new s.vHH(3200,!1)}());const de=t.steps.length;let ye=0;o>0&&o<de?e.errors.push(function Zb(){return new s.vHH(3202,!1)}()):0==o&&(ye=1/(de-1));const Ce=de-1,Ie=e.currentTime,He=e.currentAnimateTimings,Ke=He.duration;return te.forEach((ut,_t)=>{const At=ye>0?_t==Ce?1:ye*_t:c[_t],vt=At*Ke;e.currentTime=Ie+He.delay+vt,He.duration=vt,this._validateStyleAst(ut,e),ut.offset=At,r.styles.push(ut)}),r}visitReference(t,e){return{type:8,animation:uo(this,th(t.animation),e),options:Uu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Uu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Uu(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function s_(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(r_,"")),n=n.replace(/@\*/g,km).replace(/@\w+/g,e=>km+"-"+e.slice(1)).replace(/:animating/g,DC),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,ko(e.collectedStyles,e.currentQuerySelector,new Map);const w=uo(this,th(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:w,originalSelector:t.selector,options:Uu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function NI(){return new s.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:eh(t.timings,e.errors,!0);return{type:12,animation:uo(this,th(t.animation),e),timings:r,options:null}}}class BC{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Uu(n){return n?(n=Nm(n)).params&&(n.params=function LC(n){return n?Nm(n):null}(n.params)):n={},n}function Fm(n,t,e){return{duration:n,delay:t,easing:e}}function o_(n,t,e,r,i,o,c=null,w=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:c,subTimeline:w}}class a_{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const HC=new RegExp(":enter","g"),WI=new RegExp(":leave","g");function l_(n,t,e,r,i,o=new Map,c=new Map,w,M,H=[]){return(new zC).buildKeyframes(n,t,e,r,i,o,c,w,M,H)}class zC{buildKeyframes(t,e,r,i,o,c,w,M,H,te=[]){H=H||new a_;const de=new Gf(t,e,H,i,o,te,[]);de.options=M;const ye=M.delay?Ml(M.delay):0;de.currentTimeline.delayNextStep(ye),de.currentTimeline.setStyles([c],null,de.errors,M),uo(this,r,de);const Ce=de.timelines.filter(Ie=>Ie.containsAnimation());if(Ce.length&&w.size){let Ie;for(let He=Ce.length-1;He>=0;He--){const Ke=Ce[He];if(Ke.element===e){Ie=Ke;break}}Ie&&!Ie.allowOnlyTimelineStyles()&&Ie.setStyles([w],null,de.errors,M)}return Ce.length?Ce.map(Ie=>Ie.buildKeyframes()):[o_(e,[],[],[],0,ye,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const o=i?.delay;if(o){const c="number"==typeof o?o:Ml(Rl(o,i?.params??{},e.errors));r.delayNextStep(c)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const c=null!=r.duration?Ml(r.duration):null,w=null!=r.delay?Ml(r.delay):null;return 0!==c&&t.forEach(M=>{const H=e.appendInstructionToTimeline(M,c,w);o=Math.max(o,H.duration+H.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),uo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zf);const c=Ml(o.delay);i.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>uo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Ml(t.options.delay):0;t.steps.forEach(c=>{const w=e.createSubContext(t.options);o&&w.delayNextStep(o),uo(this,c,w),i=Math.max(i,w.currentTimeline.currentTime),r.push(w.currentTimeline)}),r.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return eh(e.params?Rl(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,w=e.createSubContext().currentTimeline;w.easing=r.easing,t.styles.forEach(M=>{w.forwardTime((M.offset||0)*o),w.setStyles(M.styles,M.easing,e.errors,e.options),w.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(w),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Ml(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zf);let c=r;const w=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=w.length;let M=null;w.forEach((H,te)=>{e.currentQueryIndex=te;const de=e.createSubContext(t.options,H);o&&de.delayNextStep(o),H===e.element&&(M=de.currentTimeline),uo(this,t.animation,de),de.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,de.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),M&&(e.currentTimeline.mergeTimelineCollectedStyles(M),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),w=c*(e.currentQueryTotal-1);let M=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":M=w-M;break;case"full":M=r.currentStaggerTime}const te=e.currentTimeline;M&&te.delayNextStep(M);const de=te.currentTime;uo(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-de+(i.startTime-r.currentTimeline.startTime)}}const zf={};class Gf{constructor(t,e,r,i,o,c,w,M){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=c,this.timelines=w,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=M||new Lm(this._driver,e,0),w.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Ml(r.duration)),null!=r.delay&&(i.delay=Ml(r.delay));const o=r.params;if(o){let c=i.params;c||(c=this.options.params={}),Object.keys(o).forEach(w=>{(!e||!c.hasOwnProperty(w))&&(c[w]=Rl(o[w],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new Gf(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=zf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new GC(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,c){let w=[];if(i&&w.push(this.element),t.length>0){t=(t=t.replace(HC,"."+this._enterClassName)).replace(WI,"."+this._leaveClassName);let H=this._driver.query(this.element,t,1!=r);0!==r&&(H=r<0?H.slice(H.length+r,H.length):H.slice(0,r)),w.push(...H)}return!o&&0==w.length&&c.push(function MI(n){return new s.vHH(3014,!1)}()),w}}class Lm{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Lm(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||$a),this._currentKeyframe.set(e,$a);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},c=function qC(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,$a)}else ca(i,e)}),e}(t,this._globalTimelineStyles);for(let[w,M]of c){const H=Rl(M,o,r);this._pendingStyles.set(w,H),this._localTimelineStyles.has(w)||this._backFill.set(w,this._globalTimelineStyles.get(w)??$a),this._updateStyle(w,H)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((w,M)=>{const H=ca(w,new Map,this._backFill);H.forEach((te,de)=>{te===zb?t.add(de):te===$a&&e.add(de)}),r||H.set("offset",M/this.duration),i.push(H)});const o=t.size?Sc(t.values()):[],c=e.size?Sc(e.values()):[];if(r){const w=i[0],M=new Map(w);w.set("offset",0),M.set("offset",1),i=[w,M]}return o_(this.element,i,o,c,this.duration,this.startTime,this.easing,!1)}}class GC extends Lm{constructor(t,e,r,i,o,c,w=!1){super(t,e,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=w,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=r+e,w=e/c,M=ca(t[0]);M.set("offset",0),o.push(M);const H=ca(t[0]);H.set("offset",rv(w)),o.push(H);const te=t.length-1;for(let de=1;de<=te;de++){let ye=ca(t[de]);const Ce=ye.get("offset");ye.set("offset",rv((e+Ce*r)/c)),o.push(ye)}r=c,e=0,i="",t=o}return o_(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function rv(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class c_{}const ZC=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class u_ extends c_{normalizePropertyName(t,e){return ju(t)}normalizeStyleValue(t,e,r,i){let o="";const c=r.toString().trim();if(ZC.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const w=r.match(/^[+-]?[\d\.]+([a-z]*)$/);w&&0==w[1].length&&i.push(function fC(n,t){return new s.vHH(3005,!1)}())}return c+o}}function xc(n,t,e,r,i,o,c,w,M,H,te,de,ye){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:c,timelines:w,queriedElements:M,preStyleProps:H,postStyleProps:te,totalTime:de,errors:ye}}const iv={};class WC{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function rh(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,c,w,M,H,te){const de=[],ye=this.ast.options&&this.ast.options.params||iv,Ie=this.buildStyles(r,w&&w.params||iv,de),He=M&&M.params||iv,Ke=this.buildStyles(i,He,de),ut=new Set,_t=new Map,At=new Map,vt="void"===i,Ft={params:sv(He,ye),delay:this.ast.options?.delay},Ht=te?[]:l_(t,e,this.ast.animation,o,c,Ie,Ke,Ft,H,de);let _n=0;if(Ht.forEach(kr=>{_n=Math.max(kr.duration+kr.delay,_n)}),de.length)return xc(e,this._triggerName,r,i,vt,Ie,Ke,[],[],_t,At,_n,de);Ht.forEach(kr=>{const Hr=kr.element,Ns=ko(_t,Hr,new Set);kr.preStyleProps.forEach(Fi=>Ns.add(Fi));const eo=ko(At,Hr,new Set);kr.postStyleProps.forEach(Fi=>eo.add(Fi)),Hr!==e&&ut.add(Hr)});const zn=Sc(ut.values());return xc(e,this._triggerName,r,i,vt,Ie,Ke,Ht,zn,_t,At,_n)}}function sv(n,t){const e=Nm(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class JI{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=Nm(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!==c&&(i[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,w)=>{c&&(c=Rl(c,i,e));const M=this.normalizer.normalizePropertyName(w,e);c=this.normalizer.normalizeStyleValue(w,M,c,e),r.set(w,c)})}),r}}class s4{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new JI(i.style,i.options&&i.options.params||{},r))}),YC(this.states,"true","1"),YC(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new WC(t,i,this.states))}),this.fallbackTransition=function o4(n,t,e){return new WC(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,w)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(c=>c.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function YC(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const QI=new a_;class JC{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],i=[],o=Pm(this._driver,e,r,i);if(r.length)throw function LI(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=Lf(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let c;const w=new Map;if(o?(c=l_(this._driver,e,o,ev,e_,new Map,new Map,r,QI,i),c.forEach(te=>{const de=ko(w,te.element,new Map);te.postStyleProps.forEach(ye=>de.set(ye,null))})):(i.push(function W0(){return new s.vHH(3300,!1)}()),c=[]),i.length)throw function K0(n){return new s.vHH(3504,!1)}();w.forEach((te,de)=>{te.forEach((ye,Ce)=>{te.set(Ce,this._driver.computeStyle(de,Ce,$a))})});const H=za(c.map(te=>{const de=w.get(te.element);return this._buildPlayer(te,new Map,de)}));return this._playersById.set(t,H),H.onDestroy(()=>this.destroy(t)),this.players.push(H),H}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Y0(n){return new s.vHH(3301,!1)}();return e}listen(t,e,r,i){const o=Q0(e,"","","");return Jb(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const QC="ng-animate-queued",d_="ng-animate-disabled",tA=[],av={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ss="__ng_removed";class lv{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function uv(n){return n??null}(r?t.value:t),r){const o=Nm(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Bm="void",h_=new lv(Bm);class nA{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,vi(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function e4(n,t){return new s.vHH(3302,!1)}();if(null==r||0==r.length)throw function Kb(n){return new s.vHH(3303,!1)}();if(!function rA(n){return"start"==n||"done"==n}(r))throw function t4(n,t){return new s.vHH(3400,!1)}();const o=ko(this._elementListeners,t,[]),c={name:e,phase:r,callback:i};o.push(c);const w=ko(this._engine.statesByElement,t,new Map);return w.has(e)||(vi(t,Am),vi(t,Am+"-"+e),w.set(e,h_)),()=>{this._engine.afterFlush(()=>{const M=o.indexOf(c);M>=0&&o.splice(M,1),this._triggers.has(e)||w.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function mC(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),c=new nT(this.id,e,t);let w=this._engine.statesByElement.get(t);w||(vi(t,Am),vi(t,Am+"-"+e),this._engine.statesByElement.set(t,w=new Map));let M=w.get(e);const H=new lv(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&M&&H.absorbOptions(M.options),w.set(e,H),M||(M=h_),H.value!==Bm&&M.value===H.value){if(!function sA(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(M.params,H.params)){const He=[],Ke=o.matchStyles(M.value,M.params,He),ut=o.matchStyles(H.value,H.params,He);He.length?this._engine.reportError(He):this._engine.afterFlush(()=>{gs(t,Ke),No(t,ut)})}return}const ye=ko(this._engine.playersByElement,t,[]);ye.forEach(He=>{He.namespaceId==this.id&&He.triggerName==e&&He.queued&&He.destroy()});let Ce=o.matchTransition(M.value,H.value,t,H.params),Ie=!1;if(!Ce){if(!i)return;Ce=o.fallbackTransition,Ie=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Ce,fromState:M,toState:H,player:c,isFallbackTransition:Ie}),Ie||(vi(t,QC),c.onStart(()=>{ih(t,QC)})),c.onDone(()=>{let He=this.players.indexOf(c);He>=0&&this.players.splice(He,1);const Ke=this._engine.playersByElement.get(t);if(Ke){let ut=Ke.indexOf(c);ut>=0&&Ke.splice(ut,1)}}),this.players.push(c),ye.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,km,!0);r.forEach(i=>{if(i[Ss])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(c=>c.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const w=[];if(o.forEach((M,H)=>{if(c.set(H,M.value),this._triggers.has(H)){const te=this.trigger(t,H,Bm,i);te&&w.push(te)}}),w.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),r&&za(w).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const c=o.name;if(i.has(c))return;i.add(c);const M=this._triggers.get(c).fallbackTransition,H=r.get(c)||h_,te=new lv(Bm),de=new nT(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:M,fromState:H,toState:te,player:de,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let c=t;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ss];(!o||o===av)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){vi(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,c=this._elementListeners.get(o);c&&c.forEach(w=>{if(w.name==r.triggerName){const M=Q0(o,r.triggerName,r.fromState.value,r.toState.value);M._data=t,Jb(r.player,w.phase,M,w.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class tT{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new nA(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,w=this.driver.getParentElement(e);for(;w;){const M=i.get(w);if(M){const H=r.indexOf(M);r.splice(H+1,0,t),c=!0;break}w=this.driver.getParentElement(w)}c||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(Mo(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Mo(e))return;const o=e[Ss];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),vi(t,d_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ih(t,d_))}removeNode(t,e,r,i){if(Mo(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[Ss]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return Mo(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,km,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,DC,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return za(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ss];if(e&&e.setForRemoval){if(t[Ss]=av,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(d_)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)vi(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?za(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function gC(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new a_,i=[],o=new Map,c=[],w=new Map,M=new Map,H=new Map,te=new Set;this.disabledNodes.forEach(dn=>{te.add(dn);const xn=this.driver.query(dn,".ng-animate-queued",!0);for(let Bn=0;Bn<xn.length;Bn++)te.add(xn[Bn])});const de=this.bodyNode,ye=Array.from(this.statesByElement.keys()),Ce=ua(ye,this.collectedEnterElements),Ie=new Map;let He=0;Ce.forEach((dn,xn)=>{const Bn=ev+He++;Ie.set(xn,Bn),dn.forEach(ur=>vi(ur,Bn))});const Ke=[],ut=new Set,_t=new Set;for(let dn=0;dn<this.collectedLeaveElements.length;dn++){const xn=this.collectedLeaveElements[dn],Bn=xn[Ss];Bn&&Bn.setForRemoval&&(Ke.push(xn),ut.add(xn),Bn.hasAnimation?this.driver.query(xn,".ng-star-inserted",!0).forEach(ur=>ut.add(ur)):_t.add(xn))}const At=new Map,vt=ua(ye,Array.from(ut));vt.forEach((dn,xn)=>{const Bn=e_+He++;At.set(xn,Bn),dn.forEach(ur=>vi(ur,Bn))}),t.push(()=>{Ce.forEach((dn,xn)=>{const Bn=Ie.get(xn);dn.forEach(ur=>ih(ur,Bn))}),vt.forEach((dn,xn)=>{const Bn=At.get(xn);dn.forEach(ur=>ih(ur,Bn))}),Ke.forEach(dn=>{this.processLeaveNode(dn)})});const Ft=[],Ht=[];for(let dn=this._namespaceList.length-1;dn>=0;dn--)this._namespaceList[dn].drainQueuedTransitions(e).forEach(Bn=>{const ur=Bn.player,Li=Bn.element;if(Ft.push(ur),this.collectedEnterElements.length){const us=Li[Ss];if(us&&us.setForMove){if(us.previousTriggersValues&&us.previousTriggersValues.has(Bn.triggerName)){const Go=us.previousTriggersValues.get(Bn.triggerName),_o=this.statesByElement.get(Bn.element);if(_o&&_o.has(Bn.triggerName)){const tb=_o.get(Bn.triggerName);tb.value=Go,_o.set(Bn.triggerName,tb)}}return void ur.destroy()}}const va=!de||!this.driver.containsElement(de,Li),Ms=At.get(Li),il=Ie.get(Li),jr=this._buildInstruction(Bn,r,il,Ms,va);if(jr.errors&&jr.errors.length)return void Ht.push(jr);if(va)return ur.onStart(()=>gs(Li,jr.fromStyles)),ur.onDestroy(()=>No(Li,jr.toStyles)),void i.push(ur);if(Bn.isFallbackTransition)return ur.onStart(()=>gs(Li,jr.fromStyles)),ur.onDestroy(()=>No(Li,jr.toStyles)),void i.push(ur);const Wc=[];jr.timelines.forEach(us=>{us.stretchStartingKeyframe=!0,this.disabledNodes.has(us.element)||Wc.push(us)}),jr.timelines=Wc,r.append(Li,jr.timelines),c.push({instruction:jr,player:ur,element:Li}),jr.queriedElements.forEach(us=>ko(w,us,[]).push(ur)),jr.preStyleProps.forEach((us,Go)=>{if(us.size){let _o=M.get(Go);_o||M.set(Go,_o=new Set),us.forEach((tb,l0)=>_o.add(l0))}}),jr.postStyleProps.forEach((us,Go)=>{let _o=H.get(Go);_o||H.set(Go,_o=new Set),us.forEach((tb,l0)=>_o.add(l0))})});if(Ht.length){const dn=[];Ht.forEach(xn=>{dn.push(function _C(n,t){return new s.vHH(3505,!1)}())}),Ft.forEach(xn=>xn.destroy()),this.reportError(dn)}const _n=new Map,zn=new Map;c.forEach(dn=>{const xn=dn.element;r.has(xn)&&(zn.set(xn,xn),this._beforeAnimationBuild(dn.player.namespaceId,dn.instruction,_n))}),i.forEach(dn=>{const xn=dn.element;this._getPreviousPlayers(xn,!1,dn.namespaceId,dn.triggerName,null).forEach(ur=>{ko(_n,xn,[]).push(ur),ur.destroy()})});const kr=Ke.filter(dn=>sT(dn,M,H)),Hr=new Map;qa(Hr,this.driver,_t,H,$a).forEach(dn=>{sT(dn,M,H)&&kr.push(dn)});const eo=new Map;Ce.forEach((dn,xn)=>{qa(eo,this.driver,new Set(dn),M,zb)}),kr.forEach(dn=>{const xn=Hr.get(dn),Bn=eo.get(dn);Hr.set(dn,new Map([...Array.from(xn?.entries()??[]),...Array.from(Bn?.entries()??[])]))});const Fi=[],dd=[],hd={};c.forEach(dn=>{const{element:xn,player:Bn,instruction:ur}=dn;if(r.has(xn)){if(te.has(xn))return Bn.onDestroy(()=>No(xn,ur.toStyles)),Bn.disabled=!0,Bn.overrideTotalTime(ur.totalTime),void i.push(Bn);let Li=hd;if(zn.size>1){let Ms=xn;const il=[];for(;Ms=Ms.parentNode;){const jr=zn.get(Ms);if(jr){Li=jr;break}il.push(Ms)}il.forEach(jr=>zn.set(jr,Li))}const va=this._buildAnimation(Bn.namespaceId,ur,_n,o,eo,Hr);if(Bn.setRealPlayer(va),Li===hd)Fi.push(Bn);else{const Ms=this.playersByElement.get(Li);Ms&&Ms.length&&(Bn.parentPlayer=za(Ms)),i.push(Bn)}}else gs(xn,ur.fromStyles),Bn.onDestroy(()=>No(xn,ur.toStyles)),dd.push(Bn),te.has(xn)&&i.push(Bn)}),dd.forEach(dn=>{const xn=o.get(dn.element);if(xn&&xn.length){const Bn=za(xn);dn.setRealPlayer(Bn)}}),i.forEach(dn=>{dn.parentPlayer?dn.syncPlayerEvents(dn.parentPlayer):dn.destroy()});for(let dn=0;dn<Ke.length;dn++){const xn=Ke[dn],Bn=xn[Ss];if(ih(xn,e_),Bn&&Bn.hasAnimation)continue;let ur=[];if(w.size){let va=w.get(xn);va&&va.length&&ur.push(...va);let Ms=this.driver.query(xn,DC,!0);for(let il=0;il<Ms.length;il++){let jr=w.get(Ms[il]);jr&&jr.length&&ur.push(...jr)}}const Li=ur.filter(va=>!va.destroyed);Li.length?rT(this,xn,Li):this.processLeaveNode(xn)}return Ke.length=0,Fi.forEach(dn=>{this.players.push(dn),dn.onDone(()=>{dn.destroy();const xn=this.players.indexOf(dn);this.players.splice(xn,1)}),dn.play()}),Fi}elementContainsData(t,e){let r=!1;const i=e[Ss];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let c=[];if(e){const w=this.playersByQueriedElement.get(t);w&&(c=w)}else{const w=this.playersByElement.get(t);if(w){const M=!o||o==Bm;w.forEach(H=>{H.queued||!M&&H.triggerName!=i||c.push(H)})}}return(r||i)&&(c=c.filter(w=>!(r&&r!=w.namespaceId||i&&i!=w.triggerName))),c}_beforeAnimationBuild(t,e,r){const o=e.element,c=e.isRemovalTransition?void 0:t,w=e.isRemovalTransition?void 0:e.triggerName;for(const M of e.timelines){const H=M.element,te=H!==o,de=ko(r,H,[]);this._getPreviousPlayers(H,te,c,w,e.toState).forEach(Ce=>{const Ie=Ce.getRealPlayer();Ie.beforeDestroy&&Ie.beforeDestroy(),Ce.destroy(),de.push(Ce)})}gs(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,c){const w=e.triggerName,M=e.element,H=[],te=new Set,de=new Set,ye=e.timelines.map(Ie=>{const He=Ie.element;te.add(He);const Ke=He[Ss];if(Ke&&Ke.removedBeforeQueried)return new Im(Ie.duration,Ie.delay);const ut=He!==M,_t=function iA(n){const t=[];return iT(n,t),t}((r.get(He)||tA).map(_n=>_n.getRealPlayer())).filter(_n=>!!_n.element&&_n.element===He),At=o.get(He),vt=c.get(He),Ft=Lf(0,this._normalizer,0,Ie.keyframes,At,vt),Ht=this._buildPlayer(Ie,Ft,_t);if(Ie.subTimeline&&i&&de.add(He),ut){const _n=new nT(t,w,He);_n.setRealPlayer(Ht),H.push(_n)}return Ht});H.forEach(Ie=>{ko(this.playersByQueriedElement,Ie.element,[]).push(Ie),Ie.onDone(()=>function cv(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,Ie.element,Ie))}),te.forEach(Ie=>vi(Ie,xC));const Ce=za(ye);return Ce.onDestroy(()=>{te.forEach(Ie=>ih(Ie,xC)),No(M,e.toStyles)}),de.forEach(Ie=>{ko(i,Ie,[]).push(Ce)}),Ce}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Im(t.duration,t.delay)}}class nT{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Im,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Jb(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ko(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Mo(n){return n&&1===n.nodeType}function dv(n,t){const e=n.style.display;return n.style.display=t??"none",e}function qa(n,t,e,r,i){const o=[];e.forEach(M=>o.push(dv(M)));const c=[];r.forEach((M,H)=>{const te=new Map;M.forEach(de=>{const ye=t.computeStyle(H,de,i);te.set(de,ye),(!ye||0==ye.length)&&(H[Ss]=eT,c.push(H))}),n.set(H,te)});let w=0;return e.forEach(M=>dv(M,o[w++])),c}function ua(n,t){const e=new Map;if(n.forEach(w=>e.set(w,[])),0==t.length)return e;const r=1,i=new Set(t),o=new Map;function c(w){if(!w)return r;let M=o.get(w);if(M)return M;const H=w.parentNode;return M=e.has(H)?H:i.has(H)?r:c(H),o.set(w,M),M}return t.forEach(w=>{const M=c(w);M!==r&&e.get(M).push(w)}),e}function vi(n,t){n.classList?.add(t)}function ih(n,t){n.classList?.remove(t)}function rT(n,t,e){za(e).onDone(()=>n.processLeaveNode(t))}function iT(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof co?iT(r.players,t):t.push(r)}}function sT(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class qf{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new tT(t,e,r),this._timelineEngine=new JC(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const c=t+"-"+i;let w=this._triggerCache[c];if(!w){const M=[],H=[],te=Pm(this._driver,o,M,H);if(M.length)throw function Wb(n,t){return new s.vHH(3404,!1)}();w=function ov(n,t,e){return new s4(n,t,e)}(i,te,this._normalizer),this._triggerCache[c]=w}this._transitionEngine.registerTrigger(e,i,w)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,c]=yC(r);this._timelineEngine.command(o,e,c,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[c,w]=yC(r);return this._timelineEngine.listen(c,e,w,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let oA=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&No(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(No(this._element,this._initialStyles),this._endStyles&&(No(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(gs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gs(this._element,this._endStyles),this._endStyles=null),No(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function f_(n){let t=null;return n.forEach((e,r)=>{(function aA(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class oT{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:tv(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class aT{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return X0(t,e)}getParentElement(t){return Qb(t)}query(t,e,r){return CC(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,c=[]){const M={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(M.easing=o);const H=new Map,te=c.filter(Ce=>Ce instanceof oT);(function Vf(n,t){return 0===n||0===t})(r,i)&&te.forEach(Ce=>{Ce.currentSnapshot.forEach((Ie,He)=>H.set(He,Ie))});let de=function GI(n){return n.length?n[0]instanceof Map?n:n.map(t=>t_(t)):[]}(e).map(Ce=>ca(Ce));de=function AC(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,c)=>{r.has(c)||i.push(c),r.set(c,o)}),i.length)for(let o=1;o<t.length;o++){let c=t[o];i.forEach(w=>c.set(w,tv(n,w)))}}return t}(t,de,H);const ye=function jm(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=f_(t[0]),t.length>1&&(r=f_(t[t.length-1]))):t instanceof Map&&(e=f_(t)),e||r?new oA(n,e,r):null}(t,de);return new oT(t,de,M,ye)}}let lT=(()=>{class n extends z0{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?q0(e):e;return hv(this._renderer,null,r,"register",[i]),new p_(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class p_ extends Dm{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new lA(this._id,t,e||{},this._renderer)}}class lA{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return hv(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function hv(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const m_="@.disabled";let g_=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,c)=>{const w=c?.parentNode(o);w&&c.removeChild(w,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let te=this._rendererCache.get(o);return te||(te=new __("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,te)),te}const c=r.id,w=r.id+"-"+this._currentId;this._currentId++,this.engine.register(w,e);const M=te=>{Array.isArray(te)?te.forEach(M):this.engine.registerTrigger(c,w,e,te.name,te)};return r.data.animation.forEach(M),new cT(this,w,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,w]=o;c(w)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(qf),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class __{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==m_?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class cT extends __{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==m_?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function uT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function dT(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,c,w=>{this.factory.scheduleListenerCallback(w._data||-1,r,w)})}return this.delegate.listen(t,e,r)}}let hT=(()=>{class n extends qf{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z),s.LFG(Xb),s.LFG(c_),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const fv=[{provide:z0,useClass:lT},{provide:c_,useFactory:function fT(){return new u_}},{provide:qf,useClass:hT},{provide:s.FYo,useFactory:function pT(n,t,e){return new g_(n,t,e)},deps:[qi,qf,s.R0b]}],pv=[{provide:Xb,useFactory:()=>new aT},{provide:s.QbO,useValue:"BrowserAnimations"},...fv],mT=[{provide:Xb,useClass:EC},{provide:s.QbO,useValue:"NoopAnimations"},...fv];let cA=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?mT:pv}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:pv,imports:[Cl]}),n})(),gT=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),sh=(()=>{class n extends gT{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ol=new s.OlP("NgValueAccessor"),hA={provide:Ol,useExisting:(0,s.Gpc)(()=>Dc),multi:!0},pA=new s.OlP("CompositionEventMode");let Dc=(()=>{class n extends gT{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fA(){const n=Ne()?Ne().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(pA,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&s.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[s._Bn([hA]),s.qOj]}),n})();const mA=!1;function Vu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function mv(n){return null!=n&&"number"==typeof n.length}const xs=new s.OlP("NgValidators"),Ic=new s.OlP("NgAsyncValidators"),yT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vr{static min(t){return function gv(n){return t=>{if(Vu(t.value)||Vu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function _v(n){return t=>{if(Vu(t.value)||Vu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function yv(n){return Vu(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function bv(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function y_(n){return Vu(n.value)||yT.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function b_(n){return t=>Vu(t.value)||!mv(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Hu(n){return t=>mv(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function bT(n){if(!n)return v_;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Vu(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return yA(t)}static composeAsync(t){return wT(t)}}function v_(n){return null}function oh(n){return null!=n}function gA(n){const t=(0,s.QGY)(n)?(0,$n.D)(n):n;if(mA&&!(0,s.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new s.vHH(-1101,e)}return t}function w_(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function _A(n,t){return t.map(e=>e(n))}function vv(n){return n.map(t=>function vT(n){return!n.validate}(t)?t:e=>t.validate(e))}function yA(n){if(!n)return null;const t=n.filter(oh);return 0==t.length?null:function(e){return w_(_A(e,t))}}function Pn(n){return null!=n?yA(vv(n)):null}function wT(n){if(!n)return null;const t=n.filter(oh);return 0==t.length?null:function(e){return function uA(...n){const t=(0,mi.jO)(n),{args:e,keys:r}=Eu(n),i=new Ir.y(o=>{const{length:c}=e;if(!c)return void o.complete();const w=new Array(c);let M=c,H=c;for(let te=0;te<c;te++){let de=!1;(0,es.Xf)(e[te]).subscribe((0,Ct.x)(o,ye=>{de||(de=!0,H--),w[te]=ye},()=>M--,void 0,()=>{(!M||!de)&&(H||o.next(r?ft(r,w):w),o.complete())}))}});return t?i.pipe(nt(t)):i}(_A(e,t).map(gA)).pipe((0,me.U)(w_))}}function wv(n){return null!=n?wT(vv(n)):null}function CT(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ah(n){return n._rawValidators}function TT(n){return n._rawAsyncValidators}function Zf(n){return n?Array.isArray(n)?n:[n]:[]}function lh(n,t){return Array.isArray(n)?n.includes(t):n===t}function li(n,t){const e=Zf(t);return Zf(n).forEach(i=>{lh(e,i)||e.push(i)}),e}function bA(n,t){return Zf(t).filter(e=>!lh(n,e))}class Cv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Pn(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=wv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Fs extends Cv{get formDirective(){return null}get path(){return null}}class $u extends Cv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tv{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zu=(()=>{class n extends Tv{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($u,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[s.qOj]}),n})(),ch=(()=>{class n extends Tv{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fs,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[s.qOj]}),n})();function ET(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const E_=!1,Wf="VALID",S_="INVALID",uh="PENDING",$m="DISABLED";function Dv(n){return(Iv(n)?n.validators:n)||null}function xT(n,t){return(Iv(t)?t.asyncValidators:n)||null}function Iv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class DT{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Wf}get invalid(){return this.status===S_}get pending(){return this.status==uh}get disabled(){return this.status===$m}get enabled(){return this.status!==$m}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(li(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(li(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(bA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(bA(t,this._rawAsyncValidators))}hasValidator(t){return lh(this._rawValidators,t)}hasAsyncValidator(t){return lh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=uh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$m,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wf,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wf||this.status===uh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$m:Wf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=uh,this._hasOwnPendingAsyncValidator=!0;const e=gA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?$m:this.errors?S_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uh)?uh:this._anyControlsHaveStatus(S_)?S_:Wf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Iv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function h4(n){return Array.isArray(n)?Pn(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function f4(n){return Array.isArray(n)?wv(n):n||null}(this._rawAsyncValidators)}}class Zi extends DT{constructor(t,e,r){super(Dv(e),xT(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function zm(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new s.vHH(1002,E_?function ST(n,t){return`Must supply a value for form control ${ET(n,t)}`}(t,i):"")})})(this,!0,t),Object.keys(t).forEach(r=>{(function Av(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new s.vHH(1e3,E_?function xA(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!r[e])throw new s.vHH(1001,E_?function DA(n,t){return`Cannot find form control ${ET(n,t)}`}(t,e):"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const dh=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Gm}),Gm="always";function qm(n,t,e=Gm){hh(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function IT(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Nv(n,t)})}(n,t),function MA(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function NA(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Nv(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function kA(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Zm(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),I_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function D_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function hh(n,t){const e=ah(n);null!==t.validator?n.setValidators(CT(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=TT(n);null!==t.asyncValidator?n.setAsyncValidators(CT(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();D_(t._rawValidators,i),D_(t._rawAsyncValidators,i)}function I_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=ah(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const i=TT(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}const r=()=>{};return D_(t._rawValidators,r),D_(t._rawAsyncValidators,r),e}function Nv(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function NT(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function MT(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ot=class extends DT{constructor(t=null,e,r){super(Dv(e),xT(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Iv(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=MT(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){NT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){NT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){MT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Ac=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const VA={provide:Ol,useExisting:(0,s.Gpc)(()=>Km),multi:!0};let Km=(()=>{class n extends sh{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&s.NdJ("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[s._Bn([VA]),s.qOj]}),n})(),Uv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const M_=new s.OlP("NgModelWithFormControlWarning"),$v={provide:Fs,useExisting:(0,s.Gpc)(()=>kc)};let kc=(()=>{class n extends Fs{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(I_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return qm(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Zm(e.control||null,e,!1),function kT(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function k_(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(Zm(r||null,e),(n=>n instanceof Ot)(i)&&(qm(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function Mv(n,t){hh(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function RA(n,t){return I_(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hh(this.form,this),this._oldForm&&I_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xs,10),s.Y36(Ic,10),s.Y36(dh,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&s.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([$v]),s.qOj,s.TTD]}),n})();const jT={provide:$u,useExisting:(0,s.Gpc)(()=>Gu)};let Gu=(()=>{class n extends $u{set isDisabled(e){}constructor(e,r,i,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ov(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Dc?e=o:function FA(n){return Object.getPrototypeOf(n.constructor)===sh}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){this._added||this._setUpControl(),function Rv(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function kv(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Fs,13),s.Y36(xs,10),s.Y36(Ic,10),s.Y36(Ol,10),s.Y36(M_,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([jT]),s.qOj,s.TTD]}),n})();const zA={provide:Ol,useExisting:(0,s.Gpc)(()=>fh),multi:!0};function UT(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let fh=(()=>{class n extends sh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=UT(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function GA(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&s.NdJ("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([zA]),s.qOj]}),n})(),O_=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(UT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(fh,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const VT={provide:Ol,useExisting:(0,s.Gpc)(()=>Gv),multi:!0};function HT(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Gv=(()=>{class n extends sh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(o=>this._getOptionId(o));r=(o,c)=>{o._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const c=o;for(let w=0;w<c.length;w++){const H=this._getOptionValue(c[w].value);i.push(H)}}else{const c=r.options;for(let w=0;w<c.length;w++){const M=c[w];if(M.selected){const H=this._getOptionValue(M.value);i.push(H)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function qA(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&s.NdJ("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([VT]),s.qOj]}),n})(),Jm=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(HT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(HT(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Gv,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),YT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Uv]}),n})(),XT=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:dh,useValue:e.callSetDisabledState??Gm}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[YT]}),n})(),ek=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:M_,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:dh,useValue:e.callSetDisabledState??Gm}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[YT]}),n})();class L_{}class Jf{}class da{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),c=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=e.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(e,o)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof da?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new da;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof da?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(w=>-1===o.indexOf(w)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class tk{encodeKey(t){return Qv(t)}encodeValue(t){return Qv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const tE=/%(\d[a-f0-9])/gi,Jv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qv(n){return encodeURIComponent(n).replace(tE,(t,e)=>Jv[e]??t)}function Qf(n){return`${n}`}class Pl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new tk,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function eE(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[c,w]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],M=e.get(c)||[];M.push(w),e.set(c,M)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(Qf):[Qf(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Pl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Qf(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Qf(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Xv{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function nE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rE(n){return typeof Blob<"u"&&n instanceof Blob}function iE(n){return typeof FormData<"u"&&n instanceof FormData}class Xf{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function e1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new da),this.context||(this.context=new Xv),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const w=e.indexOf("?");this.urlWithParams=e+(-1===w?"?":w<e.length-1?"&":"")+c}}else this.params=new Pl,this.urlWithParams=e}serializeBody(){return null===this.body?null:nE(this.body)||rE(this.body)||iE(this.body)||function rk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||iE(this.body)?null:rE(this.body)?this.body.type||null:nE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,w=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let M=t.headers||this.headers,H=t.params||this.params;const te=t.context??this.context;return void 0!==t.setHeaders&&(M=Object.keys(t.setHeaders).reduce((de,ye)=>de.set(ye,t.setHeaders[ye]),M)),t.setParams&&(H=Object.keys(t.setParams).reduce((de,ye)=>de.set(ye,t.setParams[ye]),H)),new Xf(e,r,o,{params:H,headers:M,context:te,reportProgress:w,responseType:i,withCredentials:c})}}var wi=(()=>((wi=wi||{})[wi.Sent=0]="Sent",wi[wi.UploadProgress=1]="UploadProgress",wi[wi.ResponseHeader=2]="ResponseHeader",wi[wi.DownloadProgress=3]="DownloadProgress",wi[wi.Response=4]="Response",wi[wi.User=5]="User",wi))();class B_{constructor(t,e=200,r="OK"){this.headers=t.headers||new da,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class j_ extends B_{constructor(t={}){super(t),this.type=wi.ResponseHeader}clone(t={}){return new j_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qm extends B_{constructor(t={}){super(t),this.type=wi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Qm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class t1 extends B_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function n1(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let r1=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Xf)o=e;else{let M,H;M=i.headers instanceof da?i.headers:new da(i.headers),i.params&&(H=i.params instanceof Pl?i.params:new Pl({fromObject:i.params})),o=new Xf(e,r,void 0!==i.body?i.body:null,{headers:M,context:i.context,params:H,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=Pt(o).pipe(fc(M=>this.handler.handle(M)));if(e instanceof Xf||"events"===i.observe)return c;const w=c.pipe(Ai(M=>M instanceof Qm));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return w.pipe((0,me.U)(M=>{if(null!==M.body&&!(M.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return M.body}));case"blob":return w.pipe((0,me.U)(M=>{if(null!==M.body&&!(M.body instanceof Blob))throw new Error("Response is not a Blob.");return M.body}));case"text":return w.pipe((0,me.U)(M=>{if(null!==M.body&&"string"!=typeof M.body)throw new Error("Response is not a string.");return M.body}));default:return w.pipe((0,me.U)(M=>M.body))}case"response":return w;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Pl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,n1(i,r))}post(e,r,i={}){return this.request("POST",e,n1(i,r))}put(e,r,i={}){return this.request("PUT",e,n1(i,r))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(L_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function i1(n,t){return t(n)}function ik(n,t){return(e,r)=>t.intercept(e,{handle:i=>n(i,r)})}const oE=new s.OlP("HTTP_INTERCEPTORS"),ss=new s.OlP("HTTP_INTERCEPTOR_FNS");function ep(){let n=null;return(t,e)=>(null===n&&(n=((0,s.f3M)(oE,{optional:!0})??[]).reduceRight(ik,i1)),n(t,e))}let aE=(()=>{class n extends L_{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=Array.from(new Set(this.injector.get(ss)));this.chain=r.reduceRight((i,o)=>function sE(n,t,e){return(r,i)=>e.runInContext(()=>t(r,o=>n(o,i)))}(i,o,this.injector),i1)}return this.chain(e,r=>this.backend.handle(r))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Jf),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ak=/^\)\]\}',?\n/;let V_=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ir.y(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((Ce,Ie)=>i.setRequestHeader(Ce,Ie.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Ce=e.detectContentTypeHeader();null!==Ce&&i.setRequestHeader("Content-Type",Ce)}if(e.responseType){const Ce=e.responseType.toLowerCase();i.responseType="json"!==Ce?Ce:"text"}const o=e.serializeBody();let c=null;const w=()=>{if(null!==c)return c;const Ce=i.statusText||"OK",Ie=new da(i.getAllResponseHeaders()),He=function lk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return c=new j_({headers:Ie,status:i.status,statusText:Ce,url:He}),c},M=()=>{let{headers:Ce,status:Ie,statusText:He,url:Ke}=w(),ut=null;204!==Ie&&(ut=typeof i.response>"u"?i.responseText:i.response),0===Ie&&(Ie=ut?200:0);let _t=Ie>=200&&Ie<300;if("json"===e.responseType&&"string"==typeof ut){const At=ut;ut=ut.replace(ak,"");try{ut=""!==ut?JSON.parse(ut):null}catch(vt){ut=At,_t&&(_t=!1,ut={error:vt,text:ut})}}_t?(r.next(new Qm({body:ut,headers:Ce,status:Ie,statusText:He,url:Ke||void 0})),r.complete()):r.error(new t1({error:ut,headers:Ce,status:Ie,statusText:He,url:Ke||void 0}))},H=Ce=>{const{url:Ie}=w(),He=new t1({error:Ce,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Ie||void 0});r.error(He)};let te=!1;const de=Ce=>{te||(r.next(w()),te=!0);let Ie={type:wi.DownloadProgress,loaded:Ce.loaded};Ce.lengthComputable&&(Ie.total=Ce.total),"text"===e.responseType&&i.responseText&&(Ie.partialText=i.responseText),r.next(Ie)},ye=Ce=>{let Ie={type:wi.UploadProgress,loaded:Ce.loaded};Ce.lengthComputable&&(Ie.total=Ce.total),r.next(Ie)};return i.addEventListener("load",M),i.addEventListener("error",H),i.addEventListener("timeout",H),i.addEventListener("abort",H),e.reportProgress&&(i.addEventListener("progress",de),null!==o&&i.upload&&i.upload.addEventListener("progress",ye)),i.send(o),r.next({type:wi.Sent}),()=>{i.removeEventListener("error",H),i.removeEventListener("abort",H),i.removeEventListener("load",M),i.removeEventListener("timeout",H),e.reportProgress&&(i.removeEventListener("progress",de),null!==o&&i.upload&&i.upload.removeEventListener("progress",ye)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gd))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const H_=new s.OlP("XSRF_ENABLED"),Xm=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ck=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class a1{}let uk=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=at(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z),s.LFG(s.Lbi),s.LFG(Xm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function hE(n,t){const e=n.url.toLowerCase();if(!(0,s.f3M)(H_)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=(0,s.f3M)(a1).getToken(),i=(0,s.f3M)(ck);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var Mi=(()=>((Mi=Mi||{})[Mi.Interceptors=0]="Interceptors",Mi[Mi.LegacyInterceptors=1]="LegacyInterceptors",Mi[Mi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Mi[Mi.NoXsrfProtection=3]="NoXsrfProtection",Mi[Mi.JsonpSupport=4]="JsonpSupport",Mi[Mi.RequestsMadeViaParent=5]="RequestsMadeViaParent",Mi))();function ph(n,t){return{\u0275kind:n,\u0275providers:t}}function l1(...n){const t=[r1,V_,aE,{provide:L_,useExisting:aE},{provide:Jf,useExisting:V_},{provide:ss,useValue:hE,multi:!0},{provide:H_,useValue:!0},{provide:a1,useClass:uk}];for(const e of n)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const fE=new s.OlP("LEGACY_INTERCEPTOR_FN");let fk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[l1(ph(Mi.LegacyInterceptors,[{provide:fE,useFactory:ep},{provide:ss,useExisting:fE,multi:!0}]))]}),n})();var $_=Re(6451),tg=Re(4986),pE=Re(3532);function ng(n=0,t,e=tg.P){let r=-1;return null!=t&&((0,pE.K)(t)?e=t:r=t),new Ir.y(i=>{let o=function gk(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function mh(n,t=ge.y){return n=n??mE,(0,Rr.e)((e,r)=>{let i,o=!0;e.subscribe((0,Ct.x)(r,c=>{const w=t(c);(o||!n(i,w))&&(o=!1,i=w,r.next(c))}))})}function mE(n,t){return n===t}var gE=Re(6063);class _k extends br.x{constructor(t=1/0,e=1/0,r=gE.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:c}=this;e||(r.push(t),!i&&r.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let c=0;c<o.length&&!t.closed;c+=r?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const c=e.now();let w=0;for(let M=1;M<r.length&&r[M]<=c;M+=2)w=M;w&&r.splice(0,w+1)}}}var _E=Re(3099);function yE(n,t,e){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n):r=n??1/0,(0,_E.B)({connector:()=>new _k(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var rg=Re(5032);function os(n){return(0,Rr.e)((t,e)=>{(0,es.Xf)(n).subscribe((0,Ct.x)(e,()=>e.complete(),rg.Z)),!e.closed&&t.subscribe(e)})}let tp={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const bk=/[&<>"']/,M4=new RegExp(bk.source,"g"),vk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,R4=new RegExp(vk.source,"g"),z_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wk=n=>z_[n];function Ds(n,t){if(t){if(bk.test(n))return n.replace(M4,wk)}else if(vk.test(n))return n.replace(R4,wk);return n}const G_=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function c1(n){return n.replace(G_,(t,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const bE=/(^|[^\[])\^/g;function qr(n,t){n="string"==typeof n?n:n.source,t=t||"";const e={replace:(r,i)=>(i=(i=i.source||i).replace(bE,"$1"),n=n.replace(r,i),e),getRegex:()=>new RegExp(n,t)};return e}const u1=/[^\w:]/g,vE=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function wE(n,t,e){if(n){let r;try{r=decodeURIComponent(c1(e)).replace(u1,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!vE.test(e)&&(e=function q_(n,t){d1[" "+n]||(d1[" "+n]=Ck.test(n)?n+"/":h1(n,"/",!0));const e=-1===(n=d1[" "+n]).indexOf(":");return"//"===t.substring(0,2)?e?t:n.replace(Tk,"$1")+t:"/"===t.charAt(0)?e?t:n.replace(Ek,"$1")+t:n+t}(t,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const d1={},Ck=/^[^:]+:\/*[^/]*$/,Tk=/^([^:]+:)[\s\S]*$/,Ek=/^([^:]+:\/*[^/]*)[\s\S]*$/,Z_={exec:function(){}};function Sk(n,t){const r=n.replace(/\|/g,(o,c,w)=>{let M=!1,H=c;for(;--H>=0&&"\\"===w[H];)M=!M;return M?"|":" |"}).split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function h1(n,t,e){const r=n.length;if(0===r)return"";let i=0;for(;i<r;){const o=n.charAt(r-i-1);if(o!==t||e){if(o===t||!e)break;i++}else i++}return n.slice(0,r-i)}function CE(n,t){if(t<1)return"";let e="";for(;t>1;)1&t&&(e+=n),t>>=1,n+=n;return e+n}function TE(n,t,e,r){const i=t.href,o=t.title?Ds(t.title):null,c=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const w={type:"link",raw:e,href:i,title:o,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,w}return{type:"image",raw:e,href:i,title:o,text:Ds(c)}}class f1{constructor(t){this.options=t||tp}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:h1(r,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const r=e[0],i=function P4(n,t){const e=n.match(/^(\s+)(?:```)/);if(null===e)return t;const r=e[1];return t.split("\n").map(i=>{const o=i.match(/^\s+/);if(null===o)return i;const[c]=o;return c.length>=r.length?i.slice(r.length):i}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:i}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(/#$/.test(r)){const i=h1(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:e[0],tokens:o,text:r}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r,i,o,c,w,M,H,te,de,ye,Ce,Ie,He=e[1].trim();const Ke=He.length>1,ut={type:"list",raw:"",ordered:Ke,start:Ke?+He.slice(0,-1):"",loose:!1,items:[]};He=Ke?`\\d{1,9}\\${He.slice(-1)}`:`\\${He}`,this.options.pedantic&&(He=Ke?He:"[*+-]");const _t=new RegExp(`^( {0,3}${He})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;t&&(Ie=!1,(e=_t.exec(t))&&!this.rules.block.hr.test(t));){if(r=e[0],t=t.substring(r.length),te=e[2].split("\n",1)[0].replace(/^\t+/,vt=>" ".repeat(3*vt.length)),de=t.split("\n",1)[0],this.options.pedantic?(c=2,Ce=te.trimLeft()):(c=e[2].search(/[^ ]/),c=c>4?1:c,Ce=te.slice(c),c+=e[1].length),M=!1,!te&&/^ *$/.test(de)&&(r+=de+"\n",t=t.substring(de.length+1),Ie=!0),!Ie){const vt=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Ft=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Ht=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),_n=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;t&&(ye=t.split("\n",1)[0],de=ye,this.options.pedantic&&(de=de.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ht.test(de)||_n.test(de)||vt.test(de)||Ft.test(t)));){if(de.search(/[^ ]/)>=c||!de.trim())Ce+="\n"+de.slice(c);else{if(M||te.search(/[^ ]/)>=4||Ht.test(te)||_n.test(te)||Ft.test(te))break;Ce+="\n"+de}!M&&!de.trim()&&(M=!0),r+=ye+"\n",t=t.substring(ye.length+1),te=de.slice(c)}}ut.loose||(H?ut.loose=!0:/\n *\n *$/.test(r)&&(H=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(Ce),i&&(o="[ ] "!==i[0],Ce=Ce.replace(/^\[[ xX]\] +/,""))),ut.items.push({type:"list_item",raw:r,task:!!i,checked:o,loose:!1,text:Ce}),ut.raw+=r}ut.items[ut.items.length-1].raw=r.trimRight(),ut.items[ut.items.length-1].text=Ce.trimRight(),ut.raw=ut.raw.trimRight();const At=ut.items.length;for(w=0;w<At;w++)if(this.lexer.state.top=!1,ut.items[w].tokens=this.lexer.blockTokens(ut.items[w].text,[]),!ut.loose){const vt=ut.items[w].tokens.filter(Ht=>"space"===Ht.type),Ft=vt.length>0&&vt.some(Ht=>/\n.*\n/.test(Ht.raw));ut.loose=Ft}if(ut.loose)for(w=0;w<At;w++)ut.items[w].loose=!0;return ut}}html(t){const e=this.rules.block.html.exec(t);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(e[0]):Ds(e[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(t){const e=this.rules.block.def.exec(t);if(e){const r=e[1].toLowerCase().replace(/\s+/g," "),i=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:i,title:o}}}table(t){const e=this.rules.block.table.exec(t);if(e){const r={type:"table",header:Sk(e[1]).map(i=>({text:i})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let o,c,w,M,i=r.align.length;for(o=0;o<i;o++)r.align[o]=/^ *-+: *$/.test(r.align[o])?"right":/^ *:-+: *$/.test(r.align[o])?"center":/^ *:-+ *$/.test(r.align[o])?"left":null;for(i=r.rows.length,o=0;o<i;o++)r.rows[o]=Sk(r.rows[o],r.header.length).map(H=>({text:H}));for(i=r.header.length,c=0;c<i;c++)r.header[c].tokens=this.lexer.inline(r.header[c].text);for(i=r.rows.length,c=0;c<i;c++)for(M=r.rows[c],w=0;w<M.length;w++)M[w].tokens=this.lexer.inline(M[w].text);return r}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const r="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:Ds(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Ds(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const c=h1(r.slice(0,-1),"\\");if((r.length-c.length)%2==0)return}else{const c=function O4(n,t){if(-1===n.indexOf(t[1]))return-1;const e=n.length;let r=0,i=0;for(;i<e;i++)if("\\"===n[i])i++;else if(n[i]===t[0])r++;else if(n[i]===t[1]&&(r--,r<0))return i;return-1}(e[2],"()");if(c>-1){const M=(0===e[0].indexOf("!")?5:4)+e[1].length+c;e[2]=e[2].substring(0,c),e[0]=e[0].substring(0,M).trim(),e[3]=""}}let i=e[2],o="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);c&&(i=c[1],o=c[3])}else o=e[3]?e[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(r)?i.slice(1):i.slice(1,-1)),TE(e,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=e[i.toLowerCase()],!i){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return TE(r,i,r[0],this.lexer)}}emStrong(t,e,r=""){let i=this.rules.inline.emStrong.lDelim.exec(t);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const o=i[1]||i[2]||"";if(!o||o&&(""===r||this.rules.inline.punctuation.exec(r))){const c=i[0].length-1;let w,M,H=c,te=0;const de="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(de.lastIndex=0,e=e.slice(-1*t.length+c);null!=(i=de.exec(e));){if(w=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!w)continue;if(M=w.length,i[3]||i[4]){H+=M;continue}if((i[5]||i[6])&&c%3&&!((c+M)%3)){te+=M;continue}if(H-=M,H>0)continue;M=Math.min(M,M+H+te);const ye=t.slice(0,c+i.index+(i[0].length-w.length)+M);if(Math.min(c,M)%2){const Ie=ye.slice(1,-1);return{type:"em",raw:ye,text:Ie,tokens:this.lexer.inlineTokens(Ie)}}const Ce=ye.slice(2,-2);return{type:"strong",raw:ye,text:Ce,tokens:this.lexer.inlineTokens(Ce)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(/\n/g," ");const i=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return i&&o&&(r=r.substring(1,r.length-1)),r=Ds(r,!0),{type:"codespan",raw:e[0],text:r}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t,e){const r=this.rules.inline.autolink.exec(t);if(r){let i,o;return"@"===r[2]?(i=Ds(this.options.mangle?e(r[1]):r[1]),o="mailto:"+i):(i=Ds(r[1]),o=i),{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}url(t,e){let r;if(r=this.rules.inline.url.exec(t)){let i,o;if("@"===r[2])i=Ds(this.options.mangle?e(r[0]):r[0]),o="mailto:"+i;else{let c;do{c=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(c!==r[0]);i=Ds(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t,e){const r=this.rules.inline.text.exec(t);if(r){let i;return i=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ds(r[0]):r[0]:Ds(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const Fn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Z_,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Fn.def=qr(Fn.def).replace("label",Fn._label).replace("title",Fn._title).getRegex(),Fn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Fn.listItemStart=qr(/^( *)(bull) */).replace("bull",Fn.bullet).getRegex(),Fn.list=qr(Fn.list).replace(/bull/g,Fn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Fn.def.source+")").getRegex(),Fn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Fn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Fn.html=qr(Fn.html,"i").replace("comment",Fn._comment).replace("tag",Fn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Fn.paragraph=qr(Fn._paragraph).replace("hr",Fn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fn._tag).getRegex(),Fn.blockquote=qr(Fn.blockquote).replace("paragraph",Fn.paragraph).getRegex(),Fn.normal={...Fn},Fn.gfm={...Fn.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Fn.gfm.table=qr(Fn.gfm.table).replace("hr",Fn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fn._tag).getRegex(),Fn.gfm.paragraph=qr(Fn._paragraph).replace("hr",Fn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Fn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fn._tag).getRegex(),Fn.pedantic={...Fn.normal,html:qr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Fn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Z_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:qr(Fn.normal._paragraph).replace("hr",Fn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Fn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const bn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Z_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Z_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function F4(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function ha(n){let e,r,t="";const i=n.length;for(e=0;e<i;e++)r=n.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),t+="&#"+r+";";return t}bn._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",bn.punctuation=qr(bn.punctuation).replace(/punctuation/g,bn._punctuation).getRegex(),bn.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,bn.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,bn._comment=qr(Fn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),bn.emStrong.lDelim=qr(bn.emStrong.lDelim).replace(/punct/g,bn._punctuation).getRegex(),bn.emStrong.rDelimAst=qr(bn.emStrong.rDelimAst,"g").replace(/punct/g,bn._punctuation).getRegex(),bn.emStrong.rDelimUnd=qr(bn.emStrong.rDelimUnd,"g").replace(/punct/g,bn._punctuation).getRegex(),bn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,bn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,bn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,bn.autolink=qr(bn.autolink).replace("scheme",bn._scheme).replace("email",bn._email).getRegex(),bn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,bn.tag=qr(bn.tag).replace("comment",bn._comment).replace("attribute",bn._attribute).getRegex(),bn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,bn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,bn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,bn.link=qr(bn.link).replace("label",bn._label).replace("href",bn._href).replace("title",bn._title).getRegex(),bn.reflink=qr(bn.reflink).replace("label",bn._label).replace("ref",Fn._label).getRegex(),bn.nolink=qr(bn.nolink).replace("ref",Fn._label).getRegex(),bn.reflinkSearch=qr(bn.reflinkSearch,"g").replace("reflink",bn.reflink).replace("nolink",bn.nolink).getRegex(),bn.normal={...bn},bn.pedantic={...bn.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:qr(/^!?\[(label)\]\((.*?)\)/).replace("label",bn._label).getRegex(),reflink:qr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",bn._label).getRegex()},bn.gfm={...bn.normal,escape:qr(bn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},bn.gfm.url=qr(bn.gfm.url,"i").replace("email",bn.gfm._extended_email).getRegex(),bn.breaks={...bn.gfm,br:qr(bn.br).replace("{2,}","*").getRegex(),text:qr(bn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Zu{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||tp,this.options.tokenizer=this.options.tokenizer||new f1,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:Fn.normal,inline:bn.normal};this.options.pedantic?(e.block=Fn.pedantic,e.inline=bn.pedantic):this.options.gfm&&(e.block=Fn.gfm,e.inline=this.options.breaks?bn.breaks:bn.gfm),this.tokenizer.rules=e}static get rules(){return{block:Fn,inline:bn}}static lex(t,e){return new Zu(e).lex(t)}static lexInline(t,e){return new Zu(e).inlineTokens(t)}lex(t){let e;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){let r,i,o,c;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(w,M,H)=>M+"    ".repeat(H.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(w=>!!(r=w.call({lexer:this},t,e))&&(t=t.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),i=e[e.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?e.push(r):(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),i=e[e.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(o=t,this.options.extensions&&this.options.extensions.startBlock){let w=1/0;const M=t.slice(1);let H;this.options.extensions.startBlock.forEach(function(te){H=te.call({lexer:this},M),"number"==typeof H&&H>=0&&(w=Math.min(w,H))}),w<1/0&&w>=0&&(o=t.substring(0,w+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=e[e.length-1],c&&"paragraph"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):e.push(r),c=o.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),i=e[e.length-1],i&&"text"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):e.push(r);continue}if(t){const w="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(w);break}throw new Error(w)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let r,i,o,w,M,H,c=t;if(this.tokens.links){const te=Object.keys(this.tokens.links);if(te.length>0)for(;null!=(w=this.tokenizer.rules.inline.reflinkSearch.exec(c));)te.includes(w[0].slice(w[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,w.index)+"["+CE("a",w[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(w=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,w.index)+"["+CE("a",w[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(w=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,w.index+w[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(M||(H=""),M=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(te=>!!(r=te.call({lexer:this},t,e))&&(t=t.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),i=e[e.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),i=e[e.length-1],i&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(t,c,H)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(t,ha)){t=t.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t,ha))){t=t.substring(r.raw.length),e.push(r);continue}if(o=t,this.options.extensions&&this.options.extensions.startInline){let te=1/0;const de=t.slice(1);let ye;this.options.extensions.startInline.forEach(function(Ce){ye=Ce.call({lexer:this},de),"number"==typeof ye&&ye>=0&&(te=Math.min(te,ye))}),te<1/0&&te>=0&&(o=t.substring(0,te+1))}if(r=this.tokenizer.inlineText(o,F4)){t=t.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(H=r.raw.slice(-1)),M=!0,i=e[e.length-1],i&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):e.push(r);continue}if(t){const te="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(te);break}throw new Error(te)}}return e}}class gh{constructor(t){this.options=t||tp}code(t,e,r){const i=(e||"").match(/\S*/)[0];if(this.options.highlight){const o=this.options.highlight(t,i);null!=o&&o!==t&&(r=!0,t=o)}return t=t.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+Ds(i)+'">'+(r?t:Ds(t,!0))+"</code></pre>\n":"<pre><code>"+(r?t:Ds(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t){return t}heading(t,e,r,i){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+i.slug(r)}">${t}</h${e}>\n`:`<h${e}>${t}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(t,e,r){const i=e?"ol":"ul";return"<"+i+(e&&1!==r?' start="'+r+'"':"")+">\n"+t+"</"+i+">\n"}listitem(t){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>\n`}table(t,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,e,r){if(null===(t=wE(this.options.sanitize,this.options.baseUrl,t)))return r;let i='<a href="'+t+'"';return e&&(i+=' title="'+e+'"'),i+=">"+r+"</a>",i}image(t,e,r){if(null===(t=wE(this.options.sanitize,this.options.baseUrl,t)))return r;let i=`<img src="${t}" alt="${r}"`;return e&&(i+=` title="${e}"`),i+=this.options.xhtml?"/>":">",i}text(t){return t}}class EE{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,r){return""+r}image(t,e,r){return""+r}br(){return""}}class Dk{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let r=t,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[t];do{i++,r=t+"-"+i}while(this.seen.hasOwnProperty(r))}return e||(this.seen[t]=i,this.seen[r]=0),r}slug(t,e={}){const r=this.serialize(t);return this.getNextSafeSlug(r,e.dryrun)}}class as{constructor(t){this.options=t||tp,this.options.renderer=this.options.renderer||new gh,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new EE,this.slugger=new Dk}static parse(t,e){return new as(e).parse(t)}static parseInline(t,e){return new as(e).parseInline(t)}parse(t,e=!0){let i,o,c,w,M,H,te,de,ye,Ce,Ie,He,Ke,ut,_t,At,vt,Ft,Ht,r="";const _n=t.length;for(i=0;i<_n;i++)if(Ce=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ce.type]&&(Ht=this.options.extensions.renderers[Ce.type].call({parser:this},Ce),!1!==Ht||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ce.type)))r+=Ht||"";else switch(Ce.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(Ce.tokens),Ce.depth,c1(this.parseInline(Ce.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(Ce.text,Ce.lang,Ce.escaped);continue;case"table":for(de="",te="",w=Ce.header.length,o=0;o<w;o++)te+=this.renderer.tablecell(this.parseInline(Ce.header[o].tokens),{header:!0,align:Ce.align[o]});for(de+=this.renderer.tablerow(te),ye="",w=Ce.rows.length,o=0;o<w;o++){for(H=Ce.rows[o],te="",M=H.length,c=0;c<M;c++)te+=this.renderer.tablecell(this.parseInline(H[c].tokens),{header:!1,align:Ce.align[c]});ye+=this.renderer.tablerow(te)}r+=this.renderer.table(de,ye);continue;case"blockquote":ye=this.parse(Ce.tokens),r+=this.renderer.blockquote(ye);continue;case"list":for(Ie=Ce.ordered,He=Ce.start,Ke=Ce.loose,w=Ce.items.length,ye="",o=0;o<w;o++)_t=Ce.items[o],At=_t.checked,vt=_t.task,ut="",_t.task&&(Ft=this.renderer.checkbox(At),Ke?_t.tokens.length>0&&"paragraph"===_t.tokens[0].type?(_t.tokens[0].text=Ft+" "+_t.tokens[0].text,_t.tokens[0].tokens&&_t.tokens[0].tokens.length>0&&"text"===_t.tokens[0].tokens[0].type&&(_t.tokens[0].tokens[0].text=Ft+" "+_t.tokens[0].tokens[0].text)):_t.tokens.unshift({type:"text",text:Ft}):ut+=Ft),ut+=this.parse(_t.tokens,Ke),ye+=this.renderer.listitem(ut,vt,At);r+=this.renderer.list(ye,Ie,He);continue;case"html":r+=this.renderer.html(Ce.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(Ce.tokens));continue;case"text":for(ye=Ce.tokens?this.parseInline(Ce.tokens):Ce.text;i+1<_n&&"text"===t[i+1].type;)Ce=t[++i],ye+="\n"+(Ce.tokens?this.parseInline(Ce.tokens):Ce.text);r+=e?this.renderer.paragraph(ye):ye;continue;default:{const zn='Token with "'+Ce.type+'" type was not found.';if(this.options.silent)return void console.error(zn);throw new Error(zn)}}return r}parseInline(t,e){e=e||this.renderer;let i,o,c,r="";const w=t.length;for(i=0;i<w;i++)if(o=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(c=this.options.extensions.renderers[o.type].call({parser:this},o),!1!==c||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)))r+=c||"";else switch(o.type){case"escape":case"text":r+=e.text(o.text);break;case"html":r+=e.html(o.text);break;case"link":r+=e.link(o.href,o.title,this.parseInline(o.tokens,e));break;case"image":r+=e.image(o.href,o.title,o.text);break;case"strong":r+=e.strong(this.parseInline(o.tokens,e));break;case"em":r+=e.em(this.parseInline(o.tokens,e));break;case"codespan":r+=e.codespan(o.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(o.tokens,e));break;default:{const M='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(M);throw new Error(M)}}return r}}class p1{constructor(t){this.options=t||tp}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(t){return t}postprocess(t){return t}}function SE(n,t){return(e,r,i)=>{"function"==typeof r&&(i=r,r=null);const o={...r},c=function m1(n,t,e){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",n){const i="<p>An error occurred:</p><pre>"+Ds(r.message+"",!0)+"</pre>";return t?Promise.resolve(i):e?void e(null,i):i}if(t)return Promise.reject(r);if(!e)throw r;e(r)}}((r={...Ln.defaults,...o}).silent,r.async,i);if(typeof e>"u"||null===e)return c(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(function xk(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(r),r.hooks&&(r.hooks.options=r),i){const w=r.highlight;let M;try{r.hooks&&(e=r.hooks.preprocess(e)),M=n(e,r)}catch(de){return c(de)}const H=function(de){let ye;if(!de)try{r.walkTokens&&Ln.walkTokens(M,r.walkTokens),ye=t(M,r),r.hooks&&(ye=r.hooks.postprocess(ye))}catch(Ce){de=Ce}return r.highlight=w,de?c(de):i(null,ye)};if(!w||w.length<3||(delete r.highlight,!M.length))return H();let te=0;return Ln.walkTokens(M,function(de){"code"===de.type&&(te++,setTimeout(()=>{w(de.text,de.lang,function(ye,Ce){if(ye)return H(ye);null!=Ce&&Ce!==de.text&&(de.text=Ce,de.escaped=!0),te--,0===te&&H()})},0))}),void(0===te&&H())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(e):e).then(w=>n(w,r)).then(w=>r.walkTokens?Promise.all(Ln.walkTokens(w,r.walkTokens)).then(()=>w):w).then(w=>t(w,r)).then(w=>r.hooks?r.hooks.postprocess(w):w).catch(c);try{r.hooks&&(e=r.hooks.preprocess(e));const w=n(e,r);r.walkTokens&&Ln.walkTokens(w,r.walkTokens);let M=t(w,r);return r.hooks&&(M=r.hooks.postprocess(M)),M}catch(w){return c(w)}}}function Ln(n,t,e){return SE(Zu.lex,as.parse)(n,t,e)}Ln.options=Ln.setOptions=function(n){return function N4(n){tp=n}(Ln.defaults={...Ln.defaults,...n}),Ln},Ln.getDefaults=function yk(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Ln.defaults=tp,Ln.use=function(...n){const t=Ln.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(e=>{const r={...e};if(r.async=Ln.defaults.async||r.async||!1,e.extensions&&(e.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const o=t.renderers[i.name];t.renderers[i.name]=o?function(...c){let w=i.renderer.apply(this,c);return!1===w&&(w=o.apply(this,c)),w}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");t[i.level]?t[i.level].unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&("block"===i.level?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:"inline"===i.level&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),e.renderer){const i=Ln.defaults.renderer||new gh;for(const o in e.renderer){const c=i[o];i[o]=(...w)=>{let M=e.renderer[o].apply(i,w);return!1===M&&(M=c.apply(i,w)),M}}r.renderer=i}if(e.tokenizer){const i=Ln.defaults.tokenizer||new f1;for(const o in e.tokenizer){const c=i[o];i[o]=(...w)=>{let M=e.tokenizer[o].apply(i,w);return!1===M&&(M=c.apply(i,w)),M}}r.tokenizer=i}if(e.hooks){const i=Ln.defaults.hooks||new p1;for(const o in e.hooks){const c=i[o];i[o]=p1.passThroughHooks.has(o)?w=>{if(Ln.defaults.async)return Promise.resolve(e.hooks[o].call(i,w)).then(H=>c.call(i,H));const M=e.hooks[o].call(i,w);return c.call(i,M)}:(...w)=>{let M=e.hooks[o].apply(i,w);return!1===M&&(M=c.apply(i,w)),M}}r.hooks=i}if(e.walkTokens){const i=Ln.defaults.walkTokens;r.walkTokens=function(o){let c=[];return c.push(e.walkTokens.call(this,o)),i&&(c=c.concat(i.call(this,o))),c}}Ln.setOptions(r)})},Ln.walkTokens=function(n,t){let e=[];for(const r of n)switch(e=e.concat(t.call(Ln,r)),r.type){case"table":for(const i of r.header)e=e.concat(Ln.walkTokens(i.tokens,t));for(const i of r.rows)for(const o of i)e=e.concat(Ln.walkTokens(o.tokens,t));break;case"list":e=e.concat(Ln.walkTokens(r.items,t));break;default:Ln.defaults.extensions&&Ln.defaults.extensions.childTokens&&Ln.defaults.extensions.childTokens[r.type]?Ln.defaults.extensions.childTokens[r.type].forEach(function(i){e=e.concat(Ln.walkTokens(r[i],t))}):r.tokens&&(e=e.concat(Ln.walkTokens(r.tokens,t)))}return e},Ln.parseInline=SE(Zu.lexInline,as.parseInline),Ln.Parser=as,Ln.parser=as.parse,Ln.Renderer=gh,Ln.TextRenderer=EE,Ln.Lexer=Zu,Ln.lexer=Zu.lex,Ln.Tokenizer=f1,Ln.Slugger=Dk,Ln.Hooks=p1,Ln.parse=Ln;let Fl=(()=>{class n{constructor(){this._buttonClick$=new br.x,this.copied$=this._buttonClick$.pipe(Vr(()=>(0,$_.T)(Pt(!0),ng(3e3).pipe(rf(!1)))),mh(),yE(1)),this.copiedText$=this.copied$.pipe(Oa(!1),(0,me.U)(e=>e?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,r){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return r.onCopyToClipboardClick()}),s.ALo(1,"async"),s._uU(2),s.ALo(3,"async"),s.qZA()),2&e&&(s.ekj("copied",s.lcZ(1,3,r.copied$)),s.xp6(2),s.Oqu(s.lcZ(3,5,r.copiedText$)))},dependencies:[$r],encapsulation:2,changeDetection:0}),n})();class DE{}class Fk{}const NE=new s.OlP("SECURITY_CONTEXT");let ME=(()=>{class n{constructor(e,r,i,o,c,w){this.platform=e,this.securityContext=r,this.http=i,this.clipboardOptions=o,this.sanitizer=w,this.DEFAULT_MARKED_OPTIONS={renderer:new gh},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new br.x,this.reload$=this._reload$.asObservable(),this.options=c}get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}parse(e,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:o,emoji:c,mermaid:w,disableSanitizer:M}=r,H={...this.options,...r.markedOptions};w&&(this.renderer=this.extendRenderer(H.renderer||new gh));const te=this.trimIndentation(e),de=i?this.decodeHtml(te):te,ye=c?this.parseEmoji(de):de,Ce=this.parseMarked(ye,H,o);return(M?Ce:this.sanitizer.sanitize(this.securityContext,Ce))||""}render(e,r=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:o,clipboardOptions:c,katex:w,katexOptions:M,mermaid:H,mermaidOptions:te}=r;o&&this.renderClipboard(e,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...c}),w&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...M}),H&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...te}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe((0,me.U)(r=>this.handleExtension(e,r)))}highlight(e){if(!Ko(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,i=>i.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!Ko(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}extendRenderer(e){const r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;const i=e.code;return e.code=function(o,c,w){return"mermaid"===c?`<div class="mermaid">${o}</div>`:i.call(this,o,c,w)},r.\u0275NgxMarkdownRendererExtended=!0,e}handleExtension(e,r){const i=e.lastIndexOf("://"),o=i>-1?e.substring(i+4):e,c=o.lastIndexOf("/"),w=c>-1?o.substring(c+1).split("?")[0]:"",M=w.lastIndexOf("."),H=M>-1?w.substring(M+1):"";return H&&"md"!==H?"```"+H+"\n"+r+"\n```":r}parseMarked(e,r,i=!1){return i?Ln.parseInline(e,r):Ln.parse(e,r)}parseEmoji(e){if(!Ko(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}renderKatex(e,r){if(Ko(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}renderClipboard(e,r,i){if(!Ko(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:o,buttonTemplate:c}=i,w=e.querySelectorAll("pre");for(let M=0;M<w.length;M++){const H=w.item(M),te=document.createElement("div");te.style.position="relative",H.parentNode.insertBefore(te,H),te.appendChild(H);const de=document.createElement("div");let ye,Ce;de.style.position="absolute",de.style.top=".5em",de.style.right=".5em",de.style.opacity="0",de.style.transition="opacity 250ms ease-out",te.insertAdjacentElement("beforeend",de),H.onmouseover=()=>de.style.opacity="1",H.onmouseout=()=>de.style.opacity="0",ye=o?r.createComponent(o).hostView:c?r.createEmbeddedView(c):r.createComponent(Fl).hostView,ye.rootNodes.forEach(Ie=>{Ie.onmouseover=()=>de.style.opacity="1",de.appendChild(Ie),Ce=new ClipboardJS(Ie,{text:()=>H.innerText})}),ye.onDestroy(()=>Ce.destroy())}}renderMermaid(e,r=this.DEFAULT_MERMAID_OPTIONS){if(!Ko(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=e.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(r),mermaid.init(i))}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(i=>{let o=r;return i.length>0&&(o=isNaN(o)?i.search(/\S|$/):Math.min(i.search(/\S|$/),o)),isNaN(r)&&(r=o),o?i.substring(o):i}).join("\n")}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi),s.LFG(NE),s.LFG(r1,8),s.LFG(DE,8),s.LFG(Fk,8),s.LFG(Qh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),OE=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[ME,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:NE,useValue:e&&null!=e.sanitize?e.sanitize:s.q3G.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})();var _1;!function(n){let t;var i;let e,r;(i=t=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",i.Loose="loose",i.Antiscript="antiscript",i.Sandbox="sandbox",function(i){i.Base="base",i.Forest="forest",i.Dark="dark",i.Default="default",i.Neutral="neutral"}(e=n.Theme||(n.Theme={})),function(i){i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(_1||(_1={}));let K_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const PE=["toast-component",""];function zk(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",5),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.remove())}),s.TgZ(1,"span",6),s._uU(2,"\xd7"),s.qZA()()}}function U4(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.hij("[",e.duplicatesCount+1,"]")}}function V4(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.YNc(2,U4,2,1,"ng-container",4),s.qZA()),2&n){const e=s.oxw();s.Tol(e.options.titleClass),s.uIk("aria-label",e.title),s.xp6(1),s.hij(" ",e.title," "),s.xp6(1),s.Q6J("ngIf",e.duplicatesCount)}}function H4(n,t){if(1&n&&s._UZ(0,"div",7),2&n){const e=s.oxw();s.Tol(e.options.messageClass),s.Q6J("innerHTML",e.message,s.oJD)}}function FE(n,t){if(1&n&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Tol(e.options.messageClass),s.uIk("aria-label",e.message),s.xp6(1),s.hij(" ",e.message," ")}}function Gk(n,t){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"div",9),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Udp("width",e.width+"%")}}class Wk{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Y_{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class Kk{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new br.x;_activate=new br.x;_manualClose=new br.x;_resetTimeout=new br.x;_countDuplicate=new br.x;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class J_{toastId;config;message;title;toastType;toastRef;_onTap=new br.x;_onAction=new br.x;constructor(t,e,r,i,o,c){this.toastId=t,this.config=e,this.message=r,this.title=i,this.toastType=o,this.toastRef=c,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const Wu=new s.OlP("ToastConfig");class LE extends Y_{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,r){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=r}attachComponentPortal(t,e){const r=this._componentFactoryResolver.resolveComponentFactory(t.component);let i;return i=r.create(t.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let b1=(()=>{class n{_document=(0,s.f3M)(z);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class v1{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let Yk=(()=>{class n{_overlayContainer=(0,s.f3M)(b1);_componentFactoryResolver=(0,s.f3M)(s._Vd);_appRef=(0,s.f3M)(s.z2F);_document=(0,s.f3M)(z);_paneElements=new Map;create(e,r){return this._createOverlayRef(this.getPaneElement(e,r))}getPaneElement(e="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[e]||(this._paneElements.get(r)[e]=this._createPaneElement(e,r)),this._paneElements.get(r)[e]}_createPaneElement(e,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(e),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(e){return new LE(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new v1(this._createPortalHost(e))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Za=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,r,i,o,c){this.overlay=r,this._injector=i,this.sanitizer=o,this.ngZone=c,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,r,i={},o=""){return this._preBuildNotification(o,e,r,this.applyConfig(i))}success(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,r,this.applyConfig(i))}error(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,r,this.applyConfig(i))}info(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,r,this.applyConfig(i))}warning(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,r,this.applyConfig(i))}clear(e){for(const r of this.toasts)if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(e){const r=this._findToast(e);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(e="",r="",i,o){const{includeTitleDuplicates:c}=this.toastrConfig;for(const w of this.toasts)if((!c||c&&w.title===e)&&w.message===r)return w.toastRef.onDuplicate(i,o),w;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===e)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(e,r,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,r,i,o)):this._buildNotification(e,r,i,o)}_buildNotification(e,r,i,o){if(!o.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=r;let w=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(w=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const M=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let H=r;r&&o.enableHtml&&(H=this.sanitizer.sanitize(s.q3G.HTML,r));const te=new Kk(M),de=new J_(this.index,o,H,i,e,te),Ce=s.zs3.create({providers:[{provide:J_,useValue:de}],parent:this._injector}),Ie=new Wk(o.toastComponent,Ce),He=M.attach(Ie,o.newestOnTop);te.componentInstance=He.instance;const Ke={toastId:this.index,title:i||"",message:r||"",toastRef:te,onShown:te.afterActivate(),onHidden:te.afterClosed(),onTap:de.onTap(),onAction:de.onAction(),portal:He};return w||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ke.toastRef.activate()})),this.toasts.push(Ke),Ke}static \u0275fac=function(r){return new(r||n)(s.LFG(Wu),s.LFG(Yk),s.LFG(s.zs3),s.LFG(Qh),s.LFG(s.R0b))};static \u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Q_={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,r,i){this.toastrService=e,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),r)):this.timeout=setTimeout(()=>e(),r)}outsideInterval(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),r)):this.intervalId=setInterval(()=>e(),r)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(r){return new(r||n)(s.Y36(Za),s.Y36(J_),s.Y36(s.R0b))};static \u0275cmp=s.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&s.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(s.d8E("@flyInOut",i.state),s.Tol(i.toastClasses),s.Udp("display",i.displayStyle))},standalone:!0,features:[s.jDz],attrs:PE,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(s.YNc(0,zk,3,0,"button",0),s.YNc(1,V4,3,5,"div",1),s.YNc(2,H4,1,3,"div",2),s.YNc(3,FE,2,4,"div",3),s.YNc(4,Gk,2,2,"div",4)),2&r&&(s.Q6J("ngIf",i.options.closeButton),s.xp6(1),s.Q6J("ngIf",i.title),s.xp6(1),s.Q6J("ngIf",i.message&&i.options.enableHtml),s.xp6(1),s.Q6J("ngIf",i.message&&!i.options.enableHtml),s.xp6(1),s.Q6J("ngIf",i.options.progressBar))},dependencies:[er],encapsulation:2,data:{animation:[G0("flyInOut",[Z0("inactive",Jd({opacity:0})),Z0("active",Jd({opacity:1})),Z0("removed",Jd({opacity:0})),uC("inactive => active",$b("{{ easeTime }}ms {{ easing }}")),uC("active => removed",$b("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},Z4=(n={})=>(0,s.MR2)([{provide:Wu,useValue:{default:Q_,config:n}}]);let W4=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[Z4(e)]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=s.oAB({type:n});static \u0275inj=s.cJS({})}return n})(),Rc=(()=>{class n{constructor(){}add(e,r){localStorage.setItem(e,JSON.stringify(r))}update(e,r){localStorage.getItem(e)&&this.delete(e),this.add(e,r)}get(e){const r=localStorage.getItem(e);return r?JSON.parse(r):null}getLoggedAccount(){return this.get("logged_account")}delete(e){localStorage.removeItem(e)}clear(){localStorage.clear()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qk(n,t){1&n&&(s.TgZ(0,"small",22),s._uU(1," Please enter email address.! "),s.qZA())}function Xk(n,t){1&n&&(s.TgZ(0,"small",22),s._uU(1," Email address not well formed.! "),s.qZA())}let jE=(()=>{class n{constructor(e,r,i,o){this.accountInteractor=e,this.router=r,this.toastr=i,this.localStorageService=o,this.year=(new Date).getFullYear(),this.version="0.4.0",this.loginForm=new Zi({email:new Ot("",[vr.required,vr.email]),password:new Ot("",[vr.required])})}ngOnInit(){this.localStorageService.clear()}onSubmit(){this.loginForm.valid?this.accountInteractor.login({username:this.loginForm.value.email,password:this.loginForm.value.password}).subscribe({next:e=>{e&&e.success?(this.localStorageService.add("logged_account",e.data),this.router.navigate(["/dashboard"])):this.toastr.error("Account not found","Error")},error:e=>{this.toastr.error(e.message(),"Error")},complete:()=>{}}):this.toastr.error("Some inputs are incorrect","Error")}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(K_),s.Y36(bi),s.Y36(Za),s.Y36(Rc))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:38,vars:6,consts:[[1,"main-wrapper","account-wrapper"],[1,"account-page"],[1,"account-center"],[1,"account-box"],["novalidate","",1,"form-signin",3,"formGroup","ngSubmit"],[1,"account-logo"],["href",""],["src","assets/images/logo.png","alt",""],[1,"form-group"],["for","loginUsername"],["type","email","formControlName","email","placeholder","Enter email","id","loginUsername",1,"form-control"],["class","form-text text-muted",4,"ngIf"],["for","loginPassword"],["type","password","formControlName","password","placeholder","Password","id","loginPassword",1,"form-control"],[1,"form-group","text-right"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-primary","account-btn",2,"background-color","#042c44","color","#fcbc1f",3,"disabled"],[1,"text-center","register-link"],[1,"m-t-50",2,"font-size","xx-small"],["width","50","src","assets/images/akkodis.png","alt","akkodis",1,""],[2,"color","#000"],[2,"color","#F00"],[1,"form-text","text-muted"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(5,"div",5)(6,"a",6),s._UZ(7,"img",7),s.qZA()(),s.TgZ(8,"div",8)(9,"label",9),s._uU(10,"Email"),s.qZA(),s._UZ(11,"input",10),s.YNc(12,Qk,2,0,"small",11),s.YNc(13,Xk,2,0,"small",11),s.qZA(),s.TgZ(14,"div",8)(15,"label",12),s._uU(16,"Password"),s.qZA(),s._UZ(17,"input",13),s.qZA(),s.TgZ(18,"div",14)(19,"a",6),s._uU(20,"Forgot your password?"),s.qZA()(),s.TgZ(21,"div",15)(22,"button",16),s._uU(23," Login "),s.qZA()(),s.TgZ(24,"div",17),s._uU(25," Don\u2019t have an account? "),s.TgZ(26,"a",6),s._uU(27,"Register Now"),s.qZA()(),s.TgZ(28,"div",18),s._UZ(29,"img",19),s.TgZ(30,"strong"),s._uU(31," \xa9 "),s.TgZ(32,"span",20),s._uU(33),s._UZ(34,"br"),s._uU(35,"Version : "),s.qZA()(),s.TgZ(36,"strong",21),s._uU(37),s.qZA()()()()()()()),2&r&&(s.xp6(4),s.Q6J("formGroup",i.loginForm),s.xp6(8),s.Q6J("ngIf",i.loginForm.controls.email.touched&&(null==i.loginForm.controls.email.errors?null:i.loginForm.controls.email.errors.required)),s.xp6(1),s.Q6J("ngIf",i.loginForm.controls.email.touched&&(null==i.loginForm.controls.email.errors?null:i.loginForm.controls.email.errors.email)),s.xp6(9),s.Q6J("disabled",!i.loginForm.valid),s.xp6(11),s.hij(" ",i.year," "),s.xp6(4),s.Oqu(i.version))},dependencies:[er,Ac,Dc,zu,ch,kc,Gu],encapsulation:2})}return n})(),UE=(()=>{class n{constructor(e,r){this.localStorageService=e,this.router=r,this.showSideBar=!0,this.loggedAccount=e.getLoggedAccount()}onClickBars(){this.showSideBar=!this.showSideBar}onClickLogo(){this.router.navigate(["dashboard"])}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Rc),s.Y36(bi))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:21,vars:2,consts:[[1,"main-wrapper"],[1,"header"],[1,"header-left"],[1,"logo","pointer",3,"click"],["src","assets/images/logo.png","width","35","height","35","alt",""],["id","toggle_btn","href","javascript:void(0);"],[1,"fa","fa-bars"],["id","mobile_btn","href","#sidebar",1,"mobile_btn","float-left"],[1,"row"],[1,"col"],[1,"col-4","col-sm-4","col-md-3","col-lg-3","col-xl-2"],[1,"nav","user-menu","float-right","pointer"],[1,"nav-item","dropdown"],[1,"nav-link","user-link",3,"click"],[1,"user-img"],["src","assets/images/user.jpg","width","40","alt","Admin",1,"rounded-circle"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),s.NdJ("click",function(){return i.onClickLogo()}),s._UZ(4,"img",4),s.TgZ(5,"span"),s._uU(6,"EstiMate"),s.qZA()()(),s.TgZ(7,"a",5),s._UZ(8,"i",6),s.qZA(),s.TgZ(9,"a",7),s._UZ(10,"i",6),s.qZA(),s.TgZ(11,"div",8),s._UZ(12,"div",9),s.TgZ(13,"div",10)(14,"ul",11)(15,"li",12)(16,"a",13),s.NdJ("click",function(){return i.onClickLogo()}),s.TgZ(17,"span",14),s._UZ(18,"img",15),s.qZA(),s.TgZ(19,"span"),s._uU(20),s.qZA()()()()()()()()),2&r&&(s.xp6(20),s.AsE("",i.loggedAccount.firstname," ",i.loggedAccount.lastname,""))}})}return n})(),VE=(()=>{class n{constructor(e,r){this.router=e,this.localStorageService=r,this.menu="dashboard",this.year=(new Date).getFullYear(),this.version="0.4.0",this.isSection("")}onClickMenu(e){this.menu=e,this.router.navigate([e])}onClickSignOut(){this.localStorageService.clear(),this.router.navigate(["login"])}isSection(e){return window.location.hash.includes(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(bi),s.Y36(Rc))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-sidebar"]],decls:40,vars:6,consts:[["id","sidebar",1,"sidebar"],[1,"sidebar-inner","slimscroll"],["id","sidebar-menu",1,"sidebar-menu"],[1,"menu-title"],[1,"pointer",3,"ngClass"],[3,"click"],[1,"fa","fa-dashboard"],[1,"fa","fa-user-md"],[1,"fa","fa-users"],[1,"fa","fa-cog"],[1,"pointer",2,"background-color","yellow"],[1,"fa","fa-sign-out"],[1,"pointer","m-3",2,"font-size","xx-small"],["width","50","src","assets/images/akkodis.png","alt","akkodis",1,""],[2,"color","#000"],[2,"color","#F00"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul"),s._UZ(4,"li",3),s.TgZ(5,"li",4)(6,"a",5),s.NdJ("click",function(){return i.onClickMenu("dashboard")}),s._UZ(7,"i",6),s.TgZ(8,"span"),s._uU(9,"Projects"),s.qZA()()(),s.TgZ(10,"li",4)(11,"a",5),s.NdJ("click",function(){return i.onClickMenu("clients")}),s._UZ(12,"i",7),s.TgZ(13,"span"),s._uU(14,"Clients"),s.qZA()()(),s.TgZ(15,"li",4)(16,"a",5),s.NdJ("click",function(){return i.onClickMenu("users")}),s._UZ(17,"i",8),s.TgZ(18,"span"),s._uU(19,"Users"),s.qZA()()(),s.TgZ(20,"li",4)(21,"a",5),s.NdJ("click",function(){return i.onClickMenu("settings")}),s._UZ(22,"i",9),s.TgZ(23,"span"),s._uU(24,"Settings"),s.qZA()()(),s.TgZ(25,"li",10)(26,"a",5),s.NdJ("click",function(){return i.onClickSignOut()}),s._UZ(27,"i",11),s.TgZ(28,"span"),s._uU(29,"Sign out"),s.qZA()()(),s.TgZ(30,"li",12),s._UZ(31,"img",13),s.TgZ(32,"strong"),s._uU(33," \xa9 "),s.TgZ(34,"span",14),s._uU(35),s._UZ(36,"br"),s._uU(37,"Version : "),s.qZA()(),s.TgZ(38,"strong",15),s._uU(39),s.qZA()()()()()()),2&r&&(s.xp6(5),s.Q6J("ngClass",i.isSection("dashboard")||i.isSection("resources")?"active":""),s.xp6(5),s.Q6J("ngClass",i.isSection("clients")?"active":""),s.xp6(5),s.Q6J("ngClass",i.isSection("users")?"active":""),s.xp6(5),s.Q6J("ngClass",i.isSection("settings")?"active":""),s.xp6(15),s.hij(" ",i.year," "),s.xp6(4),s.Oqu(i.version))},dependencies:[wt]})}return n})(),e3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-auth"]],decls:6,vars:0,consts:[[1,"page-wrapper","sm-responsive"],[1,"content"]],template:function(r,i){1&r&&(s.TgZ(0,"div"),s._UZ(1,"app-header")(2,"app-sidebar"),s.TgZ(3,"div",0)(4,"div",1),s._UZ(5,"router-outlet"),s.qZA()()())},dependencies:[R0,UE,VE]})}return n})();const w1={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let np;const J4=new Uint8Array(16);function HE(){if(!np&&(np=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!np))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return np(J4)}const ls=[];for(let n=0;n<256;++n)ls.push((n+256).toString(16).slice(1));const sg=function X4(n,t,e){if(w1.randomUUID&&!t&&!n)return w1.randomUUID();const r=(n=n||{}).random||(n.rng||HE)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){e=e||0;for(let i=0;i<16;++i)t[e+i]=r[i];return t}return function $E(n,t=0){return ls[n[t+0]]+ls[n[t+1]]+ls[n[t+2]]+ls[n[t+3]]+"-"+ls[n[t+4]]+ls[n[t+5]]+"-"+ls[n[t+6]]+ls[n[t+7]]+"-"+ls[n[t+8]]+ls[n[t+9]]+"-"+ls[n[t+10]]+ls[n[t+11]]+ls[n[t+12]]+ls[n[t+13]]+ls[n[t+14]]+ls[n[t+15]]}(r)};let zE=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class _h{constructor(t,e,r){this.success=t,this.message=e,this.data=r}}class og{toEntities(t){return t.map(e=>this.toEntity(e))}fromEntities(t){return t.map(e=>this.fromEntity(e))}toResponse(t){return t?new _h(!0,"",this.fromEntity(t)):new _h(!1,"Not found",{})}toFirstResponse(t){return t&&t.length>0?new _h(!0,"",this.fromEntity(t[0])):new _h(!1,"Not found",{})}toResponses(t){return t&&t.length>0?new _h(!0,"",this.fromEntities(t)):new _h(!1,"Not found",[])}toEmptyResponse(){return new _h(!0,"",{})}}class eP extends og{toEntity(t){return{id:t.id,createdAt:t.createdAt,updatedAt:new Date,deleted:!1,title:t.title,duration:t.duration,description:t.description,margin:t.margin,client:t.client,riskProvision:t.riskProvision,numberResources:t.numberResources}}fromEntity(t){return{id:t.id,createdAt:t.createdAt,title:t.title,duration:t.duration,description:t.description,margin:t.margin,client:t.client,riskProvision:t.riskProvision,numberResources:t.numberResources}}fromRequest(t){return{updatedAt:new Date,deleted:!1,title:t.title,duration:t.duration,description:t.description,margin:t.margin,client:t.client,riskProvision:t.riskProvision}}}const Oc_resource_insurance="ANNUALLY AED 790",Oc_resource_flightTicket="ANNUALLY AED 2500",Oc_resource_workPermit="ANNUALLY AED 6500",Oc_resource_office="DAILY AED 19",Oc_resource_generalSupportPackage="DAILY AED 15",Oc_resource_laptopWorkstation="ANNUALLY AED 5000",Oc_resource_licenses="ANNUALLY AED 400",Oc_resource_mobilizationCost="ANNUALLY AED 3500",Oc_resource_parking="ANNUALLY AED 0",Oc_resource_transportation="ANNUALLY AED 0";class t3 extends og{toEntity(t){return{id:t.id,createdAt:t.createdAt,updatedAt:new Date,deleted:!1,jobTitle:t.jobTitle,resourceType:t.resourceType,workload:t.workload,quantity:t.quantity,project:t.project,basicSalary:t.basicSalary,allowance:t.allowance,gratuity:t.gratuity,insurance:t.insurance,flightTicket:t.flightTicket,workPermit:t.workPermit,office:t.office,generalSupportPackage:t.generalSupportPackage,laptopWorkstation:t.laptopWorkstation,licenses:t.licenses,mobilizationCost:t.mobilizationCost,parking:t.parking,transportation:t.transportation}}fromEntity(t){return{id:t.id,createdAt:t.createdAt,jobTitle:t.jobTitle,resourceType:t.resourceType,workload:t.workload,quantity:t.quantity,project:t.project,basicSalary:t.basicSalary,allowance:t.allowance,gratuity:t.gratuity,insurance:t.insurance,flightTicket:t.flightTicket,workPermit:t.workPermit,office:t.office,generalSupportPackage:t.generalSupportPackage,laptopWorkstation:t.laptopWorkstation,licenses:t.licenses,mobilizationCost:t.mobilizationCost,parking:t.parking,transportation:t.transportation}}fromRequest(t){return{updatedAt:new Date,deleted:!1,jobTitle:t.jobTitle,resourceType:t.resourceType,workload:t.workload,quantity:t.quantity,project:t.project,basicSalary:t.basicSalary,allowance:t.allowance,gratuity:t.gratuity,insurance:t.insurance??Oc_resource_insurance,flightTicket:t.flightTicket??Oc_resource_flightTicket,workPermit:t.workPermit??Oc_resource_workPermit,office:t.office??Oc_resource_office,generalSupportPackage:t.generalSupportPackage??Oc_resource_generalSupportPackage,laptopWorkstation:t.laptopWorkstation??Oc_resource_laptopWorkstation,licenses:t.licenses??Oc_resource_licenses,mobilizationCost:t.mobilizationCost??Oc_resource_mobilizationCost,parking:t.parking??Oc_resource_parking,transportation:t.transportation??Oc_resource_transportation}}}class rp{}let ag=(()=>{class n extends rp{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}();static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GE=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.create(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ag))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qE=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.delete(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ag))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZE=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.update(e.id,e.request)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ag))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),C1=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.fetch(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ag))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WE=(()=>{class n{constructor(e){this.repository=e}execute(){return this.repository.fetchAll()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(ag))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),a=(()=>{class n extends rp{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}();static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),l=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.fetchByProject(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(a))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),h=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.delete(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(a))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),x=(()=>{class n extends zE{constructor(e,r,i,o,c,w,M){super(),this.createProjectUseCase=e,this.deleteProjectUseCase=r,this.updateProjectUseCase=i,this.fetchProjectUseCase=o,this.fetchProjectsUseCase=c,this.fetchProjectResourcesUseCase=w,this.deleteResourceUseCase=M,this.mapper=new eP,this.resourceMapper=new t3}create(e){let r=this.mapper.fromRequest(e);return r.id=sg(),r.createdAt=new Date,this.createProjectUseCase.execute(r).pipe((0,me.U)(i=>this.mapper.toResponse(i)))}delete(e){return this.fetchProjectResourcesUseCase.execute(e).subscribe({next:r=>{r.forEach(i=>this.deleteResourceUseCase.execute(i.id))},error:r=>{},complete:()=>{}}),this.deleteProjectUseCase.execute(e),Pt(this.mapper.toEmptyResponse())}fetchAll(){return this.fetchProjectsUseCase.execute().pipe((0,me.U)(e=>this.mapper.toResponses(e)))}fetchOne(e){return this.fetchProjectUseCase.execute(e).pipe((0,me.U)(r=>this.mapper.toResponse(r)))}update(e,r){return this.updateProjectUseCase.execute({id:e,request:this.mapper.fromRequest(r)}),Pt(this.mapper.toEmptyResponse())}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(GE),s.LFG(qE),s.LFG(ZE),s.LFG(C1),s.LFG(WE),s.LFG(l),s.LFG(h))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),X=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.create(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(a))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),le=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.countByProject(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(a))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pe=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.update(e.id,e.request)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(a))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ve=(()=>{class n{constructor(e){this.repository=e}execute(){return this.repository.fetchAll()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(a))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),De=(()=>{class n extends j{constructor(e,r,i,o,c,w){super(),this.createResourceUseCase=e,this.fetchProjectResourcesUseCase=r,this.deleteResourceUseCase=i,this.countProjectResourcesUseCase=o,this.updateResourceUseCase=c,this.fetchResourcesUseCase=w,this.mapper=new t3}create(e){let r=this.mapper.fromRequest(e);return r.id=sg(),r.createdAt=new Date,this.createResourceUseCase.execute(r).pipe((0,me.U)(i=>this.mapper.toResponse(i)))}delete(e){return this.deleteResourceUseCase.execute(e),Pt(this.mapper.toEmptyResponse())}fetchAll(){return this.fetchResourcesUseCase.execute().pipe((0,me.U)(e=>this.mapper.toResponses(e)))}fetchByProject(e){return this.fetchProjectResourcesUseCase.execute(e).pipe((0,me.U)(r=>this.mapper.toResponses(r)))}fetchOne(e){return Pt()}update(e,r){return this.updateResourceUseCase.execute({id:e,request:this.mapper.fromRequest(r)}),Pt(this.mapper.toEmptyResponse())}countByProject(e){return this.countProjectResourcesUseCase.execute(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(X),s.LFG(l),s.LFG(h),s.LFG(le),s.LFG(pe),s.LFG(ve))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function je(n,t){if(1&n&&(s.TgZ(0,"b"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.projects.length)}}function Xe(n,t){1&n&&s._UZ(0,"option",52),2&n&&s.Q6J("value",t.$implicit.companyName)}function dt(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",53),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmit())}),s._uU(1," Save "),s.qZA()}}function It(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td",54),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickAddResources(o))}),s.TgZ(2,"h2"),s._uU(3),s.qZA()(),s.TgZ(4,"td",54),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickAddResources(o))}),s._uU(5),s.qZA(),s.TgZ(6,"td",54),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickAddResources(o))}),s._uU(7),s.qZA(),s.TgZ(8,"td",54),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickAddResources(o))}),s._uU(9),s.ALo(10,"async"),s.qZA(),s.TgZ(11,"td",54),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickAddResources(o))}),s._uU(12),s.qZA(),s.TgZ(13,"td"),s._UZ(14,"img",55),s.TgZ(15,"img",56),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickProjectDuplicate(o))}),s.qZA(),s.TgZ(16,"img",57),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickProjectToBeDeleted(o))}),s.qZA()()()}if(2&n){const e=t.$implicit,r=s.oxw();let i;s.xp6(3),s.Oqu(e.title),s.xp6(2),s.Oqu(null==(i=r.getClientById(e.client))?null:i.companyName),s.xp6(2),s.Oqu(e.duration),s.xp6(2),s.Oqu(s.lcZ(10,5,r.countResourcesByProject(e.id))),s.xp6(3),s.Oqu(e.description)}}function Gt(n,t){1&n&&(s.TgZ(0,"small",58),s._uU(1," Please enter the title of the project. "),s.qZA())}function nn(n,t){1&n&&s._UZ(0,"option",52),2&n&&s.Q6J("value",t.$implicit.companyName)}let wn=(()=>{class n{constructor(e,r,i,o,c,w){this.projectInteractor=e,this.clientInteractor=r,this.localStorageService=i,this.resourceInteractor=o,this.router=c,this.toastr=w,this.projects=[],this.clients=[],this.options=["aaa","bbb","eee"],this.projectForm=new Zi({title:new Ot("",[vr.required]),client:new Ot("",[vr.required]),description:new Ot(""),duration:new Ot("")})}ngOnInit(){this.fetchClients(),this.fetchProjects()}fetchClients(){this.clientInteractor.fetchAll().subscribe({next:e=>{e&&e.success&&(this.clients=e.data)},error:e=>{},complete:()=>{}})}fetchProjects(){this.projectInteractor.fetchAll().subscribe({next:e=>{e&&e.success&&(this.projects=e.data,this.countResources())},error:e=>{},complete:()=>{}})}countResourcesByProject(e){return this.resourceInteractor.countByProject(e)}countResources(){for(let e=0;e<this.projects.length;e++)this.resourceInteractor.fetchByProject(this.projects[e].id).subscribe({next:r=>{if(r&&r.success){let i=r.data;console.log(i);for(let o=0;o<i?.length;o++)i&&(this.projects[e].numberResources+=i[o].quantity??0)}console.log(this.projects)}})}count(e){let r=0;return e.forEach(i=>{r+=i.quantity??1}),r}getClientById(e){return this.clients.find(r=>r.id===e)}onSubmit(){if(this.projectForm.valid){let e={title:this.projectForm.value.title,duration:this.projectForm.value.duration,description:this.projectForm.value.description,client:this.projectForm.value.client,margin:18,riskProvision:0},r=this.getClientById(e.client);r?(e.client=r.id,this.saveProject(e)):this.saveClient({companyName:e.client,email:"",address:"",phoneNumber:"",logo:""},e)}else this.toastr.error("Some inputs are incorrect","Save project")}saveProject(e){this.projectInteractor.create(e).subscribe({next:r=>{this.toastr.success("project successfully saved","Save project"),this.projectForm.reset(),this.fetchProjects()},error:r=>{this.toastr.error("Error occurred while saving the project","Save project")},complete:()=>{}})}saveClient(e,r){this.clientInteractor.create(e).subscribe({next:i=>{r.client=i.data?.id,this.saveProject(r)},error:i=>{this.toastr.error("Error occurred while saving the client","Save client")},complete:()=>{}})}onClickProject(e){this.projectForm.setValue({title:e.title,duration:e.duration,description:e.description,client:e.client})}onClickAddResources(e){this.localStorageService.add("project",e),this.router.navigate(["/resources"])}onClickProjectToBeDeleted(e){this.localStorageService.add("project",e)}onClickDismiss(){this.localStorageService.delete("project")}onClickDeleteProjectAndResources(){let e=this.localStorageService.get("project");e&&e.id?this.resourceInteractor.fetchByProject(e.id).subscribe({next:r=>{r.data?.forEach(i=>this.resourceInteractor.delete(i.id)),this.deleteProject(e.id)},error:r=>{},complete:()=>{}}):(this.localStorageService.delete("project"),this.toastr.error("Project not found","Delete project"))}deleteProject(e){this.projectInteractor.delete(e).subscribe({next:r=>{this.localStorageService.delete("project"),this.toastr.success("Project deleted successfully","Delete project"),this.fetchProjects()},error:r=>{this.localStorageService.delete("project"),this.toastr.error("Error occurred while deleting the project","Delete project")},complete:()=>{}})}fetchResources(e){this.resourceInteractor.fetchByProject(e).subscribe({next:r=>{},error:r=>{},complete:()=>{}})}onClickProjectDuplicate(e){this.projectInteractor.create({title:e.title+"_duplicated",duration:e.duration,description:e.description,client:e.client,margin:e.margin,riskProvision:e.riskProvision}).subscribe({next:i=>{this.resourceInteractor.fetchByProject(e.id).subscribe({next:o=>{o.data?.forEach(c=>{this.resourceInteractor.create({jobTitle:c.jobTitle,resourceType:c.resourceType,workload:c.workload,project:i.data?.id,basicSalary:c.basicSalary,allowance:c.allowance,gratuity:c.gratuity,insurance:c.insurance,flightTicket:c.flightTicket,workPermit:c.workPermit,office:c.office,generalSupportPackage:c.generalSupportPackage,laptopWorkstation:c.laptopWorkstation,licenses:c.licenses})}),this.toastr.success("project successfully duplicated","Duplicate project")},error:o=>{this.toastr.error("Error occurred while duplicating the project","Duplicate client")},complete:()=>{}})},error:i=>{this.toastr.error("Error occurred while duplicating the project","Duplicate client")},complete:()=>{}})}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(x),s.Y36(O),s.Y36(Rc),s.Y36(De),s.Y36(bi),s.Y36(Za))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],decls:120,vars:12,consts:[[1,"row"],[1,"col-12","col-md-12","col-lg-12","col-xl-12"],[1,"card"],[1,"card-header"],[1,"col"],[1,"card-title","d-inline-block"],[4,"ngIf"],[1,"card-block","m-1"],[1,"table-responsive"],[1,"table","mb-0","new-patient-table","table-hover"],[2,"color","red"],[1,"text-right"],["novalidate","",1,"form-signin",3,"formGroup","ngSubmit"],["type","text","formControlName","title","placeholder","Title of the project","id","title"],["autocomplete","off","autofocus","","formControlName","client","placeholder","Select client","list","options"],["id","options"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","duration","placeholder","Duration","id","duration"],["type","text","formControlName","description","placeholder","Description","id","description"],["type","button","class","btn btn-outline-success btn-sm",3,"click",4,"ngIf"],[1,"m-3"],[4,"ngFor","ngForOf"],["id","addProjectModal","tabindex","-1","aria-labelledby","addProjectModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","addProjectModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","row"],[1,"col-12"],[1,"form-group"],["for","projectTitle"],["type","text","formControlName","title","placeholder","Title","id","projectTitle",1,"form-control"],["class","form-text text-muted text-danger",4,"ngIf"],[1,"col-9"],["for","projectClient"],["autocomplete","off","autofocus","","id","projectClient","formControlName","client","placeholder","Select client","list","listClients",1,"form-control"],["id","listClients"],[1,"col-3"],["for","projectDuration"],["type","number","formControlName","duration","placeholder","Duration","id","projectDuration",1,"form-control"],["for","projectDescription"],["id","projectDescription","name","w3review","formControlName","description","rows","4","placeholder","description of the project",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","projectDeleteModal","tabindex","-1","aria-labelledby","projectDeleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","projectDeleteModalLabel",1,"modal-title"],[1,"modal-body"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"value"],["type","button",1,"btn","btn-outline-success","btn-sm",3,"click"],[3,"click"],["src","assets/images/pencil.png","alt","edit","data-bs-toggle","tooltip","data-bs-placement","top","title","edit",1,"aspect-square","action"],["src","assets/images/duplicate.png","alt","duplicate","data-bs-toggle","tooltip","data-bs-placement","top","title","duplicate",1,"aspect-square","action",3,"click"],["src","assets/images/delete.png","data-bs-target","#projectDeleteModal","alt","delete","data-bs-toggle","modal","data-bs-placement","top","title","delete",1,"aspect-square","action",3,"click"],[1,"form-text","text-muted","text-danger"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",4)(6,"h4",5),s.YNc(7,je,2,1,"b",6),s._uU(8," Projects "),s.qZA()()()(),s.TgZ(9,"div",7)(10,"div",8)(11,"table",9)(12,"thead")(13,"tr")(14,"th"),s._uU(15,"Title"),s.TgZ(16,"span",10),s._uU(17,"*"),s.qZA()(),s.TgZ(18,"th"),s._uU(19,"Client"),s.TgZ(20,"span",10),s._uU(21,"*"),s.qZA()(),s.TgZ(22,"th"),s._uU(23,"Duration (months)"),s.qZA(),s.TgZ(24,"th"),s._uU(25,"Description"),s.qZA(),s._UZ(26,"th",11),s.qZA()(),s.TgZ(27,"tbody")(28,"tr")(29,"td")(30,"form",12),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(31,"input",13),s.qZA()(),s.TgZ(32,"td")(33,"form",12),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(34,"input",14),s.TgZ(35,"datalist",15),s.YNc(36,Xe,1,1,"option",16),s.qZA()()(),s.TgZ(37,"td")(38,"form",12),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(39,"input",17),s.qZA()(),s.TgZ(40,"td")(41,"form",12),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(42,"input",18),s.qZA()(),s.TgZ(43,"td"),s.YNc(44,dt,2,0,"button",19),s.qZA()()()()(),s._UZ(45,"div",20),s.TgZ(46,"div",8)(47,"table",9)(48,"thead")(49,"tr")(50,"th"),s._uU(51,"Title"),s.qZA(),s.TgZ(52,"th"),s._uU(53,"Client"),s.qZA(),s.TgZ(54,"th"),s._uU(55,"Duration (months)"),s.qZA(),s.TgZ(56,"th"),s._uU(57,"Number of resources"),s.qZA(),s.TgZ(58,"th"),s._uU(59,"Description"),s.qZA(),s._UZ(60,"th",11),s.qZA()(),s.TgZ(61,"tbody"),s.YNc(62,It,17,7,"tr",21),s.qZA()()()()()()(),s.TgZ(63,"div",22)(64,"div",23)(65,"div",24)(66,"div",25)(67,"h1",26),s._uU(68,"Add new project"),s.qZA(),s._UZ(69,"button",27),s.qZA(),s.TgZ(70,"form",12),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(71,"div",28)(72,"div",29)(73,"div",30)(74,"label",31),s._uU(75,"Title"),s.TgZ(76,"span",10),s._uU(77,"*"),s.qZA()(),s._UZ(78,"input",32),s.YNc(79,Gt,2,0,"small",33),s.qZA()(),s.TgZ(80,"div",34)(81,"div",30)(82,"label",35),s._uU(83,"Client"),s.TgZ(84,"span",10),s._uU(85,"*"),s.qZA()(),s._UZ(86,"br")(87,"input",36),s.TgZ(88,"datalist",37),s.YNc(89,nn,1,1,"option",16),s.qZA()()(),s.TgZ(90,"div",38)(91,"div",30)(92,"label",39),s._uU(93,"Duration (months)"),s.qZA(),s._UZ(94,"input",40),s.qZA()(),s.TgZ(95,"div",29)(96,"label",41),s._uU(97,"Description"),s.qZA(),s.TgZ(98,"textarea",42),s._uU(99,"                        "),s.qZA()()()(),s.TgZ(100,"div",43)(101,"button",44),s._uU(102,"Close"),s.qZA(),s.TgZ(103,"button",45),s.NdJ("click",function(){return i.onSubmit()}),s._uU(104,"Save "),s.qZA()()()()(),s.TgZ(105,"div",46)(106,"div",47)(107,"div",24)(108,"div",25)(109,"h5",48),s._uU(110,"Delete project"),s.qZA(),s._UZ(111,"button",27),s.qZA(),s.TgZ(112,"div",49)(113,"b"),s._uU(114,"Do you really want to delete this project?"),s.qZA()(),s.TgZ(115,"div",43)(116,"button",50),s.NdJ("click",function(){return i.onClickDismiss()}),s._uU(117,"Close "),s.qZA(),s.TgZ(118,"button",51),s.NdJ("click",function(){return i.onClickDeleteProjectAndResources()}),s._uU(119," Confirm "),s.qZA()()()()()),2&r&&(s.xp6(7),s.Q6J("ngIf",i.projects),s.xp6(23),s.Q6J("formGroup",i.projectForm),s.xp6(3),s.Q6J("formGroup",i.projectForm),s.xp6(3),s.Q6J("ngForOf",i.clients),s.xp6(2),s.Q6J("formGroup",i.projectForm),s.xp6(3),s.Q6J("formGroup",i.projectForm),s.xp6(3),s.Q6J("ngIf",i.projectForm.valid),s.xp6(18),s.Q6J("ngForOf",i.projects),s.xp6(8),s.Q6J("formGroup",i.projectForm),s.xp6(9),s.Q6J("ngIf",i.projectForm.controls.title.touched&&(null==i.projectForm.controls.title.errors?null:i.projectForm.controls.title.errors.required)),s.xp6(10),s.Q6J("ngForOf",i.clients),s.xp6(14),s.Q6J("disabled",!i.projectForm.valid))},dependencies:[hn,er,Ac,O_,Jm,Dc,Km,zu,ch,kc,Gu,$r],styles:["tr[_ngcontent-%COMP%]{cursor:pointer}tr[_ngcontent-%COMP%]   img.action[_ngcontent-%COMP%]{display:none}tr[_ngcontent-%COMP%]:hover   img.action[_ngcontent-%COMP%]{display:inline-block}"]})}return n})(),Un=(()=>{class n{constructor(e,r,i){this.router=e,this.localStorageService=r,this.toastr=i}canActivate(e){let r=this.localStorageService.getLoggedAccount();return!(!r||!r.id)||(this.toastr.error("Account not found. Please log in again","Account"),this.router.navigate([""]),!1)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(bi),s.LFG(Rc),s.LFG(Za))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Lt=Re(1144);const Xn=["addListener","removeListener"],Xr=["addEventListener","removeEventListener"],Ri=["on","off"];function ho(n,t,e,r){if((0,ao.m)(e)&&(r=e,e=void 0),r)return ho(n,t,e).pipe(nt(r));const[i,o]=function XU(n){return(0,ao.m)(n.addEventListener)&&(0,ao.m)(n.removeEventListener)}(n)?Xr.map(c=>w=>n[c](t,w,e)):function JU(n){return(0,ao.m)(n.addListener)&&(0,ao.m)(n.removeListener)}(n)?Xn.map(tP(n,t)):function QU(n){return(0,ao.m)(n.on)&&(0,ao.m)(n.off)}(n)?Ri.map(tP(n,t)):[];if(!i&&(0,Lt.z)(n))return(0,Qr.z)(c=>ho(c,t,e))((0,es.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Ir.y(c=>{const w=(...M)=>c.next(1<M.length?M:M[0]);return i(w),()=>o(w)})}function tP(n,t){return e=>r=>n[e](t,r)}const{isArray:eV}=Array;function nP(n){return 1===n.length&&eV(n[0])?n[0]:n}function KE(...n){const t=(0,mi.jO)(n),e=nP(n);return e.length?new Ir.y(r=>{let i=e.map(()=>[]),o=e.map(()=>!1);r.add(()=>{i=o=null});for(let c=0;!r.closed&&c<e.length;c++)(0,es.Xf)(e[c]).subscribe((0,Ct.x)(r,w=>{if(i[c].push(w),i.every(M=>M.length)){const M=i.map(H=>H.shift());r.next(t?t(...M):M),i.some((H,te)=>!H.length&&o[te])&&r.complete()}},()=>{o[c]=!0,!i[c].length&&r.complete()}));return()=>{i=o=null}}):si.E}function YE(...n){const t=(0,mi.jO)(n);return(0,Rr.e)((e,r)=>{const i=n.length,o=new Array(i);let c=n.map(()=>!1),w=!1;for(let M=0;M<i;M++)(0,es.Xf)(n[M]).subscribe((0,Ct.x)(r,H=>{o[M]=H,!w&&!c[M]&&(c[M]=!0,(w=c.every(ge.y))&&(c=null))},rg.Z));e.subscribe((0,Ct.x)(r,M=>{if(w){const H=[M,...o];r.next(t?t(...H):H)}}))})}new Ir.y(rg.Z),Math,Math,Math;const gH=["*"],OH=["dialog"];function p3(n){return"string"==typeof n}function ug(n){return null!=n}function ry(n){return(n||document.body).getBoundingClientRect()}const TP={animation:!0,transitionTimerDelayMs:5},I$=()=>{},{transitionTimerDelayMs:A$}=TP,A1=new Map,Ro=(n,t,e,r)=>{let i=r.context||{};const o=A1.get(t);if(o)switch(r.runningTransition){case"continue":return si.E;case"stop":n.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),A1.delete(t)}const c=e(t,r.animation,i)||I$;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>c()),Pt(void 0).pipe(function x$(n){return t=>new Ir.y(e=>t.subscribe({next:c=>n.run(()=>e.next(c)),error:c=>n.run(()=>e.error(c)),complete:()=>n.run(()=>e.complete())}))}(n));const w=new br.x,M=new br.x,H=w.pipe(function nV(...n){return t=>_i(t,Pt(...n))}(!0));A1.set(t,{transition$:w,complete:()=>{M.next(),M.complete()},context:i});const te=function D$(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const de=ho(t,"transitionend").pipe(os(H),Ai(({target:Ce})=>Ce===t));(function rP(...n){return 1===(n=nP(n)).length?(0,es.Xf)(n[0]):new Ir.y(function tV(n){return t=>{let e=[];for(let r=0;e&&!t.closed&&r<n.length;r++)e.push((0,es.Xf)(n[r]).subscribe((0,Ct.x)(t,i=>{if(e){for(let o=0;o<e.length;o++)o!==r&&e[o].unsubscribe();e=null}t.next(i)})))}}(n))})(ng(te+A$).pipe(os(H)),de,M).pipe(os(H)).subscribe(()=>{A1.delete(t),n.run(()=>{c(),w.next(),w.complete()})})}),w.asObservable()};let nS=(()=>{class n{constructor(){this.animation=TP.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})(),AP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})(),MP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})(),RP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var Is=(()=>{return(n=Is||(Is={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Is;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const PP=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function FP(n){const t=Array.from(n.querySelectorAll(PP)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let zP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i,XT]}),n})(),WP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class pg{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}let yz=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(ts(1)).subscribe(()=>{Ro(this._zone,this._el.nativeElement,(e,r)=>{r&&ry(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ro(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,r){2&e&&(s.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),s.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class KP{close(t){}dismiss(t){}}class bz{constructor(t,e,r,i){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new br.x,this._dismissed=new br.x,this._hidden=new br.x,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,c)=>{this._resolve=o,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(os(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(os(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function CP(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(r=>{!1!==r&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Pt(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),KE(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Bc=(()=>{return(n=Bc||(Bc={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Bc;var n})();let vz=(()=>{class n{constructor(e,r,i){this._document=e,this._elRef=r,this._zone=i,this._closed$=new br.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new br.x,this.hidden=new br.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":p3(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ts(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=KE(Ro(this._zone,e,()=>e.classList.remove("show"),r),Ro(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const e={animation:this.animation,runningTransition:"continue"};KE(Ro(this._zone,this._elRef.nativeElement,(o,c)=>{c&&ry(o),o.classList.add("show")},e),Ro(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ho(e,"keydown").pipe(os(this._closed$),Ai(i=>i.which===Is.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Bc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;ho(this._dialogEl.nativeElement,"mousedown").pipe(os(this._closed$),(0,ns.b)(()=>r=!1),Vr(()=>ho(e,"mouseup").pipe(os(this._closed$),ts(1))),Ai(({target:i})=>e===i)).subscribe(()=>{r=!0}),ho(e,"click").pipe(os(this._closed$)).subscribe(({target:i})=>{e===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Bc.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),i=FP(e)[0];(r||i||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ro(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(z),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&s.Gf(OH,7),2&e){let i;s.iGM(i=s.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(s.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),s.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),s.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:gH,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&e&&s.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),wz=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:c}=i;if(e>0){const w=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${w+e}px`}return i.overflow="hidden",()=>{e>0&&(i.paddingRight=c),i.overflow=o}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cz=(()=>{class n{constructor(e,r,i,o,c,w){this._applicationRef=e,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=c,this._ngZone=w,this._activeWindowCmptHasChanged=new br.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const M=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=ho(t,"focusin").pipe(os(e),(0,me.U)(o=>o.target));ho(t,"keydown").pipe(os(e),Ai(o=>o.which===Is.Tab),YE(i)).subscribe(([o,c])=>{const[w,M]=FP(t);(c===w||c===t)&&o.shiftKey&&(M.focus(),o.preventDefault()),c===M&&!o.shiftKey&&(w.focus(),o.preventDefault())}),r&&ho(t,"click").pipe(os(e),YE(i),(0,me.U)(o=>o[1])).subscribe(o=>o.focus())})})(0,M.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(M.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,i){const o=i.container instanceof HTMLElement?i.container:ug(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const w=new KP,M=this._getContentRef(i.injector||e,r,w,i);let H=!1!==i.backdrop?this._attachBackdrop(o):void 0,te=this._attachWindowComponent(o,M.nodes),de=new bz(te,M,H,i.beforeDismiss);return this._registerModalRef(de),this._registerWindowCmpt(te),de.hidden.pipe(ts(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),w.close=ye=>{de.close(ye)},w.dismiss=ye=>{de.dismiss(ye)},this._applyWindowOptions(te.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),H&&H.instance&&(this._applyBackdropOptions(H.instance,i),H.changeDetectorRef.detectChanges()),te.changeDetectorRef.detectChanges(),de}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let r=(0,s.LMc)(yz,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_attachWindowComponent(e,r){let i=(0,s.LMc)(vz,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_applyWindowOptions(e,r){this._windowAttributes.forEach(i=>{ug(r[i])&&(e[i]=r[i])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(i=>{ug(r[i])&&(e[i]=r[i])})}_getContentRef(e,r,i,o){return r?r instanceof s.Rgc?this._createFromTemplateRef(r,i):p3(r)?this._createFromString(r):this._createFromComponent(e,r,i,o):new pg([])}_createFromTemplateRef(e,r){const o=e.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(o),new pg([o.rootNodes],o)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new pg([[r]])}_createFromComponent(e,r,i,o){const c=s.zs3.create({providers:[{provide:KP,useValue:i}],parent:e}),w=(0,s.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:c}),M=w.location.nativeElement;return o.scrollable&&M.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new pg([[M]],w.hostView,w)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==e&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const i=this._modalRefs.indexOf(e);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(z),s.LFG(wz),s.LFG(s.FYo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tz=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nS))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uS=(()=>{class n{constructor(e,r,i){this._injector=e,this._modalStack=r,this._config=i}open(e,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,e,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(Cz),s.LFG(Tz))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[uS]}),n})(),e5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})(),l5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})(),u5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})(),d5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})(),h5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})(),f5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})(),p5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})(),m5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();new s.OlP("live announcer delay",{providedIn:"root",factory:function Fz(){return 100}});let g5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$i]}),n})(),_5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Lz=[y3,AP,MP,RP,zP,WP,YP,e5,_5,l5,u5,d5,h5,f5,p5,m5,g5];let Bz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Lz,y3,AP,MP,RP,zP,WP,YP,e5,_5,l5,u5,d5,h5,f5,p5,m5,g5]}),n})();function jz(n,t){if(1&n&&(s.TgZ(0,"b"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.clients.length)}}function Uz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmit())}),s._uU(1," Save "),s.qZA()}}function Vz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(),w=s.MAs(73);return s.KtG(c.openEditClientModal(o,w))}),s.TgZ(2,"div",0)(3,"div",32),s._UZ(4,"img",33),s.qZA(),s.TgZ(5,"div",4)(6,"h2"),s._uU(7),s.qZA()()()(),s.TgZ(8,"td",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(),w=s.MAs(73);return s.KtG(c.openEditClientModal(o,w))}),s._uU(9),s.qZA(),s.TgZ(10,"td",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(),w=s.MAs(73);return s.KtG(c.openEditClientModal(o,w))}),s._uU(11),s.qZA(),s.TgZ(12,"td",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(),w=s.MAs(73);return s.KtG(c.openEditClientModal(o,w))}),s._uU(13),s.qZA(),s.TgZ(14,"td")(15,"img",34),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickClientToBeDeleted(o))}),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(7),s.Oqu(e.companyName),s.xp6(2),s.Oqu(e.email),s.xp6(2),s.Oqu(e.phoneNumber),s.xp6(2),s.Oqu(e.address)}}function Hz(n,t){1&n&&(s.TgZ(0,"small",50),s._uU(1," Please enter company name.! "),s.qZA())}function $z(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",22)(1,"h4",35),s._uU(2,"Edit client"),s.qZA(),s.TgZ(3,"button",36),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.KtG(o.dismiss("Cross click"))}),s.qZA()(),s.TgZ(4,"div",25)(5,"form",11),s.NdJ("ngSubmit",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmit())}),s.TgZ(6,"div",0)(7,"div",4)(8,"div",37)(9,"label",38),s._uU(10,"Company name"),s.TgZ(11,"span",10),s._uU(12,"*"),s.qZA()(),s._UZ(13,"input",39),s.YNc(14,Hz,2,0,"small",40),s.qZA(),s.TgZ(15,"div"),s._UZ(16,"img",41),s.qZA()(),s.TgZ(17,"div",4)(18,"div",37)(19,"label",42),s._uU(20,"Email"),s.qZA(),s._UZ(21,"input",43),s.qZA(),s.TgZ(22,"div",37)(23,"label",44),s._uU(24,"Phone number"),s.qZA(),s._UZ(25,"input",45),s.qZA(),s.TgZ(26,"div",37)(27,"label",46),s._uU(28,"Address"),s.qZA(),s._UZ(29,"input",47),s.qZA()()()()(),s.TgZ(30,"div",26)(31,"button",48),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onClickEditClientModalClose())}),s._uU(32,"Close"),s.qZA(),s.TgZ(33,"button",49),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmit())}),s._uU(34,"Save "),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.clientForm),s.xp6(9),s.Q6J("ngIf",e.clientForm.controls.companyName.touched&&(null==e.clientForm.controls.companyName.errors?null:e.clientForm.controls.companyName.errors.required)),s.xp6(19),s.Q6J("disabled",!e.clientForm.valid)}}let zz=(()=>{class n{constructor(e,r,i,o,c){this.clientInteractor=e,this.router=r,this.toastr=i,this.modalService=o,this.localStorageService=c,this.clients=[],this.closeResult="",this.clientForm=new Zi({companyName:new Ot("",[vr.required]),email:new Ot(""),address:new Ot(""),phoneNumber:new Ot("")})}ngOnInit(){this.fetchClients()}fetchClients(){this.clientInteractor.fetchAll().subscribe({next:e=>{e&&e.success&&(this.clients=e.data)},error:e=>{},complete:()=>{}})}onSubmit(){if(this.clientForm.valid){let e={companyName:this.clientForm.value.companyName,email:this.clientForm.value.email,address:this.clientForm.value.address,phoneNumber:this.clientForm.value.phoneNumber,logo:""};this.selectedClient&&this.selectedClient.id?this.clientInteractor.update(this.selectedClient.id,e).subscribe({next:r=>{this.selectedClient=void 0,this.clientForm.reset(),this.editClientModalReference.dismiss(),this.toastr.success("client successfully updated","Update client"),this.fetchClients()},error:r=>{this.toastr.error("Error occurred while updating the client","Update client")},complete:()=>{}}):this.clientInteractor.create(e).subscribe({next:r=>{this.clientForm.reset(),this.editClientModalReference.dismiss(),this.toastr.success("client successfully saved","Add client"),this.fetchClients()},error:r=>{this.toastr.error("Error occurred while saving the client","Add client")},complete:()=>{}})}else this.toastr.error("Some inputs are incorrect","Edit client")}onClickDeleteClient(){let e=this.localStorageService.get("client");e&&e.id?this.clientInteractor.delete(e.id).subscribe({next:r=>{this.localStorageService.delete("client"),this.toastr.success("Client deleted successfully","Delete client")},error:r=>{this.localStorageService.delete("client"),this.toastr.error("Error occurred while deleting the client","Delete client")},complete:()=>{}}):(this.localStorageService.delete("client"),this.toastr.error("Client not found","Delete client"))}onClickClientToBeDeleted(e){this.localStorageService.add("client",e)}onClickDismiss(){this.localStorageService.delete("client")}openEditClientModal(e,r){this.selectedClient=e,this.clientForm=new Zi({companyName:new Ot(e.companyName,[vr.required]),email:new Ot(e.email),phoneNumber:new Ot(e.phoneNumber),address:new Ot(e.address),logo:new Ot(e.logo)}),this.open(r)}open(e){this.editClientModalReference=this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"}),this.editClientModalReference.result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(e){switch(e){case Bc.ESC:return"by pressing ESC";case Bc.BACKDROP_CLICK:return"by clicking on a backdrop";default:return`with: ${e}`}}onClickEditClientModalClose(){this.clientForm.reset(),this.editClientModalReference.dismiss()}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(O),s.Y36(bi),s.Y36(Za),s.Y36(uS),s.Y36(Rc))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-clients"]],decls:74,vars:7,consts:[[1,"row"],[1,"col-12","col-md-12","col-lg-12","col-xl-12"],[1,"card"],[1,"card-header"],[1,"col"],[1,"card-title","d-inline-block"],[4,"ngIf"],[1,"card-block","m-1"],[1,"table-responsive"],[1,"table","mb-0","new-patient-table","table-hover"],[2,"color","red"],["novalidate","",1,"form-signin",3,"formGroup","ngSubmit"],["type","text","formControlName","companyName","placeholder","Company name","id","companyName"],["type","text","formControlName","email","placeholder","Email","id","email"],["type","tel","formControlName","phoneNumber","placeholder","Phone number","id","phoneNumber"],["type","text","formControlName","address","placeholder","Location","id","address"],["type","button","class","btn btn-outline-success btn-sm",3,"click",4,"ngIf"],[1,"m-3"],[4,"ngFor","ngForOf"],["id","clientDeleteModal","tabindex","-1","aria-labelledby","clientDeleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","clientDeleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["editClientModal",""],["type","button",1,"btn","btn-outline-success","btn-sm",3,"click"],[3,"click"],[1,"col-5","col-sm-5","col-md-4","col-lg-3","col-xl-3"],["width","28","height","28","src","assets/images/user.jpg","alt","",1,"aspect-square"],["src","assets/images/delete.png","data-bs-target","#clientDeleteModal","alt","delete","data-bs-toggle","modal","data-bs-placement","top","title","delete",1,"aspect-square","action",3,"click"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"form-group"],["for","clientCompanyName"],["type","companyName","formControlName","companyName","placeholder","Company name","id","clientCompanyName",1,"form-control"],["class","form-text text-muted text-danger",4,"ngIf"],["src","assets/images/user.jpg"],["for","clientEmail"],["type","email","formControlName","email","placeholder","Email","id","clientEmail",1,"form-control"],["for","clientPhoneNumber"],["type","tel","formControlName","phoneNumber","placeholder","Phone number","id","clientPhoneNumber",1,"form-control"],["for","clientAddress"],["type","tel","formControlName","address","placeholder","Address","id","clientAddress",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"form-text","text-muted","text-danger"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",4)(6,"h4",5),s.YNc(7,jz,2,1,"b",6),s._uU(8," Clients "),s.qZA()()()(),s.TgZ(9,"div",7)(10,"div",8)(11,"table",9)(12,"thead")(13,"tr")(14,"th"),s._uU(15,"Company name"),s.TgZ(16,"span",10),s._uU(17,"*"),s.qZA()(),s.TgZ(18,"th"),s._uU(19,"Email"),s.qZA(),s.TgZ(20,"th"),s._uU(21,"Phone number"),s.qZA(),s.TgZ(22,"th"),s._uU(23,"Location"),s.qZA(),s._UZ(24,"th"),s.qZA()(),s.TgZ(25,"tbody")(26,"tr")(27,"td")(28,"form",11),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(29,"input",12),s.qZA()(),s.TgZ(30,"td")(31,"form",11),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(32,"input",13),s.qZA()(),s.TgZ(33,"td")(34,"form",11),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(35,"input",14),s.qZA()(),s.TgZ(36,"td")(37,"form",11),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(38,"input",15),s.qZA()(),s.TgZ(39,"td"),s.YNc(40,Uz,2,0,"button",16),s.qZA()()()()(),s._UZ(41,"div",17),s.TgZ(42,"div",8)(43,"table",9)(44,"thead")(45,"tr")(46,"th"),s._uU(47,"Company name"),s.qZA(),s.TgZ(48,"th"),s._uU(49,"Email"),s.qZA(),s.TgZ(50,"th"),s._uU(51,"Phone number"),s.qZA(),s.TgZ(52,"th"),s._uU(53,"Location"),s.qZA(),s._UZ(54,"th"),s.qZA()(),s.TgZ(55,"tbody"),s.YNc(56,Vz,16,4,"tr",18),s.qZA()()()()()()(),s.TgZ(57,"div",19)(58,"div",20)(59,"div",21)(60,"div",22)(61,"h5",23),s._uU(62,"Delete client"),s.qZA(),s._UZ(63,"button",24),s.qZA(),s.TgZ(64,"div",25)(65,"b"),s._uU(66,"Do you really want to delete this client?"),s.qZA()(),s.TgZ(67,"div",26)(68,"button",27),s.NdJ("click",function(){return i.onClickDismiss()}),s._uU(69,"Close "),s.qZA(),s.TgZ(70,"button",28),s.NdJ("click",function(){return i.onClickDeleteClient()}),s._uU(71," Confirm "),s.qZA()()()()(),s.YNc(72,$z,35,3,"ng-template",null,29,s.W1O)),2&r&&(s.xp6(7),s.Q6J("ngIf",i.clients),s.xp6(21),s.Q6J("formGroup",i.clientForm),s.xp6(3),s.Q6J("formGroup",i.clientForm),s.xp6(3),s.Q6J("formGroup",i.clientForm),s.xp6(3),s.Q6J("formGroup",i.clientForm),s.xp6(3),s.Q6J("ngIf",i.clientForm.valid),s.xp6(16),s.Q6J("ngForOf",i.clients))},dependencies:[hn,er,Ac,Dc,zu,ch,kc,Gu],styles:["tr[_ngcontent-%COMP%]{cursor:pointer}tr[_ngcontent-%COMP%]   img.action[_ngcontent-%COMP%]{display:none}tr[_ngcontent-%COMP%]:hover   img.action[_ngcontent-%COMP%]{display:inline-block}"]})}return n})();var fa=(()=>{return(n=fa||(fa={})).AED="AED",n.USD="USD",n.EUR="EUR",n.BHD="BHD",n.KWD="KWD",n.QAR="QAR",n.SAR="SAR",fa;var n})(),ci=(()=>{return(n=ci||(ci={})).Annually="ANNUALLY",n.Monthly="MONTHLY",n.Weekly="WEEKLY",n.Daily="DAILY",n.Hourly="HOURLY",ci;var n})();class fn{static convertToAnnualAmount(t,e){switch(e){case ci.Annually:break;case ci.Monthly:t/=12;break;case ci.Weekly:t/=52;break;case ci.Daily:t/=228;break;case ci.Hourly:t/=2496}return t}static splitAmount(t){return t.split(" ")}static getAmountPeriod(t){return t?fn.splitAmount(t)[0]:ci.Annually}static getAmount(t){return t?fn.splitAmount(t)[2]:""}static getAmountCurrency(t){return t?fn.splitAmount(t)[1]:fa.AED}static calculateAttributeAnnualCost(t,e){let r=0,i=fn.splitAmount(t);switch(i[0]){case ci.Annually:r=+i[2];break;case ci.Monthly:r=12*+i[2];break;case ci.Weekly:r=52*+i[2];break;case ci.Daily:r=+i[2]*e;break;case ci.Hourly:r=52*+i[2]*48}return r}static calculateTotalAnnualCost(t,e){let r=this.calculateBillableWorkingDays(e),i=0;return t.forEach(o=>{i+=fn.calculateAttributeAnnualCost(o.basicSalary,r),i+=fn.calculateAttributeAnnualCost(o.allowance,r),i+=fn.calculateAttributeAnnualCost(o.gratuity,r),i+=fn.calculateAttributeAnnualCost(o.insurance,r),i+=fn.calculateAttributeAnnualCost(o.flightTicket,r),i+=fn.calculateAttributeAnnualCost(o.workPermit,r),i+=fn.calculateAttributeAnnualCost(o.office,r),i+=fn.calculateAttributeAnnualCost(o.generalSupportPackage,r),i+=fn.calculateAttributeAnnualCost(o.laptopWorkstation,r),i+=fn.calculateAttributeAnnualCost(o.licenses,r),i+=fn.calculateAttributeAnnualCost(o.mobilizationCost,r),i+=fn.calculateAttributeAnnualCost(o.parking,r),i+=fn.calculateAttributeAnnualCost(o.transportation,r),i*=o.workload?o.workload:1}),i}static convertAmountToCurrency(t,e,r){let i=this.getCurrencyRate(e,r);return i?t*i:void 0}static convertAmountFromCurrencyToCurrency(t,e,r,i){let o=this.getRateFromGivenCurrencies(e,r,i);return o?t*o:void 0}static getRateFromGivenCurrencies(t,e,r){let i;return t==e?1:(r.forEach(o=>{o.currency1==t&&o.currency2==e&&(i=o.rate)}),i)}static getCurrencyRate(t,e){let r;return t==fa.AED?1:(e.forEach(i=>{i.currency1==fa.AED&&i.currency2==t?r=i.rate:i.currency1==t&&i.currency2==fa.AED&&(r=1/i.rate)}),r)}static getFirstLetterOfPeriod(t){switch(t){case ci.Annually:return"Y";case ci.Monthly:return"M";case ci.Weekly:return"W";case ci.Daily:return"D";case ci.Hourly:return"H";default:return""}}static calculateBillableWorkingDays(t){return t.totalCalendarDays-t.weekends-t.paidLeave-t.publicHolidays}static calculateCurrencyPeriodCost(t,e,r,i,o){let c=fn.convertToAnnualAmount(fn.calculateTotalAnnualCost(t,e),o);return fn.convertAmountToCurrency(c,i,r)}}let y5=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Gz extends og{toEntity(t){return{id:t.id,createdAt:t.createdAt,updatedAt:new Date,deleted:!1,currency1:t.currency1,currency2:t.currency2,rate:t.rate,code:t.currency1+t.currency2}}fromEntity(t){return{id:t.id,createdAt:t.createdAt,currency1:t.currency1,currency2:t.currency2,rate:t.rate}}fromRequest(t){return{updatedAt:new Date,deleted:!1,currency1:t.currency1,currency2:t.currency2,rate:t.rate,code:t.currency1+t.currency2}}}let R1=(()=>{class n extends rp{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}();static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),S3=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.create(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(R1))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),x3=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.update(e.id,e.request)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(R1))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D3=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.delete(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(R1))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),I3=(()=>{class n{constructor(e){this.repository=e}execute(){return this.repository.fetchAll()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(R1))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A3=(()=>{class n extends y5{constructor(e,r,i,o){super(),this.createCurrencyExchangeUseCase=e,this.updateCurrencyExchangeUseCase=r,this.deleteCurrencyExchangeUseCase=i,this.fetchCurrencyExchangesUseCase=o,this.mapper=new Gz}create(e){let r=this.mapper.fromRequest(e);return r.id=sg(),r.createdAt=new Date,this.createCurrencyExchangeUseCase.execute(r).pipe((0,me.U)(i=>this.mapper.toResponse(i)))}delete(e){return this.deleteCurrencyExchangeUseCase.execute(e),Pt(this.mapper.toEmptyResponse())}fetchAll(){return this.fetchCurrencyExchangesUseCase.execute().pipe((0,me.U)(e=>this.mapper.toResponses(e)))}fetchOne(e){return Pt()}update(e,r){return this.updateCurrencyExchangeUseCase.execute({id:e,request:this.mapper.fromRequest(r)}),Pt(this.mapper.toEmptyResponse())}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(S3),s.LFG(x3),s.LFG(D3),s.LFG(I3))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class qz extends og{toEntity(t){return{id:t.id,createdAt:t.createdAt,updatedAt:new Date,deleted:!1,firstname:t.firstname,lastname:t.lastname,email:t.email,phoneNumber:t.phoneNumber,address:t.address,role:t.role,avatar:t.avatar}}fromEntity(t){return{id:t.id,createdAt:t.createdAt,firstname:t.firstname,lastname:t.lastname,email:t.email,phoneNumber:t.phoneNumber,address:t.address,role:t.role,avatar:t.avatar}}fromRequest(t){return{updatedAt:new Date,deleted:!1,firstname:t.firstname,lastname:t.lastname,email:t.email,phoneNumber:t.phoneNumber,address:t.address,role:t.role,avatar:t.avatar}}}let mg=(()=>{class n extends rp{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}();static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),k3=(()=>{class n{constructor(e){this.accountRepository=e}execute(e){return this.accountRepository.fetch(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(mg))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),N3=(()=>{class n{constructor(e){this.accountRepository=e}execute(){return this.accountRepository.fetchAll()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(mg))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),M3=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.update(e.id,e.request)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(mg))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R3=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.delete(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(mg))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O3=(()=>{class n{constructor(e){this.accountRepository=e}execute(e){return this.accountRepository.login(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(mg))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P3=(()=>{class n{constructor(e){this.accountRepository=e}execute(e){return this.accountRepository.create(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(mg))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),F3=(()=>{class n extends K_{constructor(e,r,i,o,c,w){super(),this.fetchAccountUseCase=e,this.fetchAccountsUseCase=r,this.updateAccountUseCase=i,this.deleteAccountUseCase=o,this.loginAccountUseCase=c,this.createAccountUseCase=w,this.mapper=new qz}create(e){let r=this.mapper.fromRequest(e);return r.id=sg(),r.password="Password1",r.createdAt=new Date,this.createAccountUseCase.execute(r).pipe((0,me.U)(i=>this.mapper.toResponse(i)))}delete(e){return this.deleteAccountUseCase.execute(e),Pt(this.mapper.toEmptyResponse())}fetchAll(){return this.fetchAccountsUseCase.execute().pipe((0,me.U)(e=>this.mapper.toResponses(e)))}fetchOne(e){return this.fetchAccountUseCase.execute(e).pipe((0,me.U)(r=>this.mapper.toResponse(r)))}login(e){return this.loginAccountUseCase.execute(e).pipe((0,me.U)(r=>this.mapper.toFirstResponse(r)))}update(e,r){return this.updateAccountUseCase.execute({id:e,request:this.mapper.fromRequest(r)}),Pt(this.mapper.toEmptyResponse())}changePassword(e,r){return this.updateAccountUseCase.execute({id:e,request:{id:e,password:r}}),Pt(this.mapper.toEmptyResponse())}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(k3),s.LFG(N3),s.LFG(M3),s.LFG(R3),s.LFG(O3),s.LFG(P3))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b5=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Zz extends og{toEntity(t){return{id:t.id,createdAt:t.createdAt,updatedAt:new Date,deleted:!1,totalCalendarDays:t.totalCalendarDays,weekends:t.weekends,paidLeave:t.paidLeave,publicHolidays:t.publicHolidays}}fromEntity(t){return{id:t.id,createdAt:t.createdAt,totalCalendarDays:t.totalCalendarDays,weekends:t.weekends,paidLeave:t.paidLeave,publicHolidays:t.publicHolidays,billableWorkingDays:t.totalCalendarDays??365-t.weekends??104-t.paidLeave??0-t.publicHolidays??0}}fromRequest(t){return{updatedAt:new Date,deleted:!1,totalCalendarDays:t.totalCalendarDays,weekends:t.weekends,paidLeave:t.paidLeave,publicHolidays:t.publicHolidays}}}let L3=(()=>{class n extends rp{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}();static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),B3=(()=>{class n{constructor(e){this.repository=e}execute(){return this.repository.fetchAll()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(L3))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j3=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.update(e.id,e.request)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(L3))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U3=(()=>{class n extends b5{constructor(e,r){super(),this.fetchWorkingDaysUseCase=e,this.updateWorkingDaysUseCase=r,this.mapper=new Zz}fetch(){return this.fetchWorkingDaysUseCase.execute().pipe((0,me.U)(e=>this.mapper.toFirstResponse(e)))}update(e,r){return this.updateWorkingDaysUseCase.execute({id:e,request:this.mapper.fromRequest(r)}),Pt(this.mapper.toEmptyResponse())}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(B3),s.LFG(j3))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wz(n,t){if(1&n&&(s.TgZ(0,"option",57),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function Kz(n,t){if(1&n&&(s.TgZ(0,"option",57),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function Yz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",58),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmitCurrency())}),s._uU(1," Save "),s.qZA()}}function Jz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td",59),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickCurrencyExchange(o))}),s._uU(2),s.qZA(),s.TgZ(3,"td",59),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickCurrencyExchange(o))}),s._uU(4),s.qZA(),s.TgZ(5,"td",59),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickCurrencyExchange(o))}),s._uU(6),s.qZA(),s.TgZ(7,"td")(8,"img",60),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickCurrencyExchangeToBeDeleted(o))}),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.currency1),s.xp6(2),s.Oqu(e.currency2),s.xp6(2),s.Oqu(e.rate)}}function Qz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",61),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmitWorkingDays())}),s._uU(1," Save "),s.qZA()}}function Xz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",61),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmitWorkingDays())}),s._uU(1," Save "),s.qZA()}}function eG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",61),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmitWorkingDays())}),s._uU(1," Save "),s.qZA()}}function tG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",61),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmitWorkingDays())}),s._uU(1," Save "),s.qZA()}}function nG(n,t){if(1&n&&(s.TgZ(0,"b"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.AmountHelper.calculateBillableWorkingDays(e.workingDaysResponse))}}function rG(n,t){if(1&n&&(s.TgZ(0,"option",62),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}let iG=(()=>{class n{constructor(e,r,i,o,c){this.currencyExchangeInteractor=e,this.accountInteractor=r,this.workingDaysInteractor=i,this.localStorageService=o,this.toastr=c,this.languages=["English"],this.currencies=[],this.currencyExchanges=[],this.panels=["First","Second","Third"],this.AmountHelper=fn,this.loggedAccount=o.getLoggedAccount(),this.currencies=Object.values(fa),this.currencyForm=new Zi({currency1:new Ot("",[vr.required]),currency2:new Ot("",[vr.required]),rate:new Ot("",[vr.required])}),this.workingDaysForm=new Zi({totalCalendarDays:new Ot("",[vr.required]),weekends:new Ot("",[vr.required]),paidLeave:new Ot("",[vr.required]),publicHolidays:new Ot("",[vr.required])}),this.languageForm=new Zi({language:new Ot(this.languages[0],[vr.required])}),this.changePasswordForm=new Zi({oldPassword:new Ot("",[vr.required]),newPassword:new Ot("",[vr.required])})}ngOnInit(){this.fetchCurrencyExchanges(),this.fetchWorkingDays()}fetchWorkingDays(){this.workingDaysInteractor.fetch().subscribe({next:e=>{e&&e.success&&(this.workingDaysResponse=e.data,this.workingDaysForm.setValue({totalCalendarDays:this.workingDaysResponse.totalCalendarDays,weekends:this.workingDaysResponse.weekends,paidLeave:this.workingDaysResponse.paidLeave,publicHolidays:this.workingDaysResponse.publicHolidays}))},error:e=>{},complete:()=>{}})}fetchCurrencyExchanges(){this.currencyExchangeInteractor.fetchAll().subscribe({next:e=>{e&&e.success&&(this.currencyExchanges=e.data)},error:e=>{},complete:()=>{}})}onSubmitCurrency(){if(this.currencyForm.valid){let e={currency1:this.currencyForm.value.currency1,currency2:this.currencyForm.value.currency2,rate:this.currencyForm.value.rate};this.selectedCurrencyExchange&&this.selectedCurrencyExchange.id?this.currencyExchangeInteractor.update(this.selectedCurrencyExchange.id,e).subscribe({next:r=>{this.toastr.success("currency exchange successfully updated","Currency exchange"),this.fetchCurrencyExchanges(),this.selectedCurrencyExchange=void 0,this.currencyForm.reset()},error:r=>{this.toastr.error("Error occurred while updating the currency exchange","Currency exchange")},complete:()=>{}}):this.currencyExchangeInteractor.create(e).subscribe({next:r=>{this.toastr.success("currency exchange successfully saved","Currency exchange"),this.fetchCurrencyExchanges(),this.currencyForm.reset()},error:r=>{this.toastr.error("Error occurred while saving the currency exchange","Currency exchange")},complete:()=>{}})}else this.toastr.error("Some inputs are incorrect","Currency exchange")}onSubmitWorkingDays(){this.workingDaysForm.valid?this.workingDaysInteractor.update(this.workingDaysResponse.id,{totalCalendarDays:this.workingDaysForm.value.totalCalendarDays,weekends:this.workingDaysForm.value.weekends,paidLeave:this.workingDaysForm.value.paidLeave,publicHolidays:this.workingDaysForm.value.publicHolidays}).subscribe({next:r=>{this.toastr.success("working days successfully updated","Working days"),this.fetchCurrencyExchanges(),this.currencyForm.reset()},error:r=>{this.toastr.error("Error occurred while updating working days","Working days")},complete:()=>{}}):this.toastr.error("Some inputs are incorrect","Working days")}onSubmitLanguage(){}onClickCurrencyExchangeToBeDeleted(e){this.localStorageService.add("currencyExchange",e)}onClickDismiss(){this.localStorageService.delete("currencyExchange")}onClickDeleteCurrencyExchange(){let e=this.localStorageService.get("currencyExchange");e&&e.id?this.currencyExchangeInteractor.delete(e.id).subscribe({next:r=>{this.localStorageService.delete("currencyExchange"),this.toastr.success("Currency exchange deleted successfully","Delete currency exchange")},error:r=>{this.localStorageService.delete("currencyExchange"),this.toastr.error("Error occurred while deleting the currency exchange","Delete currency exchange")},complete:()=>{}}):(this.localStorageService.delete("currencyExchange"),this.toastr.error("Currency exchange not found","Delete currency exchange"))}onClickCurrencyExchange(e){this.selectedCurrencyExchange=e,this.currencyForm=new Zi({currency1:new Ot(e.currency1,[vr.required]),currency2:new Ot(e.currency2,[vr.required]),rate:new Ot(e.rate,[vr.required])})}onSubmitChangePassword(){let e=!1;this.changePasswordForm.valid?this.accountInteractor.login({username:this.loggedAccount.email,password:this.changePasswordForm.value.oldPassword}).subscribe({next:r=>{e||(e=!0,r&&r.success?this.accountInteractor.changePassword(this.loggedAccount.id,this.changePasswordForm.value.newPassword).subscribe({next:i=>{this.toastr.success("Password changed successfully","Success")},error:i=>{this.toastr.error("Error changing password","Error")},complete:()=>{}}):this.toastr.error("Password does not match","Error"))},error:r=>{this.toastr.error(r.message(),"Error")},complete:()=>{}}):this.toastr.error("Some inputs are incorrect","Error")}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(A3),s.Y36(F3),s.Y36(U3),s.Y36(Rc),s.Y36(Za))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-settings"]],decls:172,vars:19,consts:[[1,"row"],[1,"col-12","col-md-12","col-lg-12","col-xl-12"],[1,"card"],["id","currencyExchangesAccordion",1,"accordion","accordion-flush","m-1"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#currencyExchangesCollapse","aria-expanded","false","aria-controls","currencyExchangesCollapse",1,"accordion-button","collapsed"],[1,"card-title","d-inline-block"],["id","currencyExchangesCollapse","data-bs-parent","#currencyExchangesAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"table-responsive"],[1,"table","mb-0","new-patient-table","table-hover"],[2,"color","red"],["novalidate","",1,"form-signin",3,"formGroup","ngSubmit"],["formControlName","currency1",2,"color","black"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","currency2",2,"color","black"],["type","number","formControlName","rate","placeholder","Rate","id","rate"],["type","button","class","btn btn-outline-success btn-sm",3,"click",4,"ngIf"],[1,"m-3"],[4,"ngFor","ngForOf"],["id","workingDaysAccordion",1,"accordion","accordion-flush","m-1"],["type","button","data-bs-toggle","collapse","data-bs-target","#workingDaysCollapse","aria-expanded","false","aria-controls","workingDaysCollapse",1,"accordion-button","collapsed"],["id","workingDaysCollapse","data-bs-parent","#workingDaysAccordion",1,"accordion-collapse","collapse"],["type","number","formControlName","totalCalendarDays","placeholder","Total calendar days","id","totalCalendarDays"],["type","button","class","btn btn-outline-success btn-sm action",3,"click",4,"ngIf"],["type","number","formControlName","weekends","placeholder","Weekends","id","weekends"],["type","number","formControlName","paidLeave","placeholder","Paid leave","id","paidLeave"],["type","number","formControlName","publicHolidays","placeholder","Public holidays","id","publicHolidays"],[4,"ngIf"],["id","languageAccordion",1,"accordion","accordion-flush","m-1"],["type","button","data-bs-toggle","collapse","data-bs-target","#languageCollapse","aria-expanded","false","aria-controls","languageCollapse",1,"accordion-button","collapsed"],["id","languageCollapse","data-bs-parent","#languageAccordion",1,"accordion-collapse","collapse"],[1,"form-group"],["for","language"],["formControlName","language","id","language",1,"form-control"],["style","color: black;",3,"ngValue",4,"ngFor","ngForOf"],["id","changePasswordAccordion",1,"accordion","accordion-flush","m-1"],["type","button","data-bs-toggle","collapse","data-bs-target","#changePasswordCollapse","aria-expanded","false","aria-controls","changePasswordCollapse",1,"accordion-button","collapsed"],["id","changePasswordCollapse","data-bs-parent","#changePasswordAccordion",1,"accordion-collapse","collapse"],["for","oldPassword"],["type","password","formControlName","oldPassword","placeholder","Password","id","oldPassword",1,"form-control"],["for","newPassword"],["type","password","formControlName","newPassword","placeholder","Password","id","newPassword",1,"form-control"],[1,"col-12"],["type","button","data-bs-toggle","collapse","data-bs-target","#changePasswordCollapse","aria-expanded","false","aria-controls","changePasswordCollapse",1,"btn","btn-outline-success","float-right",3,"click"],["id","currencyExchangeDeleteModal","tabindex","-1","aria-labelledby","currencyExchangeDeleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","currencyExchangeDeleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngValue"],["type","button",1,"btn","btn-outline-success","btn-sm",3,"click"],[3,"click"],["src","assets/images/delete.png","data-bs-target","#currencyExchangeDeleteModal","alt","delete","data-bs-toggle","modal","data-bs-placement","top","title","delete",1,"aspect-square","action",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","action",3,"click"],[2,"color","black",3,"ngValue"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5)(6,"button",6)(7,"h4",7),s._uU(8,"Currencies "),s.qZA()()(),s.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"table",11)(13,"thead")(14,"tr")(15,"th"),s._uU(16,"Currency 1"),s.TgZ(17,"span",12),s._uU(18,"*"),s.qZA()(),s.TgZ(19,"th"),s._uU(20,"Currency 2"),s.TgZ(21,"span",12),s._uU(22,"*"),s.qZA()(),s.TgZ(23,"th"),s._uU(24,"Rate"),s.TgZ(25,"span",12),s._uU(26,"*"),s.qZA()(),s._UZ(27,"th"),s.qZA()(),s.TgZ(28,"tbody")(29,"tr")(30,"td")(31,"form",13),s.NdJ("ngSubmit",function(){return i.onSubmitCurrency()}),s.TgZ(32,"select",14)(33,"option",15),s._uU(34,"Select currency"),s.qZA(),s.YNc(35,Wz,2,2,"option",16),s.qZA()()(),s.TgZ(36,"td")(37,"form",13),s.NdJ("ngSubmit",function(){return i.onSubmitCurrency()}),s.TgZ(38,"select",17)(39,"option",15),s._uU(40,"Select currency"),s.qZA(),s.YNc(41,Kz,2,2,"option",16),s.qZA()()(),s.TgZ(42,"td")(43,"form",13),s.NdJ("ngSubmit",function(){return i.onSubmitCurrency()}),s._UZ(44,"input",18),s.qZA()(),s.TgZ(45,"td"),s.YNc(46,Yz,2,0,"button",19),s.qZA()()()()(),s._UZ(47,"div",20),s.TgZ(48,"div",10)(49,"table",11)(50,"tbody"),s.YNc(51,Jz,9,3,"tr",21),s.qZA()()()()()()()()()(),s.TgZ(52,"div",0)(53,"div",1)(54,"div",2)(55,"div",22)(56,"div",4)(57,"h2",5)(58,"button",23)(59,"h4",7),s._uU(60," Days "),s.qZA()()(),s.TgZ(61,"div",24)(62,"div",9)(63,"div",10)(64,"table",11)(65,"thead")(66,"tr")(67,"th"),s._uU(68,"Type of days"),s.qZA(),s.TgZ(69,"th"),s._uU(70,"Value"),s.qZA(),s._UZ(71,"th"),s.qZA()(),s.TgZ(72,"tbody")(73,"tr")(74,"td"),s._uU(75," Total calendar days "),s.qZA(),s.TgZ(76,"td")(77,"form",13),s.NdJ("ngSubmit",function(){return i.onSubmitWorkingDays()}),s._UZ(78,"input",25),s.qZA()(),s.TgZ(79,"td"),s.YNc(80,Qz,2,0,"button",26),s.qZA()(),s.TgZ(81,"tr")(82,"td"),s._uU(83," Weekends "),s.qZA(),s.TgZ(84,"td")(85,"form",13),s.NdJ("ngSubmit",function(){return i.onSubmitWorkingDays()}),s._UZ(86,"input",27),s.qZA()(),s.TgZ(87,"td"),s.YNc(88,Xz,2,0,"button",26),s.qZA()(),s.TgZ(89,"tr")(90,"td"),s._uU(91," Paid leave "),s.qZA(),s.TgZ(92,"td")(93,"form",13),s.NdJ("ngSubmit",function(){return i.onSubmitWorkingDays()}),s._UZ(94,"input",28),s.qZA()(),s.TgZ(95,"td"),s.YNc(96,eG,2,0,"button",26),s.qZA()(),s.TgZ(97,"tr")(98,"td"),s._uU(99," Public holidays "),s.qZA(),s.TgZ(100,"td")(101,"form",13),s.NdJ("ngSubmit",function(){return i.onSubmitWorkingDays()}),s._UZ(102,"input",29),s.qZA()(),s.TgZ(103,"td"),s.YNc(104,tG,2,0,"button",26),s.qZA()(),s.TgZ(105,"tr")(106,"td")(107,"b"),s._uU(108,"Billable working days"),s.qZA()(),s.TgZ(109,"td"),s.YNc(110,nG,2,1,"b",30),s.qZA(),s._UZ(111,"td"),s.qZA()()()()()()()()()()(),s.TgZ(112,"div",0)(113,"div",1)(114,"div",2)(115,"div",31)(116,"div",4)(117,"h2",5)(118,"button",32)(119,"h4",7),s._uU(120," Language : "),s.TgZ(121,"b"),s._uU(122,"English"),s.qZA()()()(),s.TgZ(123,"div",33)(124,"div",9)(125,"form",13),s.NdJ("ngSubmit",function(){return i.onSubmitLanguage()}),s.TgZ(126,"div",34)(127,"label",35),s._uU(128,"Language"),s.qZA(),s.TgZ(129,"select",36)(130,"option",15),s._uU(131,"Select language"),s.qZA(),s.YNc(132,rG,2,2,"option",37),s.qZA()()()()()()()()()(),s.TgZ(133,"div",0)(134,"div",1)(135,"div",2)(136,"div",38)(137,"div",4)(138,"h2",5)(139,"button",39)(140,"h4",7),s._uU(141," Change password "),s.qZA()()(),s.TgZ(142,"div",40)(143,"div",9)(144,"form",13),s.NdJ("ngSubmit",function(){return i.onSubmitChangePassword()}),s.TgZ(145,"div",34)(146,"div",34)(147,"label",41),s._uU(148,"Old Password"),s.qZA(),s._UZ(149,"input",42),s.qZA(),s.TgZ(150,"div",34)(151,"label",43),s._uU(152,"New Password"),s.qZA(),s._UZ(153,"input",44),s.qZA()()(),s.TgZ(154,"div",45)(155,"button",46),s.NdJ("click",function(){return i.onSubmitChangePassword()}),s._uU(156,"Save "),s.qZA()()()()()()()()(),s.TgZ(157,"div",47)(158,"div",48)(159,"div",49)(160,"div",50)(161,"h5",51),s._uU(162,"Delete currency exchange"),s.qZA(),s._UZ(163,"button",52),s.qZA(),s.TgZ(164,"div",53)(165,"b"),s._uU(166,"Do you really want to delete this currency?"),s.qZA()(),s.TgZ(167,"div",54)(168,"button",55),s.NdJ("click",function(){return i.onClickDismiss()}),s._uU(169,"Close "),s.qZA(),s.TgZ(170,"button",56),s.NdJ("click",function(){return i.onClickDeleteCurrencyExchange()}),s._uU(171," Confirm "),s.qZA()()()()()),2&r&&(s.xp6(31),s.Q6J("formGroup",i.currencyForm),s.xp6(4),s.Q6J("ngForOf",i.currencies),s.xp6(2),s.Q6J("formGroup",i.currencyForm),s.xp6(4),s.Q6J("ngForOf",i.currencies),s.xp6(2),s.Q6J("formGroup",i.currencyForm),s.xp6(3),s.Q6J("ngIf",i.currencyForm.valid),s.xp6(5),s.Q6J("ngForOf",i.currencyExchanges),s.xp6(26),s.Q6J("formGroup",i.workingDaysForm),s.xp6(3),s.Q6J("ngIf",i.workingDaysForm.valid),s.xp6(5),s.Q6J("formGroup",i.workingDaysForm),s.xp6(3),s.Q6J("ngIf",i.workingDaysForm.valid),s.xp6(5),s.Q6J("formGroup",i.workingDaysForm),s.xp6(3),s.Q6J("ngIf",i.workingDaysForm.valid),s.xp6(5),s.Q6J("formGroup",i.workingDaysForm),s.xp6(3),s.Q6J("ngIf",i.workingDaysForm.valid),s.xp6(6),s.Q6J("ngIf",i.workingDaysResponse),s.xp6(15),s.Q6J("formGroup",i.languageForm),s.xp6(7),s.Q6J("ngForOf",i.languages),s.xp6(12),s.Q6J("formGroup",i.changePasswordForm))},dependencies:[hn,er,Ac,O_,Jm,Dc,Km,fh,zu,ch,kc,Gu],styles:["tr[_ngcontent-%COMP%]{cursor:pointer}tr[_ngcontent-%COMP%]   img.action[_ngcontent-%COMP%]{display:none}tr[_ngcontent-%COMP%]:hover   img.action[_ngcontent-%COMP%]{display:inline-block}tr[_ngcontent-%COMP%]   button.action[_ngcontent-%COMP%]{display:none}tr[_ngcontent-%COMP%]:hover   button.action[_ngcontent-%COMP%]{display:inline-block}"]})}return n})();var O1=(()=>{return(n=O1||(O1={})).EOD="EOD",n.WORK_PACKAGE="WORK PACKAGE",O1;var n})(),sG=Re(4313),oG=Re(4327);let v5=(()=>{class n{constructor(){this.resourceHeaders={basicSalary:"Basic salary",allowance:"Allowance",gratuity:"Gratuity",insurance:"Insurance",flightTicket:"Flight ticket",workPermit:"Work permit",office:"Office",generalSupportPackage:"IT - General support package",laptopWorkstation:"IT - Laptop + Workstation",licenses:"IT - Licences",mobilizationCost:"Mobilisation",parking:"Parking",transportation:"Transportation"}}generateExcel(e,r){this.workbook=new sG.Workbook,this.worksheet=this.workbook.addWorksheet("A.D.");let i=[];this.worksheet.addRow(["Project title",e.project?.title]),this.worksheet.addRow(["Duration",e.project?.duration]),this.worksheet.addRow(["Description",e.project?.description]),this.worksheet.addRow([]);const o=Object.keys(this.resourceHeaders);this.worksheet.addRow(["Period","Description","Amount in AED"]),e.resources?.forEach(c=>{Object.entries(c).forEach((M,H)=>{if(o.includes(M[0])){const te=[];te.push(fn.getAmountPeriod(M[1])),te.push(M[0]),te.push(fn.getAmount(M[1])),this.worksheet.addRow(te)}})}),this.worksheet.addRow([]),i=[],i.push(ci.Annually),i.push("Total cost"),i.push(e.cost),this.worksheet.addRow(i),this.worksheet.addRow([]),i=[],i.push(""),i.push("Margin %"),i.push(e.project?.margin),this.worksheet.addRow(i),this.saveExcelFile(r),this.worksheet.addRow([]),i=[],i.push(ci.Annually),i.push("Total price"),i.push(e.price),this.worksheet.addRow(i),this.saveExcelFile(r)}saveExcelFile(e){this.workbook.xlsx.writeBuffer().then(r=>{const i=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,oG.saveAs)(i,`${e}.xlsx`)})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class aG extends og{toEntity(t){return{id:t.id,createdAt:t.createdAt,updatedAt:new Date,deleted:!1,companyName:t.companyName,email:t.email,phoneNumber:t.phoneNumber,address:t.address,logo:t.logo}}fromEntity(t){return{id:t.id,createdAt:t.createdAt,companyName:t.companyName,email:t.email,phoneNumber:t.phoneNumber,address:t.address,logo:t.logo}}fromRequest(t){return{updatedAt:new Date,deleted:!1,companyName:t.companyName,email:t.email,phoneNumber:t.phoneNumber,address:t.address,logo:t.logo}}}let P1=(()=>{class n extends rp{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}();static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),V3=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.create(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(P1))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),H3=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.delete(e)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(P1))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$3=(()=>{class n{constructor(e){this.repository=e}execute(e){return this.repository.update(e.id,e.request)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(P1))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),z3=(()=>{class n{constructor(e){this.repository=e}execute(){return this.repository.fetchAll()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(P1))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),w5=(()=>{class n extends O{constructor(e,r,i,o){super(),this.createClientUseCase=e,this.deleteClientUseCase=r,this.updateClientUseCase=i,this.fetchClientsUseCase=o,this.mapper=new aG}create(e){let r=this.mapper.fromRequest(e);return r.id=sg(),r.createdAt=new Date,this.createClientUseCase.execute(r).pipe((0,me.U)(i=>this.mapper.toResponse(i)))}delete(e){return this.deleteClientUseCase.execute(e),Pt(this.mapper.toEmptyResponse())}fetchAll(){return this.fetchClientsUseCase.execute().pipe((0,me.U)(e=>this.mapper.toResponses(e)))}fetchOne(e){return Pt()}update(e,r){return this.updateClientUseCase.execute({id:e,request:this.mapper.fromRequest(r)}),Pt(this.mapper.toEmptyResponse())}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(V3),s.LFG(H3),s.LFG($3),s.LFG(z3))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G3=(()=>{class n{transform(e,...r){let i=r&&r.length>0&&Number.isFinite(r[0])&&r[0]>0?r[0]:0;if(Number.isFinite(e)){const o={minimumFractionDigits:i,maximumFractionDigits:i};return e=e||0,Number(e).toLocaleString("en",o)}return"Unable to convert!"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=s.Yjl({name:"amount",type:n,pure:!0})}return n})(),lG=(()=>{class n{constructor(){this.AmountHelper=fn}ngOnInit(){this.amountCurrency=fn.getAmountCurrency(this.amount),this.amountPeriod=fn.getAmountPeriod(this.amount),this.amountValue=fn.getAmount(this.amount)}getFirstChar(e){return Array.from(e)[0]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-amount"]],inputs:{amount:"amount"},decls:10,vars:5,consts:[[1,"row"],[1,"col-2","text-center",2,"font-size","x-small"],[1,"divider"],[1,"col"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"p"),s._uU(3),s.qZA(),s._UZ(4,"hr",2),s.TgZ(5,"p"),s._uU(6),s.qZA()(),s.TgZ(7,"div",3),s._uU(8),s.ALo(9,"amount"),s.qZA()()),2&r&&(s.xp6(3),s.Oqu(i.amountCurrency),s.xp6(3),s.Oqu(i.AmountHelper.getFirstLetterOfPeriod(i.amountPeriod)),s.xp6(2),s.Oqu(s.lcZ(9,3,+i.amountValue)))},dependencies:[G3],styles:["hr.divider[_ngcontent-%COMP%]{margin:0;border-width:1px}p[_ngcontent-%COMP%]{margin:0;padding:0}"]})}return n})();function cG(n,t){1&n&&(s.TgZ(0,"small",68),s._uU(1," Please enter project title "),s.qZA())}function uG(n,t){if(1&n&&(s.TgZ(0,"option",69),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e.id),s.xp6(1),s.Oqu(e.companyName)}}function dG(n,t){if(1&n&&(s.TgZ(0,"b"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.calculateResourceQuantity())}}function hG(n,t){1&n&&(s.TgZ(0,"th"),s._uU(1," Workload "),s.qZA())}function fG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function pG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function mG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function gG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td")(1,"form",22),s.NdJ("ngSubmit",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmit())}),s._UZ(2,"input",71),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("formGroup",e.resourceForm)}}function _G(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",72),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmit())}),s._uU(1," Save "),s.qZA()}}function yG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td")(2,"img",74),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.onClickResourceDuplicate(o))}),s.qZA(),s.TgZ(3,"img",75),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2);return s.KtG(c.onClickResourceToBeDeleted(o))}),s.qZA()(),s.TgZ(4,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._uU(5),s.qZA(),s.TgZ(6,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s.TgZ(7,"h2"),s._uU(8),s.qZA()(),s.TgZ(9,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._uU(10),s.qZA(),s.TgZ(11,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._uU(12),s.qZA(),s.TgZ(13,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(14,"app-amount",77),s.qZA(),s.TgZ(15,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(16,"app-amount",77),s.qZA(),s.TgZ(17,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(18,"app-amount",77),s.qZA(),s.TgZ(19,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(20,"app-amount",77),s.qZA(),s.TgZ(21,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(22,"app-amount",77),s.qZA(),s.TgZ(23,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(24,"app-amount",77),s.qZA(),s.TgZ(25,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(26,"app-amount",77),s.qZA(),s.TgZ(27,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(28,"app-amount",77),s.qZA(),s.TgZ(29,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(30,"app-amount",77),s.qZA(),s.TgZ(31,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(32,"app-amount",77),s.qZA(),s.TgZ(33,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(34,"app-amount",77),s.qZA(),s.TgZ(35,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(36,"app-amount",77),s.qZA(),s.TgZ(37,"td",76),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(2),w=s.MAs(139);return s.KtG(c.openEditResourceModal(o,w))}),s._UZ(38,"app-amount",77),s.qZA()()}if(2&n){const e=t.$implicit;let r;s.xp6(5),s.Oqu(null!==(r=e.quantity)&&void 0!==r?r:1),s.xp6(3),s.Oqu(e.jobTitle),s.xp6(2),s.Oqu(e.resourceType),s.xp6(2),s.Oqu(e.workload),s.xp6(2),s.Q6J("amount",e.basicSalary),s.xp6(2),s.Q6J("amount",e.allowance),s.xp6(2),s.Q6J("amount",e.gratuity),s.xp6(2),s.Q6J("amount",e.insurance),s.xp6(2),s.Q6J("amount",e.flightTicket),s.xp6(2),s.Q6J("amount",e.workPermit),s.xp6(2),s.Q6J("amount",e.office),s.xp6(2),s.Q6J("amount",e.generalSupportPackage),s.xp6(2),s.Q6J("amount",e.laptopWorkstation),s.xp6(2),s.Q6J("amount",e.licenses),s.xp6(2),s.Q6J("amount",e.mobilizationCost),s.xp6(2),s.Q6J("amount",e.parking),s.xp6(2),s.Q6J("amount",e.transportation)}}function bG(n,t){if(1&n&&(s.TgZ(0,"div",44)(1,"table",45)(2,"thead")(3,"tr")(4,"th"),s._uU(5,"Actions"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Nb"),s.qZA(),s.TgZ(8,"th"),s._uU(9,"Job title"),s.qZA(),s.TgZ(10,"th"),s._uU(11,"Resource type"),s.qZA(),s.TgZ(12,"th"),s._uU(13,"Workload"),s.qZA(),s.TgZ(14,"th"),s._uU(15,"Basic salary"),s.qZA(),s.TgZ(16,"th"),s._uU(17,"Allowance"),s.qZA(),s.TgZ(18,"th"),s._uU(19,"Gratuity / End of service"),s.qZA(),s.TgZ(20,"th"),s._uU(21,"Insurance"),s.qZA(),s.TgZ(22,"th"),s._uU(23,"Annual flight ticket"),s.qZA(),s.TgZ(24,"th"),s._uU(25,"VISA / Work Permit"),s.qZA(),s.TgZ(26,"th"),s._uU(27,"Office"),s.qZA(),s.TgZ(28,"th"),s._uU(29,"General support package"),s.qZA(),s.TgZ(30,"th"),s._uU(31,"Laptop workstation"),s.qZA(),s.TgZ(32,"th"),s._uU(33,"Licenses"),s.qZA(),s.TgZ(34,"th"),s._uU(35,"Mobilization cost"),s.qZA(),s.TgZ(36,"th"),s._uU(37,"Parking"),s.qZA(),s.TgZ(38,"th"),s._uU(39,"Transportation"),s.qZA()()(),s.TgZ(40,"tbody"),s.YNc(41,yG,39,17,"tr",73),s.qZA()()()),2&n){const e=s.oxw();s.xp6(41),s.Q6J("ngForOf",e.resources)}}function vG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function wG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function CG(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e)}}function TG(n,t){if(1&n&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e)}}function EG(n,t){if(1&n&&(s.TgZ(0,"td")(1,"h2"),s._uU(2),s.ALo(3,"amount"),s.qZA()()),2&n){const e=t.$implicit,r=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(s.lcZ(3,1,i.calculateCurrencyPeriodCost(e,r)))}}function SG(n,t){if(1&n&&(s.TgZ(0,"h2"),s._uU(1),s.ALo(2,"amount"),s.qZA()),2&n){const e=s.oxw().$implicit,r=s.oxw().$implicit,i=s.oxw(2);s.xp6(1),s.hij(" ",s.lcZ(2,1,i.calculateCurrencyPeriodPrice(e,r))," ")}}function xG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",88)(1,"input",89),s.NdJ("change",function(i){s.CHM(e);const o=s.oxw().$implicit,c=s.oxw().$implicit,w=s.oxw(2);return s.KtG(w.onChangePrice(c,o,i))}),s.qZA()()}if(2&n){const e=s.oxw().$implicit,r=s.oxw().$implicit,i=s.oxw(2);s.Q6J("formGroup",i.pricesForm),s.xp6(1),s.s9C("placeholder",i.calculateCurrencyPeriodPrice(e,r))}}function DG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",86),s.NdJ("mouseleave",function(){s.CHM(e);const i=s.oxw(3);return s.KtG(i.onMouseLeaveEditPrice())})("mouseenter",function(){const i=s.CHM(e),o=i.$implicit,c=i.index,w=s.oxw(),M=w.$implicit,H=w.index,te=s.oxw(2);return s.KtG(te.onMouseEnterEditPrice(te.calculateCurrencyPeriodPrice(o,M),o,M,H,c))}),s.YNc(1,SG,3,3,"h2",42),s.YNc(2,xG,2,2,"div",87),s.qZA()}if(2&n){const e=t.index,r=s.oxw().index,i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",""+r+e!=i.getEditPriceTag()),s.xp6(1),s.Q6J("ngIf",""+r+e==i.getEditPriceTag())}}function IG(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2),s.ALo(3,"amount"),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(2),s.Oqu(s.lcZ(3,1,e.project.margin))}}function AG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"form",22),s.NdJ("ngSubmit",function(){s.CHM(e);const i=s.oxw(3);return s.KtG(i.onSubmitProject())}),s._UZ(1,"input",90),s.qZA()}if(2&n){const e=s.oxw(3);s.Q6J("formGroup",e.projectForm)}}function kG(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2),s.ALo(3,"amount"),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(2),s.Oqu(s.lcZ(3,1,e.project.riskProvision))}}function NG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"form",22),s.NdJ("ngSubmit",function(){s.CHM(e);const i=s.oxw(3);return s.KtG(i.onSubmitProject())}),s._UZ(1,"input",91),s.qZA()}if(2&n){const e=s.oxw(3);s.Q6J("formGroup",e.projectForm)}}function MG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td")(2,"h2"),s._uU(3),s.qZA()(),s.YNc(4,EG,4,3,"td",73),s.YNc(5,DG,3,2,"td",83),s.TgZ(6,"td")(7,"div",84),s.NdJ("mouseenter",function(){s.CHM(e);const i=s.oxw(2);return s.KtG(i.onMouseEnterEditMargin())})("mouseleave",function(){s.CHM(e);const i=s.oxw(2);return s.KtG(i.onMouseLeaveEditMargin())}),s.YNc(8,IG,4,3,"div",42),s.YNc(9,AG,2,1,"form",85),s.qZA()(),s.TgZ(10,"td")(11,"div",84),s.NdJ("mouseenter",function(){s.CHM(e);const i=s.oxw(2);return s.KtG(i.onMouseEnterEditRiskProvision())})("mouseleave",function(){s.CHM(e);const i=s.oxw(2);return s.KtG(i.onMouseLeaveEditRiskProvision())}),s.YNc(12,kG,4,3,"div",42),s.YNc(13,NG,2,1,"form",85),s.qZA()()()}if(2&n){const e=t.$implicit,r=s.oxw(2);s.xp6(3),s.Oqu(e),s.xp6(1),s.Q6J("ngForOf",r.displayCurrencies),s.xp6(1),s.Q6J("ngForOf",r.displayCurrencies),s.xp6(3),s.Q6J("ngIf",!r.editMargin),s.xp6(1),s.Q6J("ngIf",r.editMargin),s.xp6(3),s.Q6J("ngIf",!r.editRiskProvision),s.xp6(1),s.Q6J("ngIf",r.editRiskProvision)}}function RG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0)(1,"div",14)(2,"div",2)(3,"div",40)(4,"form",22),s.NdJ("ngSubmit",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmitDisplay())}),s.TgZ(5,"div",0)(6,"div",78)(7,"label",79)(8,"strong"),s._uU(9,"Select a period"),s.qZA()(),s.TgZ(10,"select",80),s.NdJ("change",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onChangePeriod())}),s.YNc(11,vG,2,2,"option",48),s.qZA()(),s.TgZ(12,"div",9)(13,"label",81)(14,"strong"),s._uU(15,"Select a currency"),s.qZA()(),s.TgZ(16,"select",82),s.NdJ("change",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onChangeCurrency())}),s.YNc(17,wG,2,2,"option",48),s.qZA()()()()(),s.TgZ(18,"div",43)(19,"div",44)(20,"table",45)(21,"thead")(22,"tr")(23,"th")(24,"h4"),s._uU(25,"Period"),s.qZA()(),s.TgZ(26,"th")(27,"h4"),s._uU(28,"Costs"),s.qZA()(),s.TgZ(29,"th")(30,"h4"),s._uU(31,"Price"),s.qZA()(),s.TgZ(32,"th")(33,"h4"),s._uU(34,"Margin"),s.qZA()(),s.TgZ(35,"th")(36,"h4"),s._uU(37,"Risk provision"),s.qZA()()()(),s.TgZ(38,"tbody")(39,"tr"),s._UZ(40,"td"),s.YNc(41,CG,2,1,"td",73),s.YNc(42,TG,2,1,"td",73),s.TgZ(43,"td"),s._uU(44,"%"),s.qZA(),s.TgZ(45,"td"),s._uU(46,"%"),s.qZA()(),s.YNc(47,MG,14,7,"tr",73),s.qZA()()()()()()()}if(2&n){const e=s.oxw();s.xp6(4),s.Q6J("formGroup",e.displayForm),s.xp6(7),s.Q6J("ngForOf",e.periods),s.xp6(6),s.Q6J("ngForOf",e.currencies),s.xp6(9),s.uIk("colspan",e.displayCurrencies.length),s.xp6(3),s.uIk("colspan",e.displayCurrencies.length),s.xp6(12),s.Q6J("ngForOf",e.displayCurrencies),s.xp6(1),s.Q6J("ngForOf",e.displayCurrencies),s.xp6(5),s.Q6J("ngForOf",e.displayPeriods)}}function OG(n,t){1&n&&(s.TgZ(0,"small",68),s._uU(1," Please enter job title! "),s.qZA())}function PG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function FG(n,t){1&n&&(s.TgZ(0,"small",68),s._uU(1," Please select resource type! "),s.qZA())}function LG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function BG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function jG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function UG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function VG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function HG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function $G(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function zG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function GG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function qG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function ZG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function WG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function KG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function YG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function JG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function QG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function XG(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function eq(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function tq(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function nq(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function rq(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function iq(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function sq(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function oq(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function aq(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.hij("",e," ")}}function lq(n,t){if(1&n&&(s.TgZ(0,"option",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function cq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",60)(1,"h4",92),s._uU(2,"Edit resource"),s.qZA(),s.TgZ(3,"button",93),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.KtG(o.dismiss("Cross click"))}),s.qZA()(),s.TgZ(4,"div",63)(5,"form",22),s.NdJ("ngSubmit",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmit())}),s.TgZ(6,"div",0)(7,"div",94)(8,"div",95)(9,"label",96),s._uU(10,"Job title"),s.TgZ(11,"span",26),s._uU(12,"*"),s.qZA()(),s._UZ(13,"input",97),s.YNc(14,OG,2,0,"small",28),s.qZA(),s.TgZ(15,"div",95)(16,"label",96),s._uU(17,"Resource type"),s.TgZ(18,"span",26),s._uU(19,"*"),s.qZA()(),s.TgZ(20,"select",98)(21,"option",32),s._uU(22,"Select resource type"),s.qZA(),s.YNc(23,PG,2,2,"option",48),s.qZA(),s.YNc(24,FG,2,0,"small",28),s.qZA(),s.TgZ(25,"div",99)(26,"label",100),s._uU(27,"Basic salary"),s.TgZ(28,"span",26),s._uU(29,"*"),s.qZA()(),s.TgZ(30,"div",101)(31,"select",102),s.NdJ("change",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onChangeBasicSalary())}),s.YNc(32,LG,2,2,"option",48),s.qZA()(),s.TgZ(33,"div",9)(34,"input",103),s.NdJ("change",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onChangeBasicSalary())}),s.qZA()(),s.TgZ(35,"div",104)(36,"select",105),s.NdJ("change",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onChangeBasicSalary())}),s.YNc(37,BG,2,2,"option",48),s.qZA()()(),s.TgZ(38,"div",99)(39,"div",9)(40,"label",106),s._uU(41,"Workload"),s.qZA(),s._UZ(42,"input",107),s.qZA()(),s.TgZ(43,"div",99)(44,"div",9)(45,"label",108),s._uU(46,"Nb resource"),s.qZA(),s._UZ(47,"input",109),s.qZA()()(),s.TgZ(48,"div",94)(49,"div",99)(50,"label",110),s._uU(51,"Allowance"),s.qZA(),s.TgZ(52,"div",101)(53,"select",111),s.YNc(54,jG,2,2,"option",48),s.qZA()(),s.TgZ(55,"div",9),s._UZ(56,"input",112),s.qZA(),s.TgZ(57,"div",104)(58,"select",113),s.YNc(59,UG,2,2,"option",48),s.qZA()()(),s.TgZ(60,"div",99)(61,"label",114),s._uU(62,"Gratuity / End of service"),s.qZA(),s.TgZ(63,"div",101)(64,"select",115),s.YNc(65,VG,2,2,"option",48),s.qZA()(),s.TgZ(66,"div",9),s._UZ(67,"input",116),s.qZA(),s.TgZ(68,"div",104)(69,"select",117),s.YNc(70,HG,2,2,"option",48),s.qZA()()(),s.TgZ(71,"div",99)(72,"label",118),s._uU(73,"Insurance"),s.qZA(),s.TgZ(74,"div",101)(75,"select",119),s.YNc(76,$G,2,2,"option",48),s.qZA()(),s.TgZ(77,"div",9),s._UZ(78,"input",120),s.qZA(),s.TgZ(79,"div",104)(80,"select",121),s.YNc(81,zG,2,2,"option",48),s.qZA()()(),s.TgZ(82,"div",99)(83,"label",122),s._uU(84,"Annual flight ticket"),s.qZA(),s.TgZ(85,"div",101)(86,"select",123),s.YNc(87,GG,2,2,"option",48),s.qZA()(),s.TgZ(88,"div",9),s._UZ(89,"input",124),s.qZA(),s.TgZ(90,"div",104)(91,"select",125),s.YNc(92,qG,2,2,"option",48),s.qZA()()(),s.TgZ(93,"div",99)(94,"label",126),s._uU(95,"VISA / Work Permit"),s.qZA(),s.TgZ(96,"div",101)(97,"select",127),s.YNc(98,ZG,2,2,"option",48),s.qZA()(),s.TgZ(99,"div",9),s._UZ(100,"input",128),s.qZA(),s.TgZ(101,"div",104)(102,"select",129),s.YNc(103,WG,2,2,"option",48),s.qZA()()(),s.TgZ(104,"div",99)(105,"label",130),s._uU(106,"Office"),s.qZA(),s.TgZ(107,"div",101)(108,"select",131),s.YNc(109,KG,2,2,"option",48),s.qZA()(),s.TgZ(110,"div",9),s._UZ(111,"input",132),s.qZA(),s.TgZ(112,"div",104)(113,"select",133),s.YNc(114,YG,2,2,"option",48),s.qZA()()()(),s.TgZ(115,"div",9)(116,"div",99)(117,"label",134),s._uU(118,"General support package"),s.qZA(),s.TgZ(119,"div",101)(120,"select",135),s.YNc(121,JG,2,2,"option",48),s.qZA()(),s.TgZ(122,"div",9),s._UZ(123,"input",136),s.qZA(),s.TgZ(124,"div",104)(125,"select",137),s.YNc(126,QG,2,2,"option",48),s.qZA()()(),s.TgZ(127,"div",99)(128,"label",138),s._uU(129,"Laptop workstation"),s.qZA(),s.TgZ(130,"div",101)(131,"select",139),s.YNc(132,XG,2,2,"option",48),s.qZA()(),s.TgZ(133,"div",9),s._UZ(134,"input",140),s.qZA(),s.TgZ(135,"div",104)(136,"select",141),s.YNc(137,eq,2,2,"option",48),s.qZA()()(),s.TgZ(138,"div",99)(139,"label",142),s._uU(140,"Licenses"),s.qZA(),s.TgZ(141,"div",101)(142,"select",143),s.YNc(143,tq,2,2,"option",48),s.qZA()(),s.TgZ(144,"div",9),s._UZ(145,"input",144),s.qZA(),s.TgZ(146,"div",104)(147,"select",145),s.YNc(148,nq,2,2,"option",48),s.qZA()()(),s.TgZ(149,"div",99)(150,"label",146),s._uU(151,"Mobilization cost"),s.qZA(),s.TgZ(152,"div",101)(153,"select",147),s.YNc(154,rq,2,2,"option",48),s.qZA()(),s.TgZ(155,"div",9),s._UZ(156,"input",148),s.qZA(),s.TgZ(157,"div",104)(158,"select",149),s.YNc(159,iq,2,2,"option",48),s.qZA()()(),s.TgZ(160,"div",99)(161,"label",150),s._uU(162,"Parking"),s.qZA(),s.TgZ(163,"div",101)(164,"select",143),s.YNc(165,sq,2,2,"option",48),s.qZA()(),s.TgZ(166,"div",9),s._UZ(167,"input",151),s.qZA(),s.TgZ(168,"div",104)(169,"select",152),s.YNc(170,oq,2,2,"option",48),s.qZA()()(),s.TgZ(171,"div",99)(172,"label",153),s._uU(173,"Transportation"),s.qZA(),s.TgZ(174,"div",101)(175,"select",154),s.YNc(176,aq,2,2,"option",48),s.qZA()(),s.TgZ(177,"div",9),s._UZ(178,"input",155),s.qZA(),s.TgZ(179,"div",104)(180,"select",156),s.YNc(181,lq,2,2,"option",48),s.qZA()()()()()()(),s.TgZ(182,"div",64)(183,"button",157),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onClickEditResourceModalClose())}),s._uU(184,"Close"),s.qZA(),s.TgZ(185,"button",158),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmit())}),s._uU(186,"Save "),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.resourceForm),s.xp6(9),s.Q6J("ngIf",e.resourceForm.controls.jobTitle.touched&&(null==e.resourceForm.controls.jobTitle.errors?null:e.resourceForm.controls.jobTitle.errors.required)),s.xp6(9),s.Q6J("ngForOf",e.resourceTypes),s.xp6(1),s.Q6J("ngIf",e.resourceForm.controls.resourceType.touched&&(null==e.resourceForm.controls.resourceType.errors?null:e.resourceForm.controls.resourceType.errors.required)),s.xp6(8),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(17),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(6),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(6),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(6),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(6),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(6),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(7),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(6),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(6),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(6),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(6),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(6),s.Q6J("ngForOf",e.currencies),s.xp6(5),s.Q6J("ngForOf",e.periods),s.xp6(4),s.Q6J("disabled",!e.resourceForm.valid)}}let uq=(()=>{class n{constructor(e,r,i,o,c,w,M,H,te,de){this.localStorageService=e,this.toastr=r,this.router=i,this.modalService=o,this.excelService=c,this.currencyExchangeInteractor=w,this.workingDaysInteractor=M,this.clientInteractor=H,this.projectInteractor=te,this.resourceInteractor=de,this.clients=[],this.resources=[],this.resourceTypes=[],this.currencies=[],this.periods=[],this.displayCurrencies=[],this.displayPeriods=[],this.currencyExchanges=[],this.closeResult="",this.editPrice="",this.editRiskProvision=!1,this.editMargin=!1,this.colspan=1,this.ResourceTypeEnum=O1,this.project=e.get("project"),this.periods=Object.values(ci),this.resourceTypes=Object.values(O1),this.currencies=Object.values(fa),this.displayCurrencies.push(fa.AED),this.displayPeriods.push(ci.Annually),this.resourceForm=this.initResourceForm(),this.projectForm=new Zi({title:new Ot(this.project.title,[vr.required]),client:new Ot(this.project.client,[vr.required]),description:new Ot(this.project.description),duration:new Ot(this.project.duration),margin:new Ot(this.project.margin),riskProvision:new Ot(this.project.riskProvision)}),this.displayForm=new Zi({period:new Ot(ci.Annually),currency:new Ot(fa.AED)}),this.pricesForm=new Zi({period:new Ot(""),currency:new Ot(""),amount:new Ot("")})}ngOnInit(){this.fetchClients(),this.fetchResources(this.project.id),this.fetchCurrencyExchanges(),this.fetchWorkingDays()}fetchWorkingDays(){this.workingDaysInteractor.fetch().subscribe({next:e=>{this.workingDays=e.data},error:e=>{},complete:()=>{}})}initResourceForm(e){return new Zi({jobTitle:new Ot((e=e??{}).jobTitle?e.jobTitle:"",[vr.required]),resourceType:new Ot(e.resourceType?e.resourceType:"",[vr.required]),workload:new Ot(e&&e.workload?e.workload:1),quantity:new Ot(e&&e.quantity?e.quantity:1),basicSalaryPeriod:new Ot(e.basicSalary?fn.getAmountPeriod(e.basicSalary):"MONTHLY"),basicSalaryCurrency:new Ot(e.basicSalary?fn.getAmountCurrency(e.basicSalary):"AED"),basicSalary:new Ot(fn.getAmount(e.basicSalary),[vr.required]),allowancePeriod:new Ot(e.allowance?fn.getAmountPeriod(e.allowance):"MONTHLY"),allowanceCurrency:new Ot(fn.getAmountCurrency(e.allowance)),allowance:new Ot(fn.getAmount(e.allowance)),gratuityPeriod:new Ot(e.gratuity?fn.getAmountPeriod(e.gratuity):"ANNUALLY"),gratuityCurrency:new Ot(fn.getAmountCurrency(e.gratuity)),gratuity:new Ot(fn.getAmount(e.gratuity)),insurancePeriod:new Ot(e.insurance?fn.getAmountPeriod(e.insurance):"ANNUALLY"),insuranceCurrency:new Ot(fn.getAmountCurrency(e.insurance)),insurance:new Ot(e.insurance?fn.getAmount(e.insurance):"790"),flightTicketPeriod:new Ot(e.flightTicket?fn.getAmountPeriod(e.flightTicket):"ANNUALLY"),flightTicketCurrency:new Ot(fn.getAmountCurrency(e.flightTicket)),flightTicket:new Ot(e.flightTicket?fn.getAmount(e.flightTicket):"2500"),workPermitPeriod:new Ot(e.workPermit?fn.getAmountPeriod(e.workPermit):"ANNUALLY"),workPermitCurrency:new Ot(fn.getAmountCurrency(e.workPermit)),workPermit:new Ot(e.workPermit?fn.getAmount(e.workPermit):"6500"),officePeriod:new Ot(e.office?fn.getAmountPeriod(e.office):"DAILY"),officeCurrency:new Ot(fn.getAmountCurrency(e.office)),office:new Ot(e.office?fn.getAmount(e.office):"19"),generalSupportPackagePeriod:new Ot(e.generalSupportPackage?fn.getAmountPeriod(e.generalSupportPackage):"DAILY"),generalSupportPackageCurrency:new Ot(fn.getAmountCurrency(e.generalSupportPackage)),generalSupportPackage:new Ot(e.generalSupportPackage?fn.getAmount(e.generalSupportPackage):"15"),laptopWorkstationPeriod:new Ot(e.laptopWorkstation?fn.getAmountPeriod(e.laptopWorkstation):"ANNUALLY"),laptopWorkstationCurrency:new Ot(fn.getAmountCurrency(e.laptopWorkstation)),laptopWorkstation:new Ot(e.laptopWorkstation?fn.getAmount(e.laptopWorkstation):"5000"),licensesPeriod:new Ot(e.licenses?fn.getAmountPeriod(e.licenses):"ANNUALLY"),licensesCurrency:new Ot(fn.getAmountCurrency(e.licenses)),licenses:new Ot(e.licenses?fn.getAmount(e.licenses):"400"),mobilizationCostPeriod:new Ot(e.mobilizationCost?fn.getAmountPeriod(e.mobilizationCost):"ANNUALLY"),mobilizationCostCurrency:new Ot(fn.getAmountCurrency(e.mobilizationCost)),mobilizationCost:new Ot(e.mobilizationCost?fn.getAmount(e.mobilizationCost):"3500"),parkingPeriod:new Ot(e.parking?fn.getAmountPeriod(e.parking):"ANNUALLY"),parkingCurrency:new Ot(fn.getAmountCurrency(e.parking)),parking:new Ot(e.parking?fn.getAmount(e.parking):"0"),transportationPeriod:new Ot(e.transportation?fn.getAmountPeriod(e.transportation):"ANNUALLY"),transportationCurrency:new Ot(fn.getAmountCurrency(e.transportation)),transportation:new Ot(e.transportation?fn.getAmount(e.transportation):"0")})}fetchCurrencyExchanges(){this.currencyExchangeInteractor.fetchAll().subscribe({next:e=>{e&&e.success&&(this.currencyExchanges=e.data)},error:e=>{},complete:()=>{}})}fetchClients(){this.clientInteractor.fetchAll().subscribe({next:e=>{e&&e.success&&(this.clients=e.data)},error:e=>{},complete:()=>{}})}fetchResources(e){this.resourceInteractor.fetchByProject(e).subscribe({next:r=>{r&&r.success&&(this.resources=r.data)},error:r=>{},complete:()=>{}})}calculateCurrencyPeriodCost(e,r){return fn.calculateCurrencyPeriodCost(this.resources,this.workingDays,this.currencyExchanges,e,r)}calculateTotalAnnualPrice(){return(1+this.project.margin/100)*(1+this.project.riskProvision/100)*fn.calculateTotalAnnualCost(this.resources,this.workingDays)}calculateMargin(e,r,i){let o=fn.calculateTotalAnnualCost(this.resources,this.workingDays),c=fn.convertAmountFromCurrencyToCurrency(e,r,fa.AED,this.currencyExchanges);return 100*(fn.convertToAnnualAmount(c??0,i)/((1+this.project.riskProvision/100)*o)-1)}calculateCurrencyPeriodPrice(e,r){let i=fn.convertToAnnualAmount(this.calculateTotalAnnualPrice(),r);return fn.convertAmountToCurrency(i,e,this.currencyExchanges)}calculateResourceQuantity(){let e=0;return this.resources.forEach(r=>{e+=r.quantity??1}),e}onSubmit(){if(this.resourceForm.valid){let e={jobTitle:this.resourceForm.value.jobTitle,resourceType:this.resourceForm.value.resourceType,workload:this.resourceForm.value.workload,quantity:this.resourceForm.value.quantity,project:this.project.id,basicSalary:this.resourceForm.value.basicSalaryPeriod+" "+this.resourceForm.value.basicSalaryCurrency+" "+this.resourceForm.value.basicSalary,allowance:this.resourceForm.value.allowancePeriod+" "+this.resourceForm.value.allowanceCurrency+" "+this.resourceForm.value.allowance,gratuity:this.resourceForm.value.gratuityPeriod+" "+this.resourceForm.value.gratuityCurrency+" "+this.resourceForm.value.gratuity,insurance:this.resourceForm.value.insurancePeriod+" "+this.resourceForm.value.insuranceCurrency+" "+this.resourceForm.value.insurance,flightTicket:this.resourceForm.value.flightTicketPeriod+" "+this.resourceForm.value.flightTicketCurrency+" "+this.resourceForm.value.flightTicket,workPermit:this.resourceForm.value.workPermitPeriod+" "+this.resourceForm.value.workPermitCurrency+" "+this.resourceForm.value.workPermit,office:this.resourceForm.value.officePeriod+" "+this.resourceForm.value.officeCurrency+" "+this.resourceForm.value.office,generalSupportPackage:this.resourceForm.value.generalSupportPackagePeriod+" "+this.resourceForm.value.generalSupportPackageCurrency+" "+this.resourceForm.value.generalSupportPackage,laptopWorkstation:this.resourceForm.value.laptopWorkstationPeriod+" "+this.resourceForm.value.laptopWorkstationCurrency+" "+this.resourceForm.value.laptopWorkstation,licenses:this.resourceForm.value.licensesPeriod+" "+this.resourceForm.value.licensesCurrency+" "+this.resourceForm.value.licenses,mobilizationCost:this.resourceForm.value.mobilizationCostPeriod+" "+this.resourceForm.value.mobilizationCostCurrency+" "+this.resourceForm.value.mobilizationCost,parking:this.resourceForm.value.parkingPeriod+" "+this.resourceForm.value.parkingCurrency+" "+this.resourceForm.value.parking,transportation:this.resourceForm.value.transportationPeriod+" "+this.resourceForm.value.transportationCurrency+" "+this.resourceForm.value.transportation};this.selectedResource&&this.selectedResource.id?this.resourceInteractor.update(this.selectedResource.id,e).subscribe({next:r=>{this.selectedResource=void 0,this.resourceForm.reset(),this.editResourceModalReference&&this.editResourceModalReference.dismiss(),this.toastr.success("resource successfully updated","Update resource"),this.fetchResources(this.project.id)},error:r=>{this.toastr.error("Error occurred while updating the client","Update client")},complete:()=>{}}):this.resourceInteractor.create(e).subscribe({next:r=>{this.resourceForm.reset(),this.editResourceModalReference&&this.editResourceModalReference.dismiss(),this.toastr.success("resource successfully saved","Add resource"),this.fetchResources(this.project.id)},error:r=>{this.toastr.error("Error occurred while saving the resource","Add resource")},complete:()=>{}})}else this.toastr.error("Some inputs are incorrect","Edit resource")}onChangeBasicSalary(){this.inputs={jobTitle:this.resourceForm.value.jobTitle,basicSalaryPeriod:this.resourceForm.value.basicSalaryPeriod,basicSalaryCurrency:this.resourceForm.value.basicSalaryCurrency,basicSalary:this.resourceForm.value.basicSalary,resourceType:this.resourceForm.value.resourceType,workload:this.resourceForm.value.workload,quantity:this.resourceForm.value.quantity,allowancePeriod:this.resourceForm.value.basicSalaryPeriod,allowanceCurrency:this.resourceForm.value.basicSalaryCurrency,allowance:this.resourceForm.value.basicSalary,gratuityPeriod:this.resourceForm.value.gratuityPeriod,gratuityCurrency:this.resourceForm.value.gratuityCurrency,gratuity:this.resourceForm.value.basicSalary,insurancePeriod:this.resourceForm.value.insurancePeriod,insuranceCurrency:this.resourceForm.value.insuranceCurrency,insurance:this.resourceForm.value.insurance,flightTicketPeriod:this.resourceForm.value.flightTicketPeriod,flightTicketCurrency:this.resourceForm.value.flightTicketCurrency,flightTicket:this.resourceForm.value.flightTicket,workPermitPeriod:this.resourceForm.value.workPermitPeriod,workPermitCurrency:this.resourceForm.value.workPermitCurrency,workPermit:this.resourceForm.value.workPermit,officePeriod:this.resourceForm.value.officePeriod,officeCurrency:this.resourceForm.value.officeCurrency,office:this.resourceForm.value.office,generalSupportPackagePeriod:this.resourceForm.value.generalSupportPackagePeriod,generalSupportPackageCurrency:this.resourceForm.value.generalSupportPackageCurrency,generalSupportPackage:this.resourceForm.value.generalSupportPackage,laptopWorkstationPeriod:this.resourceForm.value.laptopWorkstationPeriod,laptopWorkstationCurrency:this.resourceForm.value.laptopWorkstationCurrency,laptopWorkstation:this.resourceForm.value.laptopWorkstation,licensesPeriod:this.resourceForm.value.licensesPeriod,licensesCurrency:this.resourceForm.value.licensesCurrency,licenses:this.resourceForm.value.licenses,mobilizationCostPeriod:this.resourceForm.value.mobilizationCostPeriod,mobilizationCostCurrency:this.resourceForm.value.mobilizationCostCurrency,mobilizationCost:this.resourceForm.value.mobilizationCost,parkingPeriod:this.resourceForm.value.parkingPeriod,parkingCurrency:this.resourceForm.value.parkingCurrency,parking:this.resourceForm.value.parking,transportationPeriod:this.resourceForm.value.transportationPeriod,transportationCurrency:this.resourceForm.value.transportationCurrency,transportation:this.resourceForm.value.transportation},this.resourceForm.setValue(this.inputs)}getClientById(e){return this.clients.find(r=>r.id===e)}onChangePeriod(){let e={period:this.displayForm.value.period,currency:this.displayForm.value.currency},r=this.displayPeriods.indexOf(e.period);r>-1?this.displayPeriods.splice(r,1):this.displayPeriods.push(e.period)}onChangeCurrency(){let e={period:this.displayForm.value.period,currency:this.displayForm.value.currency};if(fn.getRateFromGivenCurrencies(e.currency,fa.AED.toString(),this.currencyExchanges)){let r=this.displayCurrencies.indexOf(e.currency);r>-1?this.displayCurrencies.splice(r,1):this.displayCurrencies.push(e.currency)}else this.toastr.error("No exchange for this currency. Please add currency exchange","Display Amount")}fetchProject(){this.projectInteractor.fetchOne(this.project.id).subscribe({next:e=>{e&&e.success&&(this.project=e.data,this.localStorageService.update("project",this.project))},error:e=>{},complete:()=>{}})}onSubmitProject(){this.projectForm.valid?this.projectInteractor.update(this.project.id,{title:this.projectForm.value.title,duration:this.projectForm.value.duration,description:this.projectForm.value.description,client:this.projectForm.value.client,margin:this.projectForm.value.margin,riskProvision:this.projectForm.value.riskProvision}).subscribe({next:r=>{this.fetchProject(),this.toastr.success("project successfully updated","Success")},error:r=>{this.toastr.error("Error occurred while updating the project","Error")},complete:()=>{}}):this.toastr.error("Some inputs are incorrect","Error")}onSubmitDisplay(){}onClickBack(){this.router.navigate(["dashboard"])}onClickDeleteResource(){let e=this.localStorageService.get("resource");e&&e.id?this.resourceInteractor.delete(e.id).subscribe({next:r=>{this.localStorageService.delete("resource"),this.toastr.success("Resource deleted successfully","Delete resource")},error:r=>{this.localStorageService.delete("resource"),this.toastr.error("Error occurred while deleting the resource","Delete resource")},complete:()=>{}}):(this.localStorageService.delete("resource"),this.toastr.error("Resource not found","Delete resource"))}onClickResourceToBeDeleted(e){this.localStorageService.add("resource",e)}onClickDismissResource(){this.localStorageService.delete("resource")}onClickEditResourceModalClose(){this.resourceForm=this.initResourceForm(),this.editResourceModalReference.dismiss()}open(e){this.editResourceModalReference=this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"xl"}),this.editResourceModalReference.result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(e){switch(e){case Bc.ESC:return"by pressing ESC";case Bc.BACKDROP_CLICK:return"by clicking on a backdrop";default:return`with: ${e}`}}openEditResourceModal(e,r){this.selectedResource=e,this.resourceForm=this.initResourceForm(this.selectedResource),this.open(r)}onChangePrice(e,r,i){this.projectForm=new Zi({title:new Ot(this.project.title,[vr.required]),client:new Ot(this.project.client,[vr.required]),description:new Ot(this.project.description),duration:new Ot(this.project.duration),margin:new Ot(this.calculateMargin(i.target.value,r,e)),riskProvision:new Ot(this.project.riskProvision)}),this.onSubmitProject()}onClickResourceDuplicate(e){this.resourceForm=this.initResourceForm(e),this.onSubmit()}onMouseLeaveEditPrice(){this.editPrice="",this.pricesForm.reset()}getEditPriceTag(){return this.editPrice}onMouseEnterEditPrice(e,r,i,o,c){this.editPrice=o+""+c,this.pricesForm=new Zi({period:new Ot(i),currency:new Ot(r),amount:new Ot(e)})}onMouseEnterEditRiskProvision(){this.editRiskProvision=!0}onMouseLeaveEditRiskProvision(){this.editRiskProvision=!1}onMouseEnterEditMargin(){this.editMargin=!0}onMouseLeaveEditMargin(){this.editMargin=!1}onChangeResourceType(){this.selectedResourceType=this.resourceForm.value.resourceType}onClickProjectExport(){let e={project:this.project,resources:this.resources,cost:this.calculateCurrencyPeriodCost(fa.AED,ci.Annually),price:this.calculateTotalAnnualPrice()};this.excelService.generateExcel(e,"cost_sheet")}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(Rc),s.Y36(Za),s.Y36(bi),s.Y36(uS),s.Y36(v5),s.Y36(A3),s.Y36(U3),s.Y36(w5),s.Y36(x),s.Y36(De))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-resources"]],decls:140,vars:22,consts:[[1,"row"],[1,"col-12","col-md-12","col-lg-12","col-xl-12"],[1,"card"],["id","currencyExchangesAccordion",1,"accordion","accordion-flush","m-1"],[1,"accordion-item"],[1,"accordion-header"],[1,"col-1","pointer","align-self-center","m-l-5",3,"click"],["src","assets/images/arrow-left.png",1,"float-left"],[1,"col","align-self-center"],[1,"col"],[1,"card-title"],[2,"font-size","medium"],[1,"col-3","col-sm-3","col-md-2","col-lg-2","col-xl-2","align-self-center"],[2,"font-size","x-small"],[1,"col-12"],[2,"font-size","xx-small"],[1,"col-1","align-self-center"],["src","assets/images/export.png","alt","duplicate","width","32","data-bs-toggle","tooltip","data-bs-placement","top","title","export",1,"aspect-square","action","pointer",3,"click"],[1,"col-2","col-sm-2","col-md-1","col-lg-1","col-xl-1","align-self-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#currencyExchangesCollapse","aria-expanded","false","aria-controls","currencyExchangesCollapse",1,"accordion-button","collapsed"],["id","currencyExchangesCollapse","data-bs-parent","#currencyExchangesAccordion",1,"accordion-collapse","collapse"],[1,"accordion-body"],["novalidate","",1,"form-signin",3,"formGroup","ngSubmit"],[1,"row","m-3"],[1,"col-12","form-group"],["for","title"],[2,"color","red"],["type","text","formControlName","title","placeholder","Project title","id","title",1,"form-control"],["class","form-text text-muted text-danger",4,"ngIf"],[1,"col-9","form-group"],["for","client"],["formControlName","client","id","client",1,"form-control"],["value","","disabled",""],["style","color: black;",3,"ngValue",4,"ngFor","ngForOf"],[1,"col-3","form-group"],["for","duration"],["type","number","formControlName","duration","placeholder","Duration","id","duration",1,"form-control"],["for","description"],["type","number","formControlName","description","placeholder","Description","id","description",1,"form-control"],["type","button","data-bs-toggle","collapse","data-bs-target","#currencyExchangesCollapse","aria-expanded","false","aria-controls","currencyExchangesCollapse",1,"btn","btn-outline-success","float-right",3,"click"],[1,"card-header"],[1,"card-title","d-inline-block"],[4,"ngIf"],[1,"card-block"],[1,"table-responsive","scrollmenu","m-3"],[1,"table","mb-0","new-patient-table","table-hover"],["type","text","formControlName","jobTitle","placeholder","Title of the resource","id","jobTitle"],["formControlName","resourceType",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","basicSalaryCurrency",3,"change"],["type","number","formControlName","basicSalary","placeholder","basic salary","id","basicSalary",3,"change"],["formControlName","basicSalaryPeriod",3,"change"],["type","number","formControlName","quantity","placeholder","nb resource","id","quantity"],["type","button","class","btn btn-outline-success btn-sm",3,"click",4,"ngIf"],[1,"m-3"],["class","table-responsive scrollmenu m-3",4,"ngIf"],["class","row",4,"ngIf"],["id","resourceDeleteModal","tabindex","-1","aria-labelledby","resourceDeleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","resourceDeleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["editResourceModal",""],[1,"form-text","text-muted","text-danger"],[2,"color","black",3,"ngValue"],[3,"ngValue"],["type","number","formControlName","workload","placeholder","Workload","id","workload"],["type","button",1,"btn","btn-outline-success","btn-sm",3,"click"],[4,"ngFor","ngForOf"],["src","assets/images/duplicate.png","alt","duplicate","data-bs-toggle","tooltip","data-bs-placement","top","title","duplicate",1,"aspect-square","action",3,"click"],["src","assets/images/delete.png","data-bs-target","#resourceDeleteModal","alt","delete","data-bs-toggle","modal","data-bs-placement","top","title","delete",1,"aspect-square","action",3,"click"],[3,"click"],[3,"amount"],[1,"col-6"],["for","period"],["formControlName","period","id","period",1,"form-control",3,"change"],["for","currency"],["formControlName","currency","id","currency",1,"form-control",3,"change"],[3,"mouseleave","mouseenter",4,"ngFor","ngForOf"],[3,"mouseenter","mouseleave"],["novalidate","","class","form-signin",3,"formGroup","ngSubmit",4,"ngIf"],[3,"mouseleave","mouseenter"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["type","number","formControlName","amount",1,"form-control",3,"placeholder","change"],["type","number","formControlName","margin","placeholder","margin","id","margin",1,"form-control"],["type","number","formControlName","riskProvision","placeholder","Risk provision","id","riskProvision",1,"form-control"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"col","divider-left"],[1,"form-group"],["for","resourceJobTitle"],["type","text","formControlName","jobTitle","placeholder","Title of the resource","id","resourceJobTitle",1,"form-control"],["formControlName","resourceType",1,"form-control"],[1,"row","form-group"],["for","resourceBasicSalary"],[1,"col-3"],["formControlName","basicSalaryCurrency",1,"form-control",3,"change"],["type","number","formControlName","basicSalary","placeholder","basic salary","id","resourceBasicSalary",1,"form-control",3,"change"],[1,"col-4"],["formControlName","basicSalaryPeriod",1,"form-control",3,"change"],["for","resourceWorkload"],["type","number","formControlName","workload","placeholder","Workload","id","resourceWorkload",1,"form-control"],["for","resourceQuantity"],["type","number","formControlName","quantity","placeholder","Nb resource","id","resourceQuantity",1,"form-control"],["for","resourceAllowance"],["formControlName","allowanceCurrency",1,"form-control"],["type","number","formControlName","allowance","placeholder","Allowance","id","resourceAllowance",1,"form-control"],["formControlName","allowancePeriod",1,"form-control"],["for","resourceGratuity"],["formControlName","gratuityCurrency",1,"form-control"],["type","number","formControlName","gratuity","placeholder","Gratuity / End of service","id","resourceGratuity",1,"form-control"],["formControlName","gratuityPeriod",1,"form-control"],["for","resourceInsurance"],["formControlName","insuranceCurrency",1,"form-control"],["type","number","formControlName","insurance","placeholder","Insurance","id","resourceInsurance",1,"form-control"],["formControlName","insurancePeriod",1,"form-control"],["for","resourceFlightTicket"],["formControlName","flightTicketCurrency",1,"form-control"],["type","number","formControlName","flightTicket","placeholder","Annual flight ticket","id","resourceFlightTicket",1,"form-control"],["formControlName","flightTicketPeriod",1,"form-control"],["for","resourceWorkPermit"],["formControlName","workPermitCurrency",1,"form-control"],["type","number","formControlName","workPermit","placeholder","VISA / Work Permit","id","resourceWorkPermit",1,"form-control"],["formControlName","workPermitPeriod",1,"form-control"],["for","resourceOffice"],["formControlName","officeCurrency",1,"form-control"],["type","number","formControlName","office","placeholder","Office","id","resourceOffice",1,"form-control"],["formControlName","officePeriod",1,"form-control"],["for","resourceGeneralSupportPackage"],["formControlName","generalSupportPackageCurrency",1,"form-control"],["type","number","formControlName","generalSupportPackage","placeholder","General support package","id","resourceGeneralSupportPackage",1,"form-control"],["formControlName","generalSupportPackagePeriod",1,"form-control"],["for","resourceLaptopWorkstation"],["formControlName","laptopWorkstationCurrency",1,"form-control"],["type","number","formControlName","laptopWorkstation","placeholder","Laptop workstation","id","resourceLaptopWorkstation",1,"form-control"],["formControlName","laptopWorkstationPeriod",1,"form-control"],["for","resourceLicenses"],["formControlName","licensesCurrency",1,"form-control"],["type","number","formControlName","licenses","placeholder","Licenses","id","resourceLicenses",1,"form-control"],["formControlName","licensesPeriod",1,"form-control"],["for","resourceMobilizationCost"],["formControlName","mobilizationCostCurrency",1,"form-control"],["type","number","formControlName","mobilizationCost","placeholder","Mobilization cost","id","resourceMobilizationCost",1,"form-control"],["formControlName","mobilizationCostPeriod",1,"form-control"],["for","resourceParking"],["type","number","formControlName","parking","placeholder","Parking","id","resourceParking",1,"form-control"],["formControlName","parkingPeriod",1,"form-control"],["for","resourceTransportation"],["formControlName","transportationCurrency",1,"form-control"],["type","number","formControlName","transportation","placeholder","Transportation","id","resourceTransportation",1,"form-control"],["formControlName","transportationPeriod",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(r,i){if(1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5)(6,"div",0)(7,"div",6),s.NdJ("click",function(){return i.onClickBack()}),s._UZ(8,"img",7),s.qZA(),s.TgZ(9,"div",8)(10,"div",0)(11,"div",9)(12,"h4",10)(13,"b"),s._uU(14),s.ALo(15,"uppercase"),s.qZA()()(),s.TgZ(16,"div",9)(17,"p",11)(18,"b"),s._uU(19),s.qZA()()(),s.TgZ(20,"div",12)(21,"p",13)(22,"b"),s._uU(23),s.qZA(),s._uU(24," months"),s.qZA()(),s.TgZ(25,"div",14)(26,"p",15),s._uU(27),s.qZA()()()(),s.TgZ(28,"div",16)(29,"img",17),s.NdJ("click",function(){return i.onClickProjectExport()}),s.qZA()(),s.TgZ(30,"div",18),s._UZ(31,"button",19),s.qZA()()(),s.TgZ(32,"div",20),s._UZ(33,"hr"),s.TgZ(34,"div",21)(35,"div",0)(36,"div",14)(37,"form",22),s.NdJ("ngSubmit",function(){return i.onSubmitProject()}),s.TgZ(38,"div",23)(39,"div",24)(40,"label",25),s._uU(41,"Project title"),s.TgZ(42,"span",26),s._uU(43,"*"),s.qZA()(),s._UZ(44,"input",27),s.YNc(45,cG,2,0,"small",28),s.qZA(),s.TgZ(46,"div",29)(47,"label",30),s._uU(48,"Client"),s.TgZ(49,"span",26),s._uU(50,"*"),s.qZA()(),s.TgZ(51,"select",31)(52,"option",32),s._uU(53,"Select client"),s.qZA(),s.YNc(54,uG,2,2,"option",33),s.qZA()(),s.TgZ(55,"div",34)(56,"label",35),s._uU(57,"Duration(Months)"),s.qZA(),s._UZ(58,"input",36),s.qZA(),s.TgZ(59,"div",24)(60,"label",37),s._uU(61,"Description"),s.qZA(),s.TgZ(62,"textarea",38),s._uU(63,"                                                "),s.qZA()()()()(),s.TgZ(64,"div",14)(65,"button",39),s.NdJ("click",function(){return i.onSubmitProject()}),s._uU(66,"Save "),s.qZA()()()()()()()()()(),s.TgZ(67,"div",0)(68,"div",14)(69,"div",2)(70,"div",40)(71,"h4",41),s.YNc(72,dG,2,1,"b",42),s._uU(73," Resources "),s.qZA()(),s.TgZ(74,"div",43)(75,"div",44)(76,"table",45)(77,"thead")(78,"tr")(79,"th"),s._uU(80,"Job title"),s.TgZ(81,"span",26),s._uU(82,"*"),s.qZA()(),s.TgZ(83,"th"),s._uU(84,"Resource type"),s.TgZ(85,"span",26),s._uU(86,"*"),s.qZA()(),s.TgZ(87,"th"),s._uU(88,"Basic salary"),s.TgZ(89,"span",26),s._uU(90,"*"),s.qZA()(),s.YNc(91,hG,2,0,"th",42),s.TgZ(92,"th"),s._uU(93," Number resources "),s.qZA(),s.TgZ(94,"th"),s._uU(95,"Actions"),s.qZA()()(),s.TgZ(96,"tbody")(97,"tr")(98,"td")(99,"form",22),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(100,"input",46),s.qZA()(),s.TgZ(101,"td")(102,"form",22),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(103,"select",47),s.NdJ("change",function(){return i.onChangeResourceType()}),s.TgZ(104,"option",32),s._uU(105,"Select resource type"),s.qZA(),s.YNc(106,fG,2,2,"option",48),s.qZA()()(),s.TgZ(107,"td")(108,"form",22),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(109,"select",49),s.NdJ("change",function(){return i.onChangeBasicSalary()}),s.YNc(110,pG,2,2,"option",48),s.qZA(),s.TgZ(111,"input",50),s.NdJ("change",function(){return i.onChangeBasicSalary()}),s.qZA(),s.TgZ(112,"select",51),s.NdJ("change",function(){return i.onChangeBasicSalary()}),s.YNc(113,mG,2,2,"option",48),s.qZA()()(),s.YNc(114,gG,3,1,"td",42),s.TgZ(115,"td")(116,"form",22),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(117,"input",52),s.qZA()(),s.TgZ(118,"td"),s.YNc(119,_G,2,0,"button",53),s.qZA()()()()(),s._UZ(120,"div",54),s.YNc(121,bG,42,1,"div",55),s.qZA()()()(),s.YNc(122,RG,48,8,"div",56),s.TgZ(123,"div",57)(124,"div",58)(125,"div",59)(126,"div",60)(127,"h5",61),s._uU(128,"Delete resource"),s.qZA(),s._UZ(129,"button",62),s.qZA(),s.TgZ(130,"div",63)(131,"b"),s._uU(132,"Do you really want to delete this resource?"),s.qZA()(),s.TgZ(133,"div",64)(134,"button",65),s.NdJ("click",function(){return i.onClickDismissResource()}),s._uU(135,"Close "),s.qZA(),s.TgZ(136,"button",66),s.NdJ("click",function(){return i.onClickDeleteResource()}),s._uU(137," Confirm "),s.qZA()()()()(),s.YNc(138,cq,187,31,"ng-template",null,67,s.W1O)),2&r){let o;s.xp6(14),s.Oqu(s.lcZ(15,20,i.project.title)),s.xp6(5),s.Oqu(null==(o=i.getClientById(i.project.client))?null:o.companyName),s.xp6(4),s.Oqu(i.project.duration),s.xp6(4),s.Oqu(i.project.description),s.xp6(10),s.Q6J("formGroup",i.projectForm),s.xp6(8),s.Q6J("ngIf",i.projectForm.controls.title.touched&&(null==i.projectForm.controls.title.errors?null:i.projectForm.controls.title.errors.required)),s.xp6(9),s.Q6J("ngForOf",i.clients),s.xp6(18),s.Q6J("ngIf",i.resources),s.xp6(19),s.Q6J("ngIf",i.selectedResourceType&&i.selectedResourceType==i.ResourceTypeEnum.WORK_PACKAGE),s.xp6(8),s.Q6J("formGroup",i.resourceForm),s.xp6(3),s.Q6J("formGroup",i.resourceForm),s.xp6(4),s.Q6J("ngForOf",i.resourceTypes),s.xp6(2),s.Q6J("formGroup",i.resourceForm),s.xp6(2),s.Q6J("ngForOf",i.currencies),s.xp6(3),s.Q6J("ngForOf",i.periods),s.xp6(1),s.Q6J("ngIf",i.selectedResourceType&&i.selectedResourceType==i.ResourceTypeEnum.WORK_PACKAGE),s.xp6(2),s.Q6J("formGroup",i.resourceForm),s.xp6(3),s.Q6J("ngIf",i.resourceForm.valid),s.xp6(2),s.Q6J("ngIf",i.resources&&i.resources.length>0),s.xp6(1),s.Q6J("ngIf",i.resources&&i.resources.length>0&&i.workingDays)}},dependencies:[hn,er,Ac,O_,Jm,Dc,Km,fh,zu,ch,kc,Gu,lG,Qi,G3],styles:["div.scrollmenu[_ngcontent-%COMP%]{background-color:#333;overflow:auto;white-space:nowrap}div.scrollmenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;color:#fff;text-align:center;padding:14px;text-decoration:none}tr[_ngcontent-%COMP%]{cursor:pointer}tr[_ngcontent-%COMP%]   img.action[_ngcontent-%COMP%]{display:none}tr[_ngcontent-%COMP%]:hover   img.action[_ngcontent-%COMP%]{display:inline-block}table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid lightgray;border-collapse:collapse}.divider-left[_ngcontent-%COMP%]{border-right:1px dashed #333}"]})}return n})();var dS=(()=>{return(n=dS||(dS={})).Admin="ADMIN",n.Business="BUSINESS MANAGER",n.Financial="FINANCIAL MANAGER",dS;var n})();function dq(n,t){if(1&n&&(s.TgZ(0,"option",31),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function hq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmit())}),s._uU(1," Save "),s.qZA()}}function fq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td",33),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(),w=s.MAs(73);return s.KtG(c.openEditAccountModal(o,w))}),s.TgZ(2,"div",0)(3,"div",4),s._UZ(4,"img",34),s.qZA()()(),s.TgZ(5,"td",33),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(),w=s.MAs(73);return s.KtG(c.openEditAccountModal(o,w))}),s.TgZ(6,"div",0)(7,"div",4)(8,"h2"),s._uU(9),s.qZA()()()(),s.TgZ(10,"td",33),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(),w=s.MAs(73);return s.KtG(c.openEditAccountModal(o,w))}),s._uU(11),s.qZA(),s.TgZ(12,"td",33),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(),w=s.MAs(73);return s.KtG(c.openEditAccountModal(o,w))}),s._uU(13),s.qZA(),s.TgZ(14,"td",33),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(),w=s.MAs(73);return s.KtG(c.openEditAccountModal(o,w))}),s._uU(15),s.qZA(),s.TgZ(16,"td",33),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(),w=s.MAs(73);return s.KtG(c.openEditAccountModal(o,w))}),s._uU(17),s.qZA(),s.TgZ(18,"td",33),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw(),w=s.MAs(73);return s.KtG(c.openEditAccountModal(o,w))}),s._uU(19),s.qZA(),s.TgZ(20,"td")(21,"img",35),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.onClickAccountToBeDeleted(o))}),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(9),s.Oqu(e.firstname),s.xp6(2),s.Oqu(e.lastname),s.xp6(2),s.Oqu(e.email),s.xp6(2),s.Oqu(e.role),s.xp6(2),s.Oqu(e.phoneNumber),s.xp6(2),s.Oqu(e.address)}}function pq(n,t){1&n&&(s.TgZ(0,"small",55),s._uU(1," Please enter firstname! "),s.qZA())}function mq(n,t){1&n&&(s.TgZ(0,"small",55),s._uU(1," Please enter lastname! "),s.qZA())}function gq(n,t){if(1&n&&(s.TgZ(0,"option",31),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("ngValue",e),s.xp6(1),s.Oqu(e)}}function _q(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",24)(1,"h4",36),s._uU(2,"Edit account"),s.qZA(),s.TgZ(3,"button",37),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.KtG(o.dismiss("Cross click"))}),s.qZA()(),s.TgZ(4,"div",27)(5,"form",10),s.NdJ("ngSubmit",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmit())}),s.TgZ(6,"div",0)(7,"div",4)(8,"div",38)(9,"label",39),s._uU(10,"Firstname"),s.TgZ(11,"span",9),s._uU(12,"*"),s.qZA()(),s._UZ(13,"input",40),s.YNc(14,pq,2,0,"small",41),s.qZA(),s.TgZ(15,"div",38)(16,"label",42),s._uU(17,"Lastname"),s.TgZ(18,"span",9),s._uU(19,"*"),s.qZA()(),s._UZ(20,"input",43),s.YNc(21,mq,2,0,"small",41),s.qZA(),s.TgZ(22,"div"),s._UZ(23,"img",44),s.qZA()(),s.TgZ(24,"div",4)(25,"div",38)(26,"label",45),s._uU(27,"Role"),s.TgZ(28,"span",9),s._uU(29,"*"),s.qZA()(),s.TgZ(30,"select",46)(31,"option",15),s._uU(32,"Select role"),s.qZA(),s.YNc(33,gq,2,2,"option",16),s.qZA()(),s.TgZ(34,"div",38)(35,"label",47),s._uU(36,"Email"),s.TgZ(37,"span",9),s._uU(38,"*"),s.qZA()(),s._UZ(39,"input",48),s.qZA(),s.TgZ(40,"div",38)(41,"label",49),s._uU(42,"Phone number"),s.qZA(),s._UZ(43,"input",50),s.qZA(),s.TgZ(44,"div",38)(45,"label",51),s._uU(46,"Address"),s.qZA(),s._UZ(47,"input",52),s.qZA()()()()(),s.TgZ(48,"div",28)(49,"button",53),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onClickEditAccountModalClose())}),s._uU(50,"Close"),s.qZA(),s.TgZ(51,"button",54),s.NdJ("click",function(){s.CHM(e);const i=s.oxw();return s.KtG(i.onSubmit())}),s._uU(52,"Save "),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.accountForm),s.xp6(9),s.Q6J("ngIf",e.accountForm.controls.firstname.touched&&(null==e.accountForm.controls.firstname.errors?null:e.accountForm.controls.firstname.errors.required)),s.xp6(7),s.Q6J("ngIf",e.accountForm.controls.lastname.touched&&(null==e.accountForm.controls.lastname.errors?null:e.accountForm.controls.lastname.errors.required)),s.xp6(12),s.Q6J("ngForOf",e.roles),s.xp6(18),s.Q6J("disabled",!e.accountForm.valid)}}const yq=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:jE},{path:"",component:e3,canActivate:[Un],children:[{path:"dashboard",component:wn},{path:"resources",component:uq},{path:"clients",component:zz},{path:"users",component:(()=>{class n{constructor(e,r,i,o,c){this.accountInteractor=e,this.router=r,this.modalService=i,this.toastr=o,this.localStorageService=c,this.accounts=[],this.roles=[],this.closeResult="",this.roles=Object.values(dS),this.accountForm=new Zi({firstname:new Ot("",[vr.required]),lastname:new Ot("",[vr.required]),email:new Ot("",[vr.required]),address:new Ot(""),phoneNumber:new Ot(""),avatar:new Ot(""),role:new Ot("",[vr.required])})}ngOnInit(){this.fetchAccounts()}fetchAccounts(){this.accountInteractor.fetchAll().subscribe({next:e=>{this.accounts=e.data},error:e=>{},complete:()=>{}})}onSubmit(){if(this.accountForm.valid){let e={firstname:this.accountForm.value.firstname,lastname:this.accountForm.value.lastname,email:this.accountForm.value.email,address:this.accountForm.value.address,phoneNumber:this.accountForm.value.phoneNumber,role:this.accountForm.value.role,avatar:""};this.selectedAccount&&this.selectedAccount.id?this.accountInteractor.update(this.selectedAccount.id,e).subscribe({next:r=>{this.selectedAccount=void 0,this.accountForm.reset(),this.editAccountModalReference.dismiss(),this.toastr.success("account successfully updated","Update account"),this.fetchAccounts()},error:r=>{this.toastr.error("Error occurred while updating the account","Update account")},complete:()=>{}}):this.accountInteractor.create(e).subscribe({next:r=>{this.accountForm.reset(),this.editAccountModalReference.dismiss(),this.toastr.success("account successfully saved","Success"),this.fetchAccounts()},error:r=>{this.toastr.error("Error occurred while saving account","Error")},complete:()=>{}})}else this.toastr.error("Some inputs are incorrect","Error")}onClickAccountToBeDeleted(e){this.localStorageService.add("account",e)}onClickDeleteAccount(){let e=this.localStorageService.get("account");e&&e.id?this.accountInteractor.delete(e.id).subscribe({next:r=>{this.localStorageService.delete("account"),this.toastr.success("Account deleted successfully","Delete account")},error:r=>{this.localStorageService.delete("account"),this.toastr.error("Error occurred while deleting the account","Delete account")},complete:()=>{}}):(this.localStorageService.delete("account"),this.toastr.error("Account not found","Delete account"))}onClickDismiss(){this.localStorageService.delete("account")}onClickEditAccountModalClose(){this.accountForm.reset(),this.editAccountModalReference.dismiss()}open(e){this.editAccountModalReference=this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg"}),this.editAccountModalReference.result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(e){switch(e){case Bc.ESC:return"by pressing ESC";case Bc.BACKDROP_CLICK:return"by clicking on a backdrop";default:return`with: ${e}`}}openEditAccountModal(e,r){this.selectedAccount=e,this.accountForm=new Zi({firstname:new Ot(e.firstname,[vr.required]),lastname:new Ot(e.lastname,[vr.required]),email:new Ot(e.email,[vr.required]),address:new Ot(e.address),phoneNumber:new Ot(e.phoneNumber),avatar:new Ot(e.avatar),role:new Ot(e.role,[vr.required])}),this.open(r)}static#e=this.\u0275fac=function(r){return new(r||n)(s.Y36(F3),s.Y36(bi),s.Y36(uS),s.Y36(Za),s.Y36(Rc))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-accounts"]],decls:89,vars:8,consts:[[1,"row"],[1,"col-12","col-md-12","col-lg-12","col-xl-12"],[1,"card"],[1,"card-header"],[1,"col"],[1,"card-title","d-inline-block"],[1,"card-block","m-1"],[1,"table-responsive"],[1,"table","mb-0","new-patient-table","table-hover"],[2,"color","red"],["novalidate","",1,"form-signin",3,"formGroup","ngSubmit"],["type","text","formControlName","firstname","placeholder","Firstname"],["type","text","formControlName","lastname","placeholder","Lastname"],["type","text","formControlName","email","placeholder","Email"],["formControlName","role"],["value","","disabled",""],["style","color: black;",3,"ngValue",4,"ngFor","ngForOf"],["type","button","class","btn btn-outline-success btn-sm",3,"click",4,"ngIf"],[1,"m-3"],[4,"ngFor","ngForOf"],["editAccountModal",""],["id","accountDeleteModal","tabindex","-1","aria-labelledby","accountDeleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","accountDeleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[2,"color","black",3,"ngValue"],["type","button",1,"btn","btn-outline-success","btn-sm",3,"click"],[3,"click"],["width","28","height","28","src","assets/images/user.jpg","alt","",1,"rounded-circle","m-r-5"],["src","assets/images/delete.png","data-bs-target","#accountDeleteModal","alt","delete","data-bs-toggle","modal","data-bs-placement","top","title","delete",1,"aspect-square","action",3,"click"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"form-group"],["for","firstname"],["type","text","formControlName","firstname","placeholder","Firstname","id","firstname",1,"form-control"],["class","form-text text-muted text-danger",4,"ngIf"],["for","lastname"],["type","text","formControlName","lastname","placeholder","Lastname","id","lastname",1,"form-control"],["src","assets/images/user.jpg"],["for","role"],["formControlName","role","id","role",1,"form-control"],["for","email"],["type","email","formControlName","email","placeholder","Email","id","email",1,"form-control"],["for","phoneNumber"],["type","tel","formControlName","phoneNumber","placeholder","Phone number","id","phoneNumber",1,"form-control"],["for","address"],["type","tel","formControlName","address","placeholder","Address","id","address",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"form-text","text-muted","text-danger"]],template:function(r,i){1&r&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",4)(6,"h4",5)(7,"b"),s._uU(8),s.qZA(),s._uU(9," Users "),s.qZA()()()(),s.TgZ(10,"div",6)(11,"div",7)(12,"table",8)(13,"thead")(14,"tr")(15,"th"),s._uU(16,"Firstname"),s.TgZ(17,"span",9),s._uU(18,"*"),s.qZA()(),s.TgZ(19,"th"),s._uU(20,"Lastname"),s.TgZ(21,"span",9),s._uU(22,"*"),s.qZA()(),s.TgZ(23,"th"),s._uU(24,"Email"),s.TgZ(25,"span",9),s._uU(26,"*"),s.qZA()(),s.TgZ(27,"th"),s._uU(28,"Role"),s.TgZ(29,"span",9),s._uU(30,"*"),s.qZA()(),s._UZ(31,"th"),s.qZA()(),s.TgZ(32,"tbody")(33,"tr")(34,"td")(35,"form",10),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(36,"input",11),s.qZA()(),s.TgZ(37,"td")(38,"form",10),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(39,"input",12),s.qZA()(),s.TgZ(40,"td")(41,"form",10),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s._UZ(42,"input",13),s.qZA()(),s.TgZ(43,"td")(44,"form",10),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(45,"select",14)(46,"option",15),s._uU(47,"Select role"),s.qZA(),s.YNc(48,dq,2,2,"option",16),s.qZA()()(),s.TgZ(49,"td"),s.YNc(50,hq,2,0,"button",17),s.qZA()()()()(),s._UZ(51,"div",18),s.TgZ(52,"div",7)(53,"table",8)(54,"thead")(55,"tr"),s._UZ(56,"th"),s.TgZ(57,"th"),s._uU(58,"Firstname"),s.qZA(),s.TgZ(59,"th"),s._uU(60,"Lastname"),s.qZA(),s.TgZ(61,"th"),s._uU(62,"Email"),s.qZA(),s.TgZ(63,"th"),s._uU(64,"Role"),s.qZA(),s.TgZ(65,"th"),s._uU(66,"Phone number"),s.qZA(),s.TgZ(67,"th"),s._uU(68,"Address"),s.qZA(),s._UZ(69,"th"),s.qZA()(),s.TgZ(70,"tbody"),s.YNc(71,fq,22,6,"tr",19),s.qZA()()()()()()(),s.YNc(72,_q,53,5,"ng-template",null,20,s.W1O),s.TgZ(74,"div",21)(75,"div",22)(76,"div",23)(77,"div",24)(78,"h5",25),s._uU(79,"Delete account"),s.qZA(),s._UZ(80,"button",26),s.qZA(),s.TgZ(81,"div",27)(82,"b"),s._uU(83,"Do you really want to delete this account?"),s.qZA()(),s.TgZ(84,"div",28)(85,"button",29),s.NdJ("click",function(){return i.onClickDismiss()}),s._uU(86,"Close "),s.qZA(),s.TgZ(87,"button",30),s.NdJ("click",function(){return i.onClickDeleteAccount()}),s._uU(88," Confirm "),s.qZA()()()()()),2&r&&(s.xp6(8),s.Oqu(null==i.accounts?null:i.accounts.length),s.xp6(27),s.Q6J("formGroup",i.accountForm),s.xp6(3),s.Q6J("formGroup",i.accountForm),s.xp6(3),s.Q6J("formGroup",i.accountForm),s.xp6(3),s.Q6J("formGroup",i.accountForm),s.xp6(4),s.Q6J("ngForOf",i.roles),s.xp6(2),s.Q6J("ngIf",i.accountForm.valid),s.xp6(21),s.Q6J("ngForOf",i.accounts))},dependencies:[hn,er,Ac,O_,Jm,Dc,fh,zu,ch,kc,Gu],styles:["tr[_ngcontent-%COMP%]{cursor:pointer}tr[_ngcontent-%COMP%]   img.action[_ngcontent-%COMP%]{display:none}tr[_ngcontent-%COMP%]:hover   img.action[_ngcontent-%COMP%]{display:inline-block}"]})}return n})()},{path:"settings",component:iG}]}];let bq=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[iC.forRoot(yq,{scrollPositionRestoration:"enabled"}),iC]})}return n})(),vq=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&s._UZ(0,"router-outlet")},dependencies:[R0],encapsulation:2})}return n})(),vh=(()=>{class n{static#e=this.ACCOUNTS="accounts";static#t=this.CLIENTS="clients";static#n=this.PROJECTS="projects";static#r=this.RESOURCES="resources";static#i=this.CURRENCY_EXCHANGE="currency-exchanges";static#s=this.WORKING_DAYS="working-days"}return n})();var Or=Re(5813);function q3(){return(0,Rr.e)((n,t)=>{let e,r=!1;n.subscribe((0,Ct.x)(t,i=>{const o=e;e=i,r&&t.next([o,i]),r=!0}))})}var Tn,As=Re(2011),Z3=(Re(1451),Re(3942)),xt=Re(5861),Oo=Re(9681),jc=Re(4859),Uc=Re(1877),Oe=Re(2090),wq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wh={},W3=W3||{},rr=wq||self;function hS(){}function K3(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function F1(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Y3="closure_uid_"+(1e9*Math.random()>>>0),Tq=0;function Eq(n,t,e){return n.call.apply(n.bind,arguments)}function Sq(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(t,i)}}return function(){return n.apply(t,arguments)}}function Zs(n,t,e){return(Zs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Eq:Sq).apply(null,arguments)}function fS(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ws(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,i,o){for(var c=Array(arguments.length-2),w=2;w<arguments.length;w++)c[w-2]=arguments[w];return t.prototype[i].apply(r,c)}}function op(){this.s=this.s,this.o=this.o}var Dq={};op.prototype.s=!1,op.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Cq(n){return Object.prototype.hasOwnProperty.call(n,Y3)&&n[Y3]||(n[Y3]=++Tq)}(this);delete Dq[n]}},op.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C5=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},T5=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,i="string"==typeof n?n.split(""):n;for(let o=0;o<r;o++)o in i&&t.call(e,i[o],o,n)};function E5(n){return Array.prototype.concat.apply([],arguments)}function J3(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function pS(n){return/^[\s\xa0]*$/.test(n)}var Fo,S5=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Po(n,t){return-1!=n.indexOf(t)}function Q3(n,t){return n<t?-1:n>t?1:0}e:{var x5=rr.navigator;if(x5){var D5=x5.userAgent;if(D5){Fo=D5;break e}}Fo=""}function X3(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function I5(n){const t={};for(const e in n)t[e]=n[e];return t}var A5="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k5(n,t){let e,r;for(let i=1;i<arguments.length;i++){for(e in r=arguments[i],r)n[e]=r[e];for(let o=0;o<A5.length;o++)e=A5[o],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function eN(n){return eN[" "](n),n}eN[" "]=hS;var mS,n,kq=Po(Fo,"Opera"),sy=Po(Fo,"Trident")||Po(Fo,"MSIE"),N5=Po(Fo,"Edge"),tN=N5||sy,M5=Po(Fo,"Gecko")&&!(Po(Fo.toLowerCase(),"webkit")&&!Po(Fo,"Edge"))&&!(Po(Fo,"Trident")||Po(Fo,"MSIE"))&&!Po(Fo,"Edge"),Nq=Po(Fo.toLowerCase(),"webkit")&&!Po(Fo,"Edge");function R5(){var n=rr.document;return n?n.documentMode:void 0}e:{var nN="",rN=(n=Fo,M5?/rv:([^\);]+)(\)|;)/.exec(n):N5?/Edge\/([\d\.]+)/.exec(n):sy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Nq?/WebKit\/(\S+)/.exec(n):kq?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(rN&&(nN=rN?rN[1]:""),sy){var iN=R5();if(null!=iN&&iN>parseFloat(nN)){mS=String(iN);break e}}mS=nN}var Mq={};var Oq=rr.document&&sy&&(R5()||parseInt(mS,10))||void 0,Pq=function(){if(!rr.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{rr.addEventListener("test",hS,t),rr.removeEventListener("test",hS,t)}catch{}return n}();function fo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function L1(n,t){if(fo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(M5){e:{try{eN(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Fq[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&L1.Z.h.call(this)}}fo.prototype.h=function(){this.defaultPrevented=!0},Ws(L1,fo);var Fq={2:"touch",3:"pen",4:"mouse"};L1.prototype.h=function(){L1.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var B1="closure_listenable_"+(1e6*Math.random()|0),Lq=0;function Bq(n,t,e,r,i){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=i,this.key=++Lq,this.ca=this.fa=!1}function gS(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function _S(n){this.src=n,this.g={},this.h=0}function oN(n,t){var e=t.type;if(e in n.g){var o,r=n.g[e],i=C5(r,t);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(gS(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function aN(n,t,e,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==r)return i}return-1}_S.prototype.add=function(n,t,e,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=aN(n,t,r,i);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new Bq(t,this.src,o,!!r,i)).fa=e,n.push(t)),t};var lN="closure_lm_"+(1e6*Math.random()|0),cN={};function P5(n,t,e,r,i){if(r&&r.once)return L5(n,t,e,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)P5(n,t[o],e,r,i);return null}return e=fN(e),n&&n[B1]?n.N(t,e,F1(r)?!!r.capture:!!r,i):F5(n,t,e,!1,r,i)}function F5(n,t,e,r,i,o){if(!t)throw Error("Invalid event type");var c=F1(i)?!!i.capture:!!i,w=dN(n);if(w||(n[lN]=w=new _S(n)),(e=w.add(t,e,r,c,o)).proxy)return e;if(r=function jq(){var t=Uq;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)Pq||(i=c),void 0===i&&(i=!1),n.addEventListener(t.toString(),r,i);else if(n.attachEvent)n.attachEvent(j5(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function L5(n,t,e,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)L5(n,t[o],e,r,i);return null}return e=fN(e),n&&n[B1]?n.O(t,e,F1(r)?!!r.capture:!!r,i):F5(n,t,e,!0,r,i)}function B5(n,t,e,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)B5(n,t[o],e,r,i);else r=F1(r)?!!r.capture:!!r,e=fN(e),n&&n[B1]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=aN(o=n.g[t],e,r,i))&&(gS(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=dN(n))&&(t=n.g[t.toString()],n=-1,t&&(n=aN(t,e,r,i)),(e=-1<n?t[n]:null)&&uN(e))}function uN(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[B1])oN(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(j5(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=dN(t))?(oN(e,n),0==e.h&&(e.src=null,t[lN]=null)):gS(n)}}}function j5(n){return n in cN?cN[n]:cN[n]="on"+n}function Uq(n,t){if(n.ca)n=!0;else{t=new L1(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&uN(n),n=e.call(r,t)}return n}function dN(n){return(n=n[lN])instanceof _S?n:null}var hN="__closure_events_fn_"+(1e9*Math.random()>>>0);function fN(n){return"function"==typeof n?n:(n[hN]||(n[hN]=function(t){return n.handleEvent(t)}),n[hN])}function Ls(){op.call(this),this.i=new _S(this),this.P=this,this.I=null}function Ks(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new fo(t,n);else if(t instanceof fo)t.target=t.target||n;else{var i=t;k5(t=new fo(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];i=yS(c,r,!0,t)&&i}if(i=yS(c=t.g=n,r,!0,t)&&i,i=yS(c,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=yS(c=t.g=e[o],r,!1,t)&&i}function yS(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.ca&&c.capture==e){var w=c.listener,M=c.ia||c.src;c.fa&&oN(n.i,c),i=!1!==w.call(M,r)&&i}}return i&&!r.defaultPrevented}Ws(Ls,op),Ls.prototype[B1]=!0,Ls.prototype.removeEventListener=function(n,t,e,r){B5(this,n,t,e,r)},Ls.prototype.M=function(){if(Ls.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)gS(e[r]);delete n.g[t],n.h--}}this.I=null},Ls.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},Ls.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var pN=rr.JSON.stringify;function Vq(){var n=V5;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var gN,U5=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $q,n=>n.reset());class $q{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function zq(n){rr.setTimeout(()=>{throw n},0)}function mN(n,t){gN||function Gq(){var n=rr.Promise.resolve(void 0);gN=function(){n.then(qq)}}(),_N||(gN(),_N=!0),V5.add(n,t)}var _N=!1,V5=new class Hq{constructor(){this.h=this.g=null}add(t,e){const r=U5.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function qq(){for(var n;n=Vq();){try{n.h.call(n.g)}catch(e){zq(e)}var t=U5;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}_N=!1}function bS(n,t){Ls.call(this),this.h=n||1,this.g=t||rr,this.j=Zs(this.kb,this),this.l=Date.now()}function yN(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function bN(n,t,e){if("function"==typeof n)e&&(n=Zs(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zs(n.handleEvent,n)}return 2147483647<Number(t)?-1:rr.setTimeout(n,t||0)}function H5(n){n.g=bN(()=>{n.g=null,n.i&&(n.i=!1,H5(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Ws(bS,Ls),(Tn=bS.prototype).da=!1,Tn.S=null,Tn.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ks(this,"tick"),this.da&&(yN(this),this.start()))}},Tn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tn.M=function(){bS.Z.M.call(this),yN(this),delete this.g};class Zq extends op{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:H5(this)}M(){super.M(),this.g&&(rr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function j1(n){op.call(this),this.h=n,this.g={}}Ws(j1,op);var $5=[];function z5(n,t,e,r){Array.isArray(e)||(e&&($5[0]=e.toString()),e=$5);for(var i=0;i<e.length;i++){var o=P5(t,e[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function G5(n){X3(n.g,function(t,e){this.g.hasOwnProperty(e)&&uN(t)},n),n.g={}}function vS(){this.g=!0}function oy(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Jq(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<i.length;c++)i[c]=""}}}return pN(e)}catch{return t}}(n,e)+(r?" "+r:"")})}j1.prototype.M=function(){j1.Z.M.call(this),G5(this)},j1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vS.prototype.Aa=function(){this.g=!1},vS.prototype.info=function(){};var gg={},q5=null;function wS(){return q5=q5||new Ls}function Z5(n){fo.call(this,gg.Ma,n)}function U1(n){const t=wS();Ks(t,new Z5(t,n))}function W5(n,t){fo.call(this,gg.STAT_EVENT,n),this.stat=t}function Lo(n){const t=wS();Ks(t,new W5(t,n))}function K5(n,t){fo.call(this,gg.Na,n),this.size=t}function V1(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return rr.setTimeout(function(){n()},t)}gg.Ma="serverreachability",Ws(Z5,fo),gg.STAT_EVENT="statevent",Ws(W5,fo),gg.Na="timingevent",Ws(K5,fo);var CS={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Y5={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vN(){}function Q5(){}vN.prototype.h=null;var TN,H1={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wN(){fo.call(this,"d")}function CN(){fo.call(this,"c")}function TS(){}function $1(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new j1(this),this.P=Qq,this.W=new bS(n=tN?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new X5}function X5(){this.i=null,this.g="",this.h=!1}Ws(wN,fo),Ws(CN,fo),Ws(TS,vN),TS.prototype.g=function(){return new XMLHttpRequest},TS.prototype.i=function(){return{}},TN=new TS;var Qq=45e3,EN={},ES={};function SN(n,t,e){n.K=1,n.v=AS(Ch(t)),n.s=e,n.U=!0,e8(n,null)}function e8(n,t){n.F=Date.now(),z1(n),n.A=Ch(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),c8(e.h,"t",r),n.C=0,e=n.l.H,n.h=new X5,n.g=M8(n.l,e?t:null,!n.s),0<n.O&&(n.L=new Zq(Zs(n.Ia,n,n.g),n.O)),z5(n.V,n.g,"readystatechange",n.gb),t=n.H?I5(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),U1(1),function Wq(n,t,e,r,i,o){n.info(function(){if(n.g)if(o)for(var c="",w=o.split("&"),M=0;M<w.length;M++){var H=w[M].split("=");if(1<H.length){var te=H[0];H=H[1];var de=te.split("_");c=2<=de.length&&"type"==de[1]?c+(te+"=")+H+"&":c+(te+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function t8(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function n8(n,t,e){let i,r=!0;for(;!n.I&&n.C<e.length;){if(i=Xq(n,e),i==ES){4==t&&(n.o=4,Lo(14),r=!1),oy(n.j,n.m,null,"[Incomplete Response]");break}if(i==EN){n.o=4,Lo(15),oy(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}oy(n.j,n.m,i,null),xN(n,i)}t8(n)&&i!=ES&&i!=EN&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Lo(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),LN(t),t.L=!0,Lo(11))):(oy(n.j,n.m,e,"[Invalid Chunked Response]"),_g(n),G1(n))}function Xq(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?ES:(e=Number(t.substring(e,r)),isNaN(e)?EN:(r+=1)+e>t.length?ES:(t=t.substr(r,e),n.C=r+e,t))}function z1(n){n.Y=Date.now()+n.P,r8(n,n.P)}function r8(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=V1(Zs(n.eb,n),t)}function SS(n){n.B&&(rr.clearTimeout(n.B),n.B=null)}function G1(n){0==n.l.G||n.I||I8(n.l,n)}function _g(n){SS(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,yN(n.W),G5(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function xN(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||AN(e.i,n)))if(e.I=n.N,!n.J&&AN(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;PS(e),RS(e)}FN(e),Lo(18)}}else e.ta=i[1],0<e.ta-e.U&&37500>i[2]&&e.N&&0==e.A&&!e.v&&(e.v=V1(Zs(e.ab,e),6e3));if(1>=h8(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else vg(e,11)}else if((n.J||e.g==n)&&PS(e),!pS(t))for(i=e.Ca.g.parse(t),t=0;t<i.length;t++){let H=i[t];if(e.U=H[0],H=H[1],2==e.G)if("c"==H[0]){e.J=H[1],e.la=H[2];const te=H[3];null!=te&&(e.ma=te,e.h.info("VER="+e.ma));const de=H[4];null!=de&&(e.za=de,e.h.info("SVER="+e.za));const ye=H[5];null!=ye&&"number"==typeof ye&&0<ye&&(e.K=r=1.5*ye,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const Ce=n.g;if(Ce){const Ie=Ce.g?Ce.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ie){var o=r.i;!o.g&&(Po(Ie,"spdy")||Po(Ie,"quic")||Po(Ie,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(kN(o,o.h),o.h=null))}if(r.D){const He=Ce.g?Ce.g.getResponseHeader("X-HTTP-Session-Id"):null;He&&(r.sa=He,Ti(r.F,r.D,He))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((r=e).oa=N8(r,r.H?r.la:null,r.W),c.J){f8(r.i,c);var w=c,M=r.K;M&&w.setTimeout(M),w.B&&(SS(w),z1(w)),r.g=c}else x8(r);0<e.l.length&&OS(e)}else"stop"!=H[0]&&"close"!=H[0]||vg(e,7);else 3==e.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?vg(e,7):ON(e):"noop"!=H[0]&&e.j&&e.j.wa(H),e.A=0)}U1(4)}catch{}}function DN(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(K3(n)||"string"==typeof n)T5(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(K3(n)||"string"==typeof n){e=[];for(var r=n.length,i=0;i<r;i++)e.push(i)}else for(i in e=[],r=0,n)e[r++]=i;r=function eZ(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(K3(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],e&&e[o],n)}}function ay(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ay)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function IN(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];yg(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var i={};for(e=t=0;t<n.g.length;)yg(i,r=n.g[t])||(n.g[e++]=r,i[r]=1),t++;n.g.length=e}}function yg(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(Tn=$1.prototype).setTimeout=function(n){this.P=n},Tn.gb=function(n){n=n.target;const t=this.L;t&&3==Th(n)?t.l():this.Ia(n)},Tn.Ia=function(n){try{if(n==this.g)e:{const te=Th(this.g);var t=this.g.Da();const de=this.g.ba();if(!(3>te)&&(3!=te||tN||this.g&&(this.h.h||this.g.ga()||w8(this.g)))){this.I||4!=te||7==t||U1(8==t||0>=de?3:2),SS(this);var e=this.g.ba();this.N=e;t:if(t8(this)){var r=w8(this.g);n="";var i=r.length,o=4==Th(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_g(this),G1(this);var c="";break t}this.h.i=new rr.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function Kq(n,t,e,r,i,o,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.X,te,e),this.i){if(this.$&&!this.J){t:{if(this.g){var w,M=this.g;if((w=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pS(w)){var H=w;break t}}H=null}if(!(e=H)){this.i=!1,this.o=3,Lo(12),_g(this),G1(this);break e}oy(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xN(this,e)}this.U?(n8(this,te,c),tN&&this.i&&3==te&&(z5(this.V,this.W,"tick",this.fb),this.W.start())):(oy(this.j,this.m,c,null),xN(this,c)),4==te&&_g(this),this.i&&!this.I&&(4==te?I8(this.l,this):(this.i=!1,z1(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Lo(12)):(this.o=0,Lo(13)),_g(this),G1(this)}}}catch{}},Tn.fb=function(){if(this.g){var n=Th(this.g),t=this.g.ga();this.C<t.length&&(SS(this),n8(this,n,t),this.i&&4!=n&&z1(this))}},Tn.cancel=function(){this.I=!0,_g(this)},Tn.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Yq(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(U1(3),Lo(17)),_g(this),this.o=2,G1(this)):r8(this,this.Y-n)},(Tn=ay.prototype).R=function(){IN(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},Tn.T=function(){return IN(this),this.g.concat()},Tn.get=function(n,t){return yg(this.h,n)?this.h[n]:t},Tn.set=function(n,t){yg(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},Tn.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var i=e[r],o=this.get(i);n.call(t,o,i,this)}};var i8=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bg(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bg){this.g=void 0!==t?t:n.g,xS(this,n.j),this.s=n.s,DS(this,n.i),IS(this,n.m),this.l=n.l,t=n.h;var e=new W1;e.i=t.i,t.g&&(e.g=new ay(t.g),e.h=t.h),s8(this,e),this.o=n.o}else n&&(e=String(n).match(i8))?(this.g=!!t,xS(this,e[1]||"",!0),this.s=q1(e[2]||""),DS(this,e[3]||"",!0),IS(this,e[4]),this.l=q1(e[5]||"",!0),s8(this,e[6]||"",!0),this.o=q1(e[7]||"")):(this.g=!!t,this.h=new W1(null,this.g))}function Ch(n){return new bg(n)}function xS(n,t,e){n.j=e?q1(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function DS(n,t,e){n.i=e?q1(t,!0):t}function IS(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function s8(n,t,e){t instanceof W1?(n.h=t,function cZ(n,t){t&&!n.j&&(ap(n),n.i=null,n.g.forEach(function(e,r){var i=r.toLowerCase();r!=i&&(a8(this,r),c8(this,i,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Z1(t,aZ)),n.h=new W1(t,n.g))}function Ti(n,t,e){n.h.set(t,e)}function AS(n){return Ti(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function q1(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Z1(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,iZ),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function iZ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bg.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Z1(t,o8,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Z1(t,o8,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Z1(e,"/"==e.charAt(0)?oZ:sZ,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Z1(e,lZ)),n.join("")};var o8=/[#\/\?@]/g,sZ=/[#\?:]/g,oZ=/[#\?]/g,aZ=/[#\?@]/g,lZ=/#/g;function W1(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ap(n){n.g||(n.g=new ay,n.h=0,n.i&&function tZ(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),i=null;if(0<=r){var o=n[e].substring(0,r);i=n[e].substring(r+1)}else o=n[e];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function a8(n,t){ap(n),t=ly(n,t),yg(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,yg((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&IN(n)))}function l8(n,t){return ap(n),t=ly(n,t),yg(n.g.h,t)}function c8(n,t,e){a8(n,t),0<e.length&&(n.i=null,n.g.set(ly(n,t),J3(e)),n.h+=e.length)}function ly(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}(Tn=W1.prototype).add=function(n,t){ap(this),this.i=null,n=ly(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Tn.forEach=function(n,t){ap(this),this.g.forEach(function(e,r){T5(e,function(i){n.call(t,i,r,this)},this)},this)},Tn.T=function(){ap(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var i=n[r],o=0;o<i.length;o++)e.push(t[r]);return e},Tn.R=function(n){ap(this);var t=[];if("string"==typeof n)l8(this,n)&&(t=E5(t,this.g.get(ly(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=E5(t,n[e])}return t},Tn.set=function(n,t){return ap(this),this.i=null,l8(this,n=ly(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Tn.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},Tn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var c=i;""!==r[o]&&(c+="="+encodeURIComponent(String(r[o]))),n.push(c)}}return this.i=n.join("&")};var uZ=class{constructor(n,t){this.h=n,this.g=t}};function u8(n){this.l=n||dZ,n=rr.PerformanceNavigationTiming?0<(n=rr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(rr.g&&rr.g.Ea&&rr.g.Ea()&&rr.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dZ=10;function d8(n){return!!n.h||!!n.g&&n.g.size>=n.j}function h8(n){return n.h?1:n.g?n.g.size:0}function AN(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function kN(n,t){n.g?n.g.add(t):n.h=t}function f8(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function p8(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return J3(n.i)}function NN(){}function hZ(){this.g=new NN}function fZ(n,t,e){const r=e||"";try{DN(n,function(i,o){let c=i;F1(i)&&(c=pN(i)),t.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function kS(n,t,e,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function K1(n){this.l=n.$b||null,this.j=n.ib||!1}function NS(n,t){Ls.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=MN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}u8.prototype.cancel=function(){if(this.i=p8(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},NN.prototype.stringify=function(n){return rr.JSON.stringify(n,void 0)},NN.prototype.parse=function(n){return rr.JSON.parse(n,void 0)},Ws(K1,vN),K1.prototype.g=function(){return new NS(this.l,this.j)},K1.prototype.i=function(n){return function(){return n}}({}),Ws(NS,Ls);var MN=0;function m8(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Y1(n){n.readyState=4,n.l=null,n.j=null,n.A=null,J1(n)}function J1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Tn=NS.prototype).open=function(n,t){if(this.readyState!=MN)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,J1(this)},Tn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||rr).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Tn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Y1(this)),this.readyState=MN},Tn.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,J1(this)),this.g&&(this.readyState=3,J1(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof rr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m8(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Tn.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Y1(this):J1(this),3==this.readyState&&m8(this)}},Tn.Ua=function(n){this.g&&(this.response=this.responseText=n,Y1(this))},Tn.Ta=function(n){this.g&&(this.response=n,Y1(this))},Tn.ha=function(){this.g&&Y1(this)},Tn.setRequestHeader=function(n,t){this.v.append(n,t)},Tn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Tn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(NS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mZ=rr.JSON.parse;function _s(n){Ls.call(this),this.headers=new ay,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=g8,this.K=this.L=!1}Ws(_s,Ls);var g8="",gZ=/^https?$/i,_Z=["POST","PUT"];function bZ(n){return"content-type"==n.toLowerCase()}function _8(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,y8(n),MS(n)}function y8(n){n.D||(n.D=!0,Ks(n,"complete"),Ks(n,"error"))}function b8(n){if(n.h&&typeof W3<"u"&&(!n.C[1]||4!=Th(n)||2!=n.ba()))if(n.v&&4==Th(n))bN(n.Fa,0,n);else if(Ks(n,"readystatechange"),4==Th(n)){n.h=!1;try{const w=n.ba();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===w){var i=String(n.H).match(i8)[1]||null;if(!i&&rr.self&&rr.self.location){var o=rr.self.location.protocol;i=o.substr(0,o.length-1)}r=!gZ.test(i?i.toLowerCase():"")}e=r}if(e)Ks(n,"complete"),Ks(n,"success");else{n.m=6;try{var c=2<Th(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",y8(n)}}finally{MS(n)}}}function MS(n,t){if(n.g){v8(n);const e=n.g,r=n.C[0]?hS:null;n.g=null,n.C=null,t||Ks(n,"ready");try{e.onreadystatechange=r}catch{}}}function v8(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(rr.clearTimeout(n.A),n.A=null)}function Th(n){return n.g?n.g.readyState:0}function w8(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case g8:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function RN(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function vZ(n){let t="";return X3(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ti(n,t,e))}function Q1(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function C8(n){this.za=0,this.l=[],this.h=new vS,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Q1("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Q1("baseRetryDelayMs",5e3,n),this.$a=Q1("retryDelaySeedMs",1e4,n),this.Ya=Q1("forwardChannelMaxRetries",2,n),this.ra=Q1("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new u8(n&&n.concurrentRequestLimit),this.Ca=new hZ,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ON(n){if(T8(n),3==n.G){var t=n.V++,e=Ch(n.F);Ti(e,"SID",n.J),Ti(e,"RID",t),Ti(e,"TYPE","terminate"),X1(n,e),(t=new $1(n,n.h,t,void 0)).K=2,t.v=AS(Ch(e)),e=!1,rr.navigator&&rr.navigator.sendBeacon&&(e=rr.navigator.sendBeacon(t.v.toString(),"")),!e&&rr.Image&&((new Image).src=t.v,e=!0),e||(t.g=M8(t.l,null),t.g.ea(t.v)),t.F=Date.now(),z1(t)}k8(n)}function RS(n){n.g&&(LN(n),n.g.cancel(),n.g=null)}function T8(n){RS(n),n.u&&(rr.clearTimeout(n.u),n.u=null),PS(n),n.i.cancel(),n.m&&("number"==typeof n.m&&rr.clearTimeout(n.m),n.m=null)}function PN(n,t){n.l.push(new uZ(n.Za++,t)),3==n.G&&OS(n)}function OS(n){d8(n.i)||n.m||(n.m=!0,mN(n.Ha,n),n.C=0)}function E8(n,t){var e;e=t?t.m:n.V++;const r=Ch(n.F);Ti(r,"SID",n.J),Ti(r,"RID",e),Ti(r,"AID",n.U),X1(n,r),n.o&&n.s&&RN(r,n.o,n.s),e=new $1(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=S8(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),kN(n.i,e),SN(e,r,t)}function X1(n,t){n.j&&DN({},function(e,r){Ti(t,r,e)})}function S8(n,t,e){e=Math.min(n.l.length,e);var r=n.j?Zs(n.j.Oa,n.j,n):null;e:{var i=n.l;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=i[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let w=!0;for(let M=0;M<e;M++){let H=i[M].h;const te=i[M].g;if(H-=o,0>H)o=Math.max(0,i[M].h-100),w=!1;else try{fZ(te,c,"req"+H+"_")}catch{r&&r(te)}}if(w){r=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function x8(n){n.g||n.u||(n.Y=1,mN(n.Ga,n),n.A=0)}function FN(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=V1(Zs(n.Ga,n),A8(n,n.A)),n.A++,0))}function LN(n){null!=n.B&&(rr.clearTimeout(n.B),n.B=null)}function D8(n){n.g=new $1(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Ch(n.oa);Ti(t,"RID","rpc"),Ti(t,"SID",n.J),Ti(t,"CI",n.N?"0":"1"),Ti(t,"AID",n.U),X1(n,t),Ti(t,"TYPE","xmlhttp"),n.o&&n.s&&RN(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=AS(Ch(t)),e.s=null,e.U=!0,e8(e,n)}function PS(n){null!=n.v&&(rr.clearTimeout(n.v),n.v=null)}function I8(n,t){var e=null;if(n.g==t){PS(n),LN(n),n.g=null;var r=2}else{if(!AN(n.i,t))return;e=t.D,f8(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var i=n.C;Ks(r=wS(),new K5(r,e,t,i)),OS(n)}else x8(n);else if(3==(i=t.o)||0==i&&0<n.I||!(1==r&&function wZ(n,t){return!(h8(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=V1(Zs(n.Ha,n,t),A8(n,n.C)),n.C++,0)))}(n,t)||2==r&&FN(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),i){case 1:vg(n,5);break;case 4:vg(n,10);break;case 3:vg(n,6);break;default:vg(n,2)}}function A8(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function vg(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=Zs(n.jb,n);e||(e=new bg("//www.google.com/images/cleardot.gif"),rr.location&&"http"==rr.location.protocol||xS(e,"https"),AS(e)),function pZ(n,t){const e=new vS;if(rr.Image){const r=new Image;r.onload=fS(kS,e,r,"TestLoadImage: loaded",!0,t),r.onerror=fS(kS,e,r,"TestLoadImage: error",!1,t),r.onabort=fS(kS,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=fS(kS,e,r,"TestLoadImage: timeout",!1,t),rr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else Lo(2);n.G=0,n.j&&n.j.va(t),k8(n),T8(n)}function k8(n){n.G=0,n.I=-1,n.j&&((0!=p8(n.i).length||0!=n.l.length)&&(n.i.i.length=0,J3(n.l),n.l.length=0),n.j.ua())}function N8(n,t,e){let r=function nZ(n){return n instanceof bg?Ch(n):new bg(n,void 0)}(e);if(""!=r.i)t&&DS(r,t+"."+r.i),IS(r,r.m);else{const i=rr.location;r=function rZ(n,t,e,r){var i=new bg(null,void 0);return n&&xS(i,n),t&&DS(i,t),e&&IS(i,e),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,e)}return n.aa&&X3(n.aa,function(i,o){Ti(r,o,i)}),e=n.sa,(t=n.D)&&e&&Ti(r,t,e),Ti(r,"VER",n.ma),X1(n,r),r}function M8(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new _s(e&&n.Ba&&!n.qa?new K1({ib:!0}):n.qa)).L=n.H,t}function R8(){}function FS(){if(sy&&!(10<=Number(Oq)))throw Error("Environmental error: no available transport.")}function Ja(n,t){Ls.call(this),this.g=new C8(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!pS(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pS(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new cy(this)}function O8(n){wN.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function P8(){CN.call(this),this.status=1}function cy(n){this.g=n}(Tn=_s.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():TN.g(),this.C=function J5(n){return n.h||(n.h=n.i())}(this.u?this.u:TN),this.g.onreadystatechange=Zs(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void _8(this,o)}n=e||"";const i=new ay(this.headers);r&&DN(r,function(o,c){i.set(c,o)}),r=function Iq(n){e:{var t=bZ;const e=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<e;i++)if(i in r&&t.call(void 0,r[i],i,n)){t=i;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(i.T()),e=rr.FormData&&n instanceof rr.FormData,!(0<=C5(_Z,t))||r||e||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,c){this.g.setRequestHeader(c,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{v8(this),0<this.B&&((this.K=function yZ(n){return sy&&function Rq(){return function Aq(n){var t=Mq;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=S5(String(mS)).split("."),e=S5("9").split("."),r=Math.max(t.length,e.length);for(let c=0;0==n&&c<r;c++){var i=t[c]||"",o=e[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=Q3(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Q3(0==i[2].length,0==o[2].length)||Q3(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zs(this.pa,this)):this.A=bN(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){_8(this,o)}},Tn.pa=function(){typeof W3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ks(this,"timeout"),this.abort(8))},Tn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ks(this,"complete"),Ks(this,"abort"),MS(this))},Tn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),MS(this,!0)),_s.Z.M.call(this)},Tn.Fa=function(){this.s||(this.F||this.v||this.l?b8(this):this.cb())},Tn.cb=function(){b8(this)},Tn.ba=function(){try{return 2<Th(this)?this.g.status:-1}catch{return-1}},Tn.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Tn.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),mZ(t)}},Tn.Da=function(){return this.m},Tn.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Tn=C8.prototype).ma=8,Tn.G=1,Tn.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},Tn.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new $1(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=I5(o),k5(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=S8(this,i,t),Ti(e=Ch(this.F),"RID",n),Ti(e,"CVER",22),this.D&&Ti(e,"X-HTTP-Session-Id",this.D),X1(this,e),this.o&&o&&RN(e,this.o,o),kN(this.i,i),this.Ra&&Ti(e,"TYPE","init"),this.ja?(Ti(e,"$req",t),Ti(e,"SID","null"),i.$=!0,SN(i,e,null)):SN(i,e,t),this.G=2}}else 3==this.G&&(n?E8(this,n):0==this.l.length||d8(this.i)||E8(this))},Tn.Ga=function(){if(this.u=null,D8(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=V1(Zs(this.bb,this),n)}},Tn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Lo(10),RS(this),D8(this))},Tn.ab=function(){null!=this.v&&(this.v=null,RS(this),FN(this),Lo(19))},Tn.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Lo(2)):(this.h.info("Failed to ping google.com"),Lo(1))},(Tn=R8.prototype).xa=function(){},Tn.wa=function(){},Tn.va=function(){},Tn.ua=function(){},Tn.Oa=function(){},FS.prototype.g=function(n,t){return new Ja(n,t)},Ws(Ja,Ls),Ja.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),mN(Zs(n.hb,n,t))),Lo(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=N8(n,null,n.W),OS(n)},Ja.prototype.close=function(){ON(this.g)},Ja.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,PN(this.g,t)}else this.v?((t={}).__data__=pN(n),PN(this.g,t)):PN(this.g,n)},Ja.prototype.M=function(){this.g.j=null,delete this.j,ON(this.g),delete this.g,Ja.Z.M.call(this)},Ws(O8,wN),Ws(P8,CN),Ws(cy,R8),cy.prototype.xa=function(){Ks(this.g,"a")},cy.prototype.wa=function(n){Ks(this.g,new O8(n))},cy.prototype.va=function(n){Ks(this.g,new P8(n))},cy.prototype.ua=function(){Ks(this.g,"b")},FS.prototype.createWebChannel=FS.prototype.g,Ja.prototype.send=Ja.prototype.u,Ja.prototype.open=Ja.prototype.m,Ja.prototype.close=Ja.prototype.close,CS.NO_ERROR=0,CS.TIMEOUT=8,CS.HTTP_ERROR=6,Y5.COMPLETE="complete",Q5.EventType=H1,H1.OPEN="a",H1.CLOSE="b",H1.ERROR="c",H1.MESSAGE="d",Ls.prototype.listen=Ls.prototype.N,_s.prototype.listenOnce=_s.prototype.O,_s.prototype.getLastError=_s.prototype.La,_s.prototype.getLastErrorCode=_s.prototype.Da,_s.prototype.getStatus=_s.prototype.ba,_s.prototype.getResponseJson=_s.prototype.Qa,_s.prototype.getResponseText=_s.prototype.ga,_s.prototype.send=_s.prototype.ea;var CZ=wh.createWebChannelTransport=function(){return new FS},TZ=wh.getStatEventTarget=function(){return wS()},BN=wh.ErrorCode=CS,EZ=wh.EventType=Y5,SZ=wh.Event=gg,F8=wh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xZ=wh.FetchXmlHttpFactory=K1,LS=wh.WebChannel=Q5,DZ=wh.XhrIo=_s;const L8="@firebase/firestore";class Bs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bs.UNAUTHENTICATED=new Bs(null),Bs.GOOGLE_CREDENTIALS=new Bs("google-credentials-uid"),Bs.FIRST_PARTY=new Bs("first-party-uid"),Bs.MOCK_USER=new Bs("mock-user");let uy="9.9.2";const lp=new Uc.Yd("@firebase/firestore");function jN(){return lp.logLevel}function $t(n,...t){if(lp.logLevel<=Uc.in.DEBUG){const e=t.map(UN);lp.debug(`Firestore (${uy}): ${n}`,...e)}}function cs(n,...t){if(lp.logLevel<=Uc.in.ERROR){const e=t.map(UN);lp.error(`Firestore (${uy}): ${n}`,...e)}}function wg(n,...t){if(lp.logLevel<=Uc.in.WARN){const e=t.map(UN);lp.warn(`Firestore (${uy}): ${n}`,...e)}}function UN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Sn(n="Unexpected state"){const t=`FIRESTORE (${uy}) INTERNAL ASSERTION FAILED: `+n;throw cs(t),new Error(t)}function Jn(n,t){n||Sn()}function un(n,t){return n}const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends Oe.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class B8{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bs.UNAUTHENTICATED))}shutdown(){}}class NZ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class MZ{constructor(t){this.t=t,this.currentUser=Bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const o=H=>this.i!==i?(i=this.i,e(H)):Promise.resolve();let c=new js;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new js,t.enqueueRetryable(()=>o(this.currentUser))};const w=()=>{const H=c;t.enqueueRetryable((0,xt.Z)(function*(){yield H.promise,yield o(r.currentUser)}))},M=H=>{$t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(H=>M(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?M(H):($t("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new js)}},0),w()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?($t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jn("string"==typeof r.accessToken),new B8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Jn(null===t||"string"==typeof t),new Bs(t)}}class RZ{constructor(t,e,r){this.type="FirstParty",this.user=Bs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class OZ{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new RZ(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j8{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PZ{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const r=o=>{null!=o.error&&$t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.p;return this.p=o.token,$t("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{$t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?i(o):$t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Jn("string"==typeof e.token),this.p=e.token,new j8(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function FZ(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class U8{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=FZ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<e&&(r+=t.charAt(i[o]%t.length))}return r}}function ir(n,t){return n<t?-1:n>t?1:0}function dy(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}function V8(n){return n+"\0"}class Ei{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new jt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new jt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new jt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ei.fromMillis(Date.now())}static fromDate(t){return Ei.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new Ei(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ir(this.nanoseconds,t.nanoseconds):ir(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Zn(t)}static min(){return new Zn(new Ei(0,0))}static max(){return new Zn(new Ei(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ew{constructor(t,e,r){void 0===e?e=0:e>t.length&&Sn(),void 0===r?r=t.length-e:r>t.length-e&&Sn(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===ew.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ew?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const o=t.get(i),c=e.get(i);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Sr extends ew{construct(t,e,r){return new Sr(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new jt(bt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new Sr(e)}static emptyPath(){return new Sr([])}}const LZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wi extends ew{construct(t,e,r){return new Wi(t,e,r)}static isValidIdentifier(t){return LZ.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wi(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const o=()=>{if(0===r.length)throw new jt(bt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;i<t.length;){const w=t[i];if("\\"===w){if(i+1===t.length)throw new jt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const M=t[i+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new jt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=M,i+=2}else"`"===w?(c=!c,i++):"."!==w||c?(r+=w,i++):(o(),i++)}if(o(),c)throw new jt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wi(e)}static emptyPath(){return new Wi([])}}class rn{constructor(t){this.path=t}static fromPath(t){return new rn(Sr.fromString(t))}static fromName(t){return new rn(Sr.fromString(t).popFirst(5))}static empty(){return new rn(Sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Sr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Sr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rn(new Sr(t.slice()))}}class BS{constructor(t,e,r,i){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=i}}function VN(n){return n.fields.find(t=>2===t.kind)}function Cg(n){return n.fields.filter(t=>2!==t.kind)}BS.UNKNOWN_ID=-1;class jS{constructor(t,e){this.fieldPath=t,this.kind=e}}class tw{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new tw(0,Qa.min())}}function H8(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Zn.fromTimestamp(1e9===r?new Ei(e+1,0):new Ei(e,r));return new Qa(i,rn.empty(),t)}function $8(n){return new Qa(n.readTime,n.key,-1)}class Qa{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Qa(Zn.min(),rn.empty(),-1)}static max(){return new Qa(Zn.max(),rn.empty(),-1)}}function HN(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=rn.comparator(n.documentKey,t.documentKey),0!==e?e:ir(n.largestBatchId,t.largestBatchId))}const z8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function cp(n){return $N.apply(this,arguments)}function $N(){return $N=(0,xt.Z)(function*(n){if(n.code!==bt.FAILED_PRECONDITION||n.message!==z8)throw n;$t("LocalStore","Unexpectedly lost primary lease")}),$N.apply(this,arguments)}class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Sn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new mt((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(e,o).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof mt?e:mt.resolve(e)}catch(e){return mt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):mt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):mt.reject(e)}static resolve(t){return new mt((e,r)=>{e(t)})}static reject(t){return new mt((e,r)=>{r(t)})}static waitFor(t){return new mt((e,r)=>{let i=0,o=0,c=!1;t.forEach(w=>{++i,w.next(()=>{++o,c&&o===i&&e()},M=>r(M))}),c=!0,o===i&&e()})}static or(t){let e=mt.resolve(!1);for(const r of t)e=e.next(i=>i?mt.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,o)=>{r.push(e.call(this,i,o))}),this.waitFor(r)}static mapArray(t,e){return new mt((r,i)=>{const o=t.length,c=new Array(o);let w=0;for(let M=0;M<o;M++){const H=M;e(t[H]).next(te=>{c[H]=te,++w,w===o&&r(c)},te=>i(te))}})}static doWhile(t,e){return new mt((r,i)=>{const o=()=>{!0===t()?e().next(()=>{o()},i):r()};o()})}}class US{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new js,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new nw(t,e.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=zN(r.target.error);this.T.reject(new nw(t,i))}}static open(t,e,r,i){try{return new US(e,t.transaction(i,r))}catch(o){throw new nw(e,o)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||($t("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new VZ(e)}}class Vc{constructor(t,e,r){this.name=t,this.version=e,this.P=r,12.2===Vc.v((0,Oe.z$)())&&cs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return $t("SimpleDb","Removing database:",t),Tg(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,Oe.hl)())return!1;if(Vc.S())return!0;const t=(0,Oe.z$)(),e=Vc.v(t),r=0<e&&e<10,i=Vc.D(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(t){var e=this;return(0,xt.Z)(function*(){return e.db||($t("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,i)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{r(c.target.result)},o.onblocked=()=>{i(new nw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const w=c.target.error;i("VersionError"===w.name?new jt(bt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new jt(bt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new nw(t,w))},o.onupgradeneeded=c=>{$t("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.P.M(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{$t("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.O&&(e.db.onversionchange=r=>e.O(r)),e.db})()}F(t){this.O=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,i){var o=this;return(0,xt.Z)(function*(){const c="readonly"===e;let w=0;for(;;){++w;try{o.db=yield o.k(t);const M=US.open(o.db,t,c?"readonly":"readwrite",r),H=i(M).next(te=>(M.R(),te)).catch(te=>(M.abort(te),mt.reject(te))).toPromise();return H.catch(()=>{}),yield M.A,H}catch(M){const H=M,te="FirebaseError"!==H.name&&w<3;if($t("SimpleDb","Transaction failed with error:",H.message,"Retrying:",te),o.close(),!te)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class UZ{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return Tg(this.$.delete())}}class nw extends jt{constructor(t,e){super(bt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function up(n){return"IndexedDbTransactionError"===n.name}class VZ{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?($t("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):($t("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Tg(r)}add(t){return $t("SimpleDb","ADD",this.store.name,t,t),Tg(this.store.add(t))}get(t){return Tg(this.store.get(t)).next(e=>(void 0===e&&(e=null),$t("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return $t("SimpleDb","DELETE",this.store.name,t),Tg(this.store.delete(t))}count(){return $t("SimpleDb","COUNT",this.store.name),Tg(this.store.count())}K(t,e){const r=this.options(t,e);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.G(i,(c,w)=>{o.push(w)}).next(()=>o)}{const i=this.store.getAll(r.range);return new mt((o,c)=>{i.onerror=w=>{c(w.target.error)},i.onsuccess=w=>{o(w.target.result)}})}}j(t,e){const r=this.store.getAll(t,null===e?void 0:e);return new mt((i,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}W(t,e){$t("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.H=!1;const i=this.cursor(r);return this.G(i,(o,c,w)=>w.delete())}J(t,e){let r;e?r=t:(r={},e=t);const i=this.cursor(r);return this.G(i,e)}Y(t){const e=this.cursor({});return new mt((r,i)=>{e.onerror=o=>{const c=zN(o.target.error);i(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(w=>{w?c.continue():r()}):r()}})}G(t,e){const r=[];return new mt((i,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const w=c.target.result;if(!w)return void i();const M=new UZ(w),H=e(w.primaryKey,w.value,M);if(H instanceof mt){const te=H.catch(de=>(M.done(),mt.reject(de)));r.push(te)}M.isDone?i():null===M.U?w.continue():w.continue(M.U)}}).next(()=>mt.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.H?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Tg(n){return new mt((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const i=zN(r.target.error);e(i)}})}let q8=!1;function zN(n){const t=Vc.v((0,Oe.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new jt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return q8||(q8=!0,setTimeout(()=>{throw r},0)),r}}return n}class HZ{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;$t("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,xt.Z)(function*(){e.task=null;try{$t("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(r){up(r)?$t("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield cp(r)}yield e.Z(1)}))}}class $Z{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,xt.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.et(r,t))})()}et(t,e){const r=new Set;let i=e,o=!0;return mt.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!r.has(c))return $t("IndexBackiller",`Processing collection: ${c}`),this.nt(t,c,i).next(w=>{i-=w,r.add(c)});o=!1})).next(()=>e-i)}nt(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(i=>this.localStore.localDocuments.getNextDocuments(t,e,i,r).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.st(i,o)).next(w=>($t("IndexBackiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(t,e,w))).next(()=>c.size)}))}st(t,e){let r=t;return e.changes.forEach((i,o)=>{const c=$8(o);HN(c,r)>0&&(r=c)}),new Qa(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}class pa{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.it(r),this.rt=r=>e.writeSequenceNumber(r))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function Z8(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Eg(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function W8(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}pa.ot=-1;class Ki{constructor(t,e){this.comparator=t,this.root=e||Ys.EMPTY}insert(t,e){return new Ki(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(t){return new Ki(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new VS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new VS(this.root,t,this.comparator,!1)}getReverseIterator(){return new VS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new VS(this.root,t,this.comparator,!0)}}class VS{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ys{constructor(t,e,r,i,o){this.key=t,this.value=e,this.color=r??Ys.RED,this.left=i??Ys.EMPTY,this.right=o??Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,o){return new Ys(t??this.key,e??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===o?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Ys.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Sn();const t=this.left.check();if(t!==this.right.check())throw Sn();return t+(this.isRed()?0:1)}}Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1,Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw Sn()}get value(){throw Sn()}get color(){throw Sn()}get left(){throw Sn()}get right(){throw Sn()}copy(n,t,e,r,i){return this}insert(n,t,e){return new Ys(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zr{constructor(t){this.comparator=t,this.data=new Ki(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new K8(this.data.getIterator())}getIteratorFrom(t){return new K8(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Zr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Zr(this.comparator);return e.data=t,e}}class K8{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hy(n){return n.hasNext()?n.getNext():void 0}class Xa{constructor(t){this.fields=t,t.sort(Wi.comparator)}static empty(){return new Xa([])}unionWith(t){let e=new Zr(Wi.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Xa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return dy(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class ks{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ks(e)}static fromUint8Array(t){const e=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(t);return new ks(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ir(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ks.EMPTY_BYTE_STRING=new ks("");const GZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dp(n){if(Jn(!!n),"string"==typeof n){let t=0;const e=GZ.exec(n);if(Jn(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Yi(n.seconds),nanos:Yi(n.nanos)}}function Yi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Sg(n){return"string"==typeof n?ks.fromBase64String(n):ks.fromUint8Array(n)}function GN(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Y8(n){const t=n.mapValue.fields.__previous_value__;return GN(t)?Y8(t):t}function rw(n){const t=dp(n.mapValue.fields.__local_write_time__.timestampValue);return new Ei(t.seconds,t.nanos)}class qZ{constructor(t,e,r,i,o,c,w,M){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=w,this.useFetchStreams=M}}class Eh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Eh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Eh&&t.projectId===this.projectId&&t.database===this.database}}function iw(n){return null==n}function sw(n){return 0===n&&1/n==-1/0}function J8(n){return"number"==typeof n&&Number.isInteger(n)&&!sw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const hp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},HS={nullValue:"NULL_VALUE"};function xg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GN(n)?4:tF(n)?9007199254740991:10:Sn()}function Qu(n,t){if(n===t)return!0;const e=xg(n);if(e!==xg(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return rw(n).isEqual(rw(t));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=dp(r.timestampValue),c=dp(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return i=t,Sg(n.bytesValue).isEqual(Sg(i.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,i){return Yi(r.geoPointValue.latitude)===Yi(i.geoPointValue.latitude)&&Yi(r.geoPointValue.longitude)===Yi(i.geoPointValue.longitude)}(n,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Yi(r.integerValue)===Yi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Yi(r.doubleValue),c=Yi(i.doubleValue);return o===c?sw(o)===sw(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return dy(n.arrayValue.values||[],t.arrayValue.values||[],Qu);case 10:return function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Z8(o)!==Z8(c))return!1;for(const w in o)if(o.hasOwnProperty(w)&&(void 0===c[w]||!Qu(o[w],c[w])))return!1;return!0}(n,t);default:return Sn()}var i}function ow(n,t){return void 0!==(n.values||[]).find(e=>Qu(e,t))}function fp(n,t){if(n===t)return 0;const e=xg(n),r=xg(t);if(e!==r)return ir(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return ir(n.booleanValue,t.booleanValue);case 2:return function(i,o){const c=Yi(i.integerValue||i.doubleValue),w=Yi(o.integerValue||o.doubleValue);return c<w?-1:c>w?1:c===w?0:isNaN(c)?isNaN(w)?0:-1:1}(n,t);case 3:return Q8(n.timestampValue,t.timestampValue);case 4:return Q8(rw(n),rw(t));case 5:return ir(n.stringValue,t.stringValue);case 6:return function(i,o){const c=Sg(i),w=Sg(o);return c.compareTo(w)}(n.bytesValue,t.bytesValue);case 7:return function(i,o){const c=i.split("/"),w=o.split("/");for(let M=0;M<c.length&&M<w.length;M++){const H=ir(c[M],w[M]);if(0!==H)return H}return ir(c.length,w.length)}(n.referenceValue,t.referenceValue);case 8:return function(i,o){const c=ir(Yi(i.latitude),Yi(o.latitude));return 0!==c?c:ir(Yi(i.longitude),Yi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(i,o){const c=i.values||[],w=o.values||[];for(let M=0;M<c.length&&M<w.length;++M){const H=fp(c[M],w[M]);if(H)return H}return ir(c.length,w.length)}(n.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===hp.mapValue&&o===hp.mapValue)return 0;if(i===hp.mapValue)return 1;if(o===hp.mapValue)return-1;const c=i.fields||{},w=Object.keys(c),M=o.fields||{},H=Object.keys(M);w.sort(),H.sort();for(let te=0;te<w.length&&te<H.length;++te){const de=ir(w[te],H[te]);if(0!==de)return de;const ye=fp(c[w[te]],M[H[te]]);if(0!==ye)return ye}return ir(w.length,H.length)}(n.mapValue,t.mapValue);default:throw Sn()}}function Q8(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return ir(n,t);const e=dp(n),r=dp(t),i=ir(e.seconds,r.seconds);return 0!==i?i:ir(e.nanos,r.nanos)}function fy(n){return qN(n)}function qN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=dp(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Sg(n.bytesValue).toBase64():"referenceValue"in n?rn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const c of r.values||[])o?o=!1:i+=",",i+=qN(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const w of i)c?c=!1:o+=",",o+=`${w}:${qN(r.fields[w])}`;return o+"}"}(n.mapValue):Sn();var t}function Dg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ZN(n){return!!n&&"integerValue"in n}function aw(n){return!!n&&"arrayValue"in n}function X8(n){return!!n&&"nullValue"in n}function eF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $S(n){return!!n&&"mapValue"in n}function lw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Eg(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=lw(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=lw(n.arrayValue.values[e]);return t}return Object.assign({},n)}function tF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ZZ(n){return"nullValue"in n?HS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Dg(Eh.empty(),rn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Sn()}function WZ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Dg(Eh.empty(),rn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?hp:Sn()}function nF(n,t){const e=fp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function rF(n,t){const e=fp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Js{constructor(t){this.value=t}static empty(){return new Js({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!$S(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=lw(e)}setAll(t){let e=Wi.emptyPath(),r={},i=[];t.forEach((c,w)=>{if(!e.isImmediateParentOf(w)){const M=this.getFieldsMap(e);this.applyChanges(M,r,i),r={},i=[],e=w.popLast()}c?r[w.lastSegment()]=lw(c):i.push(w.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,r,i)}delete(t){const e=this.field(t.popLast());$S(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];$S(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){Eg(e,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Js(lw(this.value))}}function iF(n){const t=[];return Eg(n.fields,(e,r)=>{const i=new Wi([e]);if($S(r)){const o=iF(r.mapValue).fields;if(0===o.length)t.push(i);else for(const c of o)t.push(i.child(c))}else t.push(i)}),new Xa(t)}class ei{constructor(t,e,r,i,o,c){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.data=o,this.documentState=c}static newInvalidDocument(t){return new ei(t,0,Zn.min(),Zn.min(),Js.empty(),0)}static newFoundDocument(t,e,r){return new ei(t,1,e,Zn.min(),r,0)}static newNoDocument(t,e){return new ei(t,2,e,Zn.min(),Js.empty(),0)}static newUnknownDocument(t,e){return new ei(t,3,e,Zn.min(),Js.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Js.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ei&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class KZ{constructor(t,e=null,r=[],i=[],o=null,c=null,w=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=w,this.ut=null}}function sF(n,t=null,e=[],r=[],i=null,o=null,c=null){return new KZ(n,t,e,r,i,o,c)}function Ig(n){const t=un(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+fy(i.value);var i}).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),iw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>fy(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>fy(r)).join(",")),t.ut=e}return t.ut}function cw(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!iW(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((e=n.filters[i]).op!==(r=t.filters[i]).op||!e.field.isEqual(r.field)||!Qu(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!uF(n.startAt,t.startAt)&&uF(n.endAt,t.endAt)}function zS(n){return rn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function GS(n,t){return n.filters.filter(e=>e instanceof Qs&&e.field.isEqual(t))}function oF(n,t,e){let r=HS,i=!0;for(const o of GS(n,t)){let c=HS,w=!0;switch(o.op){case"<":case"<=":c=ZZ(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,w=!1;break;case"!=":case"not-in":c=HS}nF({value:r,inclusive:i},{value:c,inclusive:w})<0&&(r=c,i=w)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];nF({value:r,inclusive:i},{value:c,inclusive:e.inclusive})<0&&(r=c,i=e.inclusive);break}return{value:r,inclusive:i}}function aF(n,t,e){let r=hp,i=!0;for(const o of GS(n,t)){let c=hp,w=!0;switch(o.op){case">=":case">":c=WZ(o.value),w=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,w=!1;break;case"!=":case"not-in":c=hp}rF({value:r,inclusive:i},{value:c,inclusive:w})>0&&(r=c,i=w)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];rF({value:r,inclusive:i},{value:c,inclusive:e.inclusive})>0&&(r=c,i=e.inclusive);break}return{value:r,inclusive:i}}class Qs extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,r):new JZ(t,e,r):"array-contains"===e?new eW(t,r):"in"===e?new tW(t,r):"not-in"===e?new nW(t,r):"array-contains-any"===e?new rW(t,r):new Qs(t,e,r)}static ct(t,e,r){return"in"===e?new QZ(t,r):new XZ(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(fp(e,this.value)):null!==e&&xg(this.value)===xg(e)&&this.at(fp(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Sn()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class JZ extends Qs{constructor(t,e,r){super(t,e,r),this.key=rn.fromName(r.referenceValue)}matches(t){const e=rn.comparator(t.key,this.key);return this.at(e)}}class QZ extends Qs{constructor(t,e){super(t,"in",e),this.keys=lF(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class XZ extends Qs{constructor(t,e){super(t,"not-in",e),this.keys=lF(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function lF(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>rn.fromName(r.referenceValue))}class eW extends Qs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return aw(e)&&ow(e.arrayValue,this.value)}}class tW extends Qs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ow(this.value.arrayValue,e)}}class nW extends Qs{constructor(t,e){super(t,"not-in",e)}matches(t){if(ow(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ow(this.value.arrayValue,e)}}class rW extends Qs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!aw(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>ow(this.value.arrayValue,r))}}class pp{constructor(t,e){this.position=t,this.inclusive=e}}class py{constructor(t,e="asc"){this.field=t,this.dir=e}}function iW(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function cF(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const o=t[i],c=n.position[i];if(r=o.field.isKeyField()?rn.comparator(rn.fromName(c.referenceValue),e.key):fp(c,e.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function uF(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Qu(n.position[e],t.position[e]))return!1;return!0}class Sh{constructor(t,e=null,r=[],i=[],o=null,c="F",w=null,M=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=w,this.endAt=M,this.lt=null,this.ft=null}}function dF(n,t,e,r,i,o,c,w){return new Sh(n,t,e,r,i,o,c,w)}function my(n){return new Sh(n)}function hF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function WN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function KN(n){for(const t of n.filters)if(t.ht())return t.field;return null}function YN(n){return null!==n.collectionGroup}function gy(n){const t=un(n);if(null===t.lt){t.lt=[];const e=KN(t),r=WN(t);if(null!==e&&null===r)e.isKeyField()||t.lt.push(new py(e)),t.lt.push(new py(Wi.keyField(),"asc"));else{let i=!1;for(const o of t.explicitOrderBy)t.lt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new py(Wi.keyField(),o))}}}return t.lt}function ma(n){const t=un(n);if(!t.ft)if("F"===t.limitType)t.ft=sF(t.path,t.collectionGroup,gy(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of gy(t))e.push(new py(o.field,"desc"===o.dir?"asc":"desc"));const r=t.endAt?new pp(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new pp(t.startAt.position,t.startAt.inclusive):null;t.ft=sF(t.path,t.collectionGroup,e,t.filters,t.limit,r,i)}return t.ft}function qS(n,t,e){return new Sh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function uw(n,t){return cw(ma(n),ma(t))&&n.limitType===t.limitType}function fF(n){return`${Ig(ma(n))}|lt:${n.limitType}`}function JN(n){return`Query(target=${function YZ(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${fy(r.value)}`;var r}).join(", ")}]`),iw(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>fy(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>fy(e)).join(",")),`Target(${t})`}(ma(n))}; limitType=${n.limitType})`}function QN(n,t){return t.isFoundDocument()&&function(e,r){const i=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):rn.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(n,t)&&function(e,r){for(const i of e.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,t)&&function(e,r){for(const i of e.filters)if(!i.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!function(i,o,c){const w=cF(i,o,c);return i.inclusive?w<=0:w<0}(e.startAt,gy(e),r)||e.endAt&&!function(i,o,c){const w=cF(i,o,c);return i.inclusive?w>=0:w>0}(e.endAt,gy(e),r)));var e,r}function pF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mF(n){return(t,e)=>{let r=!1;for(const i of gy(n)){const o=sW(i,t,e);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function sW(n,t,e){const r=n.field.isKeyField()?rn.comparator(t.key,e.key):function(i,o,c){const w=o.data.field(i),M=c.data.field(i);return null!==w&&null!==M?fp(w,M):Sn()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Sn()}}function gF(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sw(t)?"-0":t}}function _F(n){return{integerValue:""+n}}function yF(n,t){return J8(t)?_F(t):gF(n,t)}class ZS{constructor(){this._=void 0}}function oW(n,t,e){return n instanceof _y?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(e,t):n instanceof Ag?vF(n,t):n instanceof kg?wF(n,t):function(r,i){const o=bF(r,i),c=CF(o)+CF(r._t);return ZN(o)&&ZN(r._t)?_F(c):gF(r.wt,c)}(n,t)}function aW(n,t,e){return n instanceof Ag?vF(n,t):n instanceof kg?wF(n,t):e}function bF(n,t){return n instanceof yy?ZN(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class _y extends ZS{}class Ag extends ZS{constructor(t){super(),this.elements=t}}function vF(n,t){const e=TF(t);for(const r of n.elements)e.some(i=>Qu(i,r))||e.push(r);return{arrayValue:{values:e}}}class kg extends ZS{constructor(t){super(),this.elements=t}}function wF(n,t){let e=TF(t);for(const r of n.elements)e=e.filter(i=>!Qu(i,r));return{arrayValue:{values:e}}}class yy extends ZS{constructor(t,e){super(),this.wt=t,this._t=e}}function CF(n){return Yi(n.integerValue||n.doubleValue)}function TF(n){return aw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dw{constructor(t,e){this.field=t,this.transform=e}}class cW{constructor(t,e){this.version=t,this.transformResults=e}}class Oi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Oi}static exists(t){return new Oi(void 0,t)}static updateTime(t){return new Oi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function WS(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class KS{}function EF(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new vy(n.key,Oi.none()):new by(n.key,n.data,Oi.none());{const e=n.data,r=Js.empty();let i=new Zr(Wi.comparator);for(let o of t.fields)if(!i.has(o)){let c=e.field(o);null===c&&o.length>1&&(o=o.popLast(),c=e.field(o)),null===c?r.delete(o):r.set(o,c),i=i.add(o)}return new xh(n.key,r,new Xa(i.toArray()),Oi.none())}}function uW(n,t,e){n instanceof by?function(r,i,o){const c=r.value.clone(),w=DF(r.fieldTransforms,i,o.transformResults);c.setAll(w),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof xh?function(r,i,o){if(!WS(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=DF(r.fieldTransforms,i,o.transformResults),w=i.data;w.setAll(xF(r)),w.setAll(c),i.convertToFoundDocument(o.version,w).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function hw(n,t,e,r){return n instanceof by?function(i,o,c,w){if(!WS(i.precondition,o))return c;const M=i.value.clone(),H=IF(i.fieldTransforms,w,o);return M.setAll(H),o.convertToFoundDocument(o.version,M).setHasLocalMutations(),null}(n,t,e,r):n instanceof xh?function(i,o,c,w){if(!WS(i.precondition,o))return c;const M=IF(i.fieldTransforms,w,o),H=o.data;return H.setAll(xF(i)),H.setAll(M),o.convertToFoundDocument(o.version,H).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(te=>te.field))}(n,t,e,r):(c=e,WS(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function dW(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),o=bF(r.transform,i||null);null!=o&&(null===e&&(e=Js.empty()),e.set(r.field,o))}return e||null}function SF(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&dy(e,r,(i,o)=>function lW(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof Ag&&r instanceof Ag||e instanceof kg&&r instanceof kg?dy(e.elements,r.elements,Qu):e instanceof yy&&r instanceof yy?Qu(e._t,r._t):e instanceof _y&&r instanceof _y);var e,r}(i,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}class by extends KS{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xh extends KS{constructor(t,e,r,i,o=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function xF(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function DF(n,t,e){const r=new Map;Jn(n.length===e.length);for(let i=0;i<e.length;i++){const o=n[i],c=o.transform,w=t.data.field(o.field);r.set(o.field,aW(c,w,e[i]))}return r}function IF(n,t,e){const r=new Map;for(const i of n){const o=i.transform,c=e.data.field(i.field);r.set(i.field,oW(o,c,t))}return r}class vy extends KS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XN extends KS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hW{constructor(t){this.count=t}}var ys,xr;function AF(n){switch(n){default:return Sn();case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0}}function kF(n){if(void 0===n)return cs("GRPC error has no .code"),bt.UNKNOWN;switch(n){case ys.OK:return bt.OK;case ys.CANCELLED:return bt.CANCELLED;case ys.UNKNOWN:return bt.UNKNOWN;case ys.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case ys.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case ys.INTERNAL:return bt.INTERNAL;case ys.UNAVAILABLE:return bt.UNAVAILABLE;case ys.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case ys.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case ys.NOT_FOUND:return bt.NOT_FOUND;case ys.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case ys.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case ys.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case ys.ABORTED:return bt.ABORTED;case ys.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case ys.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case ys.DATA_LOSS:return bt.DATA_LOSS;default:return Sn()}}(xr=ys||(ys={}))[xr.OK=0]="OK",xr[xr.CANCELLED=1]="CANCELLED",xr[xr.UNKNOWN=2]="UNKNOWN",xr[xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xr[xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xr[xr.NOT_FOUND=5]="NOT_FOUND",xr[xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",xr[xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",xr[xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",xr[xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xr[xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xr[xr.ABORTED=10]="ABORTED",xr[xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",xr[xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",xr[xr.INTERNAL=13]="INTERNAL",xr[xr.UNAVAILABLE=14]="UNAVAILABLE",xr[xr.DATA_LOSS=15]="DATA_LOSS";class mp{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,e]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Eg(this.inner,(e,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return W8(this.inner)}size(){return this.innerSize}}const fW=new Ki(rn.comparator);function ga(){return fW}const NF=new Ki(rn.comparator);function fw(...n){let t=NF;for(const e of n)t=t.insert(e.key,e);return t}function MF(n){let t=NF;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Xu(){return pw()}function RF(){return pw()}function pw(){return new mp(n=>n.toString(),(n,t)=>n.isEqual(t))}const pW=new Ki(rn.comparator),mW=new Zr(rn.comparator);function ar(...n){let t=mW;for(const e of n)t=t.add(e);return t}const gW=new Zr(ir);function YS(){return gW}class mw{constructor(t,e,r,i,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,gw.createSynthesizedTargetChangeForCurrentChange(t,e)),new mw(Zn.min(),r,YS(),ga(),ar())}}class gw{constructor(t,e,r,i,o){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new gw(ks.EMPTY_BYTE_STRING,e,ar(),ar(),ar())}}class JS{constructor(t,e,r,i){this.gt=t,this.removedTargetIds=e,this.key=r,this.yt=i}}class OF{constructor(t,e){this.targetId=t,this.It=e}}class PF{constructor(t,e,r=ks.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class FF{constructor(){this.Tt=0,this.Et=BF(),this.At=ks.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=ar(),e=ar(),r=ar();return this.Et.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:Sn()}}),new gw(this.At,this.Rt,t,e,r)}Dt(){this.bt=!1,this.Et=BF()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class _W{constructor(t){this.Ot=t,this.Ft=new Map,this.$t=ga(),this.Bt=LF(),this.Lt=new Zr(ir)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const r=this.Qt(e);switch(t.state){case 0:this.jt(e)&&r.Vt(t.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(t.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(r.Mt(),r.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),r.Vt(t.resumeToken));break;default:Sn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((r,i)=>{this.jt(i)&&e(i)})}zt(t){const e=t.targetId,r=t.It.count,i=this.Ht(e);if(i){const o=i.target;if(zS(o))if(0===r){const c=new rn(o.path);this.Kt(e,c,ei.newNoDocument(c,Zn.min()))}else Jn(1===r);else this.Jt(e)!==r&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((o,c)=>{const w=this.Ht(c);if(w){if(o.current&&zS(w.target)){const M=new rn(w.target.path);null!==this.$t.get(M)||this.Xt(c,M)||this.Kt(c,M,ei.newNoDocument(M,t))}o.vt&&(e.set(c,o.St()),o.Dt())}});let r=ar();this.Bt.forEach((o,c)=>{let w=!0;c.forEachWhile(M=>{const H=this.Ht(M);return!H||2===H.purpose||(w=!1,!1)}),w&&(r=r.add(o))}),this.$t.forEach((o,c)=>c.setReadTime(t));const i=new mw(t,e,this.Lt,this.$t,r);return this.$t=ga(),this.Bt=LF(),this.Lt=new Zr(ir),i}qt(t,e){if(!this.jt(t))return;const r=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,r),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,r){if(!this.jt(t))return;const i=this.Qt(t);this.Xt(t,e)?i.Ct(e,1):i.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),r&&(this.$t=this.$t.insert(e,r))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Ot.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new FF,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new Zr(ir),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||$t("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Ot.te(t)}Wt(t){this.Ft.set(t,new FF),this.Ot.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Ot.getRemoteKeysForTarget(t).has(e)}}function LF(){return new Ki(rn.comparator)}function BF(){return new Ki(rn.comparator)}const yW={asc:"ASCENDING",desc:"DESCENDING"},bW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vW{constructor(t,e){this.databaseId=t,this.dt=e}}function _w(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jF(n,t){return n.dt?t.toBase64():t.toUint8Array()}function wW(n,t){return _w(n,t.toTimestamp())}function Us(n){return Jn(!!n),Zn.fromTimestamp(function(t){const e=dp(t);return new Ei(e.seconds,e.nanos)}(n))}function eM(n,t){return(e=n,new Sr(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function UF(n){const t=Sr.fromString(n);return Jn(KF(t)),t}function yw(n,t){return eM(n.databaseId,t.path)}function ed(n,t){const e=UF(t);if(e.get(1)!==n.databaseId.projectId)throw new jt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new jt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new rn(HF(e))}function tM(n,t){return eM(n.databaseId,t)}function VF(n){const t=UF(n);return 4===t.length?Sr.emptyPath():HF(t)}function bw(n){return new Sr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HF(n){return Jn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function $F(n,t,e){return{name:yw(n,t),fields:e.value.mapValue.fields}}function zF(n,t,e){const r=ed(n,t.name),i=Us(t.updateTime),o=new Js({mapValue:{fields:t.fields}}),c=ei.newFoundDocument(r,i,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function vw(n,t){let e;if(t instanceof by)e={update:$F(n,t.key,t.value)};else if(t instanceof vy)e={delete:yw(n,t.key)};else if(t instanceof xh)e={update:$F(n,t.key,t.data),updateMask:kW(t.fieldMask)};else{if(!(t instanceof XN))return Sn();e={verify:yw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof _y)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ag)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof kg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof yy)return{fieldPath:o.field.canonicalString(),increment:c._t};throw Sn()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:wW(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Sn()),e;var i}function nM(n,t){const e=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?Oi.updateTime(Us(i.updateTime)):void 0!==i.exists?Oi.exists(i.exists):Oi.none():Oi.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(o,c){let w=null;"setToServerValue"in c?(Jn("REQUEST_TIME"===c.setToServerValue),w=new _y):"appendMissingElements"in c?w=new Ag(c.appendMissingElements.values||[]):"removeAllFromArray"in c?w=new kg(c.removeAllFromArray.values||[]):"increment"in c?w=new yy(o,c.increment):Sn();const M=Wi.fromServerFormat(c.fieldPath);return new dw(M,w)}(n,i)):[];var i;if(t.update){const i=ed(n,t.update.name),o=new Js({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Xa((t.updateMask.fieldPaths||[]).map(H=>Wi.fromServerFormat(H)));return new xh(i,o,c,e,r)}return new by(i,o,e,r)}if(t.delete){const i=ed(n,t.delete);return new vy(i,e)}if(t.verify){const i=ed(n,t.verify);return new XN(i,e)}return Sn()}function GF(n,t){return{documents:[tM(n,t.path)]}}function qF(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=tM(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=tM(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(M){if(0===M.length)return;const H=M.map(te=>function(de){if("=="===de.op){if(eF(de.value))return{unaryFilter:{field:wy(de.field),op:"IS_NAN"}};if(X8(de.value))return{unaryFilter:{field:wy(de.field),op:"IS_NULL"}}}else if("!="===de.op){if(eF(de.value))return{unaryFilter:{field:wy(de.field),op:"IS_NOT_NAN"}};if(X8(de.value))return{unaryFilter:{field:wy(de.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wy(de.field),op:DW(de.op),value:de.value}}}(te));return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}(t.filters);i&&(e.structuredQuery.where=i);const o=function(M){if(0!==M.length)return M.map(H=>{return{field:wy((te=H).field),direction:xW(te.dir)};var te})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=(H=t.limit,n.dt||iw(H)?H:{value:H});var H,w,M;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(w=t.startAt).inclusive,values:w.position}),t.endAt&&(e.structuredQuery.endAt={before:!(M=t.endAt).inclusive,values:M.position}),e}function ZF(n){let t=VF(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){Jn(1===r);const te=e.from[0];te.allDescendants?i=te.collectionId:t=t.child(te.collectionId)}let o=[];e.where&&(o=WF(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(te=>{return new py(Cy((de=te).field),function(ye){switch(ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(de.direction));var de}));let w=null;e.limit&&(w=function(te){let de;return de="object"==typeof te?te.value:te,iw(de)?null:de}(e.limit));let M=null;var te;e.startAt&&(M=new pp((te=e.startAt).values||[],!!te.before));let H=null;return e.endAt&&(H=function(te){return new pp(te.values||[],!te.before)}(e.endAt)),dF(t,i,c,o,w,"F",M,H)}function WF(n){return n?void 0!==n.unaryFilter?[AW(n)]:void 0!==n.fieldFilter?[IW(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>WF(t)).reduce((t,e)=>t.concat(e)):Sn():[]}function xW(n){return yW[n]}function DW(n){return bW[n]}function wy(n){return{fieldPath:n.canonicalString()}}function Cy(n){return Wi.fromServerFormat(n.fieldPath)}function IW(n){return Qs.create(Cy(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sn()}}(n.fieldFilter.op),n.fieldFilter.value)}function AW(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Cy(n.unaryFilter.field);return Qs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Cy(n.unaryFilter.field);return Qs.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Cy(n.unaryFilter.field);return Qs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Cy(n.unaryFilter.field);return Qs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Sn()}}function kW(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function KF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Bo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=YF(t)),t=NW(n.get(e),t);return YF(t)}function NW(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function YF(n){return n+"\x01\x01"}function td(n){const t=n.length;if(Jn(t>=2),2===t)return Jn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Sr.emptyPath();const e=t-2,r=[];let i="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&Sn(),n.charAt(c+1)){case"\x01":const w=n.substring(o,c);let M;0===i.length?M=w:(i+=w,M=i,i=""),r.push(M);break;case"\x10":i+=n.substring(o,c),i+="\0";break;case"\x11":i+=n.substring(o,c+1);break;default:Sn()}o=c+2}return new Sr(r)}const JF=["userId","batchId"];function QS(n,t){return[n,Bo(t)]}function QF(n,t,e){return[n,Bo(t),e]}const MW={},RW=["prefixPath","collectionGroup","readTime","documentId"],OW=["prefixPath","collectionGroup","documentId"],PW=["collectionGroup","readTime","prefixPath","documentId"],FW=["canonicalId","targetId"],LW=["targetId","path"],BW=["path","targetId"],jW=["collectionId","parent"],UW=["indexId","uid"],VW=["uid","sequenceNumber"],HW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$W=["indexId","uid","orderedDocumentKey"],zW=["userId","collectionPath","documentId"],GW=["userId","collectionPath","largestBatchId"],qW=["userId","collectionGroup","largestBatchId"],XF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ZW=[...XF,"documentOverlays"],e7=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],t7=e7,WW=[...t7,"indexConfiguration","indexState","indexEntries"];class rM extends G8{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function Vs(n,t){const e=un(n);return Vc.N(e.ee,t)}class iM{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&uW(o,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=hw(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=hw(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=RF();return this.mutations.forEach(i=>{const o=t.get(i.key),c=o.overlayedDocument;let w=this.applyToLocalView(c,o.mutatedFields);w=e.has(i.key)?null:w;const M=EF(c,w);null!==M&&r.set(i.key,M),c.isValidDocument()||c.convertToNoDocument(Zn.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ar())}isEqual(t){return this.batchId===t.batchId&&dy(this.mutations,t.mutations,(e,r)=>SF(e,r))&&dy(this.baseMutations,t.baseMutations,(e,r)=>SF(e,r))}}class sM{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){Jn(t.mutations.length===r.length);let i=pW;const o=t.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new sM(t,e,r,i)}}class oM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gp{constructor(t,e,r,i,o=Zn.min(),c=Zn.min(),w=ks.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=w}withSequenceNumber(t){return new gp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new gp(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new gp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class n7{constructor(t){this.ne=t}}function r7(n,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:XS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:yw(i=n.ne,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:_w(i,o.version.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:Ng(t.version)};else{if(!t.isUnknownDocument())return Sn();r.unknownDocument={path:e.path.toArray(),version:Ng(t.version)}}var i,o;return r}function XS(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Ng(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Mg(n){const t=new Ei(n.seconds,n.nanoseconds);return Zn.fromTimestamp(t)}function Rg(n,t){const e=(t.baseMutations||[]).map(o=>nM(n.ne,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const r=t.mutations.map(o=>nM(n.ne,o)),i=Ei.fromMillis(t.localWriteTimeMs);return new iM(t.batchId,i,e,r)}function ww(n){const t=Mg(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Mg(n.lastLimboFreeSnapshotVersion):Zn.min();let r;var i;return void 0!==n.query.documents?(Jn(1===(i=n.query).documents.length),r=ma(my(VF(i.documents[0])))):r=ma(ZF(n.query)),new gp(r,n.targetId,0,n.lastListenSequenceNumber,t,e,ks.fromBase64String(n.resumeToken))}function i7(n,t){const e=Ng(t.snapshotVersion),r=Ng(t.lastLimboFreeSnapshotVersion);let i;i=zS(t.target)?GF(n.ne,t.target):qF(n.ne,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ig(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function aM(n){const t=ZF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qS(t,t.limit,"L"):t}function lM(n,t){return new oM(t.largestBatchId,nM(n.ne,t.overlayMutation))}function s7(n,t){const e=t.path.lastSegment();return[n,Bo(t.path.popLast()),e]}function o7(n,t,e,r){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Ng(r.readTime),documentKey:Bo(r.documentKey.path),largestBatchId:r.largestBatchId}}class YW{getBundleMetadata(t,e){return a7(t).get(e).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Mg(i.createTime),version:i.version};var i})}saveBundleMetadata(t,e){return a7(t).put({bundleId:(r=e).id,createTime:Ng(Us(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return l7(t).get(e).next(r=>{if(r)return{name:(i=r).name,query:aM(i.bundledQuery),readTime:Mg(i.readTime)};var i})}saveNamedQuery(t,e){return l7(t).put({name:(r=e).name,readTime:Ng(Us(r.readTime)),bundledQuery:r.bundledQuery});var r}}function a7(n){return Vs(n,"bundles")}function l7(n){return Vs(n,"namedQueries")}class ex{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new ex(t,e.uid||"")}getOverlay(t,e){return Cw(t).get(s7(this.userId,e)).next(r=>r?lM(this.wt,r):null)}getOverlays(t,e){const r=Xu();return mt.forEach(e,i=>this.getOverlay(t,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(t,e,r){const i=[];return r.forEach((o,c)=>{const w=new oM(e,c);i.push(this.ie(t,w))}),mt.waitFor(i)}removeOverlaysForBatchId(t,e,r){const i=new Set;e.forEach(c=>i.add(Bo(c.getCollectionPath())));const o=[];return i.forEach(c=>{const w=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(Cw(t).W("collectionPathOverlayIndex",w))}),mt.waitFor(o)}getOverlaysForCollection(t,e,r){const i=Xu(),o=Bo(e),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Cw(t).K("collectionPathOverlayIndex",c).next(w=>{for(const M of w){const H=lM(this.wt,M);i.set(H.getKey(),H)}return i})}getOverlaysForCollectionGroup(t,e,r,i){const o=Xu();let c;const w=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Cw(t).J({index:"collectionGroupOverlayIndex",range:w},(M,H,te)=>{const de=lM(this.wt,H);o.size()<i||de.largestBatchId===c?(o.set(de.getKey(),de),c=de.largestBatchId):te.done()}).next(()=>o)}ie(t,e){return Cw(t).put(function(r,i,o){const[c,w,M]=s7(i,o.mutation.key);return{userId:i,collectionPath:w,documentId:M,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:vw(r.ne,o.mutation)}}(this.wt,this.userId,e))}}function Cw(n){return Vs(n,"documentOverlays")}class Og{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Yi(t.integerValue));else if("doubleValue"in t){const r=Yi(t.doubleValue);isNaN(r)?this.ce(e,13):(this.ce(e,15),sw(r)?e.ae(0):e.ae(r))}else if("timestampValue"in t){const r=t.timestampValue;this.ce(e,20),"string"==typeof r?e.he(r):(e.he(`${r.seconds||""}`),e.ae(r.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(Sg(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.ce(e,45),e.ae(r.latitude||0),e.ae(r.longitude||0)}else"mapValue"in t?tF(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):Sn()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const r=t.fields||{};this.ce(e,55);for(const i of Object.keys(r))this.le(i,e),this.oe(r[i],e)}me(t,e){const r=t.values||[];this.ce(e,50);for(const i of r)this.oe(i,e)}_e(t,e){this.ce(e,37),rn.fromName(t).path.forEach(r=>{this.ce(e,60),this.ge(r,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function JW(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function c7(n){const t=64-function(e){let r=0;for(let i=0;i<8;++i){const o=JW(255&e[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(t/8)}Og.ye=new Og;class QW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ie(r.value),r=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ae(r.value),r=e.next();this.Re()}be(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=e.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=e.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(t){const e=this.Ve(t),r=c7(e);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=255&e[i]}De(t){const e=this.Ve(t),r=c7(e);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=~(255&e[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Me(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(t),r=0!=(128&e[0]);e[0]^=r?255:128;for(let i=1;i<e.length;++i)e[i]^=r?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class XW{constructor(t){this.Oe=t}de(t){this.Oe.pe(t)}he(t){this.Oe.be(t)}ae(t){this.Oe.ve(t)}ue(){this.Oe.Ce()}}class eK{constructor(t){this.Oe=t}de(t){this.Oe.Ee(t)}he(t){this.Oe.Pe(t)}ae(t){this.Oe.De(t)}ue(){this.Oe.Ne()}}class Tw{constructor(){this.Oe=new QW,this.Fe=new XW(this.Oe),this.$e=new eK(this.Oe)}seed(t){this.Oe.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Pg{constructor(t,e,r,i){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=i}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new Pg(this.indexId,this.documentKey,this.arrayValue,r)}}function Fg(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=u7(n.arrayValue,t.arrayValue),0!==e?e:(e=u7(n.directionalValue,t.directionalValue),0!==e?e:rn.comparator(n.documentKey,t.documentKey)))}function u7(n,t){for(let e=0;e<n.length&&e<t.length;++e){const r=n[e]-t[e];if(0!==r)return r}return n.length-t.length}class tK{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const r=e;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(t){const e=VN(t);if(void 0!==e&&!this.Qe(e))return!1;const r=Cg(t);let i=0,o=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const c=r[i];if(!this.je(this.Ke,c)||!this.We(this.Ue[o++],c))return!1;++i}for(;i<r.length;++i)if(o>=this.Ue.length||!this.We(this.Ue[o++],r[i]))return!1;return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class nK{constructor(){this.ze=new cM}addToCollectionParentIndex(t,e){return this.ze.add(e),mt.resolve()}getCollectionParents(t,e){return mt.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return mt.resolve()}deleteFieldIndex(t,e){return mt.resolve()}getDocumentsMatchingTarget(t,e){return mt.resolve(null)}getIndexType(t,e){return mt.resolve(0)}getFieldIndexes(t,e){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,e){return mt.resolve(Qa.min())}getMinOffsetFromCollectionGroup(t,e){return mt.resolve(Qa.min())}updateCollectionGroup(t,e,r){return mt.resolve()}updateIndexEntries(t,e){return mt.resolve()}}class cM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new Zr(Sr.comparator),o=!i.has(r);return this.index[e]=i.add(r),o}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Zr(Sr.comparator)).toArray()}}const tx=new Uint8Array(0);class rK{constructor(t,e){this.user=t,this.databaseId=e,this.He=new cM,this.Je=new mp(r=>Ig(r),(r,i)=>cw(r,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const o={collectionId:r,parent:Bo(i)};return d7(t).put(o)}return mt.resolve()}getCollectionParents(t,e){const r=[],i=IDBKeyRange.bound([e,""],[V8(e),""],!1,!0);return d7(t).K(i).next(o=>{for(const c of o){if(c.collectionId!==e)break;r.push(td(c.parent))}return r})}addFieldIndex(t,e){const r=nx(t),i={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(w=>[w.fieldPath.canonicalString(),w.kind])};var c;delete i.indexId;const o=r.add(i);if(e.indexState){const c=Sw(t);return o.next(w=>{c.put(o7(w,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const r=nx(t),i=Sw(t),o=Ew(t);return r.delete(e.indexId).next(()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const r=Ew(t);let i=!0;const o=new Map;return mt.forEach(this.Ye(e),c=>this.Xe(t,c).next(w=>{i&&(i=!!w),o.set(c,w)})).next(()=>{if(i){let c=ar();const w=[];return mt.forEach(o,(M,H)=>{var te;$t("IndexedDbIndexManager",`Using index ${te=M,`id=${te.indexId}|cg=${te.collectionGroup}|f=${te.fields.map(At=>`${At.fieldPath}:${At.kind}`).join(",")}`} to execute ${Ig(e)}`);const de=function(At,vt){const Ft=VN(vt);if(void 0===Ft)return null;for(const Ht of GS(At,Ft.fieldPath))switch(Ht.op){case"array-contains-any":return Ht.value.arrayValue.values||[];case"array-contains":return[Ht.value]}return null}(H,M),ye=function(At,vt){const Ft=new Map;for(const Ht of Cg(vt))for(const _n of GS(At,Ht.fieldPath))switch(_n.op){case"==":case"in":Ft.set(Ht.fieldPath.canonicalString(),_n.value);break;case"not-in":case"!=":return Ft.set(Ht.fieldPath.canonicalString(),_n.value),Array.from(Ft.values())}return null}(H,M),Ce=function(At,vt){const Ft=[];let Ht=!0;for(const _n of Cg(vt)){const zn=0===_n.kind?oF(At,_n.fieldPath,At.startAt):aF(At,_n.fieldPath,At.startAt);Ft.push(zn.value),Ht&&(Ht=zn.inclusive)}return new pp(Ft,Ht)}(H,M),Ie=function(At,vt){const Ft=[];let Ht=!0;for(const _n of Cg(vt)){const zn=0===_n.kind?aF(At,_n.fieldPath,At.endAt):oF(At,_n.fieldPath,At.endAt);Ft.push(zn.value),Ht&&(Ht=zn.inclusive)}return new pp(Ft,Ht)}(H,M),He=this.Ze(M,H,Ce),Ke=this.Ze(M,H,Ie),ut=this.tn(M,H,ye),_t=this.en(M.indexId,de,He,Ce.inclusive,Ke,Ie.inclusive,ut);return mt.forEach(_t,At=>r.j(At,e.limit).next(vt=>{vt.forEach(Ft=>{const Ht=rn.fromSegments(Ft.documentKey);c.has(Ht)||(c=c.add(Ht),w.push(Ht))})}))}).next(()=>w)}return mt.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,r,i,o,c,w){const M=(null!=e?e.length:1)*Math.max(r.length,o.length),H=M/(null!=e?e.length:1),te=[];for(let de=0;de<M;++de){const ye=e?this.nn(e[de/H]):tx,Ce=this.sn(t,ye,r[de%H],i),Ie=this.rn(t,ye,o[de%H],c),He=w.map(Ke=>this.sn(t,ye,Ke,!0));te.push(...this.createRange(Ce,Ie,He))}return te}sn(t,e,r,i){const o=new Pg(t,rn.empty(),e,r);return i?o:o.Le()}rn(t,e,r,i){const o=new Pg(t,rn.empty(),e,r);return i?o.Le():o}Xe(t,e){const r=new tK(e),i=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,i).next(o=>{let c=null;for(const w of o)r.Ge(w)&&(!c||w.fields.length>c.fields.length)&&(c=w);return c})}getIndexType(t,e){let r=2;return mt.forEach(this.Ye(e),i=>this.Xe(t,i).next(o=>{o?0!==r&&o.fields.length<function(c){let w=new Zr(Wi.comparator),M=!1;for(const H of c.filters){const te=H;te.field.isKeyField()||("array-contains"===te.op||"array-contains-any"===te.op?M=!0:w=w.add(te.field))}for(const H of c.orderBy)H.field.isKeyField()||(w=w.add(H.field));return w.size+(M?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(t,e){const r=new Tw;for(const i of Cg(t)){const o=e.data.field(i.fieldPath);if(null==o)return null;const c=r.Be(i.kind);Og.ye.re(o,c)}return r.Me()}nn(t){const e=new Tw;return Og.ye.re(t,e.Be(0)),e.Me()}un(t,e){const r=new Tw;return Og.ye.re(Dg(this.databaseId,e),r.Be(function(i){const o=Cg(i);return 0===o.length?0:o[o.length-1].kind}(t))),r.Me()}tn(t,e,r){if(null===r)return[];let i=[];i.push(new Tw);let o=0;for(const c of Cg(t)){const w=r[o++];for(const M of i)if(this.cn(e,c.fieldPath)&&aw(w))i=this.an(i,c,w);else{const H=M.Be(c.kind);Og.ye.re(w,H)}}return this.hn(i)}Ze(t,e,r){return this.tn(t,e,r.position)}hn(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].Me();return e}an(t,e,r){const i=[...t],o=[];for(const c of r.arrayValue.values||[])for(const w of i){const M=new Tw;M.seed(w.Me()),Og.ye.re(c,M.Be(e.kind)),o.push(M)}return o}cn(t,e){return!!t.filters.find(r=>r instanceof Qs&&r.field.isEqual(e)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(t,e){const r=nx(t),i=Sw(t);return(e?r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.K()).next(o=>{const c=[];return mt.forEach(o,w=>i.get([w.indexId,this.uid]).next(M=>{c.push(function(H,te){const de=te?new tw(te.sequenceNumber,new Qa(Mg(te.readTime),new rn(td(te.documentKey)),te.largestBatchId)):tw.empty(),ye=H.fields.map(([Ce,Ie])=>new jS(Wi.fromServerFormat(Ce),Ie));return new BS(H.indexId,H.collectionGroup,ye,de)}(w,M))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:ir(r.collectionGroup,i.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,r){const i=nx(t),o=Sw(t);return this.ln(t).next(c=>i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(w=>mt.forEach(w,M=>o.put(o7(M.indexId,this.user,c,r)))))}updateIndexEntries(t,e){const r=new Map;return mt.forEach(e,(i,o)=>{const c=r.get(i.collectionGroup);return(c?mt.resolve(c):this.getFieldIndexes(t,i.collectionGroup)).next(w=>(r.set(i.collectionGroup,w),mt.forEach(w,M=>this.fn(t,i,M).next(H=>{const te=this.dn(o,M);return H.isEqual(te)?mt.resolve():this._n(t,o,M,H,te)}))))})}wn(t,e,r,i){return Ew(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,e.key),documentKey:e.key.path.toArray()})}mn(t,e,r,i){return Ew(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,e.key),e.key.path.toArray()])}fn(t,e,r){const i=Ew(t);let o=new Zr(Fg);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,e)])},(c,w)=>{o=o.add(new Pg(r.indexId,e,w.arrayValue,w.directionalValue))}).next(()=>o)}dn(t,e){let r=new Zr(Fg);const i=this.on(e,t);if(null==i)return r;const o=VN(e);if(null!=o){const c=t.data.field(o.fieldPath);if(aw(c))for(const w of c.arrayValue.values||[])r=r.add(new Pg(e.indexId,t.key,this.nn(w),i))}else r=r.add(new Pg(e.indexId,t.key,tx,i));return r}_n(t,e,r,i,o){$t("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(w,M,H,te,de){const ye=w.getIterator(),Ce=M.getIterator();let Ie=hy(ye),He=hy(Ce);for(;Ie||He;){let Ke=!1,ut=!1;if(Ie&&He){const _t=H(Ie,He);_t<0?ut=!0:_t>0&&(Ke=!0)}else null!=Ie?ut=!0:Ke=!0;Ke?(te(He),He=hy(Ce)):ut?(de(Ie),Ie=hy(ye)):(Ie=hy(ye),He=hy(Ce))}}(i,o,Fg,w=>{c.push(this.wn(t,e,r,w))},w=>{c.push(this.mn(t,e,r,w))}),mt.waitFor(c)}ln(t){let e=1;return Sw(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),e=i.sequenceNumber+1}).next(()=>e)}createRange(t,e,r){r=r.sort((c,w)=>Fg(c,w)).filter((c,w,M)=>!w||0!==Fg(c,M[w-1]));const i=[];i.push(t);for(const c of r){const w=Fg(c,t),M=Fg(c,e);if(0===w)i[0]=t.Le();else if(w>0&&M<0)i.push(c),i.push(c.Le());else if(M>0)break}i.push(e);const o=[];for(let c=0;c<i.length;c+=2)o.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,tx,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,tx,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(h7)}getMinOffset(t,e){return mt.mapArray(this.Ye(e),r=>this.Xe(t,r).next(i=>i||Sn())).next(h7)}}function d7(n){return Vs(n,"collectionParents")}function Ew(n){return Vs(n,"indexEntries")}function nx(n){return Vs(n,"indexConfiguration")}function Sw(n){return Vs(n,"indexState")}function h7(n){Jn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;HN(i,t)<0&&(t=i),e<i.largestBatchId&&(e=i.largestBatchId)}return new Qa(t.readTime,t.documentKey,e)}const f7={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _a{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new _a(t,_a.DEFAULT_COLLECTION_PERCENTILE,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function p7(n,t,e){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let w=0;const M=r.J({range:c},(te,de,ye)=>(w++,ye.delete()));o.push(M.next(()=>{Jn(1===w)}));const H=[];for(const te of e.mutations){const de=QF(t,te.key.path,e.batchId);o.push(i.delete(de)),H.push(te.key)}return mt.waitFor(o).next(()=>H)}function rx(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Sn();t=n.noDocument}return JSON.stringify(t).length}_a.DEFAULT_COLLECTION_PERCENTILE=10,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_a.DEFAULT=new _a(41943040,_a.DEFAULT_COLLECTION_PERCENTILE,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_a.DISABLED=new _a(-1,0,0);class ix{constructor(t,e,r,i){this.userId=t,this.wt=e,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(t,e,r,i){Jn(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new ix(o,e,r,i)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _p(t).J({index:"userMutationsIndex",range:r},(i,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,r,i){const o=Ty(t),c=_p(t);return c.add({}).next(w=>{Jn("number"==typeof w);const M=new iM(w,e,r,i),H=function(ye,Ce,Ie){const He=Ie.baseMutations.map(ut=>vw(ye.ne,ut)),Ke=Ie.mutations.map(ut=>vw(ye.ne,ut));return{userId:Ce,batchId:Ie.batchId,localWriteTimeMs:Ie.localWriteTime.toMillis(),baseMutations:He,mutations:Ke}}(this.wt,this.userId,M),te=[];let de=new Zr((ye,Ce)=>ir(ye.canonicalString(),Ce.canonicalString()));for(const ye of i){const Ce=QF(this.userId,ye.key.path,w);de=de.add(ye.key.path.popLast()),te.push(c.put(H)),te.push(o.put(Ce,MW))}return de.forEach(ye=>{te.push(this.indexManager.addToCollectionParentIndex(t,ye))}),t.addOnCommittedListener(()=>{this.gn[w]=M.keys()}),mt.waitFor(te).next(()=>M)})}lookupMutationBatch(t,e){return _p(t).get(e).next(r=>r?(Jn(r.userId===this.userId),Rg(this.wt,r)):null)}yn(t,e){return this.gn[e]?mt.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const i=r.keys();return this.gn[e]=i,i}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return _p(t).J({index:"userMutationsIndex",range:i},(c,w,M)=>{w.userId===this.userId&&(Jn(w.batchId>=r),o=Rg(this.wt,w)),M.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _p(t).J({index:"userMutationsIndex",range:e,reverse:!0},(i,o,c)=>{r=o.batchId,c.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _p(t).K("userMutationsIndex",e).next(r=>r.map(i=>Rg(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=QS(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ty(t).J({range:i},(c,w,M)=>{const[H,te,de]=c,ye=td(te);if(H===this.userId&&e.path.isEqual(ye))return _p(t).get(de).next(Ce=>{if(!Ce)throw Sn();Jn(Ce.userId===this.userId),o.push(Rg(this.wt,Ce))});M.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Zr(ir);const i=[];return e.forEach(o=>{const c=QS(this.userId,o.path),w=IDBKeyRange.lowerBound(c),M=Ty(t).J({range:w},(H,te,de)=>{const[ye,Ce,Ie]=H,He=td(Ce);ye===this.userId&&o.path.isEqual(He)?r=r.add(Ie):de.done()});i.push(M)}),mt.waitFor(i).next(()=>this.pn(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1,o=QS(this.userId,r),c=IDBKeyRange.lowerBound(o);let w=new Zr(ir);return Ty(t).J({range:c},(M,H,te)=>{const[de,ye,Ce]=M,Ie=td(ye);de===this.userId&&r.isPrefixOf(Ie)?Ie.length===i&&(w=w.add(Ce)):te.done()}).next(()=>this.pn(t,w))}pn(t,e){const r=[],i=[];return e.forEach(o=>{i.push(_p(t).get(o).next(c=>{if(null===c)throw Sn();Jn(c.userId===this.userId),r.push(Rg(this.wt,c))}))}),mt.waitFor(i).next(()=>r)}removeMutationBatch(t,e){return p7(t.ee,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),mt.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return mt.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ty(t).J({range:r},(o,c,w)=>{if(o[0]===this.userId){const M=td(o[1]);i.push(M)}else w.done()}).next(()=>{Jn(0===i.length)})})}containsKey(t,e){return m7(t,this.userId,e)}Tn(t){return g7(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function m7(n,t,e){const r=QS(t,e.path),i=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return Ty(n).J({range:o,H:!0},(w,M,H)=>{const[te,de,ye]=w;te===t&&de===i&&(c=!0),H.done()}).next(()=>c)}function _p(n){return Vs(n,"mutations")}function Ty(n){return Vs(n,"documentMutations")}function g7(n){return Vs(n,"mutationQueues")}class Lg{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Lg(0)}static Rn(){return new Lg(-1)}}class iK{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const r=new Lg(e.highestTargetId);return e.highestTargetId=r.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>Zn.fromTimestamp(new Ei(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.bn(t).next(i=>(i.highestListenSequenceNumber=e,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.Pn(t,i)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(r=>(r.targetCount+=1,this.Vn(e,r),this.Pn(t,r))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Ey(t).delete(e.targetId)).next(()=>this.bn(t)).next(r=>(Jn(r.targetCount>0),r.targetCount-=1,this.Pn(t,r)))}removeTargets(t,e,r){let i=0;const o=[];return Ey(t).J((c,w)=>{const M=ww(w);M.sequenceNumber<=e&&null===r.get(M.targetId)&&(i++,o.push(this.removeTargetData(t,M)))}).next(()=>mt.waitFor(o)).next(()=>i)}forEachTarget(t,e){return Ey(t).J((r,i)=>{const o=ww(i);e(o)})}bn(t){return _7(t).get("targetGlobalKey").next(e=>(Jn(null!==e),e))}Pn(t,e){return _7(t).put("targetGlobalKey",e)}vn(t,e){return Ey(t).put(i7(this.wt,e))}Vn(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const r=Ig(e),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Ey(t).J({range:i,index:"queryTargetsIndex"},(c,w,M)=>{const H=ww(w);cw(e,H.target)&&(o=H,M.done())}).next(()=>o)}addMatchingKeys(t,e,r){const i=[],o=yp(t);return e.forEach(c=>{const w=Bo(c.path);i.push(o.put({targetId:r,path:w})),i.push(this.referenceDelegate.addReference(t,r,c))}),mt.waitFor(i)}removeMatchingKeys(t,e,r){const i=yp(t);return mt.forEach(e,o=>{const c=Bo(o.path);return mt.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(t,r,o)])})}removeMatchingKeysForTargetId(t,e){const r=yp(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),i=yp(t);let o=ar();return i.J({range:r,H:!0},(c,w,M)=>{const H=td(c[1]),te=new rn(H);o=o.add(te)}).next(()=>o)}containsKey(t,e){const r=Bo(e.path),i=IDBKeyRange.bound([r],[V8(r)],!1,!0);let o=0;return yp(t).J({index:"documentTargetsIndex",H:!0,range:i},([c,w],M,H)=>{0!==c&&(o++,H.done())}).next(()=>o>0)}te(t,e){return Ey(t).get(e).next(r=>r?ww(r):null)}}function Ey(n){return Vs(n,"targets")}function _7(n){return Vs(n,"targetGlobal")}function yp(n){return Vs(n,"targetDocuments")}function y7([n,t],[e,r]){const i=ir(n,e);return 0===i?ir(t,r):i}class sK{constructor(t){this.Sn=t,this.buffer=new Zr(y7),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();y7(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class oK{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;$t("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,xt.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(r){up(r)?$t("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield cp(r)}yield e.kn(3e5)}))}}class aK{constructor(t,e){this.Mn=t,this.params=e}calculateTargetCount(t,e){return this.Mn.On(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return mt.resolve(pa.ot);const r=new sK(e);return this.Mn.forEachTarget(t,i=>r.xn(i.sequenceNumber)).next(()=>this.Mn.Fn(t,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.Mn.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Mn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?($t("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(f7)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?($t("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f7):this.$n(t,e))}getCacheSize(t){return this.Mn.getCacheSize(t)}$n(t,e){let r,i,o,c,w,M,H;const te=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(de=>(de>this.params.maximumSequenceNumbersToCollect?($t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${de}`),i=this.params.maximumSequenceNumbersToCollect):i=de,c=Date.now(),this.nthSequenceNumber(t,i))).next(de=>(r=de,w=Date.now(),this.removeTargets(t,r,e))).next(de=>(o=de,M=Date.now(),this.removeOrphanedDocuments(t,r))).next(de=>(H=Date.now(),jN()<=Uc.in.DEBUG&&$t("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-te}ms\n\tDetermined least recently used ${i} in `+(w-c)+`ms\n\tRemoved ${o} targets in `+(M-w)+`ms\n\tRemoved ${de} documents in `+(H-M)+`ms\nTotal Duration: ${H-te}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:de})))}}class lK{constructor(t,e){this.db=t,this.garbageCollector=new aK(this,e)}On(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}Bn(t){let e=0;return this.Fn(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(r,i)=>e(i))}addReference(t,e,r){return sx(t,r)}removeReference(t,e,r){return sx(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return sx(t,e)}Un(t,e){return function(r,i){let o=!1;return g7(r).Y(c=>m7(r,c,i).next(w=>(w&&(o=!0),mt.resolve(!w)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Ln(t,(c,w)=>{if(w<=e){const M=this.Un(t,c).next(H=>{if(!H)return o++,r.getEntry(t,c).next(()=>(r.removeEntry(c,Zn.min()),yp(t).delete([0,Bo(c.path)])))});i.push(M)}}).next(()=>mt.waitFor(i)).next(()=>r.apply(t)).next(()=>o)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return sx(t,e)}Ln(t,e){const r=yp(t);let i,o=pa.ot;return r.J({index:"documentTargetsIndex"},([c,w],{path:M,sequenceNumber:H})=>{0===c?(o!==pa.ot&&e(new rn(td(i)),o),o=H,i=M):o=pa.ot}).next(()=>{o!==pa.ot&&e(new rn(td(i)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function sx(n,t){return yp(n).put((r=n.currentSequenceNumber,{targetId:0,path:Bo(t.path),sequenceNumber:r}));var r}class b7{constructor(){this.changes=new mp(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ei.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?mt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class cK{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return Bg(t).put(r)}removeEntry(t,e,r){return Bg(t).delete(function(i,o){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],XS(o),c[c.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.qn(t,r)))}getEntry(t,e){let r=ei.newInvalidDocument(e);return Bg(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(xw(e))},(i,o)=>{r=this.Kn(e,o)}).next(()=>r)}Gn(t,e){let r={size:0,document:ei.newInvalidDocument(e)};return Bg(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(xw(e))},(i,o)=>{r={document:this.Kn(e,o),size:rx(o)}}).next(()=>r)}getEntries(t,e){let r=ga();return this.Qn(t,e,(i,o)=>{const c=this.Kn(i,o);r=r.insert(i,c)}).next(()=>r)}jn(t,e){let r=ga(),i=new Ki(rn.comparator);return this.Qn(t,e,(o,c)=>{const w=this.Kn(o,c);r=r.insert(o,w),i=i.insert(o,rx(c))}).next(()=>({documents:r,Wn:i}))}Qn(t,e,r){if(e.isEmpty())return mt.resolve();let i=new Zr(T7);e.forEach(M=>i=i.add(M));const o=IDBKeyRange.bound(xw(i.first()),xw(i.last())),c=i.getIterator();let w=c.getNext();return Bg(t).J({index:"documentKeyIndex",range:o},(M,H,te)=>{const de=rn.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;w&&T7(w,de)<0;)r(w,null),w=c.getNext();w&&w.isEqual(de)&&(r(w,H),w=c.hasNext()?c.getNext():null),w?te.q(xw(w)):te.done()}).next(()=>{for(;w;)r(w,null),w=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,r){const i=[e.popLast().toArray(),e.lastSegment(),XS(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bg(t).K(IDBKeyRange.bound(i,o,!0)).next(c=>{let w=ga();for(const M of c){const H=this.Kn(rn.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);w=w.insert(H.key,H)}return w})}getAllFromCollectionGroup(t,e,r,i){let o=ga();const c=C7(e,r),w=C7(e,Qa.max());return Bg(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,w,!0)},(M,H,te)=>{const de=this.Kn(rn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);o=o.insert(de.key,de),o.size===i&&te.done()}).next(()=>o)}newChangeBuffer(t){return new uK(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return w7(t).get("remoteDocumentGlobalKey").next(e=>(Jn(!!e),e))}qn(t,e){return w7(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const r=function KW(n,t){let e;if(t.document)e=zF(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=rn.fromSegments(t.noDocument.path),i=Mg(t.noDocument.readTime);e=ei.newNoDocument(r,i),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Sn();{const r=rn.fromSegments(t.unknownDocument.path),i=Mg(t.unknownDocument.version);e=ei.newUnknownDocument(r,i)}}return t.readTime&&e.setReadTime(function(r){const i=new Ei(r[0],r[1]);return Zn.fromTimestamp(i)}(t.readTime)),e}(this.wt,e);if(!r.isNoDocument()||!r.version.isEqual(Zn.min()))return r}return ei.newInvalidDocument(t)}}function v7(n){return new cK(n)}class uK extends b7{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new mp(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const e=[];let r=0,i=new Zr((o,c)=>ir(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const w=this.Hn.get(o);if(e.push(this.zn.removeEntry(t,o,w.readTime)),c.isValidDocument()){const M=r7(this.zn.wt,c);i=i.add(o.path.popLast());const H=rx(M);r+=H-w.size,e.push(this.zn.addEntry(t,o,M))}else if(r-=w.size,this.trackRemovals){const M=r7(this.zn.wt,c.convertToNoDocument(Zn.min()));e.push(this.zn.addEntry(t,o,M))}}),i.forEach(o=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.zn.updateMetadata(t,r)),mt.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(r=>(this.Hn.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:r,Wn:i})=>(i.forEach((o,c)=>{this.Hn.set(o,{size:c,readTime:r.get(o).readTime})}),r))}}function w7(n){return Vs(n,"remoteDocumentGlobal")}function Bg(n){return Vs(n,"remoteDocumentsV14")}function xw(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function C7(n,t){const e=t.documentKey.path.toArray();return[n,XS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function T7(n,t){const e=n.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<e.length-2&&o<r.length-2;++o)if(i=ir(e[o],r[o]),i)return i;return i=ir(e.length,r.length),i||(i=ir(e[e.length-2],r[r.length-2]),i||ir(e[e.length-1],r[r.length-1]))}class dK{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class E7{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.getBaseDocument(t,e,r))).next(i=>(null!==r&&hw(r.mutation,i,Xa.empty(),Ei.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,ar()).next(()=>r))}getLocalViewOfDocuments(t,e,r=ar()){const i=Xu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(o=>{let c=fw();return o.forEach((w,M)=>{c=c.insert(w,M.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const r=Xu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,ar()))}populateOverlays(t,e,r){const i=[];return r.forEach(o=>{e.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((c,w)=>{e.set(c,w)})})}computeViews(t,e,r,i){let o=ga();const c=pw(),w=pw();return e.forEach((M,H)=>{const te=r.get(H.key);i.has(H.key)&&(void 0===te||te.mutation instanceof xh)?o=o.insert(H.key,H):void 0!==te&&(c.set(H.key,te.mutation.getFieldMask()),hw(te.mutation,H,te.mutation.getFieldMask(),Ei.now()))}),this.recalculateAndSaveOverlays(t,o).next(M=>(M.forEach((H,te)=>c.set(H,te)),e.forEach((H,te)=>{var de;return w.set(H,new dK(te,null!==(de=c.get(H))&&void 0!==de?de:null))}),w))}recalculateAndSaveOverlays(t,e){const r=pw();let i=new Ki((c,w)=>c-w),o=ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const w of c)w.keys().forEach(M=>{const H=e.get(M);if(null===H)return;let te=r.get(M)||Xa.empty();te=w.applyToLocalView(H,te),r.set(M,te);const de=(i.get(w.batchId)||ar()).add(M);i=i.insert(w.batchId,de)})}).next(()=>{const c=[],w=i.getReverseIterator();for(;w.hasNext();){const M=w.getNext(),H=M.key,te=M.value,de=RF();te.forEach(ye=>{if(!o.has(ye)){const Ce=EF(e.get(ye),r.get(ye));null!==Ce&&de.set(ye,Ce),o=o.add(ye)}}),c.push(this.documentOverlayCache.saveOverlays(t,H,de))}return mt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r){return rn.isDocumentKey((i=e).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):YN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r):this.getDocumentsMatchingCollectionQuery(t,e,r);var i}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-o.size):mt.resolve(Xu());let w=-1,M=o;return c.next(H=>mt.forEach(H,(te,de)=>(w<de.largestBatchId&&(w=de.largestBatchId),o.get(te)?mt.resolve():this.getBaseDocument(t,te,de).next(ye=>{M=M.insert(te,ye)}))).next(()=>this.populateOverlays(t,H,o)).next(()=>this.computeViews(t,M,H,ar())).next(te=>({batchId:w,changes:MF(te)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new rn(e)).next(r=>{let i=fw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r){const i=e.collectionGroup;let o=fw();return this.indexManager.getCollectionParents(t,i).next(c=>mt.forEach(c,w=>{const M=(H=e,te=w.child(i),new Sh(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(t,M,r).next(H=>{H.forEach((te,de)=>{o=o.insert(te,de)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,r){let i;return this.remoteDocumentCache.getAllFromCollection(t,e.path,r).next(o=>(i=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId))).next(o=>{o.forEach((w,M)=>{const H=M.getKey();null===i.get(H)&&(i=i.insert(H,ei.newInvalidDocument(H)))});let c=fw();return i.forEach((w,M)=>{const H=o.get(w);void 0!==H&&hw(H.mutation,M,Xa.empty(),Ei.now()),QN(e,M)&&(c=c.insert(w,M))}),c})}getBaseDocument(t,e,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(t,e):mt.resolve(ei.newInvalidDocument(e))}}class hK{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return mt.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var r;return this.Jn.set(e.id,{id:(r=e).id,version:r.version,createTime:Us(r.createTime)}),mt.resolve()}getNamedQuery(t,e){return mt.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(r=e).name,query:aM(r.bundledQuery),readTime:Us(r.readTime)}),mt.resolve();var r}}class fK{constructor(){this.overlays=new Ki(rn.comparator),this.Xn=new Map}getOverlay(t,e){return mt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Xu();return mt.forEach(e,i=>this.getOverlay(t,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,o)=>{this.ie(t,e,o)}),mt.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(r)),mt.resolve()}getOverlaysForCollection(t,e,r){const i=Xu(),o=e.length+1,c=new rn(e.child("")),w=this.overlays.getIteratorFrom(c);for(;w.hasNext();){const M=w.getNext().value,H=M.getKey();if(!e.isPrefixOf(H.path))break;H.path.length===o&&M.largestBatchId>r&&i.set(M.getKey(),M)}return mt.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let o=new Ki((H,te)=>H-te);const c=this.overlays.getIterator();for(;c.hasNext();){const H=c.getNext().value;if(H.getKey().getCollectionGroup()===e&&H.largestBatchId>r){let te=o.get(H.largestBatchId);null===te&&(te=Xu(),o=o.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const w=Xu(),M=o.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((H,te)=>w.set(H,te)),!(w.size()>=i)););return mt.resolve(w)}ie(t,e,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new oM(e,r));let o=this.Xn.get(e);void 0===o&&(o=ar(),this.Xn.set(e,o)),this.Xn.set(e,o.add(r.key))}}class uM{constructor(){this.Zn=new Zr(Hs.ts),this.es=new Zr(Hs.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const r=new Hs(t,e);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.rs(new Hs(t,e))}os(t,e){t.forEach(r=>this.removeReference(r,e))}us(t){const e=new rn(new Sr([])),r=new Hs(e,t),i=new Hs(e,t+1),o=[];return this.es.forEachInRange([r,i],c=>{this.rs(c),o.push(c.key)}),o}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new rn(new Sr([])),r=new Hs(e,t),i=new Hs(e,t+1);let o=ar();return this.es.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new Hs(t,0),r=this.Zn.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Hs{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return rn.comparator(t.key,e.key)||ir(t.ls,e.ls)}static ns(t,e){return ir(t.ls,e.ls)||rn.comparator(t.key,e.key)}}class pK{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new Zr(Hs.ts)}checkEmpty(t){return mt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,i){const o=this.fs;this.fs++;const c=new iM(o,e,r,i);this.mutationQueue.push(c);for(const w of i)this.ds=this.ds.add(new Hs(w.key,o)),this.indexManager.addToCollectionParentIndex(t,w.key.path.popLast());return mt.resolve(c)}lookupMutationBatch(t,e){return mt.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.ws(e+1),o=i<0?0:i;return mt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Hs(e,0),i=new Hs(e,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([r,i],c=>{const w=this._s(c.ls);o.push(w)}),mt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Zr(ir);return e.forEach(i=>{const o=new Hs(i,0),c=new Hs(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,c],w=>{r=r.add(w.ls)})}),mt.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let o=r;rn.isDocumentKey(o)||(o=o.child(""));const c=new Hs(new rn(o),0);let w=new Zr(ir);return this.ds.forEachWhile(M=>{const H=M.key.path;return!!r.isPrefixOf(H)&&(H.length===i&&(w=w.add(M.ls)),!0)},c),mt.resolve(this.gs(w))}gs(t){const e=[];return t.forEach(r=>{const i=this._s(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){Jn(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return mt.forEach(e.mutations,i=>{const o=new Hs(i.key,e.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.ds=r})}In(t){}containsKey(t,e){const r=new Hs(e,0),i=this.ds.firstAfterOrEqual(r);return mt.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return mt.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class mK{constructor(t){this.ps=t,this.docs=new Ki(rn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),o=i?i.size:0,c=this.ps(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return mt.resolve(r?r.document.mutableCopy():ei.newInvalidDocument(e))}getEntries(t,e){let r=ga();return e.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ei.newInvalidDocument(i))}),mt.resolve(r)}getAllFromCollection(t,e,r){let i=ga();const o=new rn(e.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:w,value:{document:M}}=c.getNext();if(!e.isPrefixOf(w.path))break;w.path.length>e.length+1||HN($8(M),r)<=0||(i=i.insert(M.key,M.mutableCopy()))}return mt.resolve(i)}getAllFromCollectionGroup(t,e,r,i){Sn()}Is(t,e){return mt.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new gK(this)}getSize(t){return mt.resolve(this.size)}}class gK extends b7{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.zn.addEntry(t,i)):this.zn.removeEntry(r)}),mt.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class _K{constructor(t){this.persistence=t,this.Ts=new mp(e=>Ig(e),cw),this.lastRemoteSnapshotVersion=Zn.min(),this.highestTargetId=0,this.Es=0,this.As=new uM,this.targetCount=0,this.Rs=Lg.An()}forEachTarget(t,e){return this.Ts.forEach((r,i)=>e(i)),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Es&&(this.Es=e),mt.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Lg(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,mt.resolve()}updateTargetData(t,e){return this.vn(e),mt.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,e,r){let i=0;const o=[];return this.Ts.forEach((c,w)=>{w.sequenceNumber<=e&&null===r.get(w.targetId)&&(this.Ts.delete(c),o.push(this.removeMatchingKeysForTargetId(t,w.targetId)),i++)}),mt.waitFor(o).next(()=>i)}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,e){const r=this.Ts.get(e)||null;return mt.resolve(r)}addMatchingKeys(t,e,r){return this.As.ss(e,r),mt.resolve()}removeMatchingKeys(t,e,r){this.As.os(e,r);const i=this.persistence.referenceDelegate,o=[];return i&&e.forEach(c=>{o.push(i.markPotentiallyOrphaned(t,c))}),mt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),mt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.As.hs(e);return mt.resolve(r)}containsKey(t,e){return mt.resolve(this.As.containsKey(e))}}class S7{constructor(t,e){this.bs={},this.overlays={},this.Ps=new pa(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new _K(this),this.indexManager=new nK,this.remoteDocumentCache=new mK(r=>this.referenceDelegate.Ss(r)),this.wt=new n7(e),this.Ds=new hK(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new fK,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.bs[t.toKey()];return r||(r=new pK(e,this.referenceDelegate),this.bs[t.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,r){$t("MemoryPersistence","Starting transaction:",t);const i=new yK(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(o=>this.referenceDelegate.xs(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ns(t,e){return mt.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,e)))}}class yK extends G8{constructor(t){super(),this.currentSequenceNumber=t}}class ox{constructor(t){this.persistence=t,this.ks=new uM,this.Ms=null}static Os(t){return new ox(t)}get Fs(){if(this.Ms)return this.Ms;throw Sn()}addReference(t,e,r){return this.ks.addReference(r,e),this.Fs.delete(r.toString()),mt.resolve()}removeReference(t,e,r){return this.ks.removeReference(r,e),this.Fs.add(r.toString()),mt.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),mt.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(o=>this.Fs.add(o.toString()))}).next(()=>r.removeTargetData(t,e))}Cs(){this.Ms=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.Fs,r=>{const i=rn.fromPath(r);return this.$s(t,i).next(o=>{o||e.removeEntry(i,Zn.min())})}).next(()=>(this.Ms=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(r=>{r?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return mt.or([()=>mt.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class bK{constructor(t){this.wt=t}M(t,e,r,i){const o=new US("createOrUpgrade",e);var w;r<1&&i>=1&&(t.createObjectStore("owner"),(w=t).createObjectStore("mutationQueues",{keyPath:"userId"}),w.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JF,{unique:!0}),w.createObjectStore("documentMutations"),x7(t),function(w){w.createObjectStore("remoteDocuments")}(t));let c=mt.resolve();return r<3&&i>=3&&(0!==r&&(function(w){w.deleteObjectStore("targetDocuments"),w.deleteObjectStore("targets"),w.deleteObjectStore("targetGlobal")}(t),x7(t)),c=c.next(()=>function(w){const M=w.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zn.min().toTimestamp(),targetCount:0};return M.put("targetGlobalKey",H)}(o))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(w,M){return M.store("mutations").K().next(H=>{w.deleteObjectStore("mutations"),w.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JF,{unique:!0});const te=M.store("mutations"),de=H.map(ye=>te.put(ye));return mt.waitFor(de)})}(t,o))),c=c.next(()=>{!function(w){w.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),r<5&&i>=5&&(c=c.next(()=>this.Bs(o))),r<6&&i>=6&&(c=c.next(()=>(function(w){w.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(o)))),r<7&&i>=7&&(c=c.next(()=>this.Us(o))),r<8&&i>=8&&(c=c.next(()=>this.qs(t,o))),r<9&&i>=9&&(c=c.next(()=>{!function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")}(t)})),r<10&&i>=10&&(c=c.next(()=>this.Ks(o))),r<11&&i>=11&&(c=c.next(()=>{(function(w){w.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(w){w.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&i>=12&&(c=c.next(()=>{!function(w){const M=w.createObjectStore("documentOverlays",{keyPath:zW});M.createIndex("collectionPathOverlayIndex",GW,{unique:!1}),M.createIndex("collectionGroupOverlayIndex",qW,{unique:!1})}(t)})),r<13&&i>=13&&(c=c.next(()=>function(w){const M=w.createObjectStore("remoteDocumentsV14",{keyPath:RW});M.createIndex("documentKeyIndex",OW),M.createIndex("collectionGroupIndex",PW)}(t)).next(()=>this.Gs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.Qs(t,o))),r<15&&i>=15&&(c=c.next(()=>function(w){w.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),w.createObjectStore("indexState",{keyPath:UW}).createIndex("sequenceNumberIndex",VW,{unique:!1}),w.createObjectStore("indexEntries",{keyPath:HW}).createIndex("documentKeyIndex",$W,{unique:!1})}(t))),c}Ls(t){let e=0;return t.store("remoteDocuments").J((r,i)=>{e+=rx(i)}).next(()=>{const r={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(t){const e=t.store("mutationQueues"),r=t.store("mutations");return e.K().next(i=>mt.forEach(i,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(w=>mt.forEach(w,M=>{Jn(M.userId===o.userId);const H=Rg(this.wt,M);return p7(t,o.userId,H).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((c,w)=>{const M=new Sr(c),H=[0,Bo(M)];o.push(e.get(H).next(te=>te?mt.resolve():e.put({targetId:0,path:Bo(M),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>mt.waitFor(o))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:jW});const r=e.store("collectionParents"),i=new cM,o=c=>{if(i.add(c)){const w=c.lastSegment(),M=c.popLast();return r.put({collectionId:w,parent:Bo(M)})}};return e.store("remoteDocuments").J({H:!0},(c,w)=>{const M=new Sr(c);return o(M.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([c,w,M],H)=>{const te=td(w);return o(te.popLast())}))}Ks(t){const e=t.store("targets");return e.J((r,i)=>{const o=ww(i),c=i7(this.wt,o);return e.put(c)})}Gs(t,e){const r=e.store("remoteDocuments"),i=[];return r.J((o,c)=>{const w=e.store("remoteDocumentsV14"),M=(H=c,H.document?new rn(Sr.fromString(H.document.name).popFirst(5)):H.noDocument?rn.fromSegments(H.noDocument.path):H.unknownDocument?rn.fromSegments(H.unknownDocument.path):Sn()).path.toArray();var H;const te={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(w.put(te))}).next(()=>mt.waitFor(i))}Qs(t,e){const r=e.store("mutations"),i=v7(this.wt),o=new S7(ox.Os,this.wt.ne);return r.K().next(c=>{const w=new Map;return c.forEach(M=>{var H;let te=null!==(H=w.get(M.userId))&&void 0!==H?H:ar();Rg(this.wt,M).keys().forEach(de=>te=te.add(de)),w.set(M.userId,te)}),mt.forEach(w,(M,H)=>{const te=new Bs(H),de=ex.se(this.wt,te),ye=o.getIndexManager(te),Ce=ix.se(te,this.wt,ye,o.referenceDelegate);return new E7(i,Ce,de,ye).recalculateAndSaveOverlaysForDocumentKeys(new rM(e,pa.ot),M).next()})})}}function x7(n){n.createObjectStore("targetDocuments",{keyPath:LW}).createIndex("documentTargetsIndex",BW,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",FW,{unique:!0}),n.createObjectStore("targetGlobal")}const dM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hM{constructor(t,e,r,i,o,c,w,M,H,te,de=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.js=o,this.window=c,this.document=w,this.Ws=H,this.zs=te,this.Hs=de,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=ye=>Promise.resolve(),!hM.V())throw new jt(bt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lK(this,i),this.ei=e+"main",this.wt=new n7(M),this.ni=new Vc(this.ei,this.Hs,new bK(this.wt)),this.Vs=new iK(this.referenceDelegate,this.wt),this.remoteDocumentCache=v7(this.wt),this.Ds=new YW,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===te&&cs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new jt(bt.FAILED_PRECONDITION,dM);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new pa(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var r=(0,xt.Z)(function*(i){if(e.started)return t(i)});return function(i){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,xt.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,xt.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ax(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(up(t))return $t("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $t("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return Dw(t).get("owner").next(e=>mt.resolve(this.di(e)))}_i(t){return ax(t).delete(this.clientId)}wi(){var t=this;return(0,xt.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Vs(r,"clientMetadata");return i.K().next(o=>{const c=t.gi(o,18e5),w=o.filter(M=>-1===c.indexOf(M));return mt.forEach(w,M=>i.delete(M.clientId)).next(()=>w)})}).catch(()=>[]);if(t.si)for(const r of e)t.si.removeItem(t.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?mt.resolve(!0):Dw(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new jt(bt.FAILED_PRECONDITION,dM);return!1}}return!(!this.networkEnabled||!this.inForeground)||ax(t).K().next(r=>void 0===this.gi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(e=>(this.isPrimary!==e&&$t("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,xt.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new rM(e,pa.ot);return t.li(r).next(()=>t._i(r))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(r=>this.mi(r.updateTimeMs,e)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>ax(t).K().next(e=>this.gi(e,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return ix.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new rK(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return ex.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,r){$t("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===e?"readonly":"readwrite",o=15===(c=this.Hs)?WW:14===c?t7:13===c?e7:12===c?ZW:11===c?XF:void Sn();var c;let w;return this.ni.runTransaction(t,i,o,M=>(w=new rM(M,this.Ps?this.Ps.next():pa.ot),"readwrite-primary"===e?this.ai(w).next(H=>!!H||this.hi(w)).next(H=>{if(!H)throw cs(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new jt(bt.FAILED_PRECONDITION,z8);return r(w)}).next(H=>this.fi(w).next(()=>H)):this.bi(w).next(()=>r(w)))).then(M=>(w.raiseOnCommittedEvent(),M))}bi(t){return Dw(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new jt(bt.FAILED_PRECONDITION,dM)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dw(t).put("owner",e)}static V(){return Vc.V()}li(t){const e=Dw(t);return e.get("owner").next(r=>this.di(r)?($t("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):mt.resolve())}mi(t,e){const r=Date.now();return!(t<r-e||t>r&&(cs(`Detected an update time that is in the future: ${t} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Oe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const r=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return $t("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return cs("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){cs("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Dw(n){return Vs(n,"owner")}function ax(n){return Vs(n,"clientMetadata")}function fM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class pM{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Pi=r,this.vi=i}static Vi(t,e){let r=ar(),i=ar();for(const o of e.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new pM(t,e.fromCache,r,i)}}class D7{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,r,i){return this.Ci(t,e).next(o=>o||this.xi(t,e,i,r)).next(o=>o||this.Ni(t,e))}Ci(t,e){if(hF(e))return mt.resolve(null);let r=ma(e);return this.indexManager.getIndexType(t,r).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=qS(e,null,"F"),r=ma(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const c=ar(...o);return this.Di.getDocuments(t,c).next(w=>this.indexManager.getMinOffset(t,r).next(M=>{const H=this.ki(e,w);return this.Mi(e,H,c,M.readTime)?this.Ci(t,qS(e,null,"F")):this.Oi(t,H,e,M)}))})))}xi(t,e,r,i){return hF(e)||i.isEqual(Zn.min())?this.Ni(t,e):this.Di.getDocuments(t,r).next(o=>{const c=this.ki(e,o);return this.Mi(e,c,r,i)?this.Ni(t,e):(jN()<=Uc.in.DEBUG&&$t("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),JN(e)),this.Oi(t,c,e,H8(i,-1)))})}ki(t,e){let r=new Zr(mF(t));return e.forEach((i,o)=>{QN(t,o)&&(r=r.add(o))}),r}Mi(t,e,r,i){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ni(t,e){return jN()<=Uc.in.DEBUG&&$t("QueryEngine","Using full collection scan to execute query:",JN(e)),this.Di.getDocumentsMatchingQuery(t,e,Qa.min())}Oi(t,e,r,i){return this.Di.getDocumentsMatchingQuery(t,r,i).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class vK{constructor(t,e,r,i){this.persistence=t,this.Fi=e,this.wt=i,this.$i=new Ki(ir),this.Bi=new mp(o=>Ig(o),cw),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new E7(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function I7(n,t,e,r){return new vK(n,t,e,r)}function A7(n,t){return mM.apply(this,arguments)}function mM(){return mM=(0,xt.Z)(function*(n,t){const e=un(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,e.qi(t),e.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],w=[];let M=ar();for(const H of i){c.push(H.batchId);for(const te of H.mutations)M=M.add(te.key)}for(const H of o){w.push(H.batchId);for(const te of H.mutations)M=M.add(te.key)}return e.localDocuments.getDocuments(r,M).next(H=>({Ki:H,removedBatchIds:c,addedBatchIds:w}))})})}),mM.apply(this,arguments)}function k7(n){const t=un(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function N7(n,t,e){let r=ar(),i=ar();return e.forEach(o=>r=r.add(o)),t.getEntries(n,r).next(o=>{let c=ga();return e.forEach((w,M)=>{const H=o.get(w);M.isFoundDocument()!==H.isFoundDocument()&&(i=i.add(w)),M.isNoDocument()&&M.version.isEqual(Zn.min())?(t.removeEntry(w,M.readTime),c=c.insert(w,M)):!H.isValidDocument()||M.version.compareTo(H.version)>0||0===M.version.compareTo(H.version)&&H.hasPendingWrites?(t.addEntry(M),c=c.insert(w,M)):$t("LocalStore","Ignoring outdated watch update for ",w,". Current version:",H.version," Watch version:",M.version)}),{Gi:c,Qi:i}})}function TK(n,t){const e=un(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Sy(n,t){const e=un(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Vs.getTargetData(r,t).next(o=>o?(i=o,mt.resolve(i)):e.Vs.allocateTargetId(r).next(c=>(i=new gp(t,c,0,r.currentSequenceNumber),e.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.$i=e.$i.insert(r.targetId,r),e.Bi.set(t,r.targetId)),r})}function xy(n,t,e){return gM.apply(this,arguments)}function gM(){return gM=(0,xt.Z)(function*(n,t,e){const r=un(n),i=r.$i.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!up(c))throw c;$t("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}r.$i=r.$i.remove(t),r.Bi.delete(i.target)}),gM.apply(this,arguments)}function lx(n,t,e){const r=un(n);let i=Zn.min(),o=ar();return r.persistence.runTransaction("Execute query","readonly",c=>function(w,M,H){const te=un(w),de=te.Bi.get(H);return void 0!==de?mt.resolve(te.$i.get(de)):te.Vs.getTargetData(M,H)}(r,c,ma(t)).next(w=>{if(w)return i=w.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,w.targetId).next(M=>{o=M})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,t,e?i:Zn.min(),e?o:ar())).next(w=>(O7(r,pF(t),w),{documents:w,ji:o})))}function M7(n,t){const e=un(n),r=un(e.Vs),i=e.$i.get(t);return i?Promise.resolve(i.target):e.persistence.runTransaction("Get target data","readonly",o=>r.te(o,t).next(c=>c?c.target:null))}function R7(n,t){const e=un(n),r=e.Li.get(t)||Zn.min();return e.persistence.runTransaction("Get new document changes","readonly",i=>e.Ui.getAllFromCollectionGroup(i,t,H8(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(O7(e,t,i),i))}function O7(n,t,e){let r=Zn.min();e.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Li.set(t,r)}function _M(){return _M=(0,xt.Z)(function*(n,t,e,r){const i=un(n);let o=ar(),c=ga();for(const H of e){const te=t.Wi(H.metadata.name);H.document&&(o=o.add(te));const de=t.zi(H);de.setReadTime(t.Hi(H.metadata.readTime)),c=c.insert(te,de)}const w=i.Ui.newChangeBuffer({trackRemovals:!0}),M=yield Sy(i,(H=r,ma(my(Sr.fromString(`__bundle__/docs/${H}`)))));var H;return i.persistence.runTransaction("Apply bundle documents","readwrite",H=>N7(H,w,c).next(te=>(w.apply(H),te)).next(te=>i.Vs.removeMatchingKeysForTargetId(H,M.targetId).next(()=>i.Vs.addMatchingKeys(H,o,M.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(H,te.Gi,te.Qi)).next(()=>te.Gi)))}),_M.apply(this,arguments)}function SK(n,t){return yM.apply(this,arguments)}function yM(){return yM=(0,xt.Z)(function*(n,t,e=ar()){const r=yield Sy(n,ma(aM(t.bundledQuery))),i=un(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const c=Us(t.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ds.saveNamedQuery(o,t);const w=r.withResumeToken(ks.EMPTY_BYTE_STRING,c);return i.$i=i.$i.insert(w.targetId,w),i.Vs.updateTargetData(o,w).next(()=>i.Vs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Vs.addMatchingKeys(o,e,r.targetId)).next(()=>i.Ds.saveNamedQuery(o,t))})}),yM.apply(this,arguments)}function P7(n,t){return`firestore_clients_${n}_${t}`}function F7(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function bM(n,t){return`firestore_targets_${n}_${t}`}class cx{constructor(t,e,r,i){this.user=t,this.batchId=e,this.state=r,this.error=i}static Ji(t,e,r){const i=JSON.parse(r);let o,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(o=new jt(i.error.code,i.error.message))),c?new cx(t,e,i.state,o):(cs("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Iw{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Ji(t,e){const r=JSON.parse(e);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new jt(r.error.code,r.error.message))),o?new Iw(t,r.state,i):(cs("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ux{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const r=JSON.parse(e);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=YS();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=J8(r.activeTargetIds[c]),o=o.add(r.activeTargetIds[c]);return i?new ux(t,o):(cs("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class vM{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new vM(e.clientId,e.onlineState):(cs("SharedClientState",`Failed to parse online state: ${t}`),null)}}class wM{constructor(){this.activeTargetIds=YS()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CM{constructor(t,e,r,i,o){this.window=t,this.js=e,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ki(ir),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=P7(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new wM),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(w){return`firestore_bundle_loaded_v2_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,xt.Z)(function*(){const e=yield t.syncEngine.Ri();for(const i of e){if(i===t.tr)continue;const o=t.getItem(P7(t.persistenceKey,i));if(o){const c=ux.Ji(i,o);c&&(t.sr=t.sr.insert(c.clientId,c))}}t._r();const r=t.storage.getItem(t.lr);if(r){const i=t.wr(r);i&&t.mr(i)}for(const i of t.ir)t.nr(i);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,r){this.yr(t,e,r),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(bM(this.persistenceKey,t));if(r){const i=Iw.Ji(t,r);i&&(e=i.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(bM(this.persistenceKey,t))}updateQueryState(t,e,r){this.Tr(t,e,r)}handleUserChange(t,e,r){e.forEach(i=>{this.pr(i)}),this.currentUser=t,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return $t("SharedClientState","READ",t,e),e}setItem(t,e){$t("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){$t("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const r=t;if(r.storageArea===this.storage){if($t("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void cs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,xt.Z)(function*(){if(e.started){if(null!==r.key)if(e.cr.test(r.key)){if(null==r.newValue){const i=e.Rr(r.key);return e.br(i,null)}{const i=e.Pr(r.key,r.newValue);if(i)return e.br(i.clientId,i)}}else if(e.ar.test(r.key)){if(null!==r.newValue){const i=e.vr(r.key,r.newValue);if(i)return e.Vr(i)}}else if(e.hr.test(r.key)){if(null!==r.newValue){const i=e.Sr(r.key,r.newValue);if(i)return e.Dr(i)}}else if(r.key===e.lr){if(null!==r.newValue){const i=e.wr(r.newValue);if(i)return e.mr(i)}}else if(r.key===e.ur){const i=function(o){let c=pa.ot;if(null!=o)try{const w=JSON.parse(o);Jn("number"==typeof w),c=w}catch(w){cs("SharedClientState","Failed to read sequence number from WebStorage",w)}return c}(r.newValue);i!==pa.ot&&e.sequenceNumberHandler(i)}else if(r.key===e.dr){const i=e.Cr(r.newValue);yield Promise.all(i.map(o=>e.syncEngine.Nr(o)))}}else e.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,r){const i=new cx(this.currentUser,t,e,r),o=F7(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Yi())}pr(t){const e=F7(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,r){const i=bM(this.persistenceKey,t),o=new Iw(t,e,r);this.setItem(i,o.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const r=this.Rr(t);return ux.Ji(r,e)}vr(t,e){const r=this.ar.exec(t),i=Number(r[1]);return cx.Ji(new Bs(void 0!==r[2]?r[2]:null),i,e)}Sr(t,e){const r=this.hr.exec(t),i=Number(r[1]);return Iw.Ji(i,e)}wr(t){return vM.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,xt.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);$t("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const r=e?this.sr.insert(t,e):this.sr.remove(t),i=this.gr(this.sr),o=this.gr(r),c=[],w=[];return o.forEach(M=>{i.has(M)||c.push(M)}),i.forEach(M=>{o.has(M)||w.push(M)}),this.syncEngine.Or(c,w).then(()=>{this.sr=r})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=YS();return t.forEach((r,i)=>{e=e.unionWith(i.activeTargetIds)}),e}}class L7{constructor(){this.Fr=new wM,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,r){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new wM,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xK{Br(t){}shutdown(){}}class B7{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){$t("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){$t("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const DK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class IK{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class AK extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,r,i,o){const c=this.oo(t,e);$t("RestConnection","Sending: ",c,r);const w={};return this.uo(w,i,o),this.co(t,c,w,r).then(M=>($t("RestConnection","Received: ",M),M),M=>{throw wg("RestConnection",`${t} failed with error: `,M,"url: ",c,"request:",r),M})}ao(t,e,r,i,o,c){return this.ro(t,e,r,i,o)}uo(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+uy,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}oo(t,e){return`${this.so}/v1/${e}:${DK[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,r,i){return new Promise((o,c)=>{const w=new DZ;w.listenOnce(EZ.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case BN.NO_ERROR:const H=w.getResponseJson();$t("Connection","XHR received:",JSON.stringify(H)),o(H);break;case BN.TIMEOUT:$t("Connection",'RPC "'+t+'" timed out'),c(new jt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case BN.HTTP_ERROR:const te=w.getStatus();if($t("Connection",'RPC "'+t+'" failed with status:',te,"response text:",w.getResponseText()),te>0){const de=w.getResponseJson().error;if(de&&de.status&&de.message){const ye=function(Ce){const Ie=Ce.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(Ie)>=0?Ie:bt.UNKNOWN}(de.status);c(new jt(ye,de.message))}else c(new jt(bt.UNKNOWN,"Server responded with status "+w.getStatus()))}else c(new jt(bt.UNAVAILABLE,"Connection failed."));break;default:Sn()}}finally{$t("Connection",'RPC "'+t+'" completed.')}});const M=JSON.stringify(i);w.send(e,"POST",M,r,15)})}ho(t,e,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=CZ(),c=TZ(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new xZ({})),this.uo(w.initMessageHeaders,e,r),(0,Oe.uI)()||(0,Oe.b$)()||(0,Oe.d)()||(0,Oe.w1)()||(0,Oe.Mn)()||(0,Oe.ru)()||(w.httpHeadersOverwriteParam="$httpHeaders");const M=i.join("");$t("Connection","Creating WebChannel: "+M,w);const H=o.createWebChannel(M,w);let te=!1,de=!1;const ye=new IK({jr:Ie=>{de?$t("Connection","Not sending because WebChannel is closed:",Ie):(te||($t("Connection","Opening WebChannel transport."),H.open(),te=!0),$t("Connection","WebChannel sending:",Ie),H.send(Ie))},Wr:()=>H.close()}),Ce=(Ie,He,Ke)=>{Ie.listen(He,ut=>{try{Ke(ut)}catch(_t){setTimeout(()=>{throw _t},0)}})};return Ce(H,LS.EventType.OPEN,()=>{de||$t("Connection","WebChannel transport opened.")}),Ce(H,LS.EventType.CLOSE,()=>{de||(de=!0,$t("Connection","WebChannel transport closed"),ye.eo())}),Ce(H,LS.EventType.ERROR,Ie=>{de||(de=!0,wg("Connection","WebChannel transport errored:",Ie),ye.eo(new jt(bt.UNAVAILABLE,"The operation could not be completed")))}),Ce(H,LS.EventType.MESSAGE,Ie=>{var He;if(!de){const Ke=Ie.data[0];Jn(!!Ke);const _t=Ke.error||(null===(He=Ke[0])||void 0===He?void 0:He.error);if(_t){$t("Connection","WebChannel received error:",_t);const At=_t.status;let vt=function(Ht){const _n=ys[Ht];if(void 0!==_n)return kF(_n)}(At),Ft=_t.message;void 0===vt&&(vt=bt.INTERNAL,Ft="Unknown error status: "+At+" with message "+_t.message),de=!0,ye.eo(new jt(vt,Ft)),H.close()}else $t("Connection","WebChannel received:",Ke),ye.no(Ke)}}),Ce(c,SZ.STAT_EVENT,Ie=>{Ie.stat===F8.PROXY?$t("Connection","Detected buffering proxy"):Ie.stat===F8.NOPROXY&&$t("Connection","Detected no buffering proxy")}),setTimeout(()=>{ye.Zr()},0),ye}}function j7(){return typeof window<"u"?window:null}function dx(){return typeof document<"u"?document:null}function Aw(n){return new vW(n,!0)}class TM{constructor(t,e,r=1e3,i=1.5,o=6e4){this.js=t,this.timerId=e,this.lo=r,this.fo=i,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,e-r);i>0&&$t("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class U7{constructor(t,e,r,i,o,c,w,M){this.js=t,this.Ao=r,this.Ro=i,this.bo=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=w,this.listener=M,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new TM(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,xt.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,xt.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var r=this;return(0,xt.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==t?r.So.reset():e&&e.code===bt.RESOURCE_EXHAUSTED?(cs(e.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):e&&e.code===bt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===e&&this.Uo(r,i)},r=>{t(()=>{const i=new jt(bt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(t,e){const r=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var t=this;this.state=5,this.So.Io((0,xt.Z)(function*(){t.state=0,t.start()}))}qo(t){return $t("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():($t("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kK extends U7{constructor(t,e,r,i,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,c),this.wt=o}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function TW(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(M=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===M?1:"REMOVE"===M?2:"CURRENT"===M?3:"RESET"===M?4:Sn(),i=t.targetChange.targetIds||[],o=function(M,H){return M.dt?(Jn(void 0===H||"string"==typeof H),ks.fromBase64String(H||"")):(Jn(void 0===H||H instanceof Uint8Array),ks.fromUint8Array(H||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,w=c&&function(M){const H=void 0===M.code?bt.UNKNOWN:kF(M.code);return new jt(H,M.message||"")}(c);e=new PF(r,i,o,w||null)}else if("documentChange"in t){const r=t.documentChange,i=ed(n,r.document.name),o=Us(r.document.updateTime),c=new Js({mapValue:{fields:r.document.fields}}),w=ei.newFoundDocument(i,o,c);e=new JS(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in t){const r=t.documentDelete,i=ed(n,r.document),o=r.readTime?Us(r.readTime):Zn.min(),c=ei.newNoDocument(i,o);e=new JS([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const r=t.documentRemove,i=ed(n,r.document);e=new JS([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return Sn();{const r=t.filter,o=new hW(r.count||0);e=new OF(r.targetId,o)}}var M;return e}(this.wt,t),r=function(i){if(!("targetChange"in i))return Zn.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Zn.min():o.readTime?Us(o.readTime):Zn.min()}(t);return this.listener.Go(e,r)}Qo(t){const e={};e.database=bw(this.wt),e.addTarget=function(i,o){let c;const w=o.target;return c=zS(w)?{documents:GF(i,w)}:{query:qF(i,w)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=jF(i,o.resumeToken):o.snapshotVersion.compareTo(Zn.min())>0&&(c.readTime=_w(i,o.snapshotVersion.toTimestamp())),c}(this.wt,t);const r=function SW(n,t){const e=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sn()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.Oo(e)}jo(t){const e={};e.database=bw(this.wt),e.removeTarget=t,this.Oo(e)}}class NK extends U7{constructor(t,e,r,i,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,c),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Jn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function EW(n,t){return n&&n.length>0?(Jn(void 0!==t),n.map(e=>function(r,i){let o=Us(r.updateTime?r.updateTime:i);return o.isEqual(Zn.min())&&(o=Us(i)),new cW(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Us(t.commitTime);return this.listener.Jo(r,e)}return Jn(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=bw(this.wt),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>vw(this.wt,r))};this.Oo(e)}}class MK extends class{}{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new jt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.bo.ro(t,e,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new jt(bt.UNKNOWN,i.toString())})}ao(t,e,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.bo.ao(t,e,r,o,c,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new jt(bt.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class RK{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(cs(e),this.su=!1):$t("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class OK{constructor(t,e,r,i,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(w=>{r.enqueueAndForget((0,xt.Z)(function*(){var M;bp(c)&&($t("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,xt.Z)(function*(H){const te=un(H);te.lu.add(4),yield Dy(te),te._u.set("Unknown"),te.lu.delete(4),yield kw(te)}),function(H){return M.apply(this,arguments)})(c))}))}),this._u=new RK(r,i)}}function kw(n){return EM.apply(this,arguments)}function EM(){return EM=(0,xt.Z)(function*(n){if(bp(n))for(const t of n.fu)yield t(!0)}),EM.apply(this,arguments)}function Dy(n){return SM.apply(this,arguments)}function SM(){return SM=(0,xt.Z)(function*(n){for(const t of n.fu)yield t(!1)}),SM.apply(this,arguments)}function hx(n,t){const e=un(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),IM(e)?DM(e):Ay(e).Co()&&xM(e,t))}function Nw(n,t){const e=un(n),r=Ay(e);e.hu.delete(t),r.Co()&&V7(e,t),0===e.hu.size&&(r.Co()?r.ko():bp(e)&&e._u.set("Unknown"))}function xM(n,t){n.wu.Nt(t.targetId),Ay(n).Qo(t)}function V7(n,t){n.wu.Nt(t),Ay(n).jo(t)}function DM(n){n.wu=new _W({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),Ay(n).start(),n._u.iu()}function IM(n){return bp(n)&&!Ay(n).Do()&&n.hu.size>0}function bp(n){return 0===un(n).lu.size}function H7(n){n.wu=void 0}function PK(n){return AM.apply(this,arguments)}function AM(){return AM=(0,xt.Z)(function*(n){n.hu.forEach((t,e)=>{xM(n,t)})}),AM.apply(this,arguments)}function FK(n,t){return kM.apply(this,arguments)}function kM(){return kM=(0,xt.Z)(function*(n,t){H7(n),IM(n)?(n._u.uu(t),DM(n)):n._u.set("Unknown")}),kM.apply(this,arguments)}function LK(n,t,e){return NM.apply(this,arguments)}function NM(){return NM=(0,xt.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof PF&&2===t.state&&t.cause)try{yield(r=(0,xt.Z)(function*(i,o){const c=o.cause;for(const w of o.targetIds)i.hu.has(w)&&(yield i.remoteSyncer.rejectListen(w,c),i.hu.delete(w),i.wu.removeTarget(w))}),function(i,o){return r.apply(this,arguments)})(n,t)}catch(r){$t("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield fx(n,r)}else if(t instanceof JS?n.wu.Ut(t):t instanceof OF?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(Zn.min()))try{const r=yield k7(n.localStore);e.compareTo(r)>=0&&(yield function(i,o){const c=i.wu.Yt(o);return c.targetChanges.forEach((w,M)=>{if(w.resumeToken.approximateByteSize()>0){const H=i.hu.get(M);H&&i.hu.set(M,H.withResumeToken(w.resumeToken,o))}}),c.targetMismatches.forEach(w=>{const M=i.hu.get(w);if(!M)return;i.hu.set(w,M.withResumeToken(ks.EMPTY_BYTE_STRING,M.snapshotVersion)),V7(i,w);const H=new gp(M.target,w,1,M.sequenceNumber);xM(i,H)}),i.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(r){$t("RemoteStore","Failed to raise snapshot:",r),yield fx(n,r)}var r}),NM.apply(this,arguments)}function fx(n,t,e){return MM.apply(this,arguments)}function MM(){return MM=(0,xt.Z)(function*(n,t,e){if(!up(t))throw t;n.lu.add(1),yield Dy(n),n._u.set("Offline"),e||(e=()=>k7(n.localStore)),n.asyncQueue.enqueueRetryable((0,xt.Z)(function*(){$t("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield kw(n)}))}),MM.apply(this,arguments)}function $7(n,t){return t().catch(e=>fx(n,e,t))}function Iy(n){return RM.apply(this,arguments)}function RM(){return RM=(0,xt.Z)(function*(n){const t=un(n),e=vp(t);let r=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;BK(t);)try{const i=yield TK(t.localStore,r);if(null===i){0===t.au.length&&e.ko();break}r=i.batchId,jK(t,i)}catch(i){yield fx(t,i)}z7(t)&&G7(t)}),RM.apply(this,arguments)}function BK(n){return bp(n)&&n.au.length<10}function jK(n,t){n.au.push(t);const e=vp(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function z7(n){return bp(n)&&!vp(n).Do()&&n.au.length>0}function G7(n){vp(n).start()}function UK(n){return OM.apply(this,arguments)}function OM(){return OM=(0,xt.Z)(function*(n){vp(n).Xo()}),OM.apply(this,arguments)}function VK(n){return PM.apply(this,arguments)}function PM(){return PM=(0,xt.Z)(function*(n){const t=vp(n);for(const e of n.au)t.Ho(e.mutations)}),PM.apply(this,arguments)}function HK(n,t,e){return FM.apply(this,arguments)}function FM(){return FM=(0,xt.Z)(function*(n,t,e){const r=n.au.shift(),i=sM.from(r,t,e);yield $7(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Iy(n)}),FM.apply(this,arguments)}function $K(n,t){return LM.apply(this,arguments)}function LM(){return LM=(0,xt.Z)(function*(n,t){var e;t&&vp(n).zo&&(yield(e=(0,xt.Z)(function*(r,i){if(AF(o=i.code)&&o!==bt.ABORTED){const c=r.au.shift();vp(r).No(),yield $7(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Iy(r)}var o}),function(r,i){return e.apply(this,arguments)})(n,t)),z7(n)&&G7(n)}),LM.apply(this,arguments)}function q7(n,t){return BM.apply(this,arguments)}function BM(){return BM=(0,xt.Z)(function*(n,t){const e=un(n);e.asyncQueue.verifyOperationInProgress(),$t("RemoteStore","RemoteStore received new credentials");const r=bp(e);e.lu.add(3),yield Dy(e),r&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield kw(e)}),BM.apply(this,arguments)}function jM(n,t){return UM.apply(this,arguments)}function UM(){return UM=(0,xt.Z)(function*(n,t){const e=un(n);t?(e.lu.delete(2),yield kw(e)):t||(e.lu.add(2),yield Dy(e),e._u.set("Unknown"))}),UM.apply(this,arguments)}function Ay(n){return n.mu||(n.mu=function(t,e,r){const i=un(t);return i.tu(),new kK(e,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:PK.bind(null,n),Jr:FK.bind(null,n),Go:LK.bind(null,n)}),n.fu.push(function(){var t=(0,xt.Z)(function*(e){e?(n.mu.No(),IM(n)?DM(n):n._u.set("Unknown")):(yield n.mu.stop(),H7(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function vp(n){return n.gu||(n.gu=function(t,e,r){const i=un(t);return i.tu(),new NK(e,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:UK.bind(null,n),Jr:$K.bind(null,n),Yo:VK.bind(null,n),Jo:HK.bind(null,n)}),n.fu.push(function(){var t=(0,xt.Z)(function*(e){e?(n.gu.No(),yield Iy(n)):(yield n.gu.stop(),n.au.length>0&&($t("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class VM{constructor(t,e,r,i,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,r,i,o){const c=Date.now()+r,w=new VM(t,e,c,i,o);return w.start(r),w}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jt(bt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(n,t){if(cs("AsyncQueue",`${t}: ${n}`),up(n))return new jt(bt.UNAVAILABLE,`${t}: ${n}`);throw n}class Ny{constructor(t){this.comparator=t?(e,r)=>t(e,r)||rn.comparator(e.key,r.key):(e,r)=>rn.comparator(e.key,r.key),this.keyedMap=fw(),this.sortedSet=new Ki(this.comparator)}static emptySet(t){return new Ny(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ny)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Ny;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class Z7{constructor(){this.yu=new Ki(rn.comparator)}track(t){const e=t.doc.key,r=this.yu.get(e);r?0!==t.type&&3===r.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==r.type?this.yu=this.yu.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.yu=this.yu.remove(e):1===t.type&&2===r.type?this.yu=this.yu.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):Sn():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,r)=>{t.push(r)}),t}}class My{constructor(t,e,r,i,o,c,w,M){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=w,this.excludesMetadataChanges=M}static fromInitialDocuments(t,e,r,i){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new My(t,e,Ny.emptySet(e),o,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class zK{constructor(){this.Iu=void 0,this.listeners=[]}}class GK{constructor(){this.queries=new mp(t=>fF(t),uw),this.onlineState="Unknown",this.Tu=new Set}}function HM(n,t){return $M.apply(this,arguments)}function $M(){return $M=(0,xt.Z)(function*(n,t){const e=un(n),r=t.query;let i=!1,o=e.queries.get(r);if(o||(i=!0,o=new zK),i)try{o.Iu=yield e.onListen(r)}catch(c){const w=ky(c,`Initialization of query '${JN(t.query)}' failed`);return void t.onError(w)}e.queries.set(r,o),o.listeners.push(t),t.Eu(e.onlineState),o.Iu&&t.Au(o.Iu)&&qM(e)}),$M.apply(this,arguments)}function zM(n,t){return GM.apply(this,arguments)}function GM(){return GM=(0,xt.Z)(function*(n,t){const e=un(n),r=t.query;let i=!1;const o=e.queries.get(r);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),i=0===o.listeners.length)}if(i)return e.queries.delete(r),e.onUnlisten(r)}),GM.apply(this,arguments)}function qK(n,t){const e=un(n);let r=!1;for(const i of t){const c=e.queries.get(i.query);if(c){for(const w of c.listeners)w.Au(i)&&(r=!0);c.Iu=i}}r&&qM(e)}function ZK(n,t,e){const r=un(n),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(e);r.queries.delete(t)}function qM(n){n.Tu.forEach(t=>{t.next()})}class ZM{constructor(t,e,r){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new My(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=My.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class WK{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class W7{constructor(t){this.wt=t}Wi(t){return ed(this.wt,t)}zi(t){return t.metadata.exists?zF(this.wt,t.document,!1):ei.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return Us(t)}}class KK{constructor(t,e,r){this.xu=t,this.localStore=e,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=K7(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const r=Sr.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,r=new W7(this.wt);for(const i of t)if(i.metadata.queries){const o=r.Wi(i.metadata.name);for(const c of i.metadata.queries){const w=(e.get(c)||ar()).add(o);e.set(c,w)}}return e}complete(){var t=this;return(0,xt.Z)(function*(){const e=yield function EK(n,t,e,r){return _M.apply(this,arguments)}(t.localStore,new W7(t.wt),t.documents,t.xu.id),r=t.ku(t.documents);for(const i of t.queries)yield SK(t.localStore,i,r.get(i.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function K7(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Y7{constructor(t){this.key=t}}class J7{constructor(t){this.key=t}}class Q7{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=ar(),this.mutatedKeys=ar(),this.Lu=mF(t),this.Uu=new Ny(this.Lu)}get qu(){return this.Fu}Ku(t,e){const r=e?e.Gu:new Z7,i=e?e.Uu:this.Uu;let o=e?e.mutatedKeys:this.mutatedKeys,c=i,w=!1;const M="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,H="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((te,de)=>{const ye=i.get(te),Ce=QN(this.query,de)?de:null,Ie=!!ye&&this.mutatedKeys.has(ye.key),He=!!Ce&&(Ce.hasLocalMutations||this.mutatedKeys.has(Ce.key)&&Ce.hasCommittedMutations);let Ke=!1;ye&&Ce?ye.data.isEqual(Ce.data)?Ie!==He&&(r.track({type:3,doc:Ce}),Ke=!0):this.Qu(ye,Ce)||(r.track({type:2,doc:Ce}),Ke=!0,(M&&this.Lu(Ce,M)>0||H&&this.Lu(Ce,H)<0)&&(w=!0)):!ye&&Ce?(r.track({type:0,doc:Ce}),Ke=!0):ye&&!Ce&&(r.track({type:1,doc:ye}),Ke=!0,(M||H)&&(w=!0)),Ke&&(Ce?(c=c.add(Ce),o=He?o.add(te):o.delete(te)):(c=c.delete(te),o=o.delete(te)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const te="F"===this.query.limitType?c.last():c.first();c=c.delete(te.key),o=o.delete(te.key),r.track({type:1,doc:te})}return{Uu:c,Gu:r,Mi:w,mutatedKeys:o}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const i=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const o=t.Gu.pu();o.sort((H,te)=>function(de,ye){const Ce=Ie=>{switch(Ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sn()}};return Ce(de)-Ce(ye)}(H.type,te.type)||this.Lu(H.doc,te.doc)),this.ju(r);const c=e?this.Wu():[],w=0===this.Bu.size&&this.current?1:0,M=w!==this.$u;return this.$u=w,0!==o.length||M?{snapshot:new My(this.query,t.Uu,i,o,t.mutatedKeys,0===w,M,!1),zu:c}:{zu:c}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Z7,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=ar(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const e=[];return t.forEach(r=>{this.Bu.has(r)||e.push(new J7(r))}),this.Bu.forEach(r=>{t.has(r)||e.push(new Y7(r))}),e}Ju(t){this.Fu=t.ji,this.Bu=ar();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return My.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class YK{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class JK{constructor(t){this.key=t,this.Xu=!1}}class QK{constructor(t,e,r,i,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new mp(w=>fF(w),uw),this.ec=new Map,this.nc=new Set,this.sc=new Ki(rn.comparator),this.ic=new Map,this.rc=new uM,this.oc={},this.uc=new Map,this.cc=Lg.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function XK(n,t){return WM.apply(this,arguments)}function WM(){return WM=(0,xt.Z)(function*(n,t){const e=_R(n);let r,i;const o=e.tc.get(t);if(o)r=o.targetId,e.sharedClientState.addLocalQueryTarget(r),i=o.view.Yu();else{const c=yield Sy(e.localStore,ma(t));e.isPrimaryClient&&hx(e.remoteStore,c);const w=e.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield KM(e,t,r,"current"===w)}return i}),WM.apply(this,arguments)}function KM(n,t,e,r){return YM.apply(this,arguments)}function YM(){return YM=(0,xt.Z)(function*(n,t,e,r){n.hc=(te,de,ye)=>{return(Ce=(0,xt.Z)(function*(Ie,He,Ke,ut){let _t=He.view.Ku(Ke);_t.Mi&&(_t=yield lx(Ie.localStore,He.query,!1).then(({documents:Ft})=>He.view.Ku(Ft,_t)));const At=ut&&ut.targetChanges.get(He.targetId),vt=He.view.applyChanges(_t,Ie.isPrimaryClient,At);return oR(Ie,He.targetId,vt.zu),vt.snapshot}),function(Ie,He,Ke,ut){return Ce.apply(this,arguments)})(n,te,de,ye);var Ce};const i=yield lx(n.localStore,t,!0),o=new Q7(t,i.ji),c=o.Ku(i.documents),w=gw.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),M=o.applyChanges(c,n.isPrimaryClient,w);oR(n,e,M.zu);const H=new YK(t,e,o);return n.tc.set(t,H),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),M.snapshot}),YM.apply(this,arguments)}function eY(n,t){return JM.apply(this,arguments)}function JM(){return JM=(0,xt.Z)(function*(n,t){const e=un(n),r=e.tc.get(t),i=e.ec.get(r.targetId);if(i.length>1)return e.ec.set(r.targetId,i.filter(o=>!uw(o,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xy(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),Nw(e.remoteStore,r.targetId),Ry(e,r.targetId)}).catch(cp))):(Ry(e,r.targetId),yield xy(e.localStore,r.targetId,!0))}),JM.apply(this,arguments)}function QM(){return QM=(0,xt.Z)(function*(n,t,e){const r=yR(n);try{const i=yield function(o,c){const w=un(o),M=Ei.now(),H=c.reduce((ye,Ce)=>ye.add(Ce.key),ar());let te,de;return w.persistence.runTransaction("Locally write mutations","readwrite",ye=>{let Ce=ga(),Ie=ar();return w.Ui.getEntries(ye,H).next(He=>{Ce=He,Ce.forEach((Ke,ut)=>{ut.isValidDocument()||(Ie=Ie.add(Ke))})}).next(()=>w.localDocuments.getOverlayedDocuments(ye,Ce)).next(He=>{te=He;const Ke=[];for(const ut of c){const _t=dW(ut,te.get(ut.key).overlayedDocument);null!=_t&&Ke.push(new xh(ut.key,_t,iF(_t.value.mapValue),Oi.exists(!0)))}return w.mutationQueue.addMutationBatch(ye,M,Ke,c)}).next(He=>{de=He;const Ke=He.applyToLocalDocumentSet(te,Ie);return w.documentOverlayCache.saveOverlays(ye,He.batchId,Ke)})}).then(()=>({batchId:de.batchId,changes:MF(te)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,w){let M=o.oc[o.currentUser.toKey()];M||(M=new Ki(ir)),M=M.insert(c,w),o.oc[o.currentUser.toKey()]=M}(r,i.batchId,e),yield Dh(r,i.changes),yield Iy(r.remoteStore)}catch(i){const o=ky(i,"Failed to persist write");e.reject(o)}}),QM.apply(this,arguments)}function X7(n,t){return XM.apply(this,arguments)}function XM(){return XM=(0,xt.Z)(function*(n,t){const e=un(n);try{const r=yield function CK(n,t){const e=un(n),r=t.snapshotVersion;let i=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Ui.newChangeBuffer({trackRemovals:!0});i=e.$i;const w=[];t.targetChanges.forEach((te,de)=>{const ye=i.get(de);if(!ye)return;w.push(e.Vs.removeMatchingKeys(o,te.removedDocuments,de).next(()=>e.Vs.addMatchingKeys(o,te.addedDocuments,de)));let Ce=ye.withSequenceNumber(o.currentSequenceNumber);var Ie,He,Ke;t.targetMismatches.has(de)?Ce=Ce.withResumeToken(ks.EMPTY_BYTE_STRING,Zn.min()).withLastLimboFreeSnapshotVersion(Zn.min()):te.resumeToken.approximateByteSize()>0&&(Ce=Ce.withResumeToken(te.resumeToken,r)),i=i.insert(de,Ce),He=Ce,Ke=te,(0===(Ie=ye).resumeToken.approximateByteSize()||He.snapshotVersion.toMicroseconds()-Ie.snapshotVersion.toMicroseconds()>=3e8||Ke.addedDocuments.size+Ke.modifiedDocuments.size+Ke.removedDocuments.size>0)&&w.push(e.Vs.updateTargetData(o,Ce))});let M=ga(),H=ar();if(t.documentUpdates.forEach(te=>{t.resolvedLimboDocuments.has(te)&&w.push(e.persistence.referenceDelegate.updateLimboDocument(o,te))}),w.push(N7(o,c,t.documentUpdates).next(te=>{M=te.Gi,H=te.Qi})),!r.isEqual(Zn.min())){const te=e.Vs.getLastRemoteSnapshotVersion(o).next(de=>e.Vs.setTargetsMetadata(o,o.currentSequenceNumber,r));w.push(te)}return mt.waitFor(w).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,M,H)).next(()=>M)}).then(o=>(e.$i=i,o))}(e.localStore,t);t.targetChanges.forEach((i,o)=>{const c=e.ic.get(o);c&&(Jn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?Jn(c.Xu):i.removedDocuments.size>0&&(Jn(c.Xu),c.Xu=!1))}),yield Dh(e,r,t)}catch(r){yield cp(r)}}),XM.apply(this,arguments)}function e9(n,t,e){const r=un(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.tc.forEach((o,c)=>{const w=c.view.Eu(t);w.snapshot&&i.push(w.snapshot)}),function(o,c){const w=un(o);w.onlineState=c;let M=!1;w.queries.forEach((H,te)=>{for(const de of te.listeners)de.Eu(c)&&(M=!0)}),M&&qM(w)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function nY(n,t,e){return eR.apply(this,arguments)}function eR(){return eR=(0,xt.Z)(function*(n,t,e){const r=un(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.ic.get(t),o=i&&i.key;if(o){let c=new Ki(rn.comparator);c=c.insert(o,ei.newNoDocument(o,Zn.min()));const w=ar().add(o),M=new mw(Zn.min(),new Map,new Zr(ir),c,w);yield X7(r,M),r.sc=r.sc.remove(o),r.ic.delete(t),aR(r)}else yield xy(r.localStore,t,!1).then(()=>Ry(r,t,e)).catch(cp)}),eR.apply(this,arguments)}function rY(n,t){return tR.apply(this,arguments)}function tR(){return tR=(0,xt.Z)(function*(n,t){const e=un(n),r=t.batch.batchId;try{const i=yield function wK(n,t){const e=un(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=e.Ui.newChangeBuffer({trackRemovals:!0});return function(c,w,M,H){const te=M.batch,de=te.keys();let ye=mt.resolve();return de.forEach(Ce=>{ye=ye.next(()=>H.getEntry(w,Ce)).next(Ie=>{const He=M.docVersions.get(Ce);Jn(null!==He),Ie.version.compareTo(He)<0&&(te.applyToRemoteDocument(Ie,M),Ie.isValidDocument()&&(Ie.setReadTime(M.commitVersion),H.addEntry(Ie)))})}),ye.next(()=>c.mutationQueue.removeMutationBatch(w,te))}(e,r,t,o).next(()=>o.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let w=ar();for(let M=0;M<c.mutationResults.length;++M)c.mutationResults[M].transformResults.length>0&&(w=w.add(c.batch.mutations[M].key));return w}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}(e.localStore,t);sR(e,r,null),iR(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Dh(e,i)}catch(i){yield cp(i)}}),tR.apply(this,arguments)}function iY(n,t,e){return nR.apply(this,arguments)}function nR(){return nR=(0,xt.Z)(function*(n,t,e){const r=un(n);try{const i=yield function(o,c){const w=un(o);return w.persistence.runTransaction("Reject batch","readwrite-primary",M=>{let H;return w.mutationQueue.lookupMutationBatch(M,c).next(te=>(Jn(null!==te),H=te.keys(),w.mutationQueue.removeMutationBatch(M,te))).next(()=>w.mutationQueue.performConsistencyCheck(M)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(M,H,c)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(M,H)).next(()=>w.localDocuments.getDocuments(M,H))})}(r.localStore,t);sR(r,t,e),iR(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield Dh(r,i)}catch(i){yield cp(i)}}),nR.apply(this,arguments)}function rR(){return rR=(0,xt.Z)(function*(n,t){const e=un(n);bp(e.remoteStore)||$t("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const c=un(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>c.mutationQueue.getHighestUnacknowledgedBatchId(w))}(e.localStore);if(-1===r)return void t.resolve();const i=e.uc.get(r)||[];i.push(t),e.uc.set(r,i)}catch(r){const i=ky(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}}),rR.apply(this,arguments)}function iR(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function sR(n,t,e){const r=un(n);let i=r.oc[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(e?o.reject(e):o.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Ry(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.ec.get(t))n.tc.delete(r),e&&n.Zu.lc(r,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(r=>{n.rc.containsKey(r)||t9(n,r)})}function t9(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(Nw(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),aR(n))}function oR(n,t,e){for(const r of e)r instanceof Y7?(n.rc.addReference(r.key,t),oY(n,r)):r instanceof J7?($t("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,t),n.rc.containsKey(r.key)||t9(n,r.key)):Sn()}function oY(n,t){const e=t.key,r=e.path.canonicalString();n.sc.get(e)||n.nc.has(r)||($t("SyncEngine","New document in limbo: "+e),n.nc.add(r),aR(n))}function aR(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new rn(Sr.fromString(t)),r=n.cc.next();n.ic.set(r,new JK(e)),n.sc=n.sc.insert(e,r),hx(n.remoteStore,new gp(ma(my(e.path)),r,2,pa.ot))}}function Dh(n,t,e){return lR.apply(this,arguments)}function lR(){return lR=(0,xt.Z)(function*(n,t,e){const r=un(n),i=[],o=[],c=[];var w;r.tc.isEmpty()||(r.tc.forEach((w,M)=>{c.push(r.hc(M,t,e).then(H=>{if(H){r.isPrimaryClient&&r.sharedClientState.updateQueryState(M.targetId,H.fromCache?"not-current":"current"),i.push(H);const te=pM.Vi(M.targetId,H);o.push(te)}}))}),yield Promise.all(c),r.Zu.Go(i),yield(w=(0,xt.Z)(function*(M,H){const te=un(M);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",de=>mt.forEach(H,ye=>mt.forEach(ye.Pi,Ce=>te.persistence.referenceDelegate.addReference(de,ye.targetId,Ce)).next(()=>mt.forEach(ye.vi,Ce=>te.persistence.referenceDelegate.removeReference(de,ye.targetId,Ce)))))}catch(de){if(!up(de))throw de;$t("LocalStore","Failed to update sequence numbers: "+de)}for(const de of H){const ye=de.targetId;if(!de.fromCache){const Ce=te.$i.get(ye),He=Ce.withLastLimboFreeSnapshotVersion(Ce.snapshotVersion);te.$i=te.$i.insert(ye,He)}}}),function(M,H){return w.apply(this,arguments)})(r.localStore,o))}),lR.apply(this,arguments)}function aY(n,t){return cR.apply(this,arguments)}function cR(){return cR=(0,xt.Z)(function*(n,t){const e=un(n);if(!e.currentUser.isEqual(t)){$t("SyncEngine","User change. New user:",t.toKey());const r=yield A7(e.localStore,t);e.currentUser=t,(i=e).uc.forEach(c=>{c.forEach(w=>{w.reject(new jt(bt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield Dh(e,r.Ki)}var i}),cR.apply(this,arguments)}function lY(n,t){const e=un(n),r=e.ic.get(t);if(r&&r.Xu)return ar().add(r.key);{let i=ar();const o=e.ec.get(t);if(!o)return i;for(const c of o){const w=e.tc.get(c);i=i.unionWith(w.view.qu)}return i}}function cY(n,t){return uR.apply(this,arguments)}function uR(){return uR=(0,xt.Z)(function*(n,t){const e=un(n),r=yield lx(e.localStore,t.query,!0),i=t.view.Ju(r);return e.isPrimaryClient&&oR(e,t.targetId,i.zu),i}),uR.apply(this,arguments)}function uY(n,t){return dR.apply(this,arguments)}function dR(){return dR=(0,xt.Z)(function*(n,t){const e=un(n);return R7(e.localStore,t).then(r=>Dh(e,r))}),dR.apply(this,arguments)}function dY(n,t,e,r){return hR.apply(this,arguments)}function hR(){return hR=(0,xt.Z)(function*(n,t,e,r){const i=un(n),o=yield function(c,w){const M=un(c),H=un(M.mutationQueue);return M.persistence.runTransaction("Lookup mutation documents","readonly",te=>H.yn(te,w).next(de=>de?M.localDocuments.getDocuments(te,de):mt.resolve(null)))}(i.localStore,t);var w;null!==o?("pending"===e?yield Iy(i.remoteStore):"acknowledged"===e||"rejected"===e?(sR(i,t,r||null),iR(i,t),w=t,un(un(i.localStore).mutationQueue).In(w)):Sn(),yield Dh(i,o)):$t("SyncEngine","Cannot apply mutation batch with id: "+t)}),hR.apply(this,arguments)}function fR(){return fR=(0,xt.Z)(function*(n,t){const e=un(n);if(_R(e),yR(e),!0===t&&!0!==e.ac){const r=e.sharedClientState.getAllActiveQueryTargets(),i=yield n9(e,r.toArray());e.ac=!0,yield jM(e.remoteStore,!0);for(const o of i)hx(e.remoteStore,o)}else if(!1===t&&!1!==e.ac){const r=[];let i=Promise.resolve();e.ec.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Ry(e,c),xy(e.localStore,c,!0))),Nw(e.remoteStore,c)}),yield i,yield n9(e,r),function(o){const c=un(o);c.ic.forEach((w,M)=>{Nw(c.remoteStore,M)}),c.rc.cs(),c.ic=new Map,c.sc=new Ki(rn.comparator)}(e),e.ac=!1,yield jM(e.remoteStore,!1)}}),fR.apply(this,arguments)}function n9(n,t,e){return pR.apply(this,arguments)}function pR(){return pR=(0,xt.Z)(function*(n,t,e){const r=un(n),i=[],o=[];for(const c of t){let w;const M=r.ec.get(c);if(M&&0!==M.length){w=yield Sy(r.localStore,ma(M[0]));for(const H of M){const te=r.tc.get(H),de=yield cY(r,te);de.snapshot&&o.push(de.snapshot)}}else{const H=yield M7(r.localStore,c);w=yield Sy(r.localStore,H),yield KM(r,r9(H),c,!1)}i.push(w)}return r.Zu.Go(o),i}),pR.apply(this,arguments)}function r9(n){return dF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function fY(n){const t=un(n);return un(un(t.localStore).persistence).Ri()}function pY(n,t,e,r){return mR.apply(this,arguments)}function mR(){return mR=(0,xt.Z)(function*(n,t,e,r){const i=un(n);if(i.ac)return void $t("SyncEngine","Ignoring unexpected query state notification.");const o=i.ec.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield R7(i.localStore,pF(o[0])),w=mw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Dh(i,c,w);break}case"rejected":yield xy(i.localStore,t,!0),Ry(i,t,r);break;default:Sn()}}),mR.apply(this,arguments)}function mY(n,t,e){return gR.apply(this,arguments)}function gR(){return gR=(0,xt.Z)(function*(n,t,e){const r=_R(n);if(r.ac){for(const i of t){if(r.ec.has(i)){$t("SyncEngine","Adding an already active target "+i);continue}const o=yield M7(r.localStore,i),c=yield Sy(r.localStore,o);yield KM(r,r9(o),c.targetId,!1),hx(r.remoteStore,c)}for(const i of e)r.ec.has(i)&&(yield xy(r.localStore,i,!1).then(()=>{Nw(r.remoteStore,i),Ry(r,i)}).catch(cp))}}),gR.apply(this,arguments)}function _R(n){const t=un(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=X7.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nY.bind(null,t),t.Zu.Go=qK.bind(null,t.eventManager),t.Zu.lc=ZK.bind(null,t.eventManager),t}function yR(n){const t=un(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iY.bind(null,t),t}class i9{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,xt.Z)(function*(){e.wt=Aw(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return I7(this.persistence,new D7,t.initialUser,this.wt)}_c(t){return new S7(ox.Os,this.wt)}dc(t){return new L7}terminate(){var t=this;return(0,xt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class s9 extends i9{constructor(t,e,r){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,xt.Z)(function*(){yield e().call(r,t),yield r.yc.initialize(r,t),yield yR(r.yc.syncEngine),yield Iy(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return I7(this.persistence,new D7,t.initialUser,this.wt)}mc(t,e){return new oK(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const r=new $Z(e,this.persistence);return new HZ(t.asyncQueue,r)}_c(t){const e=fM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?_a.withCacheSize(this.cacheSizeBytes):_a.DEFAULT;return new hM(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,j7(),dx(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new L7}}class _Y extends s9{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,xt.Z)(function*(){yield e().call(r,t);const i=r.yc.syncEngine;r.sharedClientState instanceof CM&&(r.sharedClientState.syncEngine={kr:dY.bind(null,i),Mr:pY.bind(null,i),Or:mY.bind(null,i),Ri:fY.bind(null,i),Nr:uY.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var o=(0,xt.Z)(function*(c){yield function hY(n,t){return fR.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}dc(t){const e=j7();if(!CM.V(e))throw new jt(bt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=fM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new CM(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class bR{initialize(t,e){var r=this;return(0,xt.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>e9(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=aY.bind(null,r.syncEngine),yield jM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new GK}createDatastore(t){const e=Aw(t.databaseInfo.databaseId),r=new AK(t.databaseInfo);return new MK(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,i=t.asyncQueue,o=w=>e9(this.syncEngine,w,0),c=B7.V()?new B7:new xK,new OK(e,r,i,o,c);var e,r,i,o,c}createSyncEngine(t,e){return function(r,i,o,c,w,M,H){const te=new QK(r,i,o,c,w,M);return H&&(te.ac=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,xt.Z)(function*(e){const r=un(e);$t("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Dy(r),r.du.shutdown(),r._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function o9(n,t=10240){let e=0;return{read:()=>(0,xt.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,xt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class px{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):cs("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class yY{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new js,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,xt.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,xt.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,xt.Z)(function*(){const e=yield t.bc();if(null===e)return null;const r=t.Ac.decode(e),i=Number(r);isNaN(i)&&t.Pc(`length string (${r}) is not valid number`);const o=yield t.vc(i);return new WK(JSON.parse(o),e.length+i)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,xt.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}vc(t){var e=this;return(0,xt.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const r=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,xt.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class bY{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,xt.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new jt(bt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,xt.Z)(function*(o,c){const w=un(o),M=bw(w.wt)+"/documents",H={documents:c.map(Ce=>yw(w.wt,Ce))},te=yield w.ao("BatchGetDocuments",M,H,c.length),de=new Map;te.forEach(Ce=>{const Ie=function CW(n,t){return"found"in t?function(e,r){Jn(!!r.found);const i=ed(e,r.found.name),o=Us(r.found.updateTime),c=new Js({mapValue:{fields:r.found.fields}});return ei.newFoundDocument(i,o,c)}(n,t):"missing"in t?function(e,r){Jn(!!r.missing),Jn(!!r.readTime);const i=ed(e,r.missing),o=Us(r.readTime);return ei.newNoDocument(i,o)}(n,t):Sn()}(w.wt,Ce);de.set(Ie.key.toString(),Ie)});const ye=[];return c.forEach(Ce=>{const Ie=de.get(Ce.toString());Jn(!!Ie),ye.push(Ie)}),ye}),function(o,c){return i.apply(this,arguments)})(e.datastore,t);var i;return r.forEach(i=>e.recordVersion(i)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new vy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,xt.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,i)=>{const o=rn.fromPath(i);t.mutations.push(new XN(o,t.precondition(o)))}),yield(r=(0,xt.Z)(function*(i,o){const c=un(i),w=bw(c.wt)+"/documents",M={writes:o.map(H=>vw(c.wt,H))};yield c.ro("Commit",w,M)}),function(i,o){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Sn();e=Zn.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new jt(bt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Oi.updateTime(e):Oi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Zn.min()))throw new jt(bt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oi.updateTime(e)}return Oi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class vY{constructor(t,e,r,i,o){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=i,this.deferred=o,this.Dc=r.maxAttempts,this.So=new TM(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,xt.Z)(function*(){const e=new bY(t.datastore),r=t.xc(e);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(i)}).catch(o=>{t.Nc(o)}))}).catch(i=>{t.Nc(i)})}))}xc(t){try{const e=this.updateFunction(t);return!iw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!AF(e)}return!1}}class wY{constructor(t,e,r,i){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=Bs.UNAUTHENTICATED,this.clientId=U8.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,xt.Z)(function*(w){$t("FirestoreClient","Received user=",w.uid),yield o.authCredentialListener(w),o.user=w});return function(w){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>($t("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,xt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new jt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xt.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=ky(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function a9(n,t){return vR.apply(this,arguments)}function vR(){return vR=(0,xt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$t("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,xt.Z)(function*(o){r.isEqual(o)||(yield A7(t.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),vR.apply(this,arguments)}function l9(n,t){return wR.apply(this,arguments)}function wR(){return wR=(0,xt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield CR(n);$t("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(i=>q7(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>q7(t.remoteStore,o)),n.onlineComponents=t}),wR.apply(this,arguments)}function CR(n){return TR.apply(this,arguments)}function TR(){return TR=(0,xt.Z)(function*(n){return n.offlineComponents||($t("FirestoreClient","Using default OfflineComponentProvider"),yield a9(n,new i9)),n.offlineComponents}),TR.apply(this,arguments)}function mx(n){return ER.apply(this,arguments)}function ER(){return ER=(0,xt.Z)(function*(n){return n.onlineComponents||($t("FirestoreClient","Using default OnlineComponentProvider"),yield l9(n,new bR)),n.onlineComponents}),ER.apply(this,arguments)}function c9(n){return CR(n).then(t=>t.persistence)}function gx(n){return CR(n).then(t=>t.localStore)}function u9(n){return mx(n).then(t=>t.remoteStore)}function SR(n){return mx(n).then(t=>t.syncEngine)}function Oy(n){return xR.apply(this,arguments)}function xR(){return xR=(0,xt.Z)(function*(n){const t=yield mx(n),e=t.eventManager;return e.onListen=XK.bind(null,t.syncEngine),e.onUnlisten=eY.bind(null,t.syncEngine),e}),xR.apply(this,arguments)}function d9(n,t,e={}){const r=new js;return n.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return function(i,o,c,w,M){const H=new px({next:de=>{o.enqueueAndForget(()=>zM(i,te));const ye=de.docs.has(c);!ye&&de.fromCache?M.reject(new jt(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):ye&&de.fromCache&&w&&"server"===w.source?M.reject(new jt(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):M.resolve(de)},error:de=>M.reject(de)}),te=new ZM(my(c.path),H,{includeMetadataChanges:!0,Du:!0});return HM(i,te)}(yield Oy(n),n.asyncQueue,t,e,r)})),r.promise}function h9(n,t,e={}){const r=new js;return n.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return function(i,o,c,w,M){const H=new px({next:de=>{o.enqueueAndForget(()=>zM(i,te)),de.fromCache&&"server"===w.source?M.reject(new jt(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):M.resolve(de)},error:de=>M.reject(de)}),te=new ZM(c,H,{includeMetadataChanges:!0,Du:!0});return HM(i,te)}(yield Oy(n),n.asyncQueue,t,e,r)})),r.promise}const f9=new Map;function DR(n,t,e){if(!e)throw new jt(bt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function p9(n,t,e,r){if(!0===t&&!0===r)throw new jt(bt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function m9(n){if(!rn.isDocumentKey(n))throw new jt(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function g9(n){if(rn.isDocumentKey(n))throw new jt(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _x(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Sn()}function Er(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new jt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=_x(n);throw new jt(bt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function _9(n,t){if(t<=0)throw new jt(bt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class y9{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new jt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,p9("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mw{constructor(t,e,r){this._authCredentials=e,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y9({}),this._settingsFrozen=!1,t instanceof Eh?this._databaseId=t:(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new jt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eh(i.options.projectId)}(t))}get app(){if(!this._app)throw new jt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new jt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y9(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new kZ;switch(e.type){case"gapi":const r=e.client;return Jn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new OZ(r,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new jt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=f9.get(t);e&&($t("ComponentProvider","Removing Datastore"),f9.delete(t),e.terminate())}(this),Promise.resolve()}}class ui{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ui(this.firestore,t,this._key)}}class po{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new po(this.firestore,t,this._query)}}class nd extends po{constructor(t,e,r){super(t,e,my(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ui(this.firestore,null,new rn(t))}withConverter(t){return new nd(this.firestore,t,this._path)}}function b9(n,t,...e){if(n=(0,Oe.m9)(n),DR("collection","path",t),n instanceof Mw){const r=Sr.fromString(t,...e);return g9(r),new nd(n,null,r)}{if(!(n instanceof ui||n instanceof nd))throw new jt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Sr.fromString(t,...e));return g9(r),new nd(n.firestore,null,r)}}function yx(n,t,...e){if(n=(0,Oe.m9)(n),1===arguments.length&&(t=U8.I()),DR("doc","path",t),n instanceof Mw){const r=Sr.fromString(t,...e);return m9(r),new ui(n,null,new rn(r))}{if(!(n instanceof ui||n instanceof nd))throw new jt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Sr.fromString(t,...e));return m9(r),new ui(n.firestore,n instanceof nd?n.converter:null,new rn(r))}}function v9(n,t){return n=(0,Oe.m9)(n),t=(0,Oe.m9)(t),(n instanceof ui||n instanceof nd)&&(t instanceof ui||t instanceof nd)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function w9(n,t){return n=(0,Oe.m9)(n),t=(0,Oe.m9)(t),n instanceof po&&t instanceof po&&n.firestore===t.firestore&&uw(n._query,t._query)&&n.converter===t.converter}class MY{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new TM(this,"async_queue_retry"),this.Kc=()=>{const e=dx();e&&$t("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=dx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=dx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new js;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Oc.push(t),this.jc()))}jc(){var t=this;return(0,xt.Z)(function*(){if(0!==t.Oc.length){try{yield t.Oc[0](),t.Oc.shift(),t.So.reset()}catch(e){if(!up(e))throw e;$t("AsyncQueue","Operation failed with retryable error: "+e)}t.Oc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Mc.then(()=>(this.Lc=!0,t().catch(r=>{throw this.Bc=r,this.Lc=!1,cs("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=e,e}enqueueAfterDelay(t,e,r){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const i=VM.createAndSchedule(this,t,e,r,o=>this.Wc(o));return this.$c.push(i),i}Gc(){this.Bc&&Sn()}verifyOperationInProgress(){}zc(){var t=this;return(0,xt.Z)(function*(){let e;do{e=t.Mc,yield e}while(e!==t.Mc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function IR(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class RY{constructor(){this._progressObserver={},this._taskCompletionResolver=new js,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Si extends Mw{constructor(t,e,r){super(t,e,r),this.type="firestore",this._queue=new MY,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||C9(this),this._firestoreClient.terminate()}}function bs(n){return n._firestoreClient||C9(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function C9(n){var t;const e=n._freezeSettings(),r=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new qZ(n._databaseId,o,n._persistenceKey,(w=e).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var o,w;n._firestoreClient=new wY(n._authCredentials,n._appCheckCredentials,n._queue,r)}function T9(n,t,e){const r=new js;return n.asyncQueue.enqueue((0,xt.Z)(function*(){try{yield a9(n,e),yield l9(n,t),r.resolve()}catch(i){const o=i;if(!("FirebaseError"===(c=o).name?c.code===bt.FAILED_PRECONDITION||c.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;wg("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var c})).then(()=>r.promise)}function E9(n){if(n._initialized||n._terminated)throw new jt(bt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ih{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new jt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rd(ks.fromBase64String(t))}catch(e){throw new jt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new rd(ks.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class jg{constructor(t){this._methodName=t}}class bx{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new jt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new jt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ir(this._lat,t._lat)||ir(this._long,t._long)}}const $Y=/^__.*__$/;class zY{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new xh(t,this.data,this.fieldMask,e,this.fieldTransforms):new by(t,this.data,e,this.fieldTransforms)}}class S9{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new xh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function x9(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sn()}}class vx{constructor(t,e,r,i,o,c){this.settings=t,this.databaseId=e,this.wt=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new vx(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ta({path:r,na:!1});return i.sa(t),i}ia(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return Tx(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(x9(this.Zc)&&$Y.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class GY{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=r||Aw(t)}aa(t,e,r,i=!1){return new vx({Zc:t,methodName:e,ca:r,path:Wi.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Ug(n){const t=n._freezeSettings(),e=Aw(n._databaseId);return new GY(n._databaseId,!!t.ignoreUndefinedProperties,e)}function wx(n,t,e,r,i,o={}){const c=n.aa(o.merge||o.mergeFields?2:0,t,e,i);MR("Data must be an object, but it was:",c,r);const w=A9(r,c);let M,H;if(o.merge)M=new Xa(c.fieldMask),H=c.fieldTransforms;else if(o.mergeFields){const te=[];for(const de of o.mergeFields){const ye=RR(t,de,e);if(!c.contains(ye))throw new jt(bt.INVALID_ARGUMENT,`Field '${ye}' is specified in your field mask but missing from your input data.`);N9(te,ye)||te.push(ye)}M=new Xa(te),H=c.fieldTransforms.filter(de=>M.covers(de.field))}else M=null,H=c.fieldTransforms;return new zY(new Js(w),M,H)}class Rw extends jg{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rw}}function D9(n,t,e){return new vx({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class AR extends jg{_toFieldTransform(t){return new dw(t.path,new _y)}isEqual(t){return t instanceof AR}}class qY extends jg{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=D9(this,t,!0),r=this.ha.map(o=>Vg(o,e)),i=new Ag(r);return new dw(t.path,i)}isEqual(t){return this===t}}class ZY extends jg{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=D9(this,t,!0),r=this.ha.map(o=>Vg(o,e)),i=new kg(r);return new dw(t.path,i)}isEqual(t){return this===t}}class WY extends jg{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new yy(t.wt,yF(t.wt,this.la));return new dw(t.path,e)}isEqual(t){return this===t}}function kR(n,t,e,r){const i=n.aa(1,t,e);MR("Data must be an object, but it was:",i,r);const o=[],c=Js.empty();Eg(r,(M,H)=>{const te=Cx(t,M,e);H=(0,Oe.m9)(H);const de=i.ia(te);if(H instanceof Rw)o.push(te);else{const ye=Vg(H,de);null!=ye&&(o.push(te),c.set(te,ye))}});const w=new Xa(o);return new S9(c,w,i.fieldTransforms)}function NR(n,t,e,r,i,o){const c=n.aa(1,t,e),w=[RR(t,r,e)],M=[i];if(o.length%2!=0)throw new jt(bt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ye=0;ye<o.length;ye+=2)w.push(RR(t,o[ye])),M.push(o[ye+1]);const H=[],te=Js.empty();for(let ye=w.length-1;ye>=0;--ye)if(!N9(H,w[ye])){const Ce=w[ye];let Ie=M[ye];Ie=(0,Oe.m9)(Ie);const He=c.ia(Ce);if(Ie instanceof Rw)H.push(Ce);else{const Ke=Vg(Ie,He);null!=Ke&&(H.push(Ce),te.set(Ce,Ke))}}const de=new Xa(H);return new S9(te,de,c.fieldTransforms)}function I9(n,t,e,r=!1){return Vg(e,n.aa(r?4:3,t))}function Vg(n,t){if(k9(n=(0,Oe.m9)(n)))return MR("Unsupported field value:",t,n),A9(n,t);if(n instanceof jg)return function(e,r){if(!x9(r.Zc))throw r.oa(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${e._methodName}() is not currently supported inside arrays`);const i=e._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,r){const i=[];let o=0;for(const c of e){let w=Vg(c,r.ra(o));null==w&&(w={nullValue:"NULL_VALUE"}),i.push(w),o++}return{arrayValue:{values:i}}}(n,t)}return function(e,r){if(null===(e=(0,Oe.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yF(r.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const i=Ei.fromDate(e);return{timestampValue:_w(r.wt,i)}}if(e instanceof Ei){const i=new Ei(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_w(r.wt,i)}}if(e instanceof bx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rd)return{bytesValue:jF(r.wt,e._byteString)};if(e instanceof ui){const i=r.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw r.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:eM(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.oa(`Unsupported field value: ${_x(e)}`)}(n,t)}function A9(n,t){const e={};return W8(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Eg(n,(r,i)=>{const o=Vg(i,t.ea(r));null!=o&&(e[r]=o)}),{mapValue:{fields:e}}}function k9(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ei||n instanceof bx||n instanceof rd||n instanceof ui||n instanceof jg)}function MR(n,t,e){if(!k9(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=_x(e);throw t.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function RR(n,t,e){if((t=(0,Oe.m9)(t))instanceof Ih)return t._internalPath;if("string"==typeof t)return Cx(n,t);throw Tx("Field path arguments must be of type string or ",n,!1,void 0,e)}const KY=new RegExp("[~\\*/\\[\\]]");function Cx(n,t,e){if(t.search(KY)>=0)throw Tx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ih(...t.split("."))._internalPath}catch{throw Tx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Tx(n,t,e,r,i){const o=r&&!r.isEmpty(),c=void 0!==i;let w=`Function ${t}() called with invalid data`;e&&(w+=" (via `toFirestore()`)"),w+=". ";let M="";return(o||c)&&(M+=" (found",o&&(M+=` in field ${r}`),c&&(M+=` in document ${i}`),M+=")"),new jt(bt.INVALID_ARGUMENT,w+n+M)}function N9(n,t){return n.some(e=>e.isEqual(t))}class Ow{constructor(t,e,r,i,o){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new YY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Ex("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class YY extends Ow{data(){return super.data()}}function Ex(n,t){return"string"==typeof t?Cx(n,t):t instanceof Ih?t._internalPath:t._delegate._internalPath}class Hg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ah extends Ow{constructor(t,e,r,i,o,c){super(t,e,r,i,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Pw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Ex("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Pw extends Ah{data(t={}){return super.data(t)}}class wp{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Hg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Pw(this._firestore,this._userDataWriter,r.key,r,new Hg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new jt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Pw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Hg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const w=new Pw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Hg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let M=-1,H=-1;return 0!==c.type&&(M=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),H=o.indexOf(c.doc.key)),{type:JY(c.type),doc:w,oldIndex:M,newIndex:H}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function JY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sn()}}function M9(n,t){return n instanceof Ah&&t instanceof Ah?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof wp&&t instanceof wp&&n._firestore===t._firestore&&w9(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function R9(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new jt(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fw{}function Cp(n,...t){for(const e of t)n=e._apply(n);return n}class QY extends Fw{constructor(t,e,r){super(),this.fa=t,this.da=e,this._a=r,this.type="where"}_apply(t){const e=Ug(t.firestore),r=function(i,o,c,w,M,H,te){let de;if(M.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new jt(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){j9(te,H);const Ce=[];for(const Ie of te)Ce.push(B9(w,i,Ie));de={arrayValue:{values:Ce}}}else de=B9(w,i,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||j9(te,H),de=I9(c,"where",te,"in"===H||"not-in"===H);const ye=Qs.create(M,H,de);return function(Ce,Ie){if(Ie.ht()){const Ke=KN(Ce);if(null!==Ke&&!Ke.isEqual(Ie.field))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ke.toString()}' and '${Ie.field.toString()}'`);const ut=WN(Ce);null!==ut&&U9(0,Ie.field,ut)}const He=function(Ke,ut){for(const _t of Ke.filters)if(ut.indexOf(_t.op)>=0)return _t.op;return null}(Ce,function(Ke){switch(Ke){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ie.op));if(null!==He)throw new jt(bt.INVALID_ARGUMENT,He===Ie.op?`Invalid query. You cannot use more than one '${Ie.op.toString()}' filter.`:`Invalid query. You cannot use '${Ie.op.toString()}' filters with '${He.toString()}' filters.`)}(i,ye),ye}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new po(t.firestore,t.converter,function(i,o){const c=i.filters.concat([o]);return new Sh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}class eJ extends Fw{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(r,i,o){if(null!==r.startAt)throw new jt(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new jt(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new py(i,o);return function(w,M){if(null===WN(w)){const H=KN(w);null!==H&&U9(0,H,M.field)}}(r,c),c}(t._query,this.fa,this.wa);return new po(t.firestore,t.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Sh(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class O9 extends Fw{constructor(t,e,r){super(),this.type=t,this.ma=e,this.ga=r}_apply(t){return new po(t.firestore,t.converter,qS(t._query,this.ma,this.ga))}}class P9 extends Fw{constructor(t,e,r){super(),this.type=t,this.ya=e,this.pa=r}_apply(t){const e=L9(t,this.type,this.ya,this.pa);return new po(t.firestore,t.converter,(i=e,new Sh((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class F9 extends Fw{constructor(t,e,r){super(),this.type=t,this.ya=e,this.pa=r}_apply(t){const e=L9(t,this.type,this.ya,this.pa);return new po(t.firestore,t.converter,(i=e,new Sh((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function L9(n,t,e,r){if(e[0]=(0,Oe.m9)(e[0]),e[0]instanceof Ow)return function(i,o,c,w,M){if(!w)throw new jt(bt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const H=[];for(const te of gy(i))if(te.field.isKeyField())H.push(Dg(o,w.key));else{const de=w.data.field(te.field);if(GN(de))throw new jt(bt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===de){const ye=te.field.canonicalString();throw new jt(bt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ye}' (used as the orderBy) does not exist.`)}H.push(de)}return new pp(H,M)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const i=Ug(n.firestore);return function(o,c,w,M,H,te){const de=o.explicitOrderBy;if(H.length>de.length)throw new jt(bt.INVALID_ARGUMENT,`Too many arguments provided to ${M}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ye=[];for(let Ce=0;Ce<H.length;Ce++){const Ie=H[Ce];if(de[Ce].field.isKeyField()){if("string"!=typeof Ie)throw new jt(bt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${M}(), but got a ${typeof Ie}`);if(!YN(o)&&-1!==Ie.indexOf("/"))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${M}() must be a plain document ID, but '${Ie}' contains a slash.`);const He=o.path.child(Sr.fromString(Ie));if(!rn.isDocumentKey(He))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${M}() must result in a valid document path, but '${He}' is not because it contains an odd number of segments.`);const Ke=new rn(He);ye.push(Dg(c,Ke))}else{const He=I9(w,M,Ie);ye.push(He)}}return new pp(ye,te)}(n._query,n.firestore._databaseId,i,t,e,r)}}function B9(n,t,e){if("string"==typeof(e=(0,Oe.m9)(e))){if(""===e)throw new jt(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YN(t)&&-1!==e.indexOf("/"))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Sr.fromString(e));if(!rn.isDocumentKey(r))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dg(n,new rn(r))}if(e instanceof ui)return Dg(n,e._key);throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_x(e)}.`)}function j9(n,t){if(!Array.isArray(n)||0===n.length)throw new jt(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new jt(bt.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function U9(n,t,e){if(!e.isEqual(t))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const lJ={maxAttempts:5};class OR{convertValue(t,e="none"){switch(xg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Sg(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Sn()}}convertObject(t,e){const r={};return Eg(t.fields,(i,o)=>{r[i]=this.convertValue(o,e)}),r}convertGeoPoint(t){return new bx(Yi(t.latitude),Yi(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Y8(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(rw(t));default:return null}}convertTimestamp(t){const e=dp(t);return new Ei(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Sr.fromString(t);Jn(KF(r));const i=new Eh(r.get(1),r.get(3)),o=new rn(r.popFirst(5));return i.isEqual(e)||cs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function Sx(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class cJ extends OR{constructor(t){super(),this.firestore=t}convertBytes(t){return new rd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ui(this.firestore,null,e)}}class V9{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ug(t)}set(t,e,r){this._verifyNotCommitted();const i=Tp(t,this._firestore),o=Sx(i.converter,e,r),c=wx(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Oi.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const o=Tp(t,this._firestore);let c;return c="string"==typeof(e=(0,Oe.m9)(e))||e instanceof Ih?NR(this._dataReader,"WriteBatch.update",o._key,e,r,i):kR(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,Oi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Tp(t,this._firestore);return this._mutations=this._mutations.concat(new vy(e._key,Oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new jt(bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tp(n,t){if((n=(0,Oe.m9)(n)).firestore!==t)throw new jt(bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class $g extends OR{constructor(t){super(),this.firestore=t}convertBytes(t){return new rd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ui(this.firestore,null,e)}}function H9(n,t,e){n=Er(n,ui);const r=Er(n.firestore,Si),i=Sx(n.converter,t,e);return Py(r,[wx(Ug(r),"setDoc",n._key,i,null!==n.converter,e).toMutation(n._key,Oi.none())])}function $9(n,t,e,...r){n=Er(n,ui);const i=Er(n.firestore,Si),o=Ug(i);let c;return c="string"==typeof(t=(0,Oe.m9)(t))||t instanceof Ih?NR(o,"updateDoc",n._key,t,e,r):kR(o,"updateDoc",n._key,t),Py(i,[c.toMutation(n._key,Oi.exists(!0))])}function z9(n,...t){var e,r,i;n=(0,Oe.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||IR(t[c])||(o=t[c],c++);const w={includeMetadataChanges:o.includeMetadataChanges};if(IR(t[c])){const de=t[c];t[c]=null===(e=de.next)||void 0===e?void 0:e.bind(de),t[c+1]=null===(r=de.error)||void 0===r?void 0:r.bind(de),t[c+2]=null===(i=de.complete)||void 0===i?void 0:i.bind(de)}let M,H,te;if(n instanceof ui)H=Er(n.firestore,Si),te=my(n._key.path),M={next:de=>{t[c]&&t[c](PR(H,n,de))},error:t[c+1],complete:t[c+2]};else{const de=Er(n,po);H=Er(de.firestore,Si),te=de._query;const ye=new $g(H);M={next:Ce=>{t[c]&&t[c](new wp(H,ye,de,Ce))},error:t[c+1],complete:t[c+2]},R9(n._query)}return function(de,ye,Ce,Ie){const He=new px(Ie),Ke=new ZM(ye,He,Ce);return de.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return HM(yield Oy(de),Ke)})),()=>{He.Tc(),de.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return zM(yield Oy(de),Ke)}))}}(bs(H),te,w,M)}function Py(n,t){return function(e,r){const i=new js;return e.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return function tY(n,t,e){return QM.apply(this,arguments)}(yield SR(e),r,i)})),i.promise}(bs(n),t)}function PR(n,t,e){const r=e.docs.get(t._key),i=new $g(n);return new Ah(n,i,t._key,r,new Hg(e.hasPendingWrites,e.fromCache),t.converter)}class bJ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ug(t)}get(t){const e=Tp(t,this._firestore),r=new cJ(this._firestore);return this._transaction.lookup([e._key]).then(i=>{if(!i||1!==i.length)return Sn();const o=i[0];if(o.isFoundDocument())return new Ow(this._firestore,r,o.key,o,e.converter);if(o.isNoDocument())return new Ow(this._firestore,r,e._key,null,e.converter);throw Sn()})}set(t,e,r){const i=Tp(t,this._firestore),o=Sx(i.converter,e,r),c=wx(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(t,e,r,...i){const o=Tp(t,this._firestore);let c;return c="string"==typeof(e=(0,Oe.m9)(e))||e instanceof Ih?NR(this._dataReader,"Transaction.update",o._key,e,r,i):kR(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=Tp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Tp(t,this._firestore),r=new $g(this._firestore);return super.get(t).then(i=>new Ah(this._firestore,r,e._key,i._document,new Hg(!1,!1),e.converter))}}!function(n,t=!0){uy=Oo.SDK_VERSION,(0,Oo._registerComponent)(new jc.wA("firestore",(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),o=new Si(i,new MZ(e.getProvider("auth-internal")),new PZ(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC")),(0,Oo.registerVersion)(L8,"3.4.14",n),(0,Oo.registerVersion)(L8,"3.4.14","esm2017")}();function FR(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new jt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function q9(){if(typeof Uint8Array>"u")throw new jt("unimplemented","Uint8Arrays are not available in this environment.")}function Z9(){if(!function zZ(){return typeof atob<"u"}())throw new jt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Lw{constructor(t){this._delegate=t}static fromBase64String(t){return Z9(),new Lw(rd.fromBase64String(t))}static fromUint8Array(t){return q9(),new Lw(rd.fromUint8Array(t))}toBase64(){return Z9(),this._delegate.toBase64()}toUint8Array(){return q9(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function LR(n){return function IJ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(n,["next","error","complete"])}class AJ{enableIndexedDbPersistence(t,e){return function PY(n,t){E9(n=Er(n,Si));const e=bs(n),r=n._freezeSettings(),i=new bR;return T9(e,i,new s9(i,r.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function FY(n){E9(n=Er(n,Si));const t=bs(n),e=n._freezeSettings(),r=new bR;return T9(t,r,new _Y(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function LY(n){if(n._initialized&&!n._terminated)throw new jt(bt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new js;return n._queue.enqueueAndForgetEvenWhileRestricted((0,xt.Z)(function*(){try{yield(e=(0,xt.Z)(function*(r){if(!Vc.V())return Promise.resolve();const i=r+"main";yield Vc.delete(i)}),function(r){return e.apply(this,arguments)})(fM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class W9{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof Eh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&wg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function kY(n,t,e,r={}){var i;const o=(n=Er(n,Mw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&wg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let c,w;if("string"==typeof r.mockUserToken)c=r.mockUserToken,w=Bs.MOCK_USER;else{c=(0,Oe.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const M=r.mockUserToken.sub||r.mockUserToken.user_id;if(!M)throw new jt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Bs(M)}n._authCredentials=new NZ(new B8(c,w))}}(this._delegate,t,e,r)}enableNetwork(){return function jY(n){return function CY(n){return n.asyncQueue.enqueue((0,xt.Z)(function*(){const t=yield c9(n),e=yield u9(n);return t.setNetworkEnabled(!0),function(r){const i=un(r);return i.lu.delete(0),kw(i)}(e)}))}(bs(n=Er(n,Si)))}(this._delegate)}disableNetwork(){return function UY(n){return function TY(n){return n.asyncQueue.enqueue((0,xt.Z)(function*(){const t=yield c9(n),e=yield u9(n);return t.setNetworkEnabled(!1),(r=(0,xt.Z)(function*(i){const o=un(i);o.lu.add(0),yield Dy(o),o._u.set("Offline")}),function(i){return r.apply(this,arguments)})(e);var r}))}(bs(n=Er(n,Si)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,p9("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function BY(n){return function(t){const e=new js;return t.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return function sY(n,t){return rR.apply(this,arguments)}(yield SR(t),e)})),e.promise}(bs(n=Er(n,Si)))}(this._delegate)}onSnapshotsInSync(t){return function yJ(n,t){return function xY(n,t){const e=new px(t);return n.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return r=yield Oy(n),i=e,un(r).Tu.add(i),void i.next();var r,i})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return r=yield Oy(n),i=e,void un(r).Tu.delete(i);var r,i}))}}(bs(n=Er(n,Si)),IR(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new jt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Fy(this,b9(this._delegate,t))}catch(e){throw jo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Bl(this,yx(this._delegate,t))}catch(e){throw jo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Uo(this,function NY(n,t){if(n=Er(n,Mw),DR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new jt(bt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new po(n,null,(e=t,new Sh(Sr.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw jo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function vJ(n,t,e){n=Er(n,Si);const r=Object.assign(Object.assign({},lJ),e);return function(i){if(i.maxAttempts<1)throw new jt(bt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function DY(n,t,e){const r=new js;return n.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){const i=yield(o=n,mx(o).then(c=>c.datastore));var o;new vY(n.asyncQueue,i,e,t,r).run()})),r.promise}(bs(n),i=>t(new bJ(n,i)),r)}(this._delegate,e=>t(new K9(this,e)))}batch(){return bs(this._delegate),new Y9(new V9(this._delegate,t=>Py(this._delegate,t)))}loadBundle(t){return function VY(n,t){const e=bs(n=Er(n,Si)),r=new RY;return function IY(n,t,e,r){const i=function(o,c){let w;return w="string"==typeof o?(new TextEncoder).encode(o):o,M=function(M,H){if(M instanceof Uint8Array)return o9(M,H);if(M instanceof ArrayBuffer)return o9(new Uint8Array(M),H);if(M instanceof ReadableStream)return M.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new yY(M,c);var M}(e,Aw(t));n.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){!function gY(n,t,e){const r=un(n);var i;(i=(0,xt.Z)(function*(o,c,w){try{const M=yield c.getMetadata();if(yield function(ye,Ce){const Ie=un(ye),He=Us(Ce.createTime);return Ie.persistence.runTransaction("hasNewerBundle","readonly",Ke=>Ie.Ds.getBundleMetadata(Ke,Ce.id)).then(Ke=>!!Ke&&Ke.createTime.compareTo(He)>=0)}(o.localStore,M))return yield c.close(),w._completeWith({taskState:"Success",documentsLoaded:(ye=M).totalDocuments,bytesLoaded:ye.totalBytes,totalDocuments:ye.totalDocuments,totalBytes:ye.totalBytes}),Promise.resolve(new Set);w._updateProgress(K7(M));const H=new KK(M,o.localStore,c.wt);let te=yield c.fc();for(;te;){const ye=yield H.Nu(te);ye&&w._updateProgress(ye),te=yield c.fc()}const de=yield H.complete();return yield Dh(o,de.Ou,void 0),yield function(ye,Ce){const Ie=un(ye);return Ie.persistence.runTransaction("Save bundle","readwrite",He=>Ie.Ds.saveBundleMetadata(He,Ce))}(o.localStore,M),w._completeWith(de.progress),Promise.resolve(de.Mu)}catch(M){return wg("SyncEngine",`Loading bundle failed with ${M}`),w._failWith(M),Promise.resolve(new Set)}var ye}),function(o,c,w){return i.apply(this,arguments)})(r,t,e).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield SR(n),i,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function HY(n,t){return function AY(n,t){return n.asyncQueue.enqueue((0,xt.Z)(function*(){return function(e,r){const i=un(e);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ds.getNamedQuery(o,r))}(yield gx(n),t)}))}(bs(n=Er(n,Si)),t).then(e=>e?new po(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Uo(this,e):null)}}class xx extends OR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lw(new rd(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Bl.forKey(e,this.firestore,null)}}class K9{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new xx(t)}get(t){const e=Gg(t);return this._delegate.get(e).then(r=>new Bw(this._firestore,new Ah(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const i=Gg(t);return r?(FR("Transaction.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const o=Gg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,r,...i),this}delete(t){const e=Gg(t);return this._delegate.delete(e),this}}class Y9{constructor(t){this._delegate=t}set(t,e,r){const i=Gg(t);return r?(FR("WriteBatch.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const o=Gg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,r,...i),this}delete(t){const e=Gg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class zg{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new Pw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new jw(this._firestore,r),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=zg.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let o=i.get(e);return o||(o=new zg(t,new xx(t),e),i.set(e,o)),o}}zg.INSTANCES=new WeakMap;class Bl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xx(t)}static forPath(t,e,r){if(t.length%2!=0)throw new jt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Bl(e,new ui(e._delegate,r,new rn(t)))}static forKey(t,e,r){return new Bl(e,new ui(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new Fy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Fy(this.firestore,b9(this._delegate,t))}catch(e){throw jo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Oe.m9)(t))instanceof ui&&v9(this._delegate,t)}set(t,e){e=FR("DocumentReference.set",e);try{return e?H9(this._delegate,t,e):H9(this._delegate,t)}catch(r){throw jo(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?$9(this._delegate,t):$9(this._delegate,t,e,...r)}catch(i){throw jo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function gJ(n){return Py(Er(n.firestore,Si),[new vy(n._key,Oi.none())])}(this._delegate)}onSnapshot(...t){const e=J9(t),r=Q9(t,i=>new Bw(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return z9(this._delegate,e,r)}get(t){let e;return e="cache"===t?.source?function dJ(n){n=Er(n,ui);const t=Er(n.firestore,Si),e=bs(t),r=new $g(t);return function EY(n,t){const e=new js;return n.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return(r=(0,xt.Z)(function*(i,o,c){try{const w=yield function(M,H){const te=un(M);return te.persistence.runTransaction("read document","readonly",de=>te.localDocuments.getDocument(de,H))}(i,o);w.isFoundDocument()?c.resolve(w):w.isNoDocument()?c.resolve(null):c.reject(new jt(bt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const M=ky(w,`Failed to get document '${o} from cache`);c.reject(M)}}),function(i,o,c){return r.apply(this,arguments)})(yield gx(n),t,e);var r})),e.promise}(e,n._key).then(i=>new Ah(t,r,n._key,i,new Hg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function hJ(n){n=Er(n,ui);const t=Er(n.firestore,Si);return d9(bs(t),n._key,{source:"server"}).then(e=>PR(t,n,e))}(this._delegate):function uJ(n){n=Er(n,ui);const t=Er(n.firestore,Si);return d9(bs(t),n._key).then(e=>PR(t,n,e))}(this._delegate),e.then(r=>new Bw(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new Bl(this.firestore,this._delegate.withConverter(t?zg.getInstance(this.firestore,t):null))}}function jo(n,t,e){return n.message=n.message.replace(t,e),n}function J9(n){for(const t of n)if("object"==typeof t&&!LR(t))return t;return{}}function Q9(n,t){var e,r;let i;return i=LR(n[0])?n[0]:LR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(t(o))},error:null===(e=i.error)||void 0===e?void 0:e.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Bw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Bl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return M9(this._delegate,t._delegate)}}class jw extends Bw{data(t){const e=this._delegate.data(t);return function AZ(n,t){n||Sn()}(void 0!==e),e}}class Uo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xx(t)}where(t,e,r){try{return new Uo(this.firestore,Cp(this._delegate,function XY(n,t,e){const r=t,i=Ex("where",n);return new QY(i,r,e)}(t,e,r)))}catch(i){throw jo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Uo(this.firestore,Cp(this._delegate,function tJ(n,t="asc"){const e=t,r=Ex("orderBy",n);return new eJ(r,e)}(t,e)))}catch(r){throw jo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Uo(this.firestore,Cp(this._delegate,function nJ(n){return _9("limit",n),new O9("limit",n,"F")}(t)))}catch(e){throw jo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Uo(this.firestore,Cp(this._delegate,function rJ(n){return _9("limitToLast",n),new O9("limitToLast",n,"L")}(t)))}catch(e){throw jo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Uo(this.firestore,Cp(this._delegate,function iJ(...n){return new P9("startAt",n,!0)}(...t)))}catch(e){throw jo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Uo(this.firestore,Cp(this._delegate,function sJ(...n){return new P9("startAfter",n,!1)}(...t)))}catch(e){throw jo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Uo(this.firestore,Cp(this._delegate,function oJ(...n){return new F9("endBefore",n,!1)}(...t)))}catch(e){throw jo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Uo(this.firestore,Cp(this._delegate,function aJ(...n){return new F9("endAt",n,!0)}(...t)))}catch(e){throw jo(e,"endAt()","Query.endAt()")}}isEqual(t){return w9(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function pJ(n){n=Er(n,po);const t=Er(n.firestore,Si),e=bs(t),r=new $g(t);return function SY(n,t){const e=new js;return n.asyncQueue.enqueueAndForget((0,xt.Z)(function*(){return(r=(0,xt.Z)(function*(i,o,c){try{const w=yield lx(i,o,!0),M=new Q7(o,w.ji),H=M.Ku(w.documents),te=M.applyChanges(H,!1);c.resolve(te.snapshot)}catch(w){const M=ky(w,`Failed to execute query '${o} against cache`);c.reject(M)}}),function(i,o,c){return r.apply(this,arguments)})(yield gx(n),t,e);var r})),e.promise}(e,n._query).then(i=>new wp(t,r,n,i))}(this._delegate):"server"===t?.source?function mJ(n){n=Er(n,po);const t=Er(n.firestore,Si),e=bs(t),r=new $g(t);return h9(e,n._query,{source:"server"}).then(i=>new wp(t,r,n,i))}(this._delegate):function fJ(n){n=Er(n,po);const t=Er(n.firestore,Si),e=bs(t),r=new $g(t);return R9(n._query),h9(e,n._query).then(i=>new wp(t,r,n,i))}(this._delegate),e.then(r=>new BR(this.firestore,new wp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=J9(t),r=Q9(t,i=>new BR(this.firestore,new wp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return z9(this._delegate,e,r)}withConverter(t){return new Uo(this.firestore,this._delegate.withConverter(t?zg.getInstance(this.firestore,t):null))}}class NJ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new jw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class BR{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Uo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new jw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new NJ(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new jw(this._firestore,r))})}isEqual(t){return M9(this._delegate,t._delegate)}}class Fy extends Uo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Bl(this.firestore,t):null}doc(t){try{return new Bl(this.firestore,void 0===t?yx(this._delegate):yx(this._delegate,t))}catch(e){throw jo(e,"doc()","CollectionReference.doc()")}}add(t){return function _J(n,t){const e=Er(n.firestore,Si),r=yx(n),i=Sx(n.converter,t);return Py(e,[wx(Ug(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Oi.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new Bl(this.firestore,e))}isEqual(t){return v9(this._delegate,t._delegate)}withConverter(t){return new Fy(this.firestore,this._delegate.withConverter(t?zg.getInstance(this.firestore,t):null))}}function Gg(n){return Er(n,ui)}class jR{constructor(...t){this._delegate=new Ih(...t)}static documentId(){return new jR(Wi.keyField().canonicalString())}isEqual(t){return(t=(0,Oe.m9)(t))instanceof Ih&&this._delegate._internalPath.isEqual(t._internalPath)}}class qg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function CJ(){return new AR("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new qg(t)}static delete(){const t=function wJ(){return new Rw("deleteField")}();return t._methodName="FieldValue.delete",new qg(t)}static arrayUnion(...t){const e=function TJ(...n){return new qY("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new qg(e)}static arrayRemove(...t){const e=function EJ(...n){return new ZY("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new qg(e)}static increment(t){const e=function SJ(n){return new WY("increment",n)}(t);return e._methodName="FieldValue.increment",new qg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const MJ={Firestore:W9,GeoPoint:bx,Timestamp:Ei,Blob:Lw,Transaction:K9,WriteBatch:Y9,DocumentReference:Bl,DocumentSnapshot:Bw,Query:Uo,QueryDocumentSnapshot:jw,QuerySnapshot:BR,CollectionReference:Fy,FieldPath:jR,FieldValue:qg,setLogLevel:function kJ(n){!function IZ(n){lp.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function OJ(n){(function RJ(n,t){n.INTERNAL.registerComponent(new jc.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return t(r,i)},"PUBLIC").setServiceProps(Object.assign({},MJ)))})(n,(t,e)=>new W9(t,e,new AJ)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(Z3.Z);var Dx=Re(5363);function X9(n,t){return(0,ao.m)(t)?Vr(()=>n,t):Vr(()=>n)}var UR=Re(9468);Re(5867);const tL=new Map,jJ={activated:!1,tokenObservers:[]},UJ={initialized:!1,enabled:!1};function $s(n){return tL.get(n)||jJ}function Hc(n,t){tL.set(n,t)}function Ax(){return UJ}const HR="https://content-firebaseappcheck.googleapis.com/v1",$J="exchangeDebugToken",nL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class GJ{constructor(t,e,r,i,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,xt.Z)(function*(){e.stop();try{e.pending=new Oe.BH,yield function qJ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Oe.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Vo=new Oe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function GR(){return GR=(0,xt.Z)(function*({url:n,body:t},e){var r,i;const o={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const Ce=yield c.getHeartbeatsHeader();Ce&&(o["X-Firebase-Client"]=Ce)}const w={method:"POST",body:JSON.stringify(t),headers:o};let M,H;try{M=yield fetch(n,w)}catch(Ce){throw Vo.create("fetch-network-error",{originalErrorMessage:null===(r=Ce)||void 0===r?void 0:r.message})}if(200!==M.status)throw Vo.create("fetch-status-error",{httpStatus:M.status});try{H=yield M.json()}catch(Ce){throw Vo.create("fetch-parse-error",{originalErrorMessage:null===(i=Ce)||void 0===i?void 0:i.message})}const te=H.ttl.match(/^([\d.]+)(s)$/);if(!te||!te[2]||isNaN(Number(te[1])))throw Vo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${H.ttl}`});const de=1e3*Number(te[1]),ye=Date.now();return{token:H.token,expireTimeMillis:ye+de,issuedAtTimeMillis:ye}}),GR.apply(this,arguments)}const JJ="firebase-app-check-database",QJ=1,Uw="firebase-app-check-store";let Mx=null;function qR(){return qR=(0,xt.Z)(function*(n,t){const r=(yield function sL(){return Mx||(Mx=new Promise((n,t)=>{var e;try{const r=indexedDB.open(JJ,QJ);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var o;t(Vo.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Uw,{keyPath:"compositeKey"})}}catch(r){t(Vo.create("storage-open",{originalErrorMessage:null===(e=r)||void 0===e?void 0:e.message}))}}),Mx)}()).transaction(Uw,"readwrite"),o=r.objectStore(Uw).put({compositeKey:n,value:t});return new Promise((c,w)=>{o.onsuccess=M=>{c()},r.onerror=M=>{var H;w(Vo.create("storage-set",{originalErrorMessage:null===(H=M.target.error)||void 0===H?void 0:H.message}))}})}),qR.apply(this,arguments)}const Vw=new Uc.Yd("@firebase/app-check");function cL(n,t){return(0,Oe.hl)()?function eQ(n,t){return function oL(n,t){return qR.apply(this,arguments)}(function lL(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Vw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function YR(){return YR=(0,xt.Z)(function*(){const n=Ax();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),YR.apply(this,arguments)}const oQ={error:"UNKNOWN_ERROR"};function aQ(n){return Oe.US.encodeString(JSON.stringify(n),!1)}function Rx(n){return JR.apply(this,arguments)}function JR(){return JR=(0,xt.Z)(function*(n,t=!1){const e=n.app;!function rL(n){if(!$s(n).activated)throw Vo.create("use-before-activation",{appName:n.name})}(e);const r=$s(e);let o,i=r.token;if(!i){const M=yield r.cachedTokenPromise;M&&Ox(M)&&(i=M)}if(!t&&i&&Ox(i))return{token:i.token};let w,c=!1;if(function uL(){return Ax().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function zR(n,t){return GR.apply(this,arguments)}(function YJ(n,t){const{projectId:e,appId:r,apiKey:i}=n.options;return{url:`${HR}/projects/${e}/apps/${r}:${$J}?key=${i}`,body:{debug_token:t}}}(e,yield function dL(){return YR.apply(this,arguments)}()),n.heartbeatServiceProvider).then(H=>(r.exchangeTokenPromise=void 0,H)),c=!0);const M=yield r.exchangeTokenPromise;return yield cL(e,M),Hc(e,Object.assign(Object.assign({},r),{token:M})),{token:M.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(M=>(r.exchangeTokenPromise=void 0,M)),c=!0),i=yield r.exchangeTokenPromise}catch(M){"appCheck/throttled"===M.code?Vw.warn(M.message):Vw.error(M),o=M}return i?(w={token:i.token},Hc(e,Object.assign(Object.assign({},r),{token:i})),yield cL(e,i)):w=function cQ(n){return{token:aQ(oQ),error:n}}(o),c&&function fL(n,t){const e=$s(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}(e,w),w}),JR.apply(this,arguments)}function XR(n,t){const e=$s(n),r=e.tokenObservers.filter(i=>i.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Hc(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function hL(n){const{app:t}=n,e=$s(t);let r=e.tokenRefresher;r||(r=function lQ(n){const{app:t}=n;return new GJ((0,xt.Z)(function*(){let r;if(r=$s(t).token?yield Rx(n,!0):yield Rx(n),r.error)throw r.error}),()=>!0,()=>{const e=$s(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},nL.RETRIAL_MIN_WAIT,nL.RETRIAL_MAX_WAIT)}(n),Hc(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function Ox(n){return n.expireTimeMillis-Date.now()>0}class uQ{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=$s(this.app);for(const e of t)XR(this.app,e.next);return Promise.resolve()}}const wL="app-check-internal";!function EQ(){(0,Oo._registerComponent)(new jc.wA("app-check",n=>function dQ(n,t){return new uQ(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(wL).initialize()})),(0,Oo._registerComponent)(new jc.wA(wL,n=>function hQ(n){return{getToken:t=>Rx(n,t),addTokenListener:t=>function QR(n,t,e,r){const{app:i}=n,o=$s(i),c={next:e,error:r,type:t};if(Hc(i,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,c]})),o.token&&Ox(o.token)){const w=o.token;Promise.resolve().then(()=>{e({token:w.token}),hL(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>hL(n))}(n,"INTERNAL",t),removeTokenListener:t=>XR(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oo.registerVersion)("@firebase/app-check","0.5.12")}();class Hw{constructor(){return(0,Or.vb)("app-check")}}typeof window<"u"&&window;var iO=Re(127);const sO=new s.OlP("angularfire2.auth.use-emulator"),oO=new s.OlP("angularfire2.auth.settings"),aO=new s.OlP("angularfire2.auth.tenant-id"),lO=new s.OlP("angularfire2.auth.langugage-code"),cO=new s.OlP("angularfire2.auth.use-device-language"),uO=new s.OlP("angularfire.auth.persistence"),dO=(n,t,e,r,i,o,c,w)=>(0,As.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const M=t.runOutsideAngular(()=>n.auth());if(e&&M.useEmulator(...e),r&&(M.tenantId=r),M.languageCode=i,o&&M.useDeviceLanguage(),c)for(const[H,te]of Object.entries(c))M.settings[H]=te;return w&&M.setPersistence(w),M},[e,r,i,o,c,w]);let hO=(()=>{class n{constructor(e,r,i,o,c,w,M,H,te,de,ye,Ce){const Ie=new br.x,He=Pt(void 0).pipe((0,Dx.Q)(c.outsideAngular),Vr(()=>o.runOutsideAngular(()=>Promise.resolve().then(Re.bind(Re,1451)))),(0,me.U)(()=>(0,As.on)(e,o,r)),(0,me.U)(Ke=>dO(Ke,o,w,H,te,de,M,ye)),yE({bufferSize:1,refCount:!1}));if(Kc(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Pt(null);else{He.pipe(Pa()).subscribe();const ut=He.pipe(Vr(vt=>vt.getRedirectResult().then(Ft=>Ft,()=>null)),Or.iC,yE({bufferSize:1,refCount:!1})),_t=He.pipe(Vr(vt=>new Ir.y(Ft=>({unsubscribe:o.runOutsideAngular(()=>vt.onAuthStateChanged(Ht=>Ft.next(Ht),Ht=>Ft.error(Ht),()=>Ft.complete()))})))),At=He.pipe(Vr(vt=>new Ir.y(Ft=>({unsubscribe:o.runOutsideAngular(()=>vt.onIdTokenChanged(Ht=>Ft.next(Ht),Ht=>Ft.error(Ht),()=>Ft.complete()))}))));this.authState=ut.pipe(X9(_t),(0,UR.R)(c.outsideAngular),(0,Dx.Q)(c.insideAngular)),this.user=ut.pipe(X9(At),(0,UR.R)(c.outsideAngular),(0,Dx.Q)(c.insideAngular)),this.idToken=this.user.pipe(Vr(vt=>vt?(0,$n.D)(vt.getIdToken()):Pt(null))),this.idTokenResult=this.user.pipe(Vr(vt=>vt?(0,$n.D)(vt.getIdTokenResult()):Pt(null))),this.credential=(0,$_.T)(ut,Ie,this.authState.pipe(Ai(vt=>!vt))).pipe((0,me.U)(vt=>vt?.user?vt:null),(0,UR.R)(c.outsideAngular),(0,Dx.Q)(c.insideAngular))}return(0,As.pX)(this,He,o,{spy:{apply:(Ke,ut,_t)=>{(Ke.startsWith("signIn")||Ke.startsWith("createUser"))&&_t.then(At=>Ie.next(At))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(As.Dh),s.LFG(As.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Or.HU),s.LFG(sO,8),s.LFG(oO,8),s.LFG(aO,8),s.LFG(lO,8),s.LFG(cO,8),s.LFG(uO,8),s.LFG(Hw,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function TL(n,t){return function kQ(n,t=tg.z){return new Ir.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{r?.()}})}(n,t)}function fO(n,t){return TL(n,t).pipe((0,me.U)(e=>({payload:e,type:"query"})))}function Fx(n,t){return fO(n,t).pipe(Oa(void 0),q3(),(0,me.U)(([e,r])=>{const i=r.payload.docChanges(),o=i.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,w)=>{const M=i.find(te=>te.doc.ref.isEqual(c.ref)),H=e?.payload.docs.find(te=>te.ref.isEqual(c.ref));M&&JSON.stringify(M.doc.metadata)===JSON.stringify(c.metadata)||!M&&H&&JSON.stringify(H.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:c}})}),o}))}function EL(n,t,e){return Fx(n,e).pipe(Fa((r,i)=>function MQ(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function RQ(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return pO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return pO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return pO(n,t.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),t),[]),mh(),(0,me.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function pO(n,t,e,...r){const i=n.slice();return i.splice(t,e,...r),i}function SL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class xL{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=Fx(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,me.U)(r=>r.filter(i=>t.indexOf(i.type)>-1)))),e.pipe(Oa(void 0),q3(),Ai(([r,i])=>i.length>0||!r),(0,me.U)(([r,i])=>i),Or.iC)}auditTrail(t){return this.stateChanges(t).pipe(Fa((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=SL(t);return EL(this.query,e,this.afs.schedulers.outsideAngular).pipe(Or.iC)}valueChanges(t={}){return fO(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),Or.iC)}get(t){return(0,$n.D)(this.query.get(t)).pipe(Or.iC)}add(t){return this.ref.add(t)}doc(t){return new DL(this.ref.doc(t),this.afs)}}class DL{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:i,query:o}=kL(r,e);return new xL(i,o,this.afs)}snapshotChanges(){return function NQ(n,t){return TL(n,t).pipe(Oa(void 0),q3(),(0,me.U)(([e,r])=>r.exists?e?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Or.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,me.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,$n.D)(this.ref.get(t)).pipe(Or.iC)}}class OQ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Fx(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),Ai(e=>e.length>0),Or.iC):Fx(this.query,this.afs.schedulers.outsideAngular).pipe(Or.iC)}auditTrail(t){return this.stateChanges(t).pipe(Fa((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=SL(t);return EL(this.query,e,this.afs.schedulers.outsideAngular).pipe(Or.iC)}valueChanges(t={}){return fO(this.query,this.afs.schedulers.outsideAngular).pipe((0,me.U)(r=>r.payload.docs.map(i=>t.idField?Object.assign({[t.idField]:i.id},i.data()):i.data())),Or.iC)}get(t){return(0,$n.D)(this.query.get(t)).pipe(Or.iC)}}const IL=new s.OlP("angularfire2.enableFirestorePersistence"),AL=new s.OlP("angularfire2.firestore.persistenceSettings"),PQ=new s.OlP("angularfire2.firestore.settings"),FQ=new s.OlP("angularfire2.firestore.use-emulator");function kL(n,t=(e=>e)){return{query:t(n),ref:n}}let el=(()=>{class n{constructor(e,r,i,o,c,w,M,H,te,de,ye,Ce,Ie,He,Ke,ut,_t){this.schedulers=M;const At=(0,As.on)(e,w,r),vt=te;de&&dO(At,w,ye,Ie,He,Ke,Ce,ut),[this.firestore,this.persistenceEnabled$]=(0,As.cc)(`${At.name}.firestore`,"AngularFirestore",At.name,()=>{const Ft=w.runOutsideAngular(()=>At.firestore());if(o&&Ft.settings(o),vt&&Ft.useEmulator(...vt),i&&!Kc(c)){const Ht=()=>{try{return(0,$n.D)(Ft.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(_n){return typeof console<"u"&&console.warn(_n),Pt(!1)}};return[Ft,w.runOutsideAngular(Ht)]}return[Ft,Pt(!1)]},[o,vt,i])}collection(e,r){let i;i="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=kL(i,r),w=this.schedulers.ngZone.run(()=>o);return new xL(w,c,this)}collectionGroup(e,r){const i=r||(c=>c),o=this.firestore.collectionGroup(e);return new OQ(i(o),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const i=this.schedulers.ngZone.run(()=>r);return new DL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(As.Dh),s.LFG(As.xv,8),s.LFG(IL,8),s.LFG(PQ,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Or.HU),s.LFG(AL,8),s.LFG(FQ,8),s.LFG(hO,8),s.LFG(sO,8),s.LFG(oO,8),s.LFG(aO,8),s.LFG(lO,8),s.LFG(cO,8),s.LFG(uO,8),s.LFG(Hw,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LQ=(()=>{class n{constructor(){iO.Z.registerVersion("angularfire",Or.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:IL,useValue:!0},{provide:AL,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[el]}),n})(),Ep=(()=>{class n extends mg{constructor(e){super(),this.firestore=e,this.collection=e.collection(vh.ACCOUNTS)}login(e){return this.firestore.collection(vh.ACCOUNTS,r=>r.where("deleted","==",!1).where("email","==",e.username).where("password","==",e.password).limit(1)).valueChanges()}changePassword(e){throw new Error("Method not implemented.")}create(e){return this.collection.doc(e.id).set(e),Pt(e)}delete(e){return(0,$n.D)(this.collection.doc(e).delete())}fetch(e){return Pt()}fetchAll(){return this.collection.valueChanges()}update(e,r){return(0,$n.D)(this.collection.doc(e).update(r))}search(e,r){let i=this.collection.ref;return console.log(e),e.forEach(o=>{i.where(o.field,o.comparator,o.value)}),(0,$n.D)(i.get()).pipe((0,me.U)(o=>{const c=[];return o.forEach(w=>{c.push(w.data())}),console.log(c),c}))}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(el))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ly=(()=>{class n extends P1{constructor(e){super(),this.firestore=e,this.collection=e.collection(vh.CLIENTS)}create(e){return this.collection.doc(e.id).set(e),Pt(e)}delete(e){return(0,$n.D)(this.collection.doc(e).delete())}fetch(e){return Pt()}fetchAll(){return this.collection.valueChanges()}update(e,r){return(0,$n.D)(this.collection.doc(e).update(r))}search(e,r){return Pt()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(el))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zg=(()=>{class n extends ag{constructor(e){super(),this.firestore=e,this.collection=e.collection(vh.PROJECTS)}create(e){return this.collection.doc(e.id).set(e),Pt(e)}delete(e){return(0,$n.D)(this.collection.doc(e).delete())}fetch(e){return this.collection.doc(e).valueChanges()}fetchAll(){return this.collection.valueChanges()}update(e,r){return(0,$n.D)(this.collection.doc(e).update(r))}search(e,r){return Pt()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(el))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sp=(()=>{class n extends a{constructor(e){super(),this.firestore=e,this.resourceCollection=e.collection(vh.RESOURCES)}create(e){return this.resourceCollection.doc(e.id).set(e),Pt(e)}delete(e){return(0,$n.D)(this.resourceCollection.doc(e).delete())}fetch(e){return Pt()}fetchByProject(e){return this.firestore.collection(vh.RESOURCES,r=>r.where("project","==",e)).valueChanges()}update(e,r){return(0,$n.D)(this.resourceCollection.doc(e).update(r))}search(e,r){return Pt()}fetchAll(){return this.firestore.collection(vh.RESOURCES,e=>e.where("delete","==",!1)).valueChanges()}countByProject(e){return Pt(0)}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(el))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lx=(()=>{class n extends L3{constructor(e){super(),this.firestore=e,this.collection=e.collection(vh.WORKING_DAYS)}create(e){return Pt()}delete(e){return Pt()}fetch(e){return Pt()}fetchAll(){return this.collection.valueChanges()}update(e,r){return(0,$n.D)(this.collection.doc(e).update(r))}search(e,r){return Pt()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(el))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),By=(()=>{class n extends R1{constructor(e){super(),this.firestore=e,this.collection=e.collection(vh.CURRENCY_EXCHANGE)}create(e){return this.collection.doc(e.id).set(e),Pt(e)}delete(e){return(0,$n.D)(this.collection.doc(e).delete())}fetch(e){return Pt()}fetchAll(){return this.collection.valueChanges()}update(e,r){return(0,$n.D)(this.collection.doc(e).update(r))}search(e,r){return Pt()}static#e=this.\u0275fac=function(r){return new(r||n)(s.LFG(el))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const BQ=[{provide:K_,useClass:F3},{deps:[el],provide:Ep,useFactory:n=>new Ep(n)},{deps:[Ep],provide:k3,useFactory:n=>new k3(n)},{deps:[Ep],provide:O3,useFactory:n=>new O3(n)},{deps:[Ep],provide:P3,useFactory:n=>new P3(n)},{deps:[Ep],provide:N3,useFactory:n=>new N3(n)},{deps:[Ep],provide:R3,useFactory:n=>new R3(n)},{deps:[Ep],provide:M3,useFactory:n=>new M3(n)}],jQ=[{provide:O,useClass:w5},{deps:[el],provide:Ly,useFactory:n=>new Ly(n)},{deps:[Ly],provide:V3,useFactory:n=>new V3(n)},{deps:[Ly],provide:z3,useFactory:n=>new z3(n)},{deps:[Ly],provide:H3,useFactory:n=>new H3(n)},{deps:[Ly],provide:$3,useFactory:n=>new $3(n)}],UQ=[{provide:zE,useClass:x},{deps:[el],provide:Zg,useFactory:n=>new Zg(n)},{deps:[Zg],provide:GE,useFactory:n=>new GE(n)},{deps:[Zg],provide:WE,useFactory:n=>new WE(n)},{deps:[Zg],provide:C1,useFactory:n=>new C1(n)},{deps:[Zg],provide:qE,useFactory:n=>new qE(n)},{deps:[Zg],provide:ZE,useFactory:n=>new ZE(n)}],VQ=[{provide:j,useClass:De},{deps:[el],provide:Sp,useFactory:n=>new Sp(n)},{deps:[Sp],provide:X,useFactory:n=>new X(n)},{deps:[Sp],provide:ve,useFactory:n=>new ve(n)},{deps:[Sp],provide:l,useFactory:n=>new l(n)},{deps:[Sp],provide:h,useFactory:n=>new h(n)},{deps:[Sp],provide:pe,useFactory:n=>new pe(n)},{deps:[Sp],provide:le,useFactory:n=>new le(n)}],HQ=[{provide:b5,useClass:U3},{deps:[el],provide:Lx,useFactory:n=>new Lx(n)},{deps:[Lx],provide:B3,useFactory:n=>new B3(n)},{deps:[Lx],provide:j3,useFactory:n=>new j3(n)}],$Q=[{provide:y5,useClass:A3},{deps:[el],provide:By,useFactory:n=>new By(n)},{deps:[By],provide:I3,useFactory:n=>new I3(n)},{deps:[By],provide:S3,useFactory:n=>new S3(n)},{deps:[By],provide:D3,useFactory:n=>new D3(n)},{deps:[By],provide:x3,useFactory:n=>new x3(n)}],zQ_firebase={apiKey:"AIzaSyAg_FtlI1_5LgKh0cgXEMxQ_XFp2uAskkU",authDomain:"estimate-674a4.firebaseapp.com",projectId:"estimate-674a4",storageBucket:"estimate-674a4.appspot.com",messagingSenderId:"484728303804",appId:"1:484728303804:web:ce5e31020ba5e783d160b9",measurementId:"G-W9WFLFDK8R"},NL="firebasestorage.googleapis.com",ML="storageBucket";class Ji extends Oe.ZR{constructor(t,e){super(mO(t),`Firebase Storage: ${e} (${mO(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ji.prototype)}_codeEquals(t){return mO(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function mO(n){return"storage/"+n}function gO(){return new Ji("unknown","An unknown error occurred, please check the error payload for server response.")}function RL(){return new Ji("canceled","User canceled the upload/download.")}function OL(){return new Ji("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function jy(n){return new Ji("invalid-argument",n)}function PL(){return new Ji("app-deleted","The Firebase app was deleted.")}function FL(n){return new Ji("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $w(n,t){return new Ji("invalid-format","String does not match format '"+n+"': "+t)}function zw(n){throw new Ji("internal-error","Internal error: "+n)}class mo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=mo.makeFromUrl(t,e)}catch{return new mo(t,"")}if(""===r.path)return r;throw function tX(n){return new Ji("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const i="([A-Za-z0-9.\\-_]+)",w=new RegExp("^gs://"+i+"(/(.*))?$","i");function H(vt){vt.path_=decodeURIComponent(vt.path)}const de=e.replace(/[.]/g,"\\."),At=[{regex:w,indices:{bucket:1,path:3},postModify:function o(vt){"/"===vt.path.charAt(vt.path.length-1)&&(vt.path_=vt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${de}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:H},{regex:new RegExp(`^https?://${e===NL?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:H}];for(let vt=0;vt<At.length;vt++){const Ft=At[vt],Ht=Ft.regex.exec(t);if(Ht){let zn=Ht[Ft.indices.path];zn||(zn=""),r=new mo(Ht[Ft.indices.bucket],zn),Ft.postModify(r);break}}if(null==r)throw function eX(n){return new Ji("invalid-url","Invalid URL '"+n+"'.")}(t);return r}}class sX{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Bx(n){return"string"==typeof n||n instanceof String}function LL(n){return _O()&&n instanceof Blob}function _O(){return typeof Blob<"u"}function yO(n,t,e,r){if(r<t)throw jy(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw jy(`Invalid value for '${n}'. Expected ${e} or less.`)}function kh(n,t,e){let r=t;return null==e&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function BL(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}var xp=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(xp||(xp={})),xp))();class dX{constructor(t,e,r,i,o,c,w,M,H,te,de){this.url_=t,this.method_=e,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=w,this.errorCallback_=M,this.timeout_=H,this.progressCallback_=te,this.connectionFactory_=de,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ye,Ce)=>{this.resolve_=ye,this.reject_=Ce,this.start_()})}start_(){const e=(r,i)=>{const o=this.resolve_,c=this.reject_,w=i.connection;if(i.wasSuccessCode)try{const M=this.callback_(w,w.getResponse());!function lX(n){return void 0!==n}(M)?o():o(M)}catch(M){c(M)}else if(null!==w){const M=gO();M.serverResponse=w.getErrorText(),c(this.errorCallback_?this.errorCallback_(w,M):M)}else c(i.canceled?this.appDelete_?PL():RL():function XQ(){return new Ji("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new jx(!1,null,!0)):this.backoffId_=function oX(n,t,e){let r=1,i=null,o=null,c=!1,w=0;function M(){return 2===w}let H=!1;function te(...Ke){H||(H=!0,t.apply(null,Ke))}function de(Ke){i=setTimeout(()=>{i=null,n(Ce,M())},Ke)}function ye(){o&&clearTimeout(o)}function Ce(Ke,...ut){if(H)return void ye();if(Ke)return ye(),void te.call(null,Ke,...ut);if(M()||c)return ye(),void te.call(null,Ke,...ut);let At;r<64&&(r*=2),1===w?(w=2,At=0):At=1e3*(r+Math.random()),de(At)}let Ie=!1;function He(Ke){Ie||(Ie=!0,ye(),!H&&(null!==i?(Ke||(w=2),clearTimeout(i),de(0)):Ke||(w=1)))}return de(0),o=setTimeout(()=>{c=!0,He(!0)},e),He}((r,i)=>{if(i)return void r(!1,new jx(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=w=>{null!==this.progressCallback_&&this.progressCallback_(w.loaded,w.lengthComputable?w.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const w=o.getErrorCode()===xp.NO_ERROR,M=o.getStatus();if(!w||this.isRetryStatusCode_(M)){const te=o.getErrorCode()===xp.ABORT;return void r(!1,new jx(!1,null,te))}const H=-1!==this.successCodes_.indexOf(M);r(!0,new jx(H,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function aX(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||i||o}}class jx{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function yX(...n){const t=function _X(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}if(_O())return new Blob(n);throw new Ji("unsupported-environment","This browser doesn't seem to support creating Blobs")}const tl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bO{constructor(t,e){this.data=t,this.contentType=e||null}}function vO(n,t){switch(n){case tl.RAW:return new bO(jL(t));case tl.BASE64:case tl.BASE64URL:return new bO(UL(n,t));case tl.DATA_URL:return new bO(function CX(n){const t=new VL(n);return t.base64?UL(tl.BASE64,t.rest):function wX(n){let t;try{t=decodeURIComponent(n)}catch{throw $w(tl.DATA_URL,"Malformed data URL.")}return jL(t)}(t.rest)}(t),function TX(n){return new VL(n).contentType}(t))}throw gO()}function jL(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++e),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function UL(n,t){switch(n){case tl.BASE64:{const i=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(i||o)throw $w(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case tl.BASE64URL:{const i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw $w(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function vX(n){return atob(n)}(t)}catch{throw $w(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}class VL{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw $w(tl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function EX(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}class id{constructor(t,e){let r=0,i="";LL(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,e){if(LL(this.data_)){const i=function bX(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===i?null:new id(i)}{const r=new Uint8Array(this.data_.buffer,t,e-t);return new id(r,!0)}}static getBlob(...t){if(_O()){const e=t.map(r=>r instanceof id?r.data_:r);return new id(yX.apply(null,e))}{const e=t.map(c=>Bx(c)?vO(tl.RAW,c).data:c.data_);let r=0;e.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let o=0;return e.forEach(c=>{for(let w=0;w<c.length;w++)i[o++]=c[w]}),new id(i,!0)}}uploadData(){return this.data_}}function wO(n){let t;try{t=JSON.parse(n)}catch{return null}return function uX(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function HL(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function DX(n,t){return t}class Ho{constructor(t,e,r,i){this.server=t,this.local=e||t,this.writable=!!r,this.xform=i||DX}}let Ux=null;function Gw(){if(Ux)return Ux;const n=[];n.push(new Ho("bucket")),n.push(new Ho("generation")),n.push(new Ho("metageneration")),n.push(new Ho("name","fullPath",!0));const e=new Ho("name");e.xform=function t(o,c){return function IX(n){return!Bx(n)||n.length<2?n:HL(n)}(c)},n.push(e);const i=new Ho("size");return i.xform=function r(o,c){return void 0!==c?Number(c):c},n.push(i),n.push(new Ho("timeCreated")),n.push(new Ho("updated")),n.push(new Ho("md5Hash",null,!0)),n.push(new Ho("cacheControl",null,!0)),n.push(new Ho("contentDisposition",null,!0)),n.push(new Ho("contentEncoding",null,!0)),n.push(new Ho("contentLanguage",null,!0)),n.push(new Ho("contentType",null,!0)),n.push(new Ho("metadata","customMetadata",!0)),Ux=n,Ux}function $L(n,t,e){const r=wO(t);return null===r?null:function kX(n,t,e){const r={type:"file"},i=e.length;for(let o=0;o<i;o++){const c=e[o];r[c.local]=c.xform(r,t[c.server])}return function AX(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new mo(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(r,n),r}(n,r,e)}function CO(n,t){const e={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const zL="prefixes",GL="items";class sd{constructor(t,e,r,i){this.url=t,this.method=e,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function od(n){if(!n)throw gO()}function Vx(n,t){return function e(r,i){const o=$L(n,i,t);return od(null!==o),o}}function Uy(n){return function t(e,r){let i;return i=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function JQ(){return new Ji("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function YQ(){return new Ji("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function KQ(n){return new Ji("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function QQ(n){return new Ji("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function qw(n){const t=Uy(n);return function e(r,i){let o=t(r,i);return 404===r.getStatus()&&(o=function WQ(n){return new Ji("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}function qL(n,t,e){const i=kh(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,w=new sd(i,"GET",Vx(n,e),c);return w.errorHandler=qw(t),w}function FX(n,t,e,r,i){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),r&&(o.pageToken=r),i&&(o.maxResults=i);const w=kh(t.bucketOnlyServerUrl(),n.host,n._protocol),H=n.maxOperationRetryTime,te=new sd(w,"GET",function OX(n,t){return function e(r,i){const o=function RX(n,t,e){const r=wO(e);return null===r?null:function MX(n,t,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[zL])for(const i of e[zL]){const o=i.replace(/\/$/,""),c=n._makeStorageReference(new mo(t,o));r.prefixes.push(c)}if(e[GL])for(const i of e[GL]){const o=n._makeStorageReference(new mo(t,i.name));r.items.push(o)}return r}(n,t,r)}(n,t,i);return od(null!==o),o}}(n,t.bucket),H);return te.urlParams=o,te.errorHandler=Uy(t),te}function WL(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=function UX(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}class Hx{constructor(t,e,r,i){this.current=t,this.total=e,this.finalized=!!r,this.metadata=i||null}}function TO(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{od(!1)}return od(!!e&&-1!==(t||["active"]).indexOf(e)),e}const zX={STATE_CHANGED:"state_changed"},$o={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function EO(n){switch(n){case"running":case"pausing":case"canceling":return $o.RUNNING;case"paused":return $o.PAUSED;case"success":return $o.SUCCESS;case"canceled":return $o.CANCELED;default:return $o.ERROR}}class GX{constructor(t,e,r){if(function cX(n){return"function"==typeof n}(t)||null!=e||null!=r)this.next=t,this.error=e??void 0,this.complete=r??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Vy(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let JL=null;class qX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,i){if(this.sent_)throw zw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class ZX extends qX{initXhr(){this.xhr_.responseType="text"}}function $c(){return JL?JL():new ZX}class QL{constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=Gw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const r=function VX(n,t,e,r,i){const o=t.bucketOnlyServerUrl(),c=WL(t,r,i),w={name:c.fullPath},M=kh(o,n.host,n._protocol),te={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},de=CO(c,e),Ie=new sd(M,"POST",function Ce(He){let Ke;TO(He);try{Ke=He.getResponseHeader("X-Goog-Upload-URL")}catch{od(!1)}return od(Bx(Ke)),Ke},n.maxUploadRetryTime);return Ie.urlParams=w,Ie.headers=te,Ie.body=de,Ie.errorHandler=Uy(t),Ie}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$c,t,e);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const i=function HX(n,t,e,r){const M=new sd(e,"POST",function o(H){const te=TO(H,["active","final"]);let de=null;try{de=H.getResponseHeader("X-Goog-Upload-Size-Received")}catch{od(!1)}de||od(!1);const ye=Number(de);return od(!isNaN(ye)),new Hx(ye,r.size(),"final"===te)},n.maxUploadRetryTime);return M.headers={"X-Goog-Upload-Command":"query"},M.errorHandler=Uy(t),M}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(i,$c,e,r);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new Hx(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let c;try{c=function $X(n,t,e,r,i,o,c,w){const M=new Hx(0,0);if(c?(M.current=c.current,M.total=c.total):(M.current=0,M.total=r.size()),r.size()!==M.total)throw function rX(){return new Ji("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const H=M.total-M.current;let te=H;i>0&&(te=Math.min(te,i));const de=M.current,Ie={"X-Goog-Upload-Command":te===H?"upload, finalize":"upload","X-Goog-Upload-Offset":`${M.current}`},He=r.slice(de,de+te);if(null===He)throw OL();const At=new sd(e,"POST",function Ke(vt,Ft){const Ht=TO(vt,["active","final"]),_n=M.current+te,zn=r.size();let kr;return kr="final"===Ht?Vx(t,o)(vt,Ft):null,new Hx(_n,zn,"final"===Ht,kr)},t.maxUploadRetryTime);return At.headers=Ie,At.body=He.uploadData(),At.progressCallback=w||null,At.errorHandler=Uy(n),At}(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(M){return this._error=M,void this._transition("error")}const w=this._ref.storage._makeRequest(c,$c,i,o);this._request=w,w.getPromise().then(M=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(M.current),M.finalized?(this._metadata=M.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=qL(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,$c,t,e);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=function KL(n,t,e,r,i){const o=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},M=function w(){let At="";for(let vt=0;vt<2;vt++)At+=Math.random().toString().slice(2);return At}();c["Content-Type"]="multipart/related; boundary="+M;const H=WL(t,r,i),te=CO(H,e),Ce=id.getBlob("--"+M+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+te+"\r\n--"+M+"\r\nContent-Type: "+H.contentType+"\r\n\r\n",r,"\r\n--"+M+"--");if(null===Ce)throw OL();const Ie={name:H.fullPath},He=kh(o,n.host,n._protocol),ut=n.maxUploadRetryTime,_t=new sd(He,"POST",Vx(n,e),ut);return _t.urlParams=Ie,_t.headers=c,_t.body=Ce.uploadData(),_t.errorHandler=Uy(t),_t}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$c,t,e);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=RL(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=EO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,i){const o=new GX(e||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(EO(this._state)){case $o.SUCCESS:Vy(this._resolve.bind(null,this.snapshot))();break;case $o.CANCELED:case $o.ERROR:Vy(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(EO(this._state)){case $o.RUNNING:case $o.PAUSED:t.next&&Vy(t.next.bind(t,this.snapshot))();break;case $o.SUCCESS:t.complete&&Vy(t.complete.bind(t))();break;default:t.error&&Vy(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Wg{constructor(t,e){this._service=t,this._location=e instanceof mo?e:mo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Wg(t,e)}get root(){const t=new mo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HL(this._location.path)}get storage(){return this._service}get parent(){const t=function SX(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new mo(this._location.bucket,t);return new Wg(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw FL(t)}}function eB(n,t,e){return SO.apply(this,arguments)}function SO(){return SO=(0,xt.Z)(function*(n,t,e){const i=yield tB(n,{pageToken:e});t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&(yield eB(n,t,i.nextPageToken))}),SO.apply(this,arguments)}function tB(n,t){null!=t&&"number"==typeof t.maxResults&&yO("options.maxResults",1,1e3,t.maxResults);const e=t||{},r=FX(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(r,$c)}function see(n){n._throwIfRoot("getDownloadURL");const t=function LX(n,t,e){const i=kh(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,w=new sd(i,"GET",function PX(n,t){return function e(r,i){const o=$L(n,i,t);return od(null!==o),function NX(n,t,e,r){const i=wO(t);if(null===i||!Bx(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(H=>{const de=n.fullPath;return kh("/b/"+c(n.bucket)+"/o/"+c(de),e,r)+BL({alt:"media",token:H})})[0]}(o,i,n.host,n._protocol)}}(n,e),c);return w.errorHandler=qw(t),w}(n.storage,n._location,Gw());return n.storage.makeRequestWithTokens(t,$c).then(e=>{if(null===e)throw function iX(){return new Ji("no-download-url","The given file does not have any download URLs.")}();return e})}function nB(n,t){const e=function xX(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),r=new mo(n._location.bucket,e);return new Wg(n.storage,r)}function rB(n,t){if(n instanceof xO){const e=n;if(null==e._bucket)throw function nX(){return new Ji("no-default-bucket","No default bucket found. Did you set the '"+ML+"' property when initializing the app?")}();const r=new Wg(e,e._bucket);return null!=t?rB(r,t):r}return void 0!==t?nB(n,t):n}function cee(n,t){if(t&&function aee(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof xO)return function lee(n,t){return new Wg(n,t)}(n,t);throw jy("To use ref(service, url), the first argument must be a Storage instance.")}return rB(n,t)}function iB(n,t){const e=t?.[ML];return null==e?null:mo.makeFromBucketSpec(e,n)}class xO{constructor(t,e,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=NL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?mo.makeFromBucketSpec(i,this._host):iB(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?mo.makeFromBucketSpec(this._url,t):iB(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){yO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){yO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,xt.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,xt.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Wg(this,t)}_makeRequest(t,e,r,i){if(this._deleted)return new sX(PL());{const o=function gX(n,t,e,r,i,o){const c=BL(n.urlParams),w=n.url+c,M=Object.assign({},n.headers);return function pX(n,t){t&&(n["X-Firebase-GMPID"]=t)}(M,t),function hX(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(M,e),function fX(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(M,o),function mX(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(M,r),new dX(w,n.method,M,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(t,this._appId,r,i,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var r=this;return(0,xt.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,i,o).getPromise()})()}}const sB="@firebase/storage";function lB(n,t){return cee(n=(0,Oe.m9)(n),t)}function vee(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new xO(e,r,i,t,Oo.SDK_VERSION)}!function wee(){(0,Oo._registerComponent)(new jc.wA("storage",vee,"PUBLIC").setMultipleInstances(!0)),(0,Oo.registerVersion)(sB,"0.9.9",""),(0,Oo.registerVersion)(sB,"0.9.9","esm2017")}();class $x{constructor(t,e,r){this._delegate=t,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class cB{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new $x(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(r=>{if(t)return t(new $x(r,this,this._ref))},e)}on(t,e,r,i){let o;return e&&(o="function"==typeof e?c=>e(new $x(c,this,this._ref)):{next:e.next?c=>e.next(new $x(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,r||void 0,i||void 0)}}class uB{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Nh(t,this._service))}get items(){return this._delegate.items.map(t=>new Nh(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Nh{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function yee(n,t){return nB(n,t)}(this._delegate,t);return new Nh(e,this.storage)}get root(){return new Nh(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Nh(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new cB(function dee(n,t,e){return function eee(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new QL(n,new id(t),e)}(n=(0,Oe.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=tl.RAW,r){this._throwIfRoot("putString");const i=vO(e,t),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new cB(new QL(this._delegate,new id(i.data,!0),o),this)}listAll(){return function mee(n){return function nee(n){const t={prefixes:[],items:[]};return eB(n,t).then(()=>t)}(n=(0,Oe.m9)(n))}(this._delegate).then(t=>new uB(t,this.storage))}list(t){return function pee(n,t){return tB(n=(0,Oe.m9)(n),t)}(this._delegate,t||void 0).then(e=>new uB(e,this.storage))}getMetadata(){return function hee(n){return function ree(n){n._throwIfRoot("getMetadata");const t=qL(n.storage,n._location,Gw());return n.storage.makeRequestWithTokens(t,$c)}(n=(0,Oe.m9)(n))}(this._delegate)}updateMetadata(t){return function fee(n,t){return function iee(n,t){n._throwIfRoot("updateMetadata");const e=function BX(n,t,e,r){const o=kh(t.fullServerUrl(),n.host,n._protocol),w=CO(e,r),H=n.maxOperationRetryTime,te=new sd(o,"PATCH",Vx(n,r),H);return te.headers={"Content-Type":"application/json; charset=utf-8"},te.body=w,te.errorHandler=qw(t),te}(n.storage,n._location,t,Gw());return n.storage.makeRequestWithTokens(e,$c)}(n=(0,Oe.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function gee(n){return see(n=(0,Oe.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function _ee(n){return function oee(n){n._throwIfRoot("deleteObject");const t=function jX(n,t){const r=kh(t.fullServerUrl(),n.host,n._protocol),w=new sd(r,"DELETE",function c(M,H){},n.maxOperationRetryTime);return w.successCodes=[200,204],w.errorHandler=qw(t),w}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,$c)}(n=(0,Oe.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw FL(t)}}class dB{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(hB(t))throw jy("ref() expected a child path but got a URL, use refFromURL instead.");return new Nh(lB(this._delegate,t),this)}refFromURL(t){if(!hB(t))throw jy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{mo.makeFromUrl(t,this._delegate.host)}catch{throw jy("refFromUrl() expected a valid full URL but got an invalid one.")}return new Nh(lB(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,r={}){!function bee(n,t,e,r={}){!function uee(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Oe.Sg)(i,n.app.options.projectId))}(n,t,e,r)}(this._delegate,t,e,r)}}function hB(n){return/^[A-Za-z]+:\/\//.test(n)}function See(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:t});return new dB(e,r)}function fB(n){const t=function Dee(n){return new Ir.y(t=>{const e=c=>t.next(c);e(n.snapshot);const o=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){o()}}).pipe(function GQ(n,t=tg.z){return(0,Rr.e)((e,r)=>{let i=null,o=null,c=null;const w=()=>{if(i){i.unsubscribe(),i=null;const H=o;o=null,r.next(H)}};function M(){const H=c+n,te=t.now();if(te<H)return i=this.schedule(void 0,H-te),void r.add(i);w()}e.subscribe((0,Ct.x)(r,H=>{o=H,c=t.now(),i||(i=t.schedule(M,n),r.add(i))},()=>{w(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,me.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function zx(n){return{getDownloadURL:()=>Pt(void 0).pipe(Or.fc,Vr(()=>n.getDownloadURL()),Or.iC),getMetadata:()=>Pt(void 0).pipe(Or.fc,Vr(()=>n.getMetadata()),Or.iC),delete:()=>(0,$n.D)(n.delete()),child:t=>zx(n.child(t)),updateMetadata:t=>(0,$n.D)(n.updateMetadata(t)),put:(t,e)=>fB(n.put(t,e)),putString:(t,e,r)=>fB(n.putString(t,e,r)),list:t=>(0,$n.D)(n.list(t)),listAll:()=>(0,$n.D)(n.listAll())}}!function xee(n){const t={TaskState:$o,TaskEvent:zX,StringFormat:tl,Storage:dB,Reference:Nh};n.INTERNAL.registerComponent(new jc.wA("storage-compat",See,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(Z3.Z);const Iee=new s.OlP("angularfire2.storageBucket"),Aee=new s.OlP("angularfire2.storage.maxUploadRetryTime"),kee=new s.OlP("angularfire2.storage.maxOperationRetryTime"),Nee=new s.OlP("angularfire2.storage.use-emulator");let Mee=(()=>{class n{constructor(e,r,i,o,c,w,M,H,te,de){const ye=(0,As.on)(e,c,r);this.storage=(0,As.cc)(`${ye.name}.storage.${i}`,"AngularFireStorage",ye.name,()=>{const Ce=c.runOutsideAngular(()=>ye.storage(i||void 0)),Ie=te;return Ie&&Ce.useEmulator(...Ie),M&&Ce.setMaxUploadRetryTime(M),H&&Ce.setMaxOperationRetryTime(H),Ce},[M,H])}ref(e){return zx(this.storage.ref(e))}refFromURL(e){return zx(this.storage.refFromURL(e))}upload(e,r,i){return zx(this.storage.ref(e)).put(r,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(As.Dh),s.LFG(As.xv,8),s.LFG(Iee,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Or.HU),s.LFG(Aee,8),s.LFG(kee,8),s.LFG(Nee,8),s.LFG(Hw,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ree=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Oee=(()=>{class n{constructor(){iO.Z.registerVersion("angularfire",Or.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Mee],imports:[Ree]}),n})();const pB="@firebase/database";let DO="";function gB(n){DO=n}class Fee{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Oe.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Oe.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Lee{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Oe.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const _B=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Fee(t)}}catch{}return new Lee},Kg=_B("localStorage"),IO=_B("sessionStorage"),Hy=new Uc.Yd("@firebase/database"),yB=function(){let n=1;return function(){return n++}}(),bB=function(n){const t=(0,Oe.dS)(n),e=new Oe.gQ;e.update(t);const r=e.digest();return Oe.US.encodeByteArray(r)},Zw=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Zw.apply(null,r):t+="object"==typeof r?(0,Oe.Pz)(r):r,t+=" "}return t};let Yg=null,vB=!0;const wB=function(n,t){(0,Oe.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Hy.logLevel=Uc.in.VERBOSE,Yg=Hy.log.bind(Hy),t&&IO.set("logging_enabled",!0)):"function"==typeof n?Yg=n:(Yg=null,IO.remove("logging_enabled"))},zs=function(...n){if(!0===vB&&(vB=!1,null===Yg&&!0===IO.get("logging_enabled")&&wB(!0)),Yg){const t=Zw.apply(null,n);Yg(t)}},Ww=function(n){return function(...t){zs(n,...t)}},AO=function(...n){const t="FIREBASE INTERNAL ERROR: "+Zw(...n);Hy.error(t)},ad=function(...n){const t=`FIREBASE FATAL ERROR: ${Zw(...n)}`;throw Hy.error(t),new Error(t)},go=function(...n){const t="FIREBASE WARNING: "+Zw(...n);Hy.warn(t)},Gx=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Mh="[MIN_NAME]",ld="[MAX_NAME]",Jg=function(n,t){if(n===t)return 0;if(n===Mh||t===ld)return-1;if(t===Mh||n===ld)return 1;{const e=qx(n),r=qx(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},Uee=function(n,t){return n===t?0:n<t?-1:1},Kw=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,Oe.Pz)(t))},kO=function(n){if("object"!=typeof n||null===n)return(0,Oe.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,Oe.Pz)(t[r]),e+=":",e+=kO(n[t[r]]);return e+="}",e},CB=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let i=0;i<e;i+=t)r.push(n.substring(i,i+t>e?e:i+t));return r};function Gs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const TB=function(n){(0,Oe.hu)(!Gx(n),"Invalid JSON number");const r=1023;let i,o,c,w,M;0===n?(o=0,c=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(w=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=w+r,c=Math.round(n*Math.pow(2,52-w)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const H=[];for(M=52;M;M-=1)H.push(c%2?1:0),c=Math.floor(c/2);for(M=11;M;M-=1)H.push(o%2?1:0),o=Math.floor(o/2);H.push(i?1:0),H.reverse();const te=H.join("");let de="";for(M=0;M<64;M+=8){let ye=parseInt(te.substr(M,8),2).toString(16);1===ye.length&&(ye="0"+ye),de+=ye}return de.toLowerCase()},zee=new RegExp("^-?(0*)\\d{1,10}$"),EB=-2147483648,NO=2147483647,qx=function(n){if(zee.test(n)){const t=Number(n);if(t>=EB&&t<=NO)return t}return null},$y=function(n){try{n()}catch(t){setTimeout(()=>{throw go("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Gee=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yw=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class qee{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){go(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Zee{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(zs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',go(t)}}let Jw=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const AB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MB="websocket",RB="long_polling";class RO{constructor(t,e,r,i,o=!1,c="",w=!1){this.secure=e,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=w,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kg.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Kg.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function OB(n,t,e){let r;if((0,Oe.hu)("string"==typeof t,"typeof type must == string"),(0,Oe.hu)("object"==typeof e,"typeof params must == object"),t===MB)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==RB)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Wee(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const i=[];return Gs(e,(o,c)=>{i.push(o+"="+c)}),r+i.join("&")}class Kee{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Oe.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Oe.p$)(this.counters_)}}const OO={},PO={};function FO(n){const t=n.toString();return OO[t]||(OO[t]=new Kee),OO[t]}class Jee{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$y(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Dp{constructor(t,e,r,i,o,c,w){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=c,this.lastSessionId=w,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ww(t),this.stats_=FO(e),this.urlFn=M=>(this.appCheckToken&&(M.ac=this.appCheckToken),OB(e,RB,M))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Jee(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,Oe.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new LO((...o)=>{const[c,w,M,H,te]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=w,this.password=M;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);w?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(w,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,w]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,w)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&AB.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Dp.forceAllow_=!0}static forceDisallow(){Dp.forceDisallow_=!0}static isAvailable(){return!((0,Oe.Yr)()||!Dp.forceAllow_&&(Dp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Oe.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,Oe.h$)(e),i=CB(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Oe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Oe.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class LO{constructor(t,e,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Oe.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=yB(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=LO.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(w){zs("frame writing exception"),w.stack&&zs(w.stack),zs(w)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||zs("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const c=this.pendingSegs.shift();r=r+"&seg"+i+"="+c.seg+"&ts"+i+"="+c.ts+"&d"+i+"="+c.d,i++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,e){(0,Oe.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{zs("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Wx=null;typeof MozWebSocket<"u"?Wx=MozWebSocket:typeof WebSocket<"u"&&(Wx=WebSocket);let zy=(()=>{class n{constructor(e,r,i,o,c,w,M){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ww(this.connId),this.stats_=FO(r),this.connURL=n.connectionURL_(r,w,M,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,i,o,c){const w={v:"5"};return!(0,Oe.Yr)()&&typeof location<"u"&&location.hostname&&AB.test(location.hostname)&&(w.r="f"),r&&(w.s=r),i&&(w.ls=i),o&&(w.ac=o),c&&(w.p=c),OB(e,MB,w)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kg.set("previous_websocket_failure",!0);try{let i;if((0,Oe.Yr)()){i={headers:{"User-Agent":`Firebase/5/${DO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,w=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;w&&(i.proxy={origin:w})}this.mySock=new Wx(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&null!==Wx&&!n.forceDisallow_}static previouslyFailed(){return Kg.isInMemoryStorage||!0===Kg.get("previous_websocket_failure")}markConnectionHealthy(){Kg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,Oe.cI)(r);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Oe.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const r=(0,Oe.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=CB(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),VB=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Dp,zy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=zy&&zy.isAvailable();let i=r&&!zy.previouslyFailed();if(e.webSocketOnly&&(r||go("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zy];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class WB{constructor(t,e,r,i,o,c,w,M,H,te){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=c,this.onReady_=w,this.onDisconnect_=M,this.onKill_=H,this.lastSessionId=te,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ww("c:"+this.id+":"),this.transportManager_=new VB(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Kw("t",t),r=Kw("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Kw("t",t),r=Kw("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Kw("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?AO("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AO("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&go("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Yw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class KB{put(t,e,r,i){}merge(t,e,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class YB{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Oe.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const i=this.getInitialEvent(t);i&&e.apply(r,i)}off(t,e,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===e&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){(0,Oe.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Kx extends YB{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Oe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Kx}getInitialEvent(t){return(0,Oe.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const JB=32,QB=768;class Br{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ar(){return new Br("")}function gr(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ip(n){return n.pieces_.length-n.pieceNum_}function Kr(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Br(n.pieces_,t)}function jO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Qw(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function XB(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Br(t,0)}function xi(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Br)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&e.push(r[i])}return new Br(e,0)}function _r(n){return n.pieceNum_>=n.pieces_.length}function zo(n,t){const e=gr(n),r=gr(t);if(null===e)return t;if(e===r)return zo(Kr(n),Kr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function bte(n,t){const e=Qw(n,0),r=Qw(t,0);for(let i=0;i<e.length&&i<r.length;i++){const o=Jg(e[i],r[i]);if(0!==o)return o}return e.length===r.length?0:e.length<r.length?-1:1}function UO(n,t){if(Ip(n)!==Ip(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function jl(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Ip(n)>Ip(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class vte{constructor(t,e){this.errorPrefix_=e,this.parts_=Qw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,Oe.ug)(this.parts_[r]);ej(this)}}function ej(n){if(n.byteLength_>QB)throw new Error(n.errorPrefix_+"has a key path longer than "+QB+" bytes ("+n.byteLength_+").");if(n.parts_.length>JB)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+JB+") or object contains a cycle "+Qg(n))}function Qg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class VO extends YB{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new VO}getInitialEvent(t){return(0,Oe.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Xw=1e3;let Jx,Xg=(()=>{class n extends KB{constructor(e,r,i,o,c,w,M,H){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=w,this.appCheckTokenProvider_=M,this.authOverride_=H,this.id=n.nextPersistentConnectionId_++,this.log_=Ww("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,H&&!(0,Oe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VO.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Kx.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,i){const o=++this.requestNumber_,c={r:o,a:e,b:r};this.log_((0,Oe.Pz)(c)),(0,Oe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const r=new Oe.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:w=>{const M=w.d;"ok"===w.s?r.resolve(M):r.reject(M)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,i,o){this.initConnection_();const c=e._queryIdentifier,w=e._path.toString();this.log_("Listen called for "+w+" "+c),this.listens.has(w)||this.listens.set(w,new Map),(0,Oe.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Oe.hu)(!this.listens.get(w).has(c),"listen() called twice for same path/queryId.");const M={onComplete:o,hashFn:r,query:e,tag:i};this.listens.get(w).set(c,M),this.connected_&&this.sendListen_(M)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(e){const r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const c={p:i};e.tag&&(c.q=r._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,M=>{const H=M.d,te=M.s;n.warnOnListenWarnings_(H,r),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",M),"ok"!==te&&this.removeListen_(i,o),e.onComplete&&e.onComplete(te,H))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,Oe.r3)(e,"w")){const i=(0,Oe.DV)(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();go(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Oe.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,Oe.w9)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const c=o.s,w=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,w))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,i=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(e,r){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,Oe.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,r)}sendUnlisten_(e,r,i,o){this.log_("Unlisten on "+e+" for "+r);const c={p:e};o&&(c.q=i,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:i})}onDisconnectMerge(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:i})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,i,o){const c={p:r,d:i};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,w=>{o&&setTimeout(()=>{o(w.s,w.d)},Math.floor(0))})}put(e,r,i,o){this.putInternal("p",e,r,i,o)}merge(e,r,i,o){this.putInternal("m",e,r,i,o)}putInternal(e,r,i,o,c){this.initConnection_();const w={p:r,d:i};void 0!==c&&(w.h=c),this.outstandingPuts_.push({action:e,request:w,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,i,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Oe.Pz)(e));const r=e.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):AO("Unrecognized action received from server: "+(0,Oe.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Oe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,xt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),i=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,w=e.lastSessionId;let M=!1,H=null;const te=function(){H?H.close():(M=!0,o())};e.realtime_={close:te,sendRequest:function(Ce){(0,Oe.hu)(H,"sendRequest call when we're not connected not allowed."),H.sendRequest(Ce)}};const ye=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Ce,Ie]=yield Promise.all([e.authTokenProvider_.getToken(ye),e.appCheckTokenProvider_.getToken(ye)]);M?zs("getToken() completed but was canceled"):(zs("getToken() completed. Creating connection."),e.authToken_=Ce&&Ce.accessToken,e.appCheckToken_=Ie&&Ie.token,H=new WB(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,i,o,He=>{go(He+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},w))}catch(Ce){e.log_("Failed to get token: "+Ce),M||(e.repoInfo_.nodeAdmin&&go(Ce),te())}}})()}interrupt(e){zs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Oe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Xw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let i;i=r?r.map(c=>kO(c)).join("$"):"default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,r){const i=new Br(e).toString();let o;if(this.listens.has(i)){const c=this.listens.get(i);o=c.get(r),c.delete(r),0===c.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,r){zs("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){zs("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,Oe.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+DO.replace(/\./g,"-")]=1,(0,Oe.uI)()?e["framework.cordova"]=1:(0,Oe.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Kx.getInstance().currentlyOnline();return(0,Oe.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class wr{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new wr(t,e)}}class Yx{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new wr(Mh,t),i=new wr(Mh,e);return 0!==this.compare(r,i)}minPost(){return wr.MIN}}class rj extends Yx{static get __EMPTY_NODE(){return Jx}static set __EMPTY_NODE(t){Jx=t}compare(t,e){return Jg(t.name,e.name)}isDefinedOn(t){throw(0,Oe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return wr.MIN}maxPost(){return new wr(ld,Jx)}makePost(t,e){return(0,Oe.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new wr(t,Jx)}toString(){return".key"}}const cd=new rj;class Qx{constructor(t,e,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?r(t.key,e):1,i&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let $O,zc=(()=>{class n{constructor(e,r,i,o,c){this.key=e,this.value=r,this.color=i??n.RED,this.left=o??ya.EMPTY_NODE,this.right=c??ya.EMPTY_NODE}copy(e,r,i,o,c){return new n(e??this.key,r??this.value,i??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,r,i),null):0===c?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ya.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let i,o;if(i=this,r(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(e,i.key)){if(i.right.isEmpty())return ya.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ya{constructor(t,e=ya.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ya(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,zc.BLACK,null,null))}remove(t){return new ya(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,zc.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,i=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Qx(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Qx(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Qx(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Qx(this.root_,null,this.comparator_,!0,t)}}function Ite(n,t){return Jg(n.name,t.name)}function HO(n,t){return Jg(n,t)}ya.EMPTY_NODE=new class Dte{copy(t,e,r,i,o){return this}insert(t,e,r){return new zc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ij=function(n){return"number"==typeof n?"number:"+TB(n):"string:"+n},sj=function(n){if(n.isLeafNode()){const t=n.val();(0,Oe.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Oe.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Oe.hu)(n===$O||n.isEmpty(),"priority of unexpected type.");(0,Oe.hu)(n===$O||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let oj,aj,lj,Gy=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,Oe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),sj(this.priorityNode_)}static set __childrenNodeConstructor(e){oj=e}static get __childrenNodeConstructor(){return oj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _r(e)?this:".priority"===gr(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const i=gr(e);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,Oe.hu)(".priority"!==i||1===Ip(e),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Kr(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ij(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?TB(this.value_):this.value_,this.lazyHash_=bB(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,Oe.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,i=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(r),c=n.VALUE_TYPE_ORDER.indexOf(i);return(0,Oe.hu)(o>=0,"Unknown leaf type: "+r),(0,Oe.hu)(c>=0,"Unknown leaf type: "+i),o===c?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ti=new class Mte extends Yx{compare(t,e){const r=t.node.getPriority(),i=e.node.getPriority(),o=r.compareTo(i);return 0===o?Jg(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return wr.MIN}maxPost(){return new wr(ld,new Gy("[PRIORITY-POST]",lj))}makePost(t,e){const r=aj(t);return new wr(e,new Gy("[PRIORITY-POST]",r))}toString(){return".priority"}},Rte=Math.log(2);class Ote{constructor(t){this.count=parseInt(Math.log(t+1)/Rte,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Xx=function(n,t,e,r){n.sort(t);const i=function(M,H){const te=H-M;let de,ye;if(0===te)return null;if(1===te)return de=n[M],ye=e?e(de):de,new zc(ye,de.node,zc.BLACK,null,null);{const Ce=parseInt(te/2,10)+M,Ie=i(M,Ce),He=i(Ce+1,H);return de=n[Ce],ye=e?e(de):de,new zc(ye,de.node,zc.BLACK,Ie,He)}},w=function(M){let H=null,te=null,de=n.length;const ye=function(Ie,He){const Ke=de-Ie,ut=de;de-=Ie;const _t=i(Ke+1,ut),At=n[Ke],vt=e?e(At):At;Ce(new zc(vt,At.node,He,null,_t))},Ce=function(Ie){H?(H.left=Ie,H=Ie):(te=Ie,H=Ie)};for(let Ie=0;Ie<M.count;++Ie){const He=M.nextBitIsOne(),Ke=Math.pow(2,M.count-(Ie+1));He?ye(Ke,zc.BLACK):(ye(Ke,zc.BLACK),ye(Ke,zc.RED))}return te}(new Ote(n.length));return new ya(r||t,w)};let zO;const qy={};class Rh{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Oe.hu)(qy&&ti,"ChildrenNode.ts has not been loaded"),zO=zO||new Rh({".priority":qy},{".priority":ti}),zO}get(t){const e=(0,Oe.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ya?e:null}hasIndex(t){return(0,Oe.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,Oe.hu)(t!==cd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=e.getIterator(wr.Wrap);let w,c=o.getNext();for(;c;)i=i||t.isDefinedOn(c.node),r.push(c),c=o.getNext();w=i?Xx(r,t.getCompare()):qy;const M=t.toString(),H=Object.assign({},this.indexSet_);H[M]=t;const te=Object.assign({},this.indexes_);return te[M]=w,new Rh(te,H)}addToIndexes(t,e){const r=(0,Oe.UI)(this.indexes_,(i,o)=>{const c=(0,Oe.DV)(this.indexSet_,o);if((0,Oe.hu)(c,"Missing index implementation for "+o),i===qy){if(c.isDefinedOn(t.node)){const w=[],M=e.getIterator(wr.Wrap);let H=M.getNext();for(;H;)H.name!==t.name&&w.push(H),H=M.getNext();return w.push(t),Xx(w,c.getCompare())}return qy}{const w=e.get(t.name);let M=i;return w&&(M=M.remove(new wr(t.name,w))),M.insert(t,t.node)}});return new Rh(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,Oe.UI)(this.indexes_,i=>{if(i===qy)return i;{const o=e.get(t.name);return o?i.remove(new wr(t.name,o)):i}});return new Rh(r,this.indexSet_)}}let e2,sr=(()=>{class n{constructor(e,r,i){this.children_=e,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&sj(this.priorityNode_),this.children_.isEmpty()&&(0,Oe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return e2||(e2=new n(new ya(HO),null,Rh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||e2}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?e2:r}}getChild(e){const r=gr(e);return null===r?this:this.getImmediateChild(r).getChild(Kr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,Oe.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const i=new wr(e,r);let o,c;r.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,r),c=this.indexMap_.addToIndexes(i,this.children_));const w=o.isEmpty()?e2:this.priorityNode_;return new n(o,w,c)}}updateChild(e,r){const i=gr(e);if(null===i)return r;{(0,Oe.hu)(".priority"!==gr(e)||1===Ip(e),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Kr(e),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let i=0,o=0,c=!0;if(this.forEachChild(ti,(w,M)=>{r[w]=M.val(e),i++,c&&n.INTEGER_REGEXP_.test(w)?o=Math.max(o,Number(w)):c=!1}),!e&&c&&o<2*i){const w=[];for(const M in r)w[M]=r[M];return w}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ij(this.getPriority().val())+":"),this.forEachChild(ti,(r,i)=>{const o=i.hash();""!==o&&(e+=":"+r+":"+o)}),this.lazyHash_=""===e?"":bB(e)}return this.lazyHash_}getPredecessorChildName(e,r,i){const o=this.resolveIndex_(i);if(o){const c=o.getPredecessorKey(new wr(e,r));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new wr(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new wr(r,this.children_.get(r)):null}forEachChild(e,r){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,wr.Wrap);let c=o.peek();for(;null!=c&&r.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,wr.Wrap);let c=o.peek();for(;null!=c&&r.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===t2?-1:0}withIndex(e){if(e===cd||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===cd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ti),o=r.getIterator(ti);let c=i.getNext(),w=o.getNext();for(;c&&w;){if(c.name!==w.name||!c.node.equals(w.node))return!1;c=i.getNext(),w=o.getNext()}return null===c&&null===w}return!1}return!1}}resolveIndex_(e){return e===cd?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const t2=new class Pte extends sr{constructor(){super(new ya(HO),sr.EMPTY_NODE,Rh.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return sr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(wr,{MIN:{value:new wr(Mh,sr.EMPTY_NODE)},MAX:{value:new wr(ld,t2)}}),rj.__EMPTY_NODE=sr.EMPTY_NODE,Gy.__childrenNodeConstructor=sr,function Ate(n){$O=n}(t2),function Nte(n){lj=n}(t2);const Fte=!0;function Pi(n,t=null){if(null===n)return sr.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,Oe.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Gy(n,Pi(t));if(n instanceof Array||!Fte){let e=sr.EMPTY_NODE;return Gs(n,(r,i)=>{if((0,Oe.r3)(n,r)&&"."!==r.substring(0,1)){const o=Pi(i);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(r,o))}}),e.updatePriority(Pi(t))}{const e=[];let r=!1;if(Gs(n,(c,w)=>{if("."!==c.substring(0,1)){const M=Pi(w);M.isEmpty()||(r=r||!M.getPriority().isEmpty(),e.push(new wr(c,M)))}}),0===e.length)return sr.EMPTY_NODE;const o=Xx(e,Ite,c=>c.name,HO);if(r){const c=Xx(e,ti.getCompare());return new sr(o,Pi(t),new Rh({".priority":c},{".priority":ti}))}return new sr(o,Pi(t),Rh.Default)}}!function kte(n){aj=n}(Pi);class GO extends Yx{constructor(t){super(),this.indexPath_=t,(0,Oe.hu)(!_r(t)&&".priority"!==gr(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),i=this.extractChild(e.node),o=r.compareTo(i);return 0===o?Jg(t.name,e.name):o}makePost(t,e){const r=Pi(t),i=sr.EMPTY_NODE.updateChild(this.indexPath_,r);return new wr(e,i)}maxPost(){const t=sr.EMPTY_NODE.updateChild(this.indexPath_,t2);return new wr(ld,t)}toString(){return Qw(this.indexPath_,0).join("/")}}const qO=new class Lte extends Yx{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Jg(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return wr.MIN}maxPost(){return wr.MAX}makePost(t,e){const r=Pi(t);return new wr(e,r)}toString(){return".value"}},Zy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Bte=function(){let n=0;const t=[];return function(e){const r=e===n;let i;n=e;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Zy.charAt(e%64),e=Math.floor(e/64);(0,Oe.hu)(0===e,"Cannot push at time == 0");let c=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)c+=Zy.charAt(t[i]);return(0,Oe.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),dj=function(n){if(n===""+NO)return"-";const t=qx(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return ld;const o=Zy.charAt(Zy.indexOf(e[r])+1);return e[r]=o,e.slice(0,r+1).join("")},hj=function(n){if(n===""+EB)return Mh;const t=qx(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+NO:(delete e[e.length-1],e.join("")):(e[e.length-1]=Zy.charAt(Zy.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function fj(n){return{type:"value",snapshotNode:n}}function Wy(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function n2(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function r2(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class WO{constructor(t){this.index_=t}updateChild(t,e,r,i,o,c){(0,Oe.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const w=t.getImmediateChild(e);return w.getChild(i).equals(r.getChild(i))&&w.isEmpty()===r.isEmpty()||(null!=c&&(r.isEmpty()?t.hasChild(e)?c.trackChildChange(n2(e,w)):(0,Oe.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):w.isEmpty()?c.trackChildChange(Wy(e,r)):c.trackChildChange(r2(e,r,w))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(ti,(i,o)=>{e.hasChild(i)||r.trackChildChange(n2(i,o))}),e.isLeafNode()||e.forEachChild(ti,(i,o)=>{if(t.hasChild(i)){const c=t.getImmediateChild(i);c.equals(o)||r.trackChildChange(r2(i,o,c))}else r.trackChildChange(Wy(i,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?sr.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class s2{constructor(t){this.indexedFilter_=new WO(t.getIndex()),this.index_=t.getIndex(),this.startPost_=s2.getStartPost_(t),this.endPost_=s2.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,i,o,c){return this.matches(new wr(e,r))||(r=sr.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,i,o,c)}updateFullNode(t,e,r){e.isLeafNode()&&(e=sr.EMPTY_NODE);let i=e.withIndex(this.index_);i=i.updatePriority(sr.EMPTY_NODE);const o=this;return e.forEachChild(ti,(c,w)=>{o.matches(new wr(c,w))||(i=i.updateImmediateChild(c,sr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Ute{constructor(t){this.rangedFilter_=new s2(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,i,o,c){return this.rangedFilter_.matches(new wr(e,r))||(r=sr.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,i,o,c):this.fullLimitUpdateChild_(t,e,r,o,c)}updateFullNode(t,e,r){let i;if(e.isLeafNode()||e.isEmpty())i=sr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;i=sr.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const w=o.getNext();let M;if(M=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),w)<=0:this.index_.compare(w,this.rangedFilter_.getEndPost())<=0,!M)break;i=i.updateImmediateChild(w.name,w.node),c++}}else{let o,c,w,M;if(i=e.withIndex(this.index_),i=i.updatePriority(sr.EMPTY_NODE),this.reverse_){M=i.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const de=this.index_.getCompare();w=(ye,Ce)=>de(Ce,ye)}else M=i.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),w=this.index_.getCompare();let H=0,te=!1;for(;M.hasNext();){const de=M.getNext();!te&&w(o,de)<=0&&(te=!0),te&&H<this.limit_&&w(de,c)<=0?H++:i=i.updateImmediateChild(de.name,sr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,i,o){let c;if(this.reverse_){const de=this.index_.getCompare();c=(ye,Ce)=>de(Ce,ye)}else c=this.index_.getCompare();const w=t;(0,Oe.hu)(w.numChildren()===this.limit_,"");const M=new wr(e,r),H=this.reverse_?w.getFirstChild(this.index_):w.getLastChild(this.index_),te=this.rangedFilter_.matches(M);if(w.hasChild(e)){const de=w.getImmediateChild(e);let ye=i.getChildAfterChild(this.index_,H,this.reverse_);for(;null!=ye&&(ye.name===e||w.hasChild(ye.name));)ye=i.getChildAfterChild(this.index_,ye,this.reverse_);const Ce=null==ye?1:c(ye,M);if(te&&!r.isEmpty()&&Ce>=0)return o?.trackChildChange(r2(e,r,de)),w.updateImmediateChild(e,r);{o?.trackChildChange(n2(e,de));const He=w.updateImmediateChild(e,sr.EMPTY_NODE);return null!=ye&&this.rangedFilter_.matches(ye)?(o?.trackChildChange(Wy(ye.name,ye.node)),He.updateImmediateChild(ye.name,ye.node)):He}}return r.isEmpty()?t:te&&c(H,M)>=0?(null!=o&&(o.trackChildChange(n2(H.name,H.node)),o.trackChildChange(Wy(e,r))),w.updateImmediateChild(e,r).updateImmediateChild(H.name,sr.EMPTY_NODE)):t}}class eD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ti}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Oe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Oe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mh}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Oe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Oe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ld}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Oe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ti}copy(){const t=new eD;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function KO(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function YO(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function tD(n,t){const e=n.copy();return e.index_=t,e}function pj(n){const t={};if(n.isDefault())return t;let e;return n.index_===ti?e="$priority":n.index_===qO?e="$value":n.index_===cd?e="$key":((0,Oe.hu)(n.index_ instanceof GO,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,Oe.Pz)(e),n.startSet_&&(t.startAt=(0,Oe.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,Oe.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,Oe.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,Oe.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function mj(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ti&&(t.i=n.index_.toString()),t}class nD extends KB{constructor(t,e,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ww("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Oe.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=nD.getListenId_(t,r),w={};this.listens_[c]=w;const M=pj(t._queryParams);this.restRequest_(o+".json",M,(H,te)=>{let de=te;if(404===H&&(de=null,H=null),null===H&&this.onDataUpdate_(o,de,!1,r),(0,Oe.DV)(this.listens_,c)===w){let ye;ye=H?401===H?"permission_denied":"rest_error:"+H:"ok",i(ye,null)}})}unlisten(t,e){const r=nD.getListenId_(t,e);delete this.listens_[r]}get(t){const e=pj(t._queryParams),r=t._path.toString(),i=new Oe.BH;return this.restRequest_(r+".json",e,(o,c)=>{let w=c;404===o&&(w=null,o=null),null===o?(this.onDataUpdate_(r,w,!1,null),i.resolve(w)):i.reject(new Error(w))}),i.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(e.auth=i.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Oe.xO)(e);this.log_("Sending REST request for "+c);const w=new XMLHttpRequest;w.onreadystatechange=()=>{if(r&&4===w.readyState){this.log_("REST Response for "+c+" received. status:",w.status,"response:",w.responseText);let M=null;if(w.status>=200&&w.status<300){try{M=(0,Oe.cI)(w.responseText)}catch{go("Failed to parse JSON response for "+c+": "+w.responseText)}r(null,M)}else 401!==w.status&&404!==w.status&&go("Got unsuccessful REST response for "+c+" Status: "+w.status),r(w.status);r=null}},w.open("GET",c,!0),w.send()})}}class qte{constructor(){this.rootNode_=sr.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function rD(){return{value:null,children:new Map}}function Ky(n,t,e){if(_r(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=gr(t);n.children.has(r)||n.children.set(r,rD()),Ky(n.children.get(r),t=Kr(t),e)}}function JO(n,t){if(_r(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ti,(r,i)=>{Ky(n,new Br(r),i)}),JO(n,t)}}if(n.children.size>0){const e=gr(t);return t=Kr(t),n.children.has(e)&&JO(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function QO(n,t,e){null!==n.value?e(t,n.value):function Zte(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,i)=>{QO(i,new Br(t.toString()+"/"+r),e)})}class Wte{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Gs(this.last_,(r,i)=>{e[r]=e[r]-i}),this.last_=t,e}}class Jte{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Wte(t);const r=1e4+2e4*Math.random();Yw(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;Gs(t,(i,o)=>{o>0&&(0,Oe.r3)(this.statsToReport_,i)&&(e[i]=o,r=!0)}),r&&this.server_.reportStats(e),Yw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ul=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ul||(Ul={})),Ul))();function t6(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class iD{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Ul.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(_r(this.path)){if(null!=this.affectedTree.value)return(0,Oe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Br(t));return new iD(Ar(),e,this.revert)}}return(0,Oe.hu)(gr(this.path)===t,"operationForChild called for unrelated child."),new iD(Kr(this.path),this.affectedTree,this.revert)}}class o2{constructor(t,e){this.source=t,this.path=e,this.type=Ul.LISTEN_COMPLETE}operationForChild(t){return _r(this.path)?new o2(this.source,Ar()):new o2(this.source,Kr(this.path))}}class e0{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Ul.OVERWRITE}operationForChild(t){return _r(this.path)?new e0(this.source,Ar(),this.snap.getImmediateChild(t)):new e0(this.source,Kr(this.path),this.snap)}}class Yy{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Ul.MERGE}operationForChild(t){if(_r(this.path)){const e=this.children.subtree(new Br(t));return e.isEmpty()?null:e.value?new e0(this.source,Ar(),e.value):new Yy(this.source,Ar(),e)}return(0,Oe.hu)(gr(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Yy(this.source,Kr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ap{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(_r(t))return this.isFullyInitialized()&&!this.filtered_;const e=gr(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Qte{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function a2(n,t,e,r,i,o){const c=r.filter(w=>w.type===e);c.sort((w,M)=>function tne(n,t,e){if(null==t.childName||null==e.childName)throw(0,Oe.g5)("Should only compare child_ events.");const r=new wr(t.childName,t.snapshotNode),i=new wr(e.childName,e.snapshotNode);return n.index_.compare(r,i)}(n,w,M)),c.forEach(w=>{const M=function ene(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,w,o);i.forEach(H=>{H.respondsTo(w.type)&&t.push(H.createEvent(M,n.query_))})})}function sD(n,t){return{eventCache:n,serverCache:t}}function l2(n,t,e,r){return sD(new Ap(t,e,r),n.serverCache)}function _j(n,t,e,r){return sD(n.eventCache,new Ap(t,e,r))}function oD(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function t0(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let n6;class ni{constructor(t,e=(()=>(n6||(n6=new ya(Uee)),n6))()){this.value=t,this.children=e}static fromObject(t){let e=new ni(null);return Gs(t,(r,i)=>{e=e.set(new Br(r),i)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ar(),value:this.value};if(_r(t))return null;{const r=gr(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Kr(t),e);return null!=o?{path:xi(new Br(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(_r(t))return this;{const e=gr(t),r=this.children.get(e);return null!==r?r.subtree(Kr(t)):new ni(null)}}set(t,e){if(_r(t))return new ni(e,this.children);{const r=gr(t),o=(this.children.get(r)||new ni(null)).set(Kr(t),e),c=this.children.insert(r,o);return new ni(this.value,c)}}remove(t){if(_r(t))return this.children.isEmpty()?new ni(null):new ni(null,this.children);{const e=gr(t),r=this.children.get(e);if(r){const i=r.remove(Kr(t));let o;return o=i.isEmpty()?this.children.remove(e):this.children.insert(e,i),null===this.value&&o.isEmpty()?new ni(null):new ni(this.value,o)}return this}}get(t){if(_r(t))return this.value;{const e=gr(t),r=this.children.get(e);return r?r.get(Kr(t)):null}}setTree(t,e){if(_r(t))return e;{const r=gr(t),o=(this.children.get(r)||new ni(null)).setTree(Kr(t),e);let c;return c=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new ni(this.value,c)}}fold(t){return this.fold_(Ar(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(xi(t,i),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Ar(),e)}findOnPath_(t,e,r){const i=!!this.value&&r(e,this.value);if(i)return i;if(_r(t))return null;{const o=gr(t),c=this.children.get(o);return c?c.findOnPath_(Kr(t),xi(e,o),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ar(),e)}foreachOnPath_(t,e,r){if(_r(t))return this;{this.value&&r(e,this.value);const i=gr(t),o=this.children.get(i);return o?o.foreachOnPath_(Kr(t),xi(e,i),r):new ni(null)}}foreach(t){this.foreach_(Ar(),t)}foreach_(t,e){this.children.inorderTraversal((r,i)=>{i.foreach_(xi(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Gc{constructor(t){this.writeTree_=t}static empty(){return new Gc(new ni(null))}}function c2(n,t,e){if(_r(t))return new Gc(new ni(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const c=zo(i,t);return o=o.updateChild(c,e),new Gc(n.writeTree_.set(i,o))}{const i=new ni(e),o=n.writeTree_.setTree(t,i);return new Gc(o)}}}function r6(n,t,e){let r=n;return Gs(e,(i,o)=>{r=c2(r,xi(t,i),o)}),r}function yj(n,t){if(_r(t))return Gc.empty();{const e=n.writeTree_.setTree(t,new ni(null));return new Gc(e)}}function i6(n,t){return null!=n0(n,t)}function n0(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(zo(e.path,t)):null}function bj(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ti,(r,i)=>{t.push(new wr(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new wr(r,i.value))}),t}function kp(n,t){if(_r(t))return n;{const e=n0(n,t);return new Gc(null!=e?new ni(e):n.writeTree_.subtree(t))}}function s6(n){return n.writeTree_.isEmpty()}function Jy(n,t){return vj(Ar(),n.writeTree_,t)}function vj(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?((0,Oe.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):e=vj(xi(n,i),o,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(xi(n,".priority"),r)),e}}function aD(n,t){return Sj(t,n)}function ane(n,t){if(n.snap)return jl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&jl(xi(n.path,e),t))return!0;return!1}function cne(n){return n.visible}function wj(n,t,e){let r=Gc.empty();for(let i=0;i<n.length;++i){const o=n[i];if(t(o)){const c=o.path;let w;if(o.snap)jl(e,c)?(w=zo(e,c),r=c2(r,w,o.snap)):jl(c,e)&&(w=zo(c,e),r=c2(r,Ar(),o.snap.getChild(w)));else{if(!o.children)throw(0,Oe.g5)("WriteRecord should have .snap or .children");if(jl(e,c))w=zo(e,c),r=r6(r,w,o.children);else if(jl(c,e))if(w=zo(c,e),_r(w))r=r6(r,Ar(),o.children);else{const M=(0,Oe.DV)(o.children,gr(w));if(M){const H=M.getChild(Kr(w));r=c2(r,Ar(),H)}}}}}return r}function Cj(n,t,e,r,i){if(r||i){const o=kp(n.visibleWrites,t);return!i&&s6(o)?e:i||null!=e||i6(o,Ar())?Jy(wj(n.allWrites,function(H){return(H.visible||i)&&(!r||!~r.indexOf(H.writeId))&&(jl(H.path,t)||jl(t,H.path))},t),e||sr.EMPTY_NODE):null}{const o=n0(n.visibleWrites,t);if(null!=o)return o;{const c=kp(n.visibleWrites,t);return s6(c)?e:null!=e||i6(c,Ar())?Jy(c,e||sr.EMPTY_NODE):null}}}function lD(n,t,e,r){return Cj(n.writeTree,n.treePath,t,e,r)}function o6(n,t){return function une(n,t,e){let r=sr.EMPTY_NODE;const i=n0(n.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ti,(o,c)=>{r=r.updateImmediateChild(o,c)}),r;if(e){const o=kp(n.visibleWrites,t);return e.forEachChild(ti,(c,w)=>{const M=Jy(kp(o,new Br(c)),w);r=r.updateImmediateChild(c,M)}),bj(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}return bj(kp(n.visibleWrites,t)).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}(n.writeTree,n.treePath,t)}function Tj(n,t,e,r){return function dne(n,t,e,r,i){(0,Oe.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=xi(t,e);if(i6(n.visibleWrites,o))return null;{const c=kp(n.visibleWrites,o);return s6(c)?i.getChild(e):Jy(c,i.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function cD(n,t){return function fne(n,t){return n0(n.visibleWrites,t)}(n.writeTree,xi(n.treePath,t))}function a6(n,t,e){return function hne(n,t,e,r){const i=xi(t,e),o=n0(n.visibleWrites,i);return null!=o?o:r.isCompleteForChild(e)?Jy(kp(n.visibleWrites,i),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Ej(n,t){return Sj(xi(n.treePath,t),n.writeTree)}function Sj(n,t){return{treePath:n,writeTree:t}}class _ne{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,Oe.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Oe.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(r,r2(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(r,n2(r,i.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(r,Wy(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,Oe.g5)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,r2(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const xj=new class yne{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class l6{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Ap(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return a6(this.writes_,t,r)}}getChildAfterChild(t,e,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:t0(this.viewCache_),o=function gne(n,t,e,r,i,o){return function pne(n,t,e,r,i,o,c){let w;const M=kp(n.visibleWrites,t),H=n0(M,Ar());if(null!=H)w=H;else{if(null==e)return[];w=Jy(M,e)}if(w=w.withIndex(c),w.isEmpty()||w.isLeafNode())return[];{const te=[],de=c.getCompare(),ye=o?w.getReverseIteratorFrom(r,c):w.getIteratorFrom(r,c);let Ce=ye.getNext();for(;Ce&&te.length<i;)0!==de(Ce,r)&&te.push(Ce),Ce=ye.getNext();return te}}(n.writeTree,n.treePath,t,e,r,i,o)}(this.writes_,i,e,1,r,t);return 0===o.length?null:o[0]}}function Dj(n,t,e,r,i,o){const c=t.eventCache;if(null!=cD(r,e))return t;{let w,M;if(_r(e))if((0,Oe.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const H=t0(t),de=o6(r,H instanceof sr?H:sr.EMPTY_NODE);w=n.filter.updateFullNode(t.eventCache.getNode(),de,o)}else{const H=lD(r,t0(t));w=n.filter.updateFullNode(t.eventCache.getNode(),H,o)}else{const H=gr(e);if(".priority"===H){(0,Oe.hu)(1===Ip(e),"Can't have a priority with additional path components");const te=c.getNode();M=t.serverCache.getNode();const de=Tj(r,e,te,M);w=null!=de?n.filter.updatePriority(te,de):c.getNode()}else{const te=Kr(e);let de;if(c.isCompleteForChild(H)){M=t.serverCache.getNode();const ye=Tj(r,e,c.getNode(),M);de=null!=ye?c.getNode().getImmediateChild(H).updateChild(te,ye):c.getNode().getImmediateChild(H)}else de=a6(r,H,t.serverCache);w=null!=de?n.filter.updateChild(c.getNode(),H,de,te,i,o):c.getNode()}}return l2(t,w,c.isFullyInitialized()||_r(e),n.filter.filtersNodes())}}function uD(n,t,e,r,i,o,c,w){const M=t.serverCache;let H;const te=c?n.filter:n.filter.getIndexedFilter();if(_r(e))H=te.updateFullNode(M.getNode(),r,null);else if(te.filtersNodes()&&!M.isFiltered()){const Ce=M.getNode().updateChild(e,r);H=te.updateFullNode(M.getNode(),Ce,null)}else{const Ce=gr(e);if(!M.isCompleteForPath(e)&&Ip(e)>1)return t;const Ie=Kr(e),Ke=M.getNode().getImmediateChild(Ce).updateChild(Ie,r);H=".priority"===Ce?te.updatePriority(M.getNode(),Ke):te.updateChild(M.getNode(),Ce,Ke,Ie,xj,null)}const de=_j(t,H,M.isFullyInitialized()||_r(e),te.filtersNodes());return Dj(n,de,e,i,new l6(i,de,o),w)}function c6(n,t,e,r,i,o,c){const w=t.eventCache;let M,H;const te=new l6(i,t,o);if(_r(e))H=n.filter.updateFullNode(t.eventCache.getNode(),r,c),M=l2(t,H,!0,n.filter.filtersNodes());else{const de=gr(e);if(".priority"===de)H=n.filter.updatePriority(t.eventCache.getNode(),r),M=l2(t,H,w.isFullyInitialized(),w.isFiltered());else{const ye=Kr(e),Ce=w.getNode().getImmediateChild(de);let Ie;if(_r(ye))Ie=r;else{const He=te.getCompleteChild(de);Ie=null!=He?".priority"===jO(ye)&&He.getChild(XB(ye)).isEmpty()?He:He.updateChild(ye,r):sr.EMPTY_NODE}M=Ce.equals(Ie)?t:l2(t,n.filter.updateChild(w.getNode(),de,Ie,ye,te,c),w.isFullyInitialized(),n.filter.filtersNodes())}}return M}function Ij(n,t){return n.eventCache.isCompleteForChild(t)}function Aj(n,t,e){return e.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function u6(n,t,e,r,i,o,c,w){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let H,M=t;H=_r(e)?r:new ni(null).setTree(e,r);const te=t.serverCache.getNode();return H.children.inorderTraversal((de,ye)=>{if(te.hasChild(de)){const Ie=Aj(0,t.serverCache.getNode().getImmediateChild(de),ye);M=uD(n,M,new Br(de),Ie,i,o,c,w)}}),H.children.inorderTraversal((de,ye)=>{const Ce=!t.serverCache.isCompleteForChild(de)&&null===ye.value;if(!te.hasChild(de)&&!Ce){const He=Aj(0,t.serverCache.getNode().getImmediateChild(de),ye);M=uD(n,M,new Br(de),He,i,o,c,w)}}),M}class Dne{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new WO(r.getIndex()),o=function Vte(n){return n.loadsAllData()?new WO(n.getIndex()):n.hasLimit()?new Ute(n):new s2(n)}(r);this.processor_=function bne(n){return{filter:n}}(o);const c=e.serverCache,w=e.eventCache,M=i.updateFullNode(sr.EMPTY_NODE,c.getNode(),null),H=o.updateFullNode(sr.EMPTY_NODE,w.getNode(),null),te=new Ap(M,c.isFullyInitialized(),i.filtersNodes()),de=new Ap(H,w.isFullyInitialized(),o.filtersNodes());this.viewCache_=sD(de,te),this.eventGenerator_=new Qte(this.query_)}get query(){return this.query_}}function kne(n,t){const e=t0(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!_r(t)&&!e.getImmediateChild(gr(t)).isEmpty())?e.getChild(t):null}function kj(n){return 0===n.eventRegistrations_.length}function Nj(n,t,e){const r=[];if(e){(0,Oe.hu)(null==t,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,i);c&&r.push(c)})}if(t){let i=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(t)){if(t.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(o+1));break}}else i.push(c)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function Mj(n,t,e,r){t.type===Ul.MERGE&&null!==t.source.queryId&&((0,Oe.hu)(t0(n.viewCache_),"We should always have a full cache before handling merges"),(0,Oe.hu)(oD(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=function wne(n,t,e,r,i){const o=new _ne;let c,w;if(e.type===Ul.OVERWRITE){const H=e;H.source.fromUser?c=c6(n,t,H.path,H.snap,r,i,o):((0,Oe.hu)(H.source.fromServer,"Unknown source."),w=H.source.tagged||t.serverCache.isFiltered()&&!_r(H.path),c=uD(n,t,H.path,H.snap,r,i,w,o))}else if(e.type===Ul.MERGE){const H=e;H.source.fromUser?c=function Tne(n,t,e,r,i,o,c){let w=t;return r.foreach((M,H)=>{const te=xi(e,M);Ij(t,gr(te))&&(w=c6(n,w,te,H,i,o,c))}),r.foreach((M,H)=>{const te=xi(e,M);Ij(t,gr(te))||(w=c6(n,w,te,H,i,o,c))}),w}(n,t,H.path,H.children,r,i,o):((0,Oe.hu)(H.source.fromServer,"Unknown source."),w=H.source.tagged||t.serverCache.isFiltered(),c=u6(n,t,H.path,H.children,r,i,w,o))}else if(e.type===Ul.ACK_USER_WRITE){const H=e;c=H.revert?function xne(n,t,e,r,i,o){let c;if(null!=cD(r,e))return t;{const w=new l6(r,t,i),M=t.eventCache.getNode();let H;if(_r(e)||".priority"===gr(e)){let te;if(t.serverCache.isFullyInitialized())te=lD(r,t0(t));else{const de=t.serverCache.getNode();(0,Oe.hu)(de instanceof sr,"serverChildren would be complete if leaf node"),te=o6(r,de)}H=n.filter.updateFullNode(M,te,o)}else{const te=gr(e);let de=a6(r,te,t.serverCache);null==de&&t.serverCache.isCompleteForChild(te)&&(de=M.getImmediateChild(te)),H=null!=de?n.filter.updateChild(M,te,de,Kr(e),w,o):t.eventCache.getNode().hasChild(te)?n.filter.updateChild(M,te,sr.EMPTY_NODE,Kr(e),w,o):M,H.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=lD(r,t0(t)),c.isLeafNode()&&(H=n.filter.updateFullNode(H,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=cD(r,Ar()),l2(t,H,c,n.filter.filtersNodes())}}(n,t,H.path,r,i,o):function Ene(n,t,e,r,i,o,c){if(null!=cD(i,e))return t;const w=t.serverCache.isFiltered(),M=t.serverCache;if(null!=r.value){if(_r(e)&&M.isFullyInitialized()||M.isCompleteForPath(e))return uD(n,t,e,M.getNode().getChild(e),i,o,w,c);if(_r(e)){let H=new ni(null);return M.getNode().forEachChild(cd,(te,de)=>{H=H.set(new Br(te),de)}),u6(n,t,e,H,i,o,w,c)}return t}{let H=new ni(null);return r.foreach((te,de)=>{const ye=xi(e,te);M.isCompleteForPath(ye)&&(H=H.set(te,M.getNode().getChild(ye)))}),u6(n,t,e,H,i,o,w,c)}}(n,t,H.path,H.affectedTree,r,i,o)}else{if(e.type!==Ul.LISTEN_COMPLETE)throw(0,Oe.g5)("Unknown operation type: "+e.type);c=function Sne(n,t,e,r,i){const o=t.serverCache;return Dj(n,_j(t,o.getNode(),o.isFullyInitialized()||_r(e),o.isFiltered()),e,r,xj,i)}(n,t,e.path,r,o)}const M=o.getChanges();return function Cne(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=oD(n);(e.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&e.push(fj(oD(t)))}}(t,c,M),{viewCache:c,changes:M}}(n.processor_,i,t,e,r);return function vne(n,t){(0,Oe.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,Oe.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,Oe.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,Rj(n,o.changes,o.viewCache.eventCache.getNode(),null)}function Rj(n,t,e,r){return function Xte(n,t,e,r){const i=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function jte(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),a2(n,i,"child_removed",t,r,e),a2(n,i,"child_added",t,r,e),a2(n,i,"child_moved",o,r,e),a2(n,i,"child_changed",t,r,e),a2(n,i,"value",t,r,e),i}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let dD,fD;class Oj{constructor(){this.views=new Map}}function d6(n,t,e,r){const i=t.source.queryId;if(null!==i){const o=n.views.get(i);return(0,Oe.hu)(null!=o,"SyncTree gave us an op for an invalid query."),Mj(o,t,e,r)}{let o=[];for(const c of n.views.values())o=o.concat(Mj(c,t,e,r));return o}}function Pj(n,t,e,r,i){const c=n.views.get(t._queryIdentifier);if(!c){let w=lD(e,i?r:null),M=!1;w?M=!0:r instanceof sr?(w=o6(e,r),M=!1):(w=sr.EMPTY_NODE,M=!1);const H=sD(new Ap(w,M,!1),new Ap(r,i,!1));return new Dne(t,H)}return c}function Fj(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Np(n,t){let e=null;for(const r of n.views.values())e=e||kne(r,t);return e}function Lj(n,t){return t._queryParams.loadsAllData()?hD(n):n.views.get(t._queryIdentifier)}function Bj(n,t){return null!=Lj(n,t)}function Mp(n){return null!=hD(n)}function hD(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Une=1;class jj{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ni(null),this.pendingWriteTree_=function mne(){return{visibleWrites:Gc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function h6(n,t,e,r,i){return function rne(n,t,e,r,i){(0,Oe.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:i}),i&&(n.visibleWrites=c2(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,i),i?Qy(n,new e0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Rp(n,t,e=!1){const r=function sne(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function one(n,t){const e=n.allWrites.findIndex(w=>w.writeId===t);(0,Oe.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let i=r.visible,o=!1,c=n.allWrites.length-1;for(;i&&c>=0;){const w=n.allWrites[c];w.visible&&(c>=e&&ane(w,r.path)?i=!1:jl(r.path,w.path)&&(o=!0)),c--}return!!i&&(o?(function lne(n){n.visibleWrites=wj(n.allWrites,cne,Ar()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=yj(n.visibleWrites,r.path):Gs(r.children,M=>{n.visibleWrites=yj(n.visibleWrites,xi(r.path,M))}),!0))}(n.pendingWriteTree_,t)){let o=new ni(null);return null!=r.snap?o=o.set(Ar(),!0):Gs(r.children,c=>{o=o.set(new Br(c),!0)}),Qy(n,new iD(r.path,o,e))}return[]}function u2(n,t,e){return Qy(n,new e0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function pD(n,t,e,r,i=!1){const o=t._path,c=n.syncPointTree_.get(o);let w=[];if(c&&("default"===t._queryIdentifier||Bj(c,t))){const M=function Lne(n,t,e,r){const i=t._queryIdentifier,o=[];let c=[];const w=Mp(n);if("default"===i)for(const[M,H]of n.views.entries())c=c.concat(Nj(H,e,r)),kj(H)&&(n.views.delete(M),H.query._queryParams.loadsAllData()||o.push(H.query));else{const M=n.views.get(i);M&&(c=c.concat(Nj(M,e,r)),kj(M)&&(n.views.delete(i),M.query._queryParams.loadsAllData()||o.push(M.query)))}return w&&!Mp(n)&&o.push(new(function One(){return(0,Oe.hu)(dD,"Reference.ts has not been loaded"),dD}())(t._repo,t._path)),{removed:o,events:c}}(c,t,e,r);(function Pne(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const H=M.removed;if(w=M.events,!i){const te=-1!==H.findIndex(ye=>ye._queryParams.loadsAllData()),de=n.syncPointTree_.findOnPath(o,(ye,Ce)=>Mp(Ce));if(te&&!de){const ye=n.syncPointTree_.subtree(o);if(!ye.isEmpty()){const Ce=function Zne(n){return n.fold((t,e,r)=>{if(e&&Mp(e))return[hD(e)];{let i=[];return e&&(i=Fj(e)),Gs(r,(o,c)=>{i=i.concat(c)}),i}})}(ye);for(let Ie=0;Ie<Ce.length;++Ie){const He=Ce[Ie],Ke=He.query,ut=$j(n,He);n.listenProvider_.startListening(h2(Ke),d2(n,Ke),ut.hashFn,ut.onComplete)}}}!de&&H.length>0&&!r&&(te?n.listenProvider_.stopListening(h2(t),null):H.forEach(ye=>{const Ce=n.queryToTagMap.get(gD(ye));n.listenProvider_.stopListening(h2(ye),Ce)}))}!function Wne(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const i=gD(r),o=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(o)}}}(n,H)}return w}function Uj(n,t,e,r){const i=p6(n,r);if(null!=i){const o=m6(i),c=o.path,w=o.queryId,M=zo(c,t);return g6(n,c,new e0(t6(w),M,e))}return[]}function f6(n,t,e,r=!1){const i=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(i,(ye,Ce)=>{const Ie=zo(ye,i);o=o||Np(Ce,Ie),c=c||Mp(Ce)});let M,w=n.syncPointTree_.get(i);w?(c=c||Mp(w),o=o||Np(w,Ar())):(w=new Oj,n.syncPointTree_=n.syncPointTree_.set(i,w)),null!=o?M=!0:(M=!1,o=sr.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((Ce,Ie)=>{const He=Np(Ie,Ar());He&&(o=o.updateImmediateChild(Ce,He))}));const H=Bj(w,t);if(!H&&!t._queryParams.loadsAllData()){const ye=gD(t);(0,Oe.hu)(!n.queryToTagMap.has(ye),"View does not exist, but we have a tag");const Ce=function Kne(){return Une++}();n.queryToTagMap.set(ye,Ce),n.tagToQueryMap.set(Ce,ye)}let de=function Fne(n,t,e,r,i,o){const c=Pj(n,t,r,i,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function Nne(n,t){n.eventRegistrations_.push(t)}(c,e),function Mne(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ti,(o,c)=>{r.push(Wy(o,c))}),e.isFullyInitialized()&&r.push(fj(e.getNode())),Rj(n,r,e.getNode(),t)}(c,e)}(w,t,e,aD(n.pendingWriteTree_,i),o,M);if(!H&&!c&&!r){const ye=Lj(w,t);de=de.concat(function Yne(n,t,e){const r=t._path,i=d2(n,t),o=$j(n,e),c=n.listenProvider_.startListening(h2(t),i,o.hashFn,o.onComplete),w=n.syncPointTree_.subtree(r);if(i)(0,Oe.hu)(!Mp(w.value),"If we're adding a query, it shouldn't be shadowed");else{const M=w.fold((H,te,de)=>{if(!_r(H)&&te&&Mp(te))return[hD(te).query];{let ye=[];return te&&(ye=ye.concat(Fj(te).map(Ce=>Ce.query))),Gs(de,(Ce,Ie)=>{ye=ye.concat(Ie)}),ye}});for(let H=0;H<M.length;++H){const te=M[H];n.listenProvider_.stopListening(h2(te),d2(n,te))}}return c}(n,t,ye))}return de}function mD(n,t,e){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,w)=>{const H=Np(w,zo(c,t));if(H)return H});return Cj(i,t,o,e,!0)}function Qy(n,t){return Vj(t,n.syncPointTree_,null,aD(n.pendingWriteTree_,Ar()))}function Vj(n,t,e,r){if(_r(n.path))return Hj(n,t,e,r);{const i=t.get(Ar());null==e&&null!=i&&(e=Np(i,Ar()));let o=[];const c=gr(n.path),w=n.operationForChild(c),M=t.children.get(c);if(M&&w){const H=e?e.getImmediateChild(c):null,te=Ej(r,c);o=o.concat(Vj(w,M,H,te))}return i&&(o=o.concat(d6(i,n,r,e))),o}}function Hj(n,t,e,r){const i=t.get(Ar());null==e&&null!=i&&(e=Np(i,Ar()));let o=[];return t.children.inorderTraversal((c,w)=>{const M=e?e.getImmediateChild(c):null,H=Ej(r,c),te=n.operationForChild(c);te&&(o=o.concat(Hj(te,w,M,H)))}),i&&(o=o.concat(d6(i,n,r,e))),o}function $j(n,t){const e=t.query,r=d2(n,e);return{hashFn:()=>(function Ine(n){return n.viewCache_.serverCache.getNode()}(t)||sr.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function zne(n,t,e){const r=p6(n,e);if(r){const i=m6(r),o=i.path,c=i.queryId,w=zo(o,t);return g6(n,o,new o2(t6(c),w))}return[]}(n,e._path,r):function $ne(n,t){return Qy(n,new o2({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function $ee(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(i,e);return pD(n,e,null,o)}}}}function d2(n,t){const e=gD(t);return n.queryToTagMap.get(e)}function gD(n){return n._path.toString()+"$"+n._queryIdentifier}function p6(n,t){return n.tagToQueryMap.get(t)}function m6(n){const t=n.indexOf("$");return(0,Oe.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Br(n.substr(0,t))}}function g6(n,t,e){const r=n.syncPointTree_.get(t);return(0,Oe.hu)(r,"Missing sync point for query tag that we're tracking"),d6(r,e,aD(n.pendingWriteTree_,t),null)}function h2(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function jne(){return(0,Oe.hu)(fD,"Reference.ts has not been loaded"),fD}())(n._repo,n._path):n}class _6{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new _6(e)}node(){return this.node_}}class y6{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=xi(this.path_,t);return new y6(this.syncTree_,e)}node(){return mD(this.syncTree_,this.path_)}}const Jne=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},zj=function(n,t,e){return n&&"object"==typeof n?((0,Oe.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Qne(n[".sv"],t,e):"object"==typeof n[".sv"]?Xne(n[".sv"],t):void(0,Oe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Qne=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,Oe.hu)(!1,"Unexpected server value: "+n)},Xne=function(n,t,e){n.hasOwnProperty("increment")||(0,Oe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,Oe.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,Oe.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const c=i.getValue();return"number"!=typeof c?r:c+r},Gj=function(n,t,e,r){return v6(t,new y6(e,n),r)},b6=function(n,t,e){return v6(n,new _6(t),e)};function v6(n,t,e){const r=n.getPriority().val(),i=zj(r,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,w=zj(c.getValue(),t,e);return w!==c.getValue()||i!==c.getPriority().val()?new Gy(w,Pi(i)):n}{const c=n;return o=c,i!==c.getPriority().val()&&(o=o.updatePriority(new Gy(i))),c.forEachChild(ti,(w,M)=>{const H=v6(M,t.getImmediateChild(w),e);H!==M&&(o=o.updateImmediateChild(w,H))}),o}}class w6{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function _D(n,t){let e=t instanceof Br?t:new Br(t),r=n,i=gr(e);for(;null!==i;){const o=(0,Oe.DV)(r.node.children,i)||{children:{},childCount:0};r=new w6(i,r,o),e=Kr(e),i=gr(e)}return r}function r0(n){return n.node.value}function C6(n,t){n.node.value=t,T6(n)}function qj(n){return n.node.childCount>0}function yD(n,t){Gs(n.node.children,(e,r)=>{t(new w6(e,n,r))})}function Zj(n,t,e,r){e&&!r&&t(n),yD(n,i=>{Zj(i,t,!0,r)}),e&&r&&t(n)}function f2(n){return new Br(null===n.parent?n.name:f2(n.parent)+"/"+n.name)}function T6(n){null!==n.parent&&function nre(n,t,e){const r=function ere(n){return void 0===r0(n)&&!qj(n)}(e),i=(0,Oe.r3)(n.node.children,t);r&&i?(delete n.node.children[t],n.node.childCount--,T6(n)):!r&&!i&&(n.node.children[t]=e.node,n.node.childCount++,T6(n))}(n.parent,n.name,n)}const rre=/[\[\].#$\/\u0000-\u001F\u007F]/,ire=/[\[\].#$\u0000-\u001F\u007F]/,E6=10485760,bD=function(n){return"string"==typeof n&&0!==n.length&&!rre.test(n)},Wj=function(n){return"string"==typeof n&&0!==n.length&&!ire.test(n)},p2=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Gx(n)||n&&"object"==typeof n&&(0,Oe.r3)(n,".sv")},ud=function(n,t,e,r){r&&void 0===t||m2((0,Oe.gK)(n,"value"),t,e)},m2=function(n,t,e){const r=e instanceof Br?new vte(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Qg(r));if("function"==typeof t)throw new Error(n+"contains a function "+Qg(r)+" with contents = "+t.toString());if(Gx(t))throw new Error(n+"contains "+t.toString()+" "+Qg(r));if("string"==typeof t&&t.length>E6/3&&(0,Oe.ug)(t)>E6)throw new Error(n+"contains a string greater than "+E6+" utf8 bytes "+Qg(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(Gs(t,(c,w)=>{if(".value"===c)i=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!bD(c)))throw new Error(n+" contains an invalid key ("+c+") "+Qg(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function wte(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,Oe.ug)(t),ej(n)})(r,c),m2(n,w,r),function Cte(n){const t=n.parts_.pop();n.byteLength_-=(0,Oe.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&o)throw new Error(n+' contains ".value" child '+Qg(r)+" in addition to actual children.")}},Kj=function(n,t,e,r){if(r&&void 0===t)return;const i=(0,Oe.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];Gs(t,(c,w)=>{const M=new Br(c);if(m2(i,w,xi(e,M)),".priority"===jO(M)&&!p2(w))throw new Error(i+"contains an invalid value for '"+M.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(M)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const o=Qw(r);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!bD(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(bte);let i=null;for(e=0;e<t.length;e++){if(r=t[e],null!==i&&jl(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},S6=function(n,t,e){if(!e||void 0!==t){if(Gx(t))throw new Error((0,Oe.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!p2(t))throw new Error((0,Oe.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},g2=function(n,t,e,r){if(!(r&&void 0===e||bD(e)))throw new Error((0,Oe.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_2=function(n,t,e,r){if(!(r&&void 0===e||Wj(e)))throw new Error((0,Oe.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},are=function(n,t,e,r){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),_2(n,t,e,r)},Vl=function(n,t){if(".info"===gr(t))throw new Error(n+" failed = Can't modify data under /.info/")},Yj=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!bD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Wj(n)}(e))throw new Error((0,Oe.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class lre{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vD(n,t){let e=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==e&&!UO(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(i)}e&&n.eventLists_.push(e)}function Jj(n,t,e){vD(n,e),Qj(n,r=>UO(r,t))}function nl(n,t,e){vD(n,e),Qj(n,r=>jl(r,t)||jl(t,r))}function Qj(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(t(i.path)?(cre(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function cre(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Yg&&zs("event: "+e.toString()),$y(r)}}}const Xj="repo_interrupt",ure=25;class dre{constructor(t,e,r,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lre,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rD(),this.transactionQueueTree_=new w6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function eU(n){const e=n.infoData_.getNode(new Br(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function y2(n){return Jne({timestamp:eU(n)})}function tU(n,t,e,r,i){n.dataUpdateCount++;const o=new Br(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(i)if(r){const M=(0,Oe.UI)(e,H=>Pi(H));c=function Gne(n,t,e,r){const i=p6(n,r);if(i){const o=m6(i),c=o.path,w=o.queryId,M=zo(c,t),H=ni.fromObject(e);return g6(n,c,new Yy(t6(w),M,H))}return[]}(n.serverSyncTree_,o,M,i)}else{const M=Pi(e);c=Uj(n.serverSyncTree_,o,M,i)}else if(r){const M=(0,Oe.UI)(e,H=>Pi(H));c=function Hne(n,t,e){const r=ni.fromObject(e);return Qy(n,new Yy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,o,M)}else{const M=Pi(e);c=u2(n.serverSyncTree_,o,M)}let w=o;c.length>0&&(w=eb(n,o)),nl(n.eventQueue_,w,c)}function nU(n,t){x6(n,"connected",t),!1===t&&function gre(n){Xy(n,"onDisconnectEvents");const t=y2(n),e=rD();QO(n.onDisconnect_,Ar(),(i,o)=>{const c=Gj(i,o,n.serverSyncTree_,t);Ky(e,i,c)});let r=[];QO(e,Ar(),(i,o)=>{r=r.concat(u2(n.serverSyncTree_,i,o));const c=k6(n,i);eb(n,c)}),n.onDisconnect_=rD(),nl(n.eventQueue_,Ar(),r)}(n)}function x6(n,t,e){const r=new Br("/.info/"+t),i=Pi(e);n.infoData_.updateSnapshot(r,i);const o=u2(n.infoSyncTree_,r,i);nl(n.eventQueue_,r,o)}function wD(n){return n.nextWriteId_++}function D6(n,t,e,r,i){Xy(n,"set",{path:t.toString(),value:e,priority:r});const o=y2(n),c=Pi(e,r),w=mD(n.serverSyncTree_,t),M=b6(c,w,o),H=wD(n),te=h6(n.serverSyncTree_,t,M,H,!0);vD(n.eventQueue_,te),n.server_.put(t.toString(),c.val(!0),(ye,Ce)=>{const Ie="ok"===ye;Ie||go("set at "+t+" failed: "+ye);const He=Rp(n.serverSyncTree_,H,!Ie);nl(n.eventQueue_,t,He),Op(0,i,ye,Ce)});const de=k6(n,t);eb(n,de),nl(n.eventQueue_,de,[])}function _re(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&JO(n.onDisconnect_,t),Op(0,e,r,i)})}function rU(n,t,e,r){const i=Pi(e);n.server_.onDisconnectPut(t.toString(),i.val(!0),(o,c)=>{"ok"===o&&Ky(n.onDisconnect_,t,i),Op(0,r,o,c)})}function I6(n,t,e){let r;r=".info"===gr(t._path)?pD(n.infoSyncTree_,t,e):pD(n.serverSyncTree_,t,e),Jj(n.eventQueue_,t._path,r)}function iU(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Xj)}function Xy(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),zs(e,...t)}function Op(n,t,e,r){t&&$y(()=>{if("ok"===e)t(null);else{const i=(e||"error").toUpperCase();let o=i;r&&(o+=": "+r);const c=new Error(o);c.code=i,t(c)}})}function A6(n,t,e){return mD(n.serverSyncTree_,t,e)||sr.EMPTY_NODE}function CD(n,t=n.transactionQueueTree_){if(t||TD(n,t),r0(t)){const e=oU(n,t);(0,Oe.hu)(e.length>0,"Sending zero length transaction queue"),e.every(i=>0===i.status)&&function Tre(n,t,e){const r=e.map(H=>H.currentWriteId),i=A6(n,t,r);let o=i;const c=i.hash();for(let H=0;H<e.length;H++){const te=e[H];(0,Oe.hu)(0===te.status,"tryToSendTransactionQueue_: items in queue should all be run."),te.status=1,te.retryCount++;const de=zo(t,te.path);o=o.updateChild(de,te.currentOutputSnapshotRaw)}const w=o.val(!0),M=t;n.server_.put(M.toString(),w,H=>{Xy(n,"transaction put response",{path:M.toString(),status:H});let te=[];if("ok"===H){const de=[];for(let ye=0;ye<e.length;ye++)e[ye].status=2,te=te.concat(Rp(n.serverSyncTree_,e[ye].currentWriteId)),e[ye].onComplete&&de.push(()=>e[ye].onComplete(null,!0,e[ye].currentOutputSnapshotResolved)),e[ye].unwatcher();TD(n,_D(n.transactionQueueTree_,t)),CD(n,n.transactionQueueTree_),nl(n.eventQueue_,t,te);for(let ye=0;ye<de.length;ye++)$y(de[ye])}else{if("datastale"===H)for(let de=0;de<e.length;de++)e[de].status=3===e[de].status?4:0;else{go("transaction at "+M.toString()+" failed: "+H);for(let de=0;de<e.length;de++)e[de].status=4,e[de].abortReason=H}eb(n,t)}},c)}(n,f2(t),e)}else qj(t)&&yD(t,e=>{CD(n,e)})}function eb(n,t){const e=sU(n,t),r=f2(e);return function Ere(n,t,e){if(0===t.length)return;const r=[];let i=[];const c=t.filter(w=>0===w.status).map(w=>w.currentWriteId);for(let w=0;w<t.length;w++){const M=t[w],H=zo(e,M.path);let de,te=!1;if((0,Oe.hu)(null!==H,"rerunTransactionsUnderNode_: relativePath should not be null."),4===M.status)te=!0,de=M.abortReason,i=i.concat(Rp(n.serverSyncTree_,M.currentWriteId,!0));else if(0===M.status)if(M.retryCount>=ure)te=!0,de="maxretry",i=i.concat(Rp(n.serverSyncTree_,M.currentWriteId,!0));else{const ye=A6(n,M.path,c);M.currentInputSnapshot=ye;const Ce=t[w].update(ye.val());if(void 0!==Ce){m2("transaction failed: Data returned ",Ce,M.path);let Ie=Pi(Ce);"object"==typeof Ce&&null!=Ce&&(0,Oe.r3)(Ce,".priority")||(Ie=Ie.updatePriority(ye.getPriority()));const Ke=M.currentWriteId,ut=y2(n),_t=b6(Ie,ye,ut);M.currentOutputSnapshotRaw=Ie,M.currentOutputSnapshotResolved=_t,M.currentWriteId=wD(n),c.splice(c.indexOf(Ke),1),i=i.concat(h6(n.serverSyncTree_,M.path,_t,M.currentWriteId,M.applyLocally)),i=i.concat(Rp(n.serverSyncTree_,Ke,!0))}else te=!0,de="nodata",i=i.concat(Rp(n.serverSyncTree_,M.currentWriteId,!0))}nl(n.eventQueue_,e,i),i=[],te&&(t[w].status=2,setTimeout(t[w].unwatcher,Math.floor(0)),t[w].onComplete&&r.push("nodata"===de?()=>t[w].onComplete(null,!1,t[w].currentInputSnapshot):()=>t[w].onComplete(new Error(de),!1,null)))}TD(n,n.transactionQueueTree_);for(let w=0;w<r.length;w++)$y(r[w]);CD(n,n.transactionQueueTree_)}(n,oU(n,e),r),r}function sU(n,t){let e,r=n.transactionQueueTree_;for(e=gr(t);null!==e&&void 0===r0(r);)r=_D(r,e),e=gr(t=Kr(t));return r}function oU(n,t){const e=[];return aU(n,t,e),e.sort((r,i)=>r.order-i.order),e}function aU(n,t,e){const r=r0(t);if(r)for(let i=0;i<r.length;i++)e.push(r[i]);yD(t,i=>{aU(n,i,e)})}function TD(n,t){const e=r0(t);if(e){let r=0;for(let i=0;i<e.length;i++)2!==e[i].status&&(e[r]=e[i],r++);e.length=r,C6(t,e.length>0?e:void 0)}yD(t,r=>{TD(n,r)})}function k6(n,t){const e=f2(sU(n,t)),r=_D(n.transactionQueueTree_,t);return function tre(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{N6(n,i)}),N6(n,r),Zj(r,i=>{N6(n,i)}),e}function N6(n,t){const e=r0(t);if(e){const r=[];let i=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,Oe.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,Oe.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),i=i.concat(Rp(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&r.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?C6(t,void 0):e.length=o+1,nl(n.eventQueue_,f2(t),i);for(let c=0;c<r.length;c++)$y(r[c])}}const M6=function(n,t){const e=Dre(n),r=e.namespace;return"firebase.com"===e.domain&&ad(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&ad("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&go("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new RO(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new Br(e.pathString)}},Dre=function(n){let t="",e="",r="",i="",o="",c=!0,w="https",M=443;if("string"==typeof n){let H=n.indexOf("//");H>=0&&(w=n.substring(0,H-1),n=n.substring(H+2));let te=n.indexOf("/");-1===te&&(te=n.length);let de=n.indexOf("?");-1===de&&(de=n.length),t=n.substring(0,Math.min(te,de)),te<de&&(i=function Sre(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let i=e[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(n.substring(te,de)));const ye=function xre(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):go(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,de)));H=t.indexOf(":"),H>=0?(c="https"===w||"wss"===w,M=parseInt(t.substring(H+1),10)):H=t.length;const Ce=t.slice(0,H);if("localhost"===Ce.toLowerCase())e="localhost";else if(Ce.split(".").length<=2)e=Ce;else{const Ie=t.indexOf(".");r=t.substring(0,Ie).toLowerCase(),e=t.substring(Ie+1),o=r}"ns"in ye&&(o=ye.ns)}return{host:t,port:M,domain:e,subdomain:r,secure:c,scheme:w,pathString:i,namespace:o}};class lU{constructor(t,e,r,i){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Oe.Pz)(this.snapshot.exportVal())}}class cU{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class R6{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,Oe.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class uU{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new Oe.BH;return _re(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Vl("OnDisconnect.remove",this._path);const t=new Oe.BH;return rU(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Vl("OnDisconnect.set",this._path),ud("OnDisconnect.set",t,this._path,!1);const e=new Oe.BH;return rU(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Vl("OnDisconnect.setWithPriority",this._path),ud("OnDisconnect.setWithPriority",t,this._path,!1),S6("OnDisconnect.setWithPriority",e,!1);const r=new Oe.BH;return function yre(n,t,e,r,i){const o=Pi(e,r);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,w)=>{"ok"===c&&Ky(n.onDisconnect_,t,o),Op(0,i,c,w)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){Vl("OnDisconnect.update",this._path),Kj("OnDisconnect.update",t,this._path,!1);const e=new Oe.BH;return function bre(n,t,e,r){if((0,Oe.xb)(e))return zs("onDisconnect().update() called with empty data.  Don't do anything."),void Op(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(i,o)=>{"ok"===i&&Gs(e,(c,w)=>{const M=Pi(w);Ky(n.onDisconnect_,xi(t,c),M)}),Op(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ba{constructor(t,e,r,i){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=i}get key(){return _r(this._path)?null:jO(this._path)}get ref(){return new Hl(this._repo,this._path)}get _queryIdentifier(){const t=mj(this._queryParams),e=kO(t);return"{}"===e?"default":e}get _queryObject(){return mj(this._queryParams)}isEqual(t){if(!((t=(0,Oe.m9)(t))instanceof ba))return!1;const e=this._repo===t._repo,r=UO(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function yte(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function ED(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Pp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===cd){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Mh)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==ld)throw new Error(r);if("string"!=typeof e)throw new Error(i)}}else if(n.getIndex()===ti){if(null!=t&&!p2(t)||null!=e&&!p2(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Oe.hu)(n.getIndex()instanceof GO||n.getIndex()===qO,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function SD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Hl extends ba{constructor(t,e){super(t,e,new eD,!1)}get parent(){const t=XB(this._path);return null===t?null:new Hl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class s0{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Br(t),r=o0(this.ref,t);return new s0(this._node.getChild(e),r,ti)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new s0(i,o0(this.ref,r),ti)))}hasChild(t){const e=new Br(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dU(n,t){return(n=(0,Oe.m9)(n))._checkNotDeleted("ref"),void 0!==t?o0(n._root,t):n._root}function hU(n,t){(n=(0,Oe.m9)(n))._checkNotDeleted("refFromURL");const e=M6(t,n._repo.repoInfo_.nodeAdmin);Yj("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&ad("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),dU(n,e.path.toString())}function o0(n,t){return null===gr((n=(0,Oe.m9)(n))._path)?are("child","path",t,!1):_2("child","path",t,!1),new Hl(n._repo,xi(n._path,t))}function O6(n,t){n=(0,Oe.m9)(n),Vl("set",n._path),ud("set",t,n._path,!1);const e=new Oe.BH;return D6(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Mre(n,t){Kj("update",t,n._path,!1);const e=new Oe.BH;return function mre(n,t,e,r){Xy(n,"update",{path:t.toString(),value:e});let i=!0;const o=y2(n),c={};if(Gs(e,(w,M)=>{i=!1,c[w]=Gj(xi(t,w),Pi(M),n.serverSyncTree_,o)}),i)zs("update() called with empty data.  Don't do anything."),Op(0,r,"ok",void 0);else{const w=wD(n),M=function Vne(n,t,e,r){!function ine(n,t,e,r){(0,Oe.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=r6(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const i=ni.fromObject(e);return Qy(n,new Yy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,t,c,w);vD(n.eventQueue_,M),n.server_.merge(t.toString(),e,(H,te)=>{const de="ok"===H;de||go("update at "+t+" failed: "+H);const ye=Rp(n.serverSyncTree_,w,!de),Ce=ye.length>0?eb(n,t):t;nl(n.eventQueue_,Ce,ye),Op(0,r,H,te)}),Gs(e,H=>{const te=k6(n,xi(t,H));eb(n,te)}),nl(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Rre(n){n=(0,Oe.m9)(n);const t=new R6(()=>{}),e=new b2(t);return function pre(n,t,e){const r=function qne(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(H,te)=>{const de=zo(H,e);r=r||Np(te,de)});let i=n.syncPointTree_.get(e);i?r=r||Np(i,Ar()):(i=new Oj,n.syncPointTree_=n.syncPointTree_.set(e,i));const o=null!=r,c=o?new Ap(r,!0,!1):null;return function Ane(n){return oD(n.viewCache_)}(Pj(i,t,aD(n.pendingWriteTree_,t._path),o?c.getNode():sr.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=r?Promise.resolve(r):n.server_.get(t).then(i=>{const o=Pi(i).withIndex(t._queryParams.getIndex());let c;if(f6(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=u2(n.serverSyncTree_,t._path,o);else{const w=d2(n.serverSyncTree_,t);c=Uj(n.serverSyncTree_,t._path,o,w)}return nl(n.eventQueue_,t._path,c),pD(n.serverSyncTree_,t,e,null,!0),o},i=>(Xy(n,"get for query "+(0,Oe.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,e).then(r=>new s0(r,new Hl(n._repo,n._path),n._queryParams.getIndex()))}class b2{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new lU("value",this,new s0(t.snapshotNode,new Hl(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new cU(this,t,e):null}matches(t){return t instanceof b2&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class xD{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new cU(this,t,e):null}createEvent(t,e){(0,Oe.hu)(null!=t.childName,"Child events should have a childName.");const r=o0(new Hl(e._repo,e._path),t.childName),i=e._queryParams.getIndex();return new lU(t.type,this,new s0(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof xD&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function v2(n,t,e,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const M=e,H=(te,de)=>{I6(n._repo,n,w),M(te,de)};H.userCallback=e.userCallback,H.context=e.context,e=H}const c=new R6(e,o||void 0),w="value"===t?new b2(c):new xD(t,c);return function vre(n,t,e){let r;r=".info"===gr(t._path)?f6(n.infoSyncTree_,t,e):f6(n.serverSyncTree_,t,e),Jj(n.eventQueue_,t._path,r)}(n._repo,n,w),()=>I6(n._repo,n,w)}function P6(n,t,e,r){return v2(n,"value",t,e,r)}function fU(n,t,e,r){return v2(n,"child_added",t,e,r)}function pU(n,t,e,r){return v2(n,"child_changed",t,e,r)}function mU(n,t,e,r){return v2(n,"child_moved",t,e,r)}function gU(n,t,e,r){return v2(n,"child_removed",t,e,r)}function _U(n,t,e){let r=null;const i=e?new R6(e):null;"value"===t?r=new b2(i):t&&(r=new xD(t,i)),I6(n._repo,n,r)}class qc{}class yU extends qc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ud("endAt",this._value,t._path,!0);const e=YO(t._queryParams,this._value,this._key);if(SD(e),Pp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ba(t._repo,t._path,e,t._orderByCalled)}}class Pre extends qc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ud("endBefore",this._value,t._path,!1);const e=function Gte(n,t,e){let r,i;return n.index_===cd?("string"==typeof t&&(t=hj(t)),i=YO(n,t,e)):(r=null==e?Mh:hj(e),i=YO(n,t,r)),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(SD(e),Pp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ba(t._repo,t._path,e,t._orderByCalled)}}class bU extends qc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ud("startAt",this._value,t._path,!0);const e=KO(t._queryParams,this._value,this._key);if(SD(e),Pp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ba(t._repo,t._path,e,t._orderByCalled)}}class Bre extends qc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ud("startAfter",this._value,t._path,!1);const e=function zte(n,t,e){let r;if(n.index_===cd)"string"==typeof t&&(t=dj(t)),r=KO(n,t,e);else{let i;i=null==e?ld:dj(e),r=KO(n,t,i)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(SD(e),Pp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ba(t._repo,t._path,e,t._orderByCalled)}}class Ure extends qc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ba(t._repo,t._path,function Hte(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Hre extends qc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ba(t._repo,t._path,function $te(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class zre extends qc{constructor(t){super(),this._path=t}_apply(t){ED(t,"orderByChild");const e=new Br(this._path);if(_r(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new GO(e),i=tD(t._queryParams,r);return Pp(i),new ba(t._repo,t._path,i,!0)}}class qre extends qc{_apply(t){ED(t,"orderByKey");const e=tD(t._queryParams,cd);return Pp(e),new ba(t._repo,t._path,e,!0)}}class Wre extends qc{_apply(t){ED(t,"orderByPriority");const e=tD(t._queryParams,ti);return Pp(e),new ba(t._repo,t._path,e,!0)}}class Yre extends qc{_apply(t){ED(t,"orderByValue");const e=tD(t._queryParams,qO);return Pp(e),new ba(t._repo,t._path,e,!0)}}class Qre extends qc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ud("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yU(this._value,this._key)._apply(new bU(this._value,this._key)._apply(t))}}function Zc(n,...t){let e=(0,Oe.m9)(n);for(const r of t)e=r._apply(e);return e}(function Rne(n){(0,Oe.hu)(!dD,"__referenceConstructor has already been defined"),dD=n})(Hl),function Bne(n){(0,Oe.hu)(!fD,"__referenceConstructor has already been defined"),fD=n}(Hl);const eie="FIREBASE_DATABASE_EMULATOR_HOST",F6={};let vU=!1;function wU(n,t,e,r,i){let o=r||n.options.databaseURL;void 0===o&&(n.options.projectId||ad("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zs("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let M,H,c=M6(o,i),w=c.repoInfo;typeof process<"u"&&process.env&&(H=process.env[eie]),H?(M=!0,o=`http://${H}?ns=${w.namespace}`,c=M6(o,i),w=c.repoInfo):M=!c.repoInfo.secure;const te=i&&M?new Jw(Jw.OWNER):new Zee(n.name,n.options,t);Yj("Invalid Firebase Database URL",c),_r(c.path)||ad("Database URL must point to the root of a Firebase Database (not including a child path).");const de=function rie(n,t,e,r){let i=F6[t.name];i||(i={},F6[t.name]=i);let o=i[n.toURLString()];return o&&ad("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new dre(n,vU,e,r),i[n.toURLString()]=o,o}(w,n,te,new qee(n.name,e));return new sie(de,n)}class sie{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function hre(n,t,e){if(n.stats_=FO(n.repoInfo_),n.forceRestClient_||Gee())n.server_=new nD(n.repoInfo_,(r,i,o,c)=>{tU(n,r,i,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>nU(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Oe.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Xg(n.repoInfo_,t,(r,i,o,c)=>{tU(n,r,i,o,c)},r=>{nU(n,r)},r=>{!function fre(n,t){Gs(t,(e,r)=>{x6(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Yee(n,t){const e=n.toString();return PO[e]||(PO[e]=t()),PO[e]}(n.repoInfo_,()=>new Jte(n.stats_,n.server_)),n.infoData_=new qte,n.infoSyncTree_=new jj({startListening:(r,i,o,c)=>{let w=[];const M=n.infoData_.getNode(r._path);return M.isEmpty()||(w=u2(n.infoSyncTree_,r._path,M),setTimeout(()=>{c("ok")},0)),w},stopListening:()=>{}}),x6(n,"connected",!1),n.serverSyncTree_=new jj({startListening:(r,i,o,c)=>(n.server_.listen(r,o,i,(w,M)=>{const H=c(w,M);nl(n.eventQueue_,r._path,H)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hl(this._repo,Ar())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function nie(n,t){const e=F6[t];(!e||e[n.key]!==n)&&ad(`Database ${t}(${n.repoInfo_}) has already been deleted.`),iU(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ad("Cannot call "+t+" on a deleted database.")}}function CU(){VB.IS_TRANSPORT_INITIALIZED&&go("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function oie(){CU(),Dp.forceDisallow()}function aie(){CU(),zy.forceDisallow(),Dp.forceAllow()}function die(n,t){wB(n,t)}const fie={".sv":"timestamp"};class gie{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Xg.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Xg.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function hie(n){gB(Oo.SDK_VERSION),(0,Oo._registerComponent)(new jc.wA("database",(t,{instanceIdentifier:e})=>wU(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Oo.registerVersion)(pB,"0.13.5",n),(0,Oo.registerVersion)(pB,"0.13.5","esm2017")}();const vie=new Uc.Yd("@firebase/database-compat"),TU=function(n){vie.warn("FIREBASE WARNING: "+n)};class Tie{constructor(t){this._delegate=t}cancel(t){(0,Oe.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Oe.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,Oe.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Oe.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,Oe.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Oe.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),i=>e(i)),r}setWithPriority(t,e,r){(0,Oe.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Oe.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(t,e);return r&&i.then(()=>r(null),o=>r(o)),i}update(t,e){if((0,Oe.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,TU("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Oe.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),i=>e(i)),r}}class Eie{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,Oe.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Fp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,Oe.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Oe.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Oe.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Oe.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,Oe.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),_2("DataSnapshot.child","path",t,!1),new Fp(this._database,this._delegate.child(t))}hasChild(t){return(0,Oe.Dv)("DataSnapshot.hasChild",1,1,arguments.length),_2("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,Oe.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,Oe.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Oe.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Fp(this._database,e)))}hasChildren(){return(0,Oe.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Oe.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Oe.Dv)("DataSnapshot.ref",0,0,arguments.length),new rl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Xs{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,i){var o;(0,Oe.Dv)("Query.on",2,4,arguments.length),(0,Oe.Wj)("Query.on","callback",e,!1);const c=Xs.getCancelAndContextArgs_("Query.on",r,i),w=(H,te)=>{e.call(c.context,new Fp(this.database,H),te)};w.userCallback=e,w.context=c.context;const M=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(t){case"value":return P6(this._delegate,w,M),e;case"child_added":return fU(this._delegate,w,M),e;case"child_removed":return gU(this._delegate,w,M),e;case"child_changed":return pU(this._delegate,w,M),e;case"child_moved":return mU(this._delegate,w,M),e;default:throw new Error((0,Oe.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,Oe.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Oe.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,Oe.Wj)("Query.off","callback",e,!0),(0,Oe.lb)("Query.off","context",r,!0),e){const i=()=>{};i.userCallback=e,i.context=r,_U(this._delegate,t,i)}else _U(this._delegate,t)}get(){return Rre(this._delegate).then(t=>new Fp(this.database,t))}once(t,e,r,i){(0,Oe.Dv)("Query.once",1,4,arguments.length),(0,Oe.Wj)("Query.once","callback",e,!0);const o=Xs.getCancelAndContextArgs_("Query.once",r,i),c=new Oe.BH,w=(H,te)=>{const de=new Fp(this.database,H);e&&e.call(o.context,de,te),c.resolve(de)};w.userCallback=e,w.context=o.context;const M=H=>{o.cancel&&o.cancel.call(o.context,H),c.reject(H)};switch(t){case"value":P6(this._delegate,w,M,{onlyOnce:!0});break;case"child_added":fU(this._delegate,w,M,{onlyOnce:!0});break;case"child_removed":gU(this._delegate,w,M,{onlyOnce:!0});break;case"child_changed":pU(this._delegate,w,M,{onlyOnce:!0});break;case"child_moved":mU(this._delegate,w,M,{onlyOnce:!0});break;default:throw new Error((0,Oe.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,Oe.Dv)("Query.limitToFirst",1,1,arguments.length),new Xs(this.database,Zc(this._delegate,function Vre(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ure(n)}(t)))}limitToLast(t){return(0,Oe.Dv)("Query.limitToLast",1,1,arguments.length),new Xs(this.database,Zc(this._delegate,function $re(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Hre(n)}(t)))}orderByChild(t){return(0,Oe.Dv)("Query.orderByChild",1,1,arguments.length),new Xs(this.database,Zc(this._delegate,function Gre(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _2("orderByChild","path",n,!1),new zre(n)}(t)))}orderByKey(){return(0,Oe.Dv)("Query.orderByKey",0,0,arguments.length),new Xs(this.database,Zc(this._delegate,function Zre(){return new qre}()))}orderByPriority(){return(0,Oe.Dv)("Query.orderByPriority",0,0,arguments.length),new Xs(this.database,Zc(this._delegate,function Kre(){return new Wre}()))}orderByValue(){return(0,Oe.Dv)("Query.orderByValue",0,0,arguments.length),new Xs(this.database,Zc(this._delegate,function Jre(){return new Yre}()))}startAt(t=null,e){return(0,Oe.Dv)("Query.startAt",0,2,arguments.length),new Xs(this.database,Zc(this._delegate,function Lre(n=null,t){return g2("startAt","key",t,!0),new bU(n,t)}(t,e)))}startAfter(t=null,e){return(0,Oe.Dv)("Query.startAfter",0,2,arguments.length),new Xs(this.database,Zc(this._delegate,function jre(n,t){return g2("startAfter","key",t,!0),new Bre(n,t)}(t,e)))}endAt(t=null,e){return(0,Oe.Dv)("Query.endAt",0,2,arguments.length),new Xs(this.database,Zc(this._delegate,function Ore(n,t){return g2("endAt","key",t,!0),new yU(n,t)}(t,e)))}endBefore(t=null,e){return(0,Oe.Dv)("Query.endBefore",0,2,arguments.length),new Xs(this.database,Zc(this._delegate,function Fre(n,t){return g2("endBefore","key",t,!0),new Pre(n,t)}(t,e)))}equalTo(t,e){return(0,Oe.Dv)("Query.equalTo",1,2,arguments.length),new Xs(this.database,Zc(this._delegate,function Xre(n,t){return g2("equalTo","key",t,!0),new Qre(n,t)}(t,e)))}toString(){return(0,Oe.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Oe.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,Oe.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Xs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const i={cancel:void 0,context:void 0};if(e&&r)i.cancel=e,(0,Oe.Wj)(t,"cancel",i.cancel,!0),i.context=r,(0,Oe.lb)(t,"context",i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error((0,Oe.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=e}return i}get ref(){return new rl(this.database,new Hl(this._delegate._repo,this._delegate._path))}}class rl extends Xs{constructor(t,e){super(t,new ba(e._repo,e._path,new eD,!1)),this.database=t,this._delegate=e}getKey(){return(0,Oe.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,Oe.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new rl(this.database,o0(this._delegate,t))}getParent(){(0,Oe.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new rl(this.database,t):null}getRoot(){return(0,Oe.Dv)("Reference.root",0,0,arguments.length),new rl(this.database,this._delegate.root)}set(t,e){(0,Oe.Dv)("Reference.set",1,2,arguments.length),(0,Oe.Wj)("Reference.set","onComplete",e,!0);const r=O6(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}update(t,e){if((0,Oe.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,TU("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vl("Reference.update",this._delegate._path),(0,Oe.Wj)("Reference.update","onComplete",e,!0);const r=Mre(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}setWithPriority(t,e,r){(0,Oe.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Oe.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function Nre(n,t,e){if(Vl("setWithPriority",n._path),ud("setWithPriority",t,n._path,!1),S6("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new Oe.BH;return D6(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&i.then(()=>r(null),o=>r(o)),i}remove(t){(0,Oe.Dv)("Reference.remove",0,1,arguments.length),(0,Oe.Wj)("Reference.remove","onComplete",t,!0);const e=function Are(n){return Vl("remove",n._path),O6(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,Oe.Dv)("Reference.transaction",1,3,arguments.length),(0,Oe.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,Oe.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,Oe.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function _ie(n,t,e){var r;if(n=(0,Oe.m9)(n),Vl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=e?.applyLocally)||void 0===r||r,o=new Oe.BH,w=P6(n,()=>{});return function Cre(n,t,e,r,i,o){Xy(n,"transaction on "+t);const c={path:t,update:e,onComplete:r,status:null,order:yB(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},w=A6(n,t,void 0);c.currentInputSnapshot=w;const M=c.update(w.val());if(void 0===M)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{m2("transaction failed: Data returned ",M,c.path),c.status=0;const H=_D(n.transactionQueueTree_,t),te=r0(H)||[];let de;te.push(c),C6(H,te),"object"==typeof M&&null!==M&&(0,Oe.r3)(M,".priority")?(de=(0,Oe.DV)(M,".priority"),(0,Oe.hu)(p2(de),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):de=(mD(n.serverSyncTree_,t)||sr.EMPTY_NODE).getPriority().val();const ye=y2(n),Ce=Pi(M,de),Ie=b6(Ce,w,ye);c.currentOutputSnapshotRaw=Ce,c.currentOutputSnapshotResolved=Ie,c.currentWriteId=wD(n);const He=h6(n.serverSyncTree_,t,Ie,c.currentWriteId,c.applyLocally);nl(n.eventQueue_,t,He),CD(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(M,H,te)=>{let de=null;M?o.reject(M):(de=new s0(te,new Hl(n._repo,n._path),ti),o.resolve(new gie(H,de)))},w,i),o.promise}(this._delegate,t,{applyLocally:r}).then(o=>new Eie(o.committed,new Fp(this.database,o.snapshot)));return e&&i.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),i}setPriority(t,e){(0,Oe.Dv)("Reference.setPriority",1,2,arguments.length),(0,Oe.Wj)("Reference.setPriority","onComplete",e,!0);const r=function kre(n,t){n=(0,Oe.m9)(n),Vl("setPriority",n._path),S6("setPriority",t,!1);const e=new Oe.BH;return D6(n._repo,xi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}push(t,e){(0,Oe.Dv)("Reference.push",0,2,arguments.length),(0,Oe.Wj)("Reference.push","onComplete",e,!0);const r=function Ire(n,t){n=(0,Oe.m9)(n),Vl("push",n._path),ud("push",t,n._path,!0);const e=eU(n._repo),r=Bte(e),i=o0(n,r),o=o0(n,r);let c;return c=null!=t?O6(o,t).then(()=>o):Promise.resolve(o),i.then=c.then.bind(c),i.catch=c.then.bind(c,void 0),i}(this._delegate,t),i=r.then(c=>new rl(this.database,c));e&&i.then(()=>e(null),c=>e(c));const o=new rl(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return Vl("Reference.onDisconnect",this._delegate._path),new Tie(new uU(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class w2{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:oie,forceLongPolling:aie}}useEmulator(t,e,r={}){!function lie(n,t,e,r={}){(n=(0,Oe.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ad("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ad('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Jw(Jw.OWNER);else if(r.mockUserToken){const c="string"==typeof r.mockUserToken?r.mockUserToken:(0,Oe.Sg)(r.mockUserToken,n.app.options.projectId);o=new Jw(c)}!function tie(n,t,e,r){n.repoInfo_=new RO(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,t,e,o)}(this._delegate,t,e,r)}ref(t){if((0,Oe.Dv)("database.ref",0,1,arguments.length),t instanceof rl){const e=hU(this._delegate,t.toString());return new rl(this,e)}{const e=dU(this._delegate,t);return new rl(this,e)}}refFromURL(t){(0,Oe.Dv)("database.refFromURL",1,1,arguments.length);const r=hU(this._delegate,t);return new rl(this,r)}goOffline(){return(0,Oe.Dv)("database.goOffline",0,0,arguments.length),function cie(n){(n=(0,Oe.m9)(n))._checkNotDeleted("goOffline"),iU(n._repo)}(this._delegate)}goOnline(){return(0,Oe.Dv)("database.goOnline",0,0,arguments.length),function uie(n){(n=(0,Oe.m9)(n))._checkNotDeleted("goOnline"),function wre(n){n.persistentConnection_&&n.persistentConnection_.resume(Xj)}(n._repo)}(this._delegate)}}w2.ServerValue={TIMESTAMP:function pie(){return fie}(),increment:n=>function mie(n){return{".sv":{increment:n}}}(n)};var xie=Object.freeze({__proto__:null,initStandalone:function Sie({app:n,url:t,version:e,customAuthImpl:r,namespace:i,nodeAdmin:o=!1}){gB(e);const c=new jc.zt("auth-internal",new jc.H0("database-standalone"));return c.setComponent(new jc.wA("auth-internal",()=>r,"PRIVATE")),{instance:new w2(wU(n,c,void 0,t,o),n),namespace:i}}});const Die=w2.ServerValue;function EU(n){return null==n}function SU(n){return"function"==typeof n.set}function xU(n,t){return SU(t)?t:n.ref(t)}function DU(n,t){if(function Aie(n){return"string"==typeof n}(n))return t.stringCase();if(SU(n))return t.firebaseCase();if(function kie(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function C2(n,t,e="on",r=tg.z){return new Ir.y(i=>{let o=null;return o=n[e](t,(c,w)=>{r.schedule(()=>{i.next({snapshot:c,prevKey:w})}),"once"===e&&r.schedule(()=>i.complete())},c=>{r.schedule(()=>i.error(c))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,me.U)(i=>{const{snapshot:o,prevKey:c}=i;let w=null;return o.exists()&&(w=o.key),{type:t,payload:o,prevKey:c,key:w}}),(0,_E.B)())}function IU(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function Rie(n,t){const{payload:e,prevKey:r,key:i}=t,o=IU(n,i),c=function Mie(n,t){if(EU(t))return 0;{const e=IU(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let w=null;t.payload.forEach(M=>{const H={payload:M,type:"value",prevKey:w,key:M.key};return w=M.key,n=[...n,H],!1})}return n;case"child_added":if(o>-1){const w=n[o-1];(w&&w.key||null)!==r&&(n=n.filter(M=>M.payload.key!==e.key)).splice(c,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(w=>w.payload.key!==e.key);case"child_changed":return n.map(w=>w.payload.key===i?t:w);case"child_moved":if(o>-1){const w=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,w),n}return n;default:return n}}function AU(n){return(EU(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function kU(n,t,e){return function Nie(n,t,e){return C2(n,"value","once",e).pipe(Vr(r=>{const i=[Pt(r)];return t.forEach(o=>i.push(C2(n,o,"on",e))),(0,$_.T)(...i).pipe(Fa(Rie,[]))}),mh())}(n,t=AU(t),e)}function NU(n,t,e){const r=(t=AU(t)).map(i=>C2(n,i,"on",e));return(0,$_.T)(...r)}function MU(n,t){return function(r,i){return DU(r,{stringCase:()=>n.child(r)[t](i),firebaseCase:()=>r[t](i),snapshotCase:()=>r.ref[t](i)})}}function Lie(n){return function(e){return e?DU(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function RU(n,t){return function(){return C2(n,"value","on",t)}}!function Iie(n){n.INTERNAL.registerComponent(new jc.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:e});return new w2(i,r)},"PUBLIC").setServiceProps({Reference:rl,Query:Xs,Database:w2,DataSnapshot:Fp,enableLogging:die,INTERNAL:xie,ServerValue:Die}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.5")}(Z3.Z);const Uie=new s.OlP("angularfire2.realtimeDatabaseURL"),Vie=new s.OlP("angularfire2.database.use-emulator");let Hie=(()=>{class n{constructor(e,r,i,o,c,w,M,H,te,de,ye,Ce,Ie,He,Ke){this.schedulers=w;const ut=M,_t=(0,As.on)(e,c,r);H&&dO(_t,c,te,ye,Ce,Ie,de,He),this.database=(0,As.cc)(`${_t.name}.database.${i}`,"AngularFireDatabase",_t.name,()=>{const At=c.runOutsideAngular(()=>_t.database(i||void 0));return ut&&At.useEmulator(...ut),At},[ut])}list(e,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>xU(this.database,e));let o=i;return r&&(o=r(i)),function Bie(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:MU(r,"update"),set:MU(r,"set"),push:i=>r.push(i),remove:Lie(r),snapshotChanges:i=>kU(n,i,e).pipe(Or.iC),stateChanges:i=>NU(n,i,e).pipe(Or.iC),auditTrail:i=>function Oie(n,t,e){return function Fie(n,t,e){return function Pie(n,t){return C2(n,"value","on",t).pipe((0,me.U)(e=>{let r;return e.payload.forEach(i=>(r=i.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(YE(t),(0,me.U)(([i,o])=>{const c=i.lastKeyToLoad,w=o.map(M=>M.key);return{actions:o,lastKeyToLoad:c,loadedKeys:w}}),function Pee(n){return(0,Rr.e)((t,e)=>{let r=!1,i=0;t.subscribe((0,Ct.x)(e,o=>(r||(r=!n(o,i++)))&&e.next(o)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,me.U)(i=>i.actions))}(n,NU(n,t).pipe(Fa((i,o)=>[...i,o],[])),e)}(n,i,e).pipe(Or.iC),valueChanges:(i,o)=>kU(n,i,e).pipe((0,me.U)(w=>w.map(M=>o&&o.idField?Object.assign(Object.assign({},M.payload.val()),{[o.idField]:M.key}):M.payload.val())),Or.iC)}}(o,this)}object(e){return function jie(n,t){return{query:n,snapshotChanges:()=>RU(n,t.schedulers.outsideAngular)().pipe(Or.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>RU(n,t.schedulers.outsideAngular)().pipe(Or.iC,(0,me.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>xU(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(As.Dh),s.LFG(As.xv,8),s.LFG(Uie,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Or.HU),s.LFG(Vie,8),s.LFG(hO,8),s.LFG(sO,8),s.LFG(oO,8),s.LFG(aO,8),s.LFG(lO,8),s.LFG(cO,8),s.LFG(uO,8),s.LFG(Hw,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$ie=(()=>{class n{constructor(){iO.Z.registerVersion("angularfire",Or.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Hie]}),n})(),zie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=s.oAB({type:n,bootstrap:[vq]});static#n=this.\u0275inj=s.cJS({providers:[{provide:m,useClass:v},G3,v5,...BQ,...jQ,...UQ,...VQ,...HQ,...$Q],imports:[Cl,cA,XT,ek,fk,iC,OE.forRoot(),bq,As.hO.initializeApp(zQ_firebase),$ie,LQ,Oee,W4.forRoot(),Bz,y3]})}return n})();Kh().bootstrapModule(zie).catch(n=>console.error(n))},4313:(Vt,St,Re)=>{var s=Re(7156).default,et=Re(6737).default,Ne=Re(8186).default,rt=Re(8237).default;Vt.exports=function _(z,B,A){function y(u,f){if(!B[u]){if(!z[u]){if(g)return g(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var m=B[u]={exports:{}};z[u][0].call(m.exports,function(C){return y(z[u][1][C]||C)},m,m.exports,_,z,B,A)}return B[u].exports}for(var g=void 0,d=0;d<A.length;d++)y(A[d]);return y}({1:[function(_,z,B){"use strict";const A=_("fs"),y=_("fast-csv"),g=_("dayjs/plugin/customParseFormat"),d=_("dayjs/plugin/utc"),u=_("dayjs").extend(g).extend(d),f=_("../utils/stream-buf"),{fs:{exists:b}}=_("../utils/utils"),p={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};z.exports=class{constructor(m){this.workbook=m,this.worksheet=null}readFile(m,C){var E=this;return s(function*(){if(C=C||{},!(yield b(m)))throw new Error("File not found: "+m);const v=A.createReadStream(m),D=yield E.read(v,C);return v.close(),D})()}read(m,C){return C=C||{},new Promise((E,v)=>{const D=this.workbook.addWorksheet(C.sheetName),S=C.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],R=C.map||function(Z){if(""===Z)return null;const ee=Number(Z);if(!Number.isNaN(ee)&&ee!==1/0)return ee;const ne=S.reduce((re,oe)=>{if(re)return re;const fe=u(Z,oe,!0);return fe.isValid()?fe:null},null);if(ne)return new Date(ne.valueOf());const J=p[Z];return void 0!==J?J:Z},L=y.parse(C.parserOptions).on("data",Z=>{D.addRow(Z.map(R))}).on("end",()=>{L.emit("worksheet",D)});L.on("worksheet",E).on("error",v),m.pipe(L)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(m,C){return new Promise((E,v)=>{const D=this.workbook.getWorksheet((C=C||{}).sheetName||C.sheetId),S=y.format(C.formatterOptions);m.on("finish",()=>{E()}),S.on("error",v),S.pipe(m);const{dateFormat:R,dateUTC:L}=C,Z=C.map||(J=>{if(J){if(J.text||J.hyperlink)return J.hyperlink||J.text||"";if(J.formula||J.result)return J.result||"";if(J instanceof Date)return R?L?u.utc(J).format(R):u(J).format(R):L?u.utc(J).format():u(J).format();if(J.error)return J.error;if("object"==typeof J)return JSON.stringify(J)}return J}),ee=void 0===C.includeEmptyRows||C.includeEmptyRows;let ne=1;D&&D.eachRow((J,re)=>{if(ee)for(;ne++<re-1;)S.write([]);const{values:oe}=J;oe.shift(),S.write(oe.map(Z)),ne=re}),S.end()})}writeFile(m,C){const E={encoding:(C=C||{}).encoding||"utf8"},v=A.createWriteStream(m,E);return this.write(v,C)}writeBuffer(m){var C=this;return s(function*(){const E=new f;return yield C.write(E,m),E.read()})()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(_,z,B){"use strict";const A=_("../utils/col-cache");class y{constructor(d,u){let f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this.worksheet=d,u)if("string"==typeof u){const b=A.decodeAddress(u);this.nativeCol=b.col+f,this.nativeColOff=0,this.nativeRow=b.row+f,this.nativeRowOff=0}else void 0!==u.nativeCol?(this.nativeCol=u.nativeCol||0,this.nativeColOff=u.nativeColOff||0,this.nativeRow=u.nativeRow||0,this.nativeRowOff=u.nativeRowOff||0):void 0!==u.col?(this.col=u.col+f,this.row=u.row+f):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(d){return d instanceof y||null==d?d:new y(d)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(d){this.nativeCol=Math.floor(d),this.nativeColOff=Math.floor((d-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(d){this.nativeRow=Math.floor(d),this.nativeRowOff=Math.floor((d-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(d){this.nativeCol=d.nativeCol,this.nativeColOff=d.nativeColOff,this.nativeRow=d.nativeRow,this.nativeRowOff=d.nativeRowOff}}z.exports=y},{"../utils/col-cache":19}],3:[function(_,z,B){"use strict";const A=_("../utils/col-cache"),y=_("../utils/under-dash"),g=_("./enums"),{slideFormula:d}=_("../utils/shared-formula"),u=_("./note");class f{constructor(m,C,E){if(!m||!C)throw new Error("A Cell needs a Row");this._row=m,this._column=C,A.validateAddress(E),this._address=E,this._value=b.create(f.Types.Null,this),this.style=this._mergeStyle(m.style,C.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(m){this.style.numFmt=m}get font(){return this.style.font}set font(m){this.style.font=m}get alignment(){return this.style.alignment}set alignment(m){this.style.alignment=m}get border(){return this.style.border}set border(m){this.style.border=m}get fill(){return this.style.fill}set fill(m){this.style.fill=m}get protection(){return this.style.protection}set protection(m){this.style.protection=m}_mergeStyle(m,C,E){const v=m&&m.numFmt||C&&C.numFmt;v&&(E.numFmt=v);const D=m&&m.font||C&&C.font;D&&(E.font=D);const S=m&&m.alignment||C&&C.alignment;S&&(E.alignment=S);const R=m&&m.border||C&&C.border;R&&(E.border=R);const L=m&&m.fill||C&&C.fill;L&&(E.fill=L);const Z=m&&m.protection||C&&C.protection;return Z&&(E.protection=Z),E}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===f.Types.Merge}merge(m,C){this._value.release(),this._value=b.create(f.Types.Merge,this,m),C||(this.style=m.style)}unmerge(){this.type===f.Types.Merge&&(this._value.release(),this._value=b.create(f.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(m){return this._value.type===f.Types.Merge&&this._value.isMergedTo(m)}get master(){return this.type===f.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===f.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(m){this.type!==f.Types.Merge?(this._value.release(),this._value=b.create(b.getType(m),this,m)):this._value.master.value=m}get note(){return this._comment&&this._comment.note}set note(m){this._comment=new u(m)}get text(){return this._value.toString()}get html(){return y.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(m){this.type===f.Types.String&&(this._value=b.create(f.Types.Hyperlink,this,{text:this._value.value,hyperlink:m}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:m}=this._row;return{sheetName:m.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(m){this.names=[m]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(m){const{definedNames:C}=this.workbook;C.removeAllNames(this.fullAddress),m.forEach(E=>{C.addEx(this.fullAddress,E)})}addName(m){this.workbook.definedNames.addEx(this.fullAddress,m)}removeName(m){this.workbook.definedNames.removeEx(this.fullAddress,m)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(m){this._dataValidations.add(this.address,m)}get model(){const{model:m}=this._value;return m.style=this.style,this._comment&&(m.comment=this._comment.model),m}set model(m){this._value.release(),this._value=b.create(m.type,this),this._value.model=m,m.comment&&"note"===m.comment.type&&(this._comment=u.fromModel(m.comment)),this.style=m.style?m.style:{}}}f.Types=g.ValueType;const b={getType:p=>null==p?f.Types.Null:p instanceof String||"string"==typeof p?f.Types.String:"number"==typeof p?f.Types.Number:"boolean"==typeof p?f.Types.Boolean:p instanceof Date?f.Types.Date:p.text&&p.hyperlink?f.Types.Hyperlink:p.formula||p.sharedFormula?f.Types.Formula:p.richText?f.Types.RichText:p.sharedString?f.Types.SharedString:p.error?f.Types.Error:f.Types.JSON,types:[{t:f.Types.Null,f:class{constructor(p){this.model={address:p.address,type:f.Types.Null}}get value(){return null}set value(p){}get type(){return f.Types.Null}get effectiveType(){return f.Types.Null}get address(){return this.model.address}set address(p){this.model.address=p}toCsvString(){return""}release(){}toString(){return""}}},{t:f.Types.Number,f:class{constructor(p,m){this.model={address:p.address,type:f.Types.Number,value:m}}get value(){return this.model.value}set value(p){this.model.value=p}get type(){return f.Types.Number}get effectiveType(){return f.Types.Number}get address(){return this.model.address}set address(p){this.model.address=p}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:f.Types.String,f:class{constructor(p,m){this.model={address:p.address,type:f.Types.String,value:m}}get value(){return this.model.value}set value(p){this.model.value=p}get type(){return f.Types.String}get effectiveType(){return f.Types.String}get address(){return this.model.address}set address(p){this.model.address=p}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:f.Types.Date,f:class{constructor(p,m){this.model={address:p.address,type:f.Types.Date,value:m}}get value(){return this.model.value}set value(p){this.model.value=p}get type(){return f.Types.Date}get effectiveType(){return f.Types.Date}get address(){return this.model.address}set address(p){this.model.address=p}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:f.Types.Hyperlink,f:class{constructor(p,m){this.model={address:p.address,type:f.Types.Hyperlink,text:m?m.text:void 0,hyperlink:m?m.hyperlink:void 0},m&&m.tooltip&&(this.model.tooltip=m.tooltip)}get value(){const p={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(p.tooltip=this.model.tooltip),p}set value(p){this.model={text:p.text,hyperlink:p.hyperlink},p.tooltip&&(this.model.tooltip=p.tooltip)}get text(){return this.model.text}set text(p){this.model.text=p}get hyperlink(){return this.model.hyperlink}set hyperlink(p){this.model.hyperlink=p}get type(){return f.Types.Hyperlink}get effectiveType(){return f.Types.Hyperlink}get address(){return this.model.address}set address(p){this.model.address=p}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:f.Types.Formula,f:class{constructor(p,m){this.cell=p,this.model={address:p.address,type:f.Types.Formula,shareType:m?m.shareType:void 0,ref:m?m.ref:void 0,formula:m?m.formula:void 0,sharedFormula:m?m.sharedFormula:void 0,result:m?m.result:void 0}}_copyModel(p){const m={},C=E=>{const v=p[E];v&&(m[E]=v)};return C("formula"),C("result"),C("ref"),C("shareType"),C("sharedFormula"),m}get value(){return this._copyModel(this.model)}set value(p){this.model=this._copyModel(p)}validate(p){switch(b.getType(p)){case f.Types.Null:case f.Types.String:case f.Types.Number:case f.Types.Date:break;default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(p){this.model.formula=p}get formulaType(){return this.model.formula?g.FormulaType.Master:this.model.sharedFormula?g.FormulaType.Shared:g.FormulaType.None}get result(){return this.model.result}set result(p){this.model.result=p}get type(){return f.Types.Formula}get effectiveType(){const p=this.model.result;return null==p?g.ValueType.Null:p instanceof String||"string"==typeof p?g.ValueType.String:"number"==typeof p?g.ValueType.Number:p instanceof Date?g.ValueType.Date:p.text&&p.hyperlink?g.ValueType.Hyperlink:p.formula?g.ValueType.Formula:g.ValueType.Null}get address(){return this.model.address}set address(p){this.model.address=p}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:p}=this.cell,m=p.findCell(this.model.sharedFormula);this._translatedFormula=m&&d(m.formula,m.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:f.Types.Merge,f:class{constructor(p,m){this.model={address:p.address,type:f.Types.Merge,master:m?m.address:void 0},this._master=m,m&&m.addMergeRef()}get value(){return this._master.value}set value(p){p instanceof f?(this._master&&this._master.releaseMergeRef(),p.addMergeRef(),this._master=p):this._master.value=p}isMergedTo(p){return p===this._master}get master(){return this._master}get type(){return f.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(p){this.model.address=p}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:f.Types.JSON,f:class{constructor(p,m){this.model={address:p.address,type:f.Types.String,value:JSON.stringify(m),rawValue:m}}get value(){return this.model.rawValue}set value(p){this.model.rawValue=p,this.model.value=JSON.stringify(p)}get type(){return f.Types.String}get effectiveType(){return f.Types.String}get address(){return this.model.address}set address(p){this.model.address=p}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:f.Types.SharedString,f:class{constructor(p,m){this.model={address:p.address,type:f.Types.SharedString,value:m}}get value(){return this.model.value}set value(p){this.model.value=p}get type(){return f.Types.SharedString}get effectiveType(){return f.Types.SharedString}get address(){return this.model.address}set address(p){this.model.address=p}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:f.Types.RichText,f:class{constructor(p,m){this.model={address:p.address,type:f.Types.String,value:m}}get value(){return this.model.value}set value(p){this.model.value=p}toString(){return this.model.value.richText.map(p=>p.text).join("")}get type(){return f.Types.RichText}get effectiveType(){return f.Types.RichText}get address(){return this.model.address}set address(p){this.model.address=p}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:f.Types.Boolean,f:class{constructor(p,m){this.model={address:p.address,type:f.Types.Boolean,value:m}}get value(){return this.model.value}set value(p){this.model.value=p}get type(){return f.Types.Boolean}get effectiveType(){return f.Types.Boolean}get address(){return this.model.address}set address(p){this.model.address=p}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:f.Types.Error,f:class{constructor(p,m){this.model={address:p.address,type:f.Types.Error,value:m}}get value(){return this.model.value}set value(p){this.model.value=p}get type(){return f.Types.Error}get effectiveType(){return f.Types.Error}get address(){return this.model.address}set address(p){this.model.address=p}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((p,m)=>(p[m.t]=m.f,p),[]),create(p,m,C){const E=this.types[p];if(!E)throw new Error("Could not create Value of type "+p);return new E(m,C)}};z.exports=f},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(_,z,B){"use strict";const A=_("../utils/under-dash"),y=_("./enums"),g=_("../utils/col-cache");class d{constructor(f,b,p){this._worksheet=f,this._number=b,!1!==p&&(this.defn=p)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return g.n2l(this._number)}get isCustomWidth(){return void 0!==this.width&&9!==this.width}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(f){f?(this.key=f.key,this.width=void 0!==f.width?f.width:9,this.outlineLevel=f.outlineLevel,this.style=f.style?f.style:{},this.header=f.header,this._hidden=!!f.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(f){void 0!==f?(this._header=f,this.headers.forEach((b,p)=>{this._worksheet.getCell(p+1,this.number).value=b})):this._header=void 0}get key(){return this._key}set key(f){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=f,f&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(f){this._hidden=f}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(f){this._outlineLevel=f}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(f){return this.width===f.width&&this.hidden===f.hidden&&this.outlineLevel===f.outlineLevel&&A.isEqual(this.style,f.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const f=this.style;return!f||!(f.font||f.numFmt||f.alignment||f.border||f.fill||f.protection)}get headerCount(){return this.headers.length}eachCell(f,b){const p=this.number;b||(b=f,f=null),this._worksheet.eachRow(f,(m,C)=>{b(m.getCell(p),C)})}get values(){const f=[];return this.eachCell((b,p)=>{b&&b.type!==y.ValueType.Null&&(f[p]=b.value)}),f}set values(f){if(!f)return;const b=this.number;let p=0;f.hasOwnProperty("0")&&(p=1),f.forEach((m,C)=>{this._worksheet.getCell(C+p,b).value=m})}_applyStyle(f,b){return this.style[f]=b,this.eachCell(p=>{p[f]=b}),b}get numFmt(){return this.style.numFmt}set numFmt(f){this._applyStyle("numFmt",f)}get font(){return this.style.font}set font(f){this._applyStyle("font",f)}get alignment(){return this.style.alignment}set alignment(f){this._applyStyle("alignment",f)}get protection(){return this.style.protection}set protection(f){this._applyStyle("protection",f)}get border(){return this.style.border}set border(f){this._applyStyle("border",f)}get fill(){return this.style.fill}set fill(f){this._applyStyle("fill",f)}static toModel(f){const b=[];let p=null;return f&&f.forEach((m,C)=>{m.isDefault?p&&(p=null):p&&m.equivalentTo(p)?p.max=C+1:(p={min:C+1,max:C+1,width:void 0!==m.width?m.width:9,style:m.style,isCustomWidth:m.isCustomWidth,hidden:m.hidden,outlineLevel:m.outlineLevel,collapsed:m.collapsed},b.push(p))}),b.length?b:void 0}static fromModel(f,b){const p=[];let m=1,C=0;for(b=(b=b||[]).sort(function(E,v){return E.min-v.min});C<b.length;){const E=b[C++];for(;m<E.min;)p.push(new d(f,m++));for(;m<=E.max;)p.push(new d(f,m++,E))}return p.length?p:null}}z.exports=d},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(_,z,B){"use strict";z.exports=class{constructor(A){this.model=A||{}}add(A,y){return this.model[A]=y}find(A){return this.model[A]}remove(A){this.model[A]=void 0}}},{}],6:[function(_,z,B){"use strict";const A=_("../utils/under-dash"),y=_("../utils/col-cache"),g=_("../utils/cell-matrix"),d=_("./range"),u=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;z.exports=class{constructor(){this.matrixMap={}}getMatrix(f){return this.matrixMap[f]||(this.matrixMap[f]=new g)}add(f,b){const p=y.decodeEx(f);this.addEx(p,b)}addEx(f,b){const p=this.getMatrix(b);if(f.top)for(let m=f.left;m<=f.right;m++)for(let C=f.top;C<=f.bottom;C++){const E={sheetName:f.sheetName,address:y.n2l(m)+C,row:C,col:m};p.addCellEx(E)}else p.addCellEx(f)}remove(f,b){const p=y.decodeEx(f);this.removeEx(p,b)}removeEx(f,b){this.getMatrix(b).removeCellEx(f)}removeAllNames(f){A.each(this.matrixMap,b=>{b.removeCellEx(f)})}forEach(f){A.each(this.matrixMap,(b,p)=>{b.forEach(m=>{f(p,m)})})}getNames(f){return this.getNamesEx(y.decodeEx(f))}getNamesEx(f){return A.map(this.matrixMap,(b,p)=>b.findCellEx(f)&&p).filter(Boolean)}_explore(f,b){b.mark=!1;const{sheetName:p}=b,m=new d(b.row,b.col,b.row,b.col,p);let C,E;function v(S,R){const L=f.findCellAt(p,S,b.col);return!(!L||!L.mark||(m[R]=S,L.mark=!1,0))}for(E=b.row-1;v(E,"top");E--);for(E=b.row+1;v(E,"bottom");E++);function D(S,R){const L=[];for(E=m.top;E<=m.bottom;E++){const Z=f.findCellAt(p,E,S);if(!Z||!Z.mark)return!1;L.push(Z)}m[R]=S;for(let Z=0;Z<L.length;Z++)L[Z].mark=!1;return!0}for(C=b.col-1;D(C,"left");C--);for(C=b.col+1;D(C,"right");C++);return m}getRanges(f,b){return(b=b||this.matrixMap[f])?(b.forEach(p=>{p.mark=!0}),{name:f,ranges:b.map(p=>p.mark&&this._explore(b,p)).filter(Boolean).map(p=>p.$shortRange)}):{name:f,ranges:[]}}normaliseMatrix(f,b){f.forEachInSheet(b,(p,m,C)=>{p&&(p.row===m&&p.col===C||(p.row=m,p.col=C,p.address=y.n2l(C)+m))})}spliceRows(f,b,p,m){A.each(this.matrixMap,C=>{C.spliceRows(f,b,p,m),this.normaliseMatrix(C,f)})}spliceColumns(f,b,p,m){A.each(this.matrixMap,C=>{C.spliceColumns(f,b,p,m),this.normaliseMatrix(C,f)})}get model(){return A.map(this.matrixMap,(f,b)=>this.getRanges(b,f)).filter(f=>f.ranges.length)}set model(f){const b=this.matrixMap={};f.forEach(p=>{const m=b[p.name]=new g;p.ranges.forEach(C=>{u.test(C.split("!").pop()||"")&&m.addCell(C)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(_,z,B){"use strict";z.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(_,z,B){"use strict";const A=_("../utils/col-cache"),y=_("./anchor");z.exports=class{constructor(g,d){this.worksheet=g,this.model=d}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(g){let{type:d,imageId:u,range:f,hyperlinks:b}=g;if(this.type=d,this.imageId=u,"image"===d)if("string"==typeof f){const p=A.decode(f);this.range={tl:new y(this.worksheet,{col:p.left,row:p.top},-1),br:new y(this.worksheet,{col:p.right,row:p.bottom},0),editAs:"oneCell"}}else this.range={tl:new y(this.worksheet,f.tl,0),br:f.br&&new y(this.worksheet,f.br,0),ext:f.ext,editAs:f.editAs,hyperlinks:b||f.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(_,z,B){"use strict";const A=_("../utils/under-dash");class y{constructor(d){this.note=d}get model(){let d=null;return d="string"==typeof this.note?{type:"note",note:{texts:[{text:this.note}]}}:{type:"note",note:this.note},A.deepMerge({},y.DEFAULT_CONFIGS,d)}set model(d){const{note:u}=d,{texts:f}=u;this.note=1===f.length&&1===Object.keys(f[0]).length?f[0].text:u}static fromModel(d){const u=new y;return u.model=d,u}}y.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},z.exports=y},{"../utils/under-dash":26}],10:[function(_,z,B){"use strict";const A=_("../utils/col-cache");class y{constructor(){this.decode(arguments)}setTLBR(d,u,f,b,p){if(arguments.length<4){const m=A.decodeAddress(d),C=A.decodeAddress(u);this.model={top:Math.min(m.row,C.row),left:Math.min(m.col,C.col),bottom:Math.max(m.row,C.row),right:Math.max(m.col,C.col),sheetName:f},this.setTLBR(m.row,m.col,C.row,C.col,p)}else this.model={top:Math.min(d,f),left:Math.min(u,b),bottom:Math.max(d,f),right:Math.max(u,b),sheetName:p}}decode(d){switch(d.length){case 5:this.setTLBR(d[0],d[1],d[2],d[3],d[4]);break;case 4:this.setTLBR(d[0],d[1],d[2],d[3]);break;case 3:this.setTLBR(d[0],d[1],d[2]);break;case 2:this.setTLBR(d[0],d[1]);break;case 1:{const u=d[0];if(u instanceof y)this.model={top:u.model.top,left:u.model.left,bottom:u.model.bottom,right:u.model.right,sheetName:u.sheetName};else if(u instanceof Array)this.decode(u);else if(u.top&&u.left&&u.bottom&&u.right)this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName};else{const f=A.decodeEx(u);this.model=f.top?{top:f.top,left:f.left,bottom:f.bottom,right:f.right,sheetName:f.sheetName}:{top:f.row,left:f.col,bottom:f.row,right:f.col,sheetName:f.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+d.length)}}get top(){return this.model.top||1}set top(d){this.model.top=d}get left(){return this.model.left||1}set left(d){this.model.left=d}get bottom(){return this.model.bottom||1}set bottom(d){this.model.bottom=d}get right(){return this.model.right||1}set right(d){this.model.right=d}get sheetName(){return this.model.sheetName}set sheetName(d){this.model.sheetName=d}get _serialisedSheetName(){const{sheetName:d}=this.model;return d?/^[a-zA-Z0-9]*$/.test(d)?d+"!":`'${d}'!`:""}expand(d,u,f,b){(!this.model.top||d<this.top)&&(this.top=d),(!this.model.left||u<this.left)&&(this.left=u),(!this.model.bottom||f>this.bottom)&&(this.bottom=f),(!this.model.right||b>this.right)&&(this.right=b)}expandRow(d){if(d){const{dimensions:u,number:f}=d;u&&this.expand(f,u.min,f,u.max)}}expandToAddress(d){const u=A.decodeEx(d);this.expand(u.row,u.col,u.row,u.col)}get tl(){return A.n2l(this.left)+this.top}get $t$l(){return`$${A.n2l(this.left)}$${this.top}`}get br(){return A.n2l(this.right)+this.bottom}get $b$r(){return`$${A.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(d){return!(d.sheetName&&this.sheetName&&d.sheetName!==this.sheetName||d.bottom<this.top||d.top>this.bottom||d.right<this.left||d.left>this.right)}contains(d){const u=A.decodeEx(d);return this.containsEx(u)}containsEx(d){return(!d.sheetName||!this.sheetName||d.sheetName===this.sheetName)&&d.row>=this.top&&d.row<=this.bottom&&d.col>=this.left&&d.col<=this.right}forEachAddress(d){for(let u=this.left;u<=this.right;u++)for(let f=this.top;f<=this.bottom;f++)d(A.encodeAddress(f,u),f,u)}}z.exports=y},{"../utils/col-cache":19}],11:[function(_,z,B){"use strict";const A=_("../utils/under-dash"),y=_("./enums"),g=_("../utils/col-cache"),d=_("./cell");z.exports=class{constructor(u,f){this._worksheet=u,this._number=f,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(u){return this._cells[u-1]}getCellEx(u){let f=this._cells[u.col-1];if(!f){const b=this._worksheet.getColumn(u.col);f=new d(this,b,u.address),this._cells[u.col-1]=f}return f}getCell(u){if("string"==typeof u){const f=this._worksheet.getColumnKey(u);u=f?f.number:g.l2n(u)}return this._cells[u-1]||this.getCellEx({address:g.encodeAddress(this._number,u),row:this._number,col:u})}splice(u,f){const b=u+f;for(var p=arguments.length,m=new Array(p>2?p-2:0),C=2;C<p;C++)m[C-2]=arguments[C];const E=m.length-f,v=this._cells.length;let D,S,R;if(E<0)for(D=u+m.length;D<=v;D++)R=this._cells[D-1],S=this._cells[D-E-1],S?(R=this.getCell(D),R.value=S.value,R.style=S.style,R._comment=S._comment):R&&(R.value=null,R.style={},R._comment=void 0);else if(E>0)for(D=v;D>=b;D--)S=this._cells[D-1],S?(R=this.getCell(D+E),R.value=S.value,R.style=S.style,R._comment=S._comment):this._cells[D+E-1]=void 0;for(D=0;D<m.length;D++)R=this.getCell(u+D),R.value=m[D],R.style={},R._comment=void 0}eachCell(u,f){if(f||(f=u,u=null),u&&u.includeEmpty){const b=this._cells.length;for(let p=1;p<=b;p++)f(this.getCell(p),p)}else this._cells.forEach((b,p)=>{b&&b.type!==y.ValueType.Null&&f(b,p+1)})}addPageBreak(u,f){const b=this._worksheet,p=Math.max(0,u-1)||0,m=Math.max(0,f-1)||16838,C={id:this._number,max:m,man:1};p&&(C.min=p),b.rowBreaks.push(C)}get values(){const u=[];return this._cells.forEach(f=>{f&&f.type!==y.ValueType.Null&&(u[f.col]=f.value)}),u}set values(u){if(this._cells=[],u)if(u instanceof Array){let f=0;u.hasOwnProperty("0")&&(f=1),u.forEach((b,p)=>{void 0!==b&&(this.getCellEx({address:g.encodeAddress(this._number,p+f),row:this._number,col:p+f}).value=b)})}else this._worksheet.eachColumnKey((f,b)=>{void 0!==u[b]&&(this.getCellEx({address:g.encodeAddress(this._number,f.number),row:this._number,col:f.number}).value=u[b])})}get hasValues(){return A.some(this._cells,u=>u&&u.type!==y.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let u=0;return this.eachCell(()=>{u++}),u}get dimensions(){let u=0,f=0;return this._cells.forEach(b=>{b&&b.type!==y.ValueType.Null&&((!u||u>b.col)&&(u=b.col),f<b.col&&(f=b.col))}),u>0?{min:u,max:f}:null}_applyStyle(u,f){return this.style[u]=f,this._cells.forEach(b=>{b&&(b[u]=f)}),f}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const u=[];let f=0,b=0;return this._cells.forEach(p=>{if(p){const m=p.model;m&&((!f||f>p.col)&&(f=p.col),b<p.col&&(b=p.col),u.push(m))}}),this.height||u.length?{cells:u,number:this.number,min:f,max:b,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(u){if(u.number!==this._number)throw new Error("Invalid row number in model");let f;this._cells=[],u.cells.forEach(b=>{switch(b.type){case d.Types.Merge:break;default:{let p;if(b.address)p=g.decodeAddress(b.address);else if(f){const{row:m}=f,C=f.col+1;p={row:m,col:C,address:g.encodeAddress(m,C),$col$row:`$${g.n2l(C)}$${m}`}}f=p,this.getCellEx(p).model=b;break}}}),u.height?this.height=u.height:delete this.height,this.hidden=u.hidden,this.outlineLevel=u.outlineLevel||0,this.style=u.style&&JSON.parse(JSON.stringify(u.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(_,z,B){"use strict";const A=_("../utils/col-cache");class y{constructor(d,u,f){this.table=d,this.column=u,this.index=f}_set(d,u){this.table.cacheState(),this.column[d]=u}get name(){return this.column.name}set name(d){this._set("name",d)}get filterButton(){return this.column.filterButton}set filterButton(d){this.column.filterButton=d}get style(){return this.column.style}set style(d){this.column.style=d}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(d){this._set("totalsRowLabel",d)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(d){this._set("totalsRowFunction",d)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(d){this._set("totalsRowResult",d)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(d){this._set("totalsRowFormula",d)}}z.exports=class{constructor(g,d){this.worksheet=g,d&&(this.table=d,this.validate(),this.store())}getFormula(g){switch(g.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${g.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${g.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${g.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${g.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${g.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${g.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${g.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${g.name}])`;case"custom":return g.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+g.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:g}=this,d=(E,v,D)=>{void 0===E[v]&&(E[v]=D)};d(g,"headerRow",!0),d(g,"totalsRow",!1),d(g,"style",{}),d(g.style,"theme","TableStyleMedium2"),d(g.style,"showFirstColumn",!1),d(g.style,"showLastColumn",!1),d(g.style,"showRowStripes",!1),d(g.style,"showColumnStripes",!1);const u=(E,v)=>{if(!E)throw new Error(v)};u(g.ref,"Table must have ref"),u(g.columns,"Table must have column definitions"),u(g.rows,"Table must have row definitions"),g.tl=A.decodeAddress(g.ref);const{row:f,col:b}=g.tl;u(f>0,"Table must be on valid row"),u(b>0,"Table must be on valid col");const{width:p,filterHeight:m,tableHeight:C}=this;g.autoFilterRef=A.encode(f,b,f+m-1,b+p-1),g.tableRef=A.encode(f,b,f+C-1,b+p-1),g.columns.forEach((E,v)=>{u(E.name,`Column ${v} must have a name`),0===v?d(E,"totalsRowLabel","Total"):(d(E,"totalsRowFunction","none"),E.totalsRowFormula=this.getFormula(E))})}store(){const g=(m,C)=>{C&&Object.keys(C).forEach(E=>{m[E]=C[E]})},{worksheet:d,table:u}=this,{row:f,col:b}=u.tl;let p=0;if(u.headerRow){const m=d.getRow(f+p++);u.columns.forEach((C,E)=>{const{style:v,name:D}=C,S=m.getCell(b+E);S.value=D,g(S,v)})}if(u.rows.forEach(m=>{const C=d.getRow(f+p++);m.forEach((E,v)=>{const D=C.getCell(b+v);D.value=E,g(D,u.columns[v].style)})}),u.totalsRow){const m=d.getRow(f+p++);u.columns.forEach((C,E)=>{const v=m.getCell(b+E);if(0===E)v.value=C.totalsRowLabel;else{const D=this.getFormula(C);v.value=D?{formula:C.totalsRowFormula,result:C.totalsRowResult}:null}g(v,C.style)})}}load(g){const{table:d}=this,{row:u,col:f}=d.tl;let b=0;if(d.headerRow){const p=g.getRow(u+b++);d.columns.forEach((m,C)=>{p.getCell(f+C).value=m.name})}if(d.rows.forEach(p=>{const m=g.getRow(u+b++);p.forEach((C,E)=>{m.getCell(f+E).value=C})}),d.totalsRow){const p=g.getRow(u+b++);d.columns.forEach((m,C)=>{const E=p.getCell(f+C);0===C?E.value=m.totalsRowLabel:this.getFormula(m)&&(E.value={formula:m.totalsRowFormula,result:m.totalsRowResult})})}}get model(){return this.table}set model(g){this.table=g}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const g=A.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let d=0;d<this._cache.tableHeight;d++){const u=this.worksheet.getRow(g.row+d);for(let f=0;f<this._cache.width;f++)u.getCell(g.col+f).value=null}else{for(let d=this.tableHeight;d<this._cache.tableHeight;d++){const u=this.worksheet.getRow(g.row+d);for(let f=0;f<this._cache.width;f++)u.getCell(g.col+f).value=null}for(let d=0;d<this.tableHeight;d++){const u=this.worksheet.getRow(g.row+d);for(let f=this.width;f<this._cache.width;f++)u.getCell(g.col+f).value=null}}this.store()}addRow(g,d){this.cacheState(),void 0===d?this.table.rows.push(g):this.table.rows.splice(d,0,g)}removeRows(g){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cacheState(),this.table.rows.splice(g,d)}getColumn(g){return new y(this,this.table.columns[g],g)}addColumn(g,d,u){this.cacheState(),void 0===u?(this.table.columns.push(g),this.table.rows.forEach((f,b)=>{f.push(d[b])})):(this.table.columns.splice(u,0,g),this.table.rows.forEach((f,b)=>{f.splice(u,0,d[b])}))}removeColumns(g){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cacheState(),this.table.columns.splice(g,d),this.table.rows.forEach(u=>{u.splice(g,d)})}_assign(g,d,u){this.cacheState(),g[d]=u}get ref(){return this.table.ref}set ref(g){this._assign(this.table,"ref",g)}get name(){return this.table.name}set name(g){this.table.name=g}get displayName(){return this.table.displyName||this.table.name}set displayNamename(g){this.table.displayName=g}get headerRow(){return this.table.headerRow}set headerRow(g){this._assign(this.table,"headerRow",g)}get totalsRow(){return this.table.totalsRow}set totalsRow(g){this._assign(this.table,"totalsRow",g)}get theme(){return this.table.style.name}set theme(g){this.table.style.name=g}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(g){this.table.style.showFirstColumn=g}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(g){this.table.style.showLastColumn=g}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(g){this.table.style.showRowStripes=g}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(g){this.table.style.showColumnStripes=g}}},{"../utils/col-cache":19}],13:[function(_,z,B){"use strict";const A=_("./worksheet"),y=_("./defined-names"),g=_("../xlsx/xlsx"),d=_("../csv/csv");z.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new y}get xlsx(){return this._xlsx||(this._xlsx=new g(this)),this._xlsx}get csv(){return this._csv||(this._csv=new d(this)),this._csv}get nextId(){for(let u=1;u<this._worksheets.length;u++)if(!this._worksheets[u])return u;return this._worksheets.length||1}addWorksheet(u,f){const b=this.nextId;f&&("string"==typeof f?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),f={properties:{tabColor:{argb:f}}}):(f.argb||f.theme||f.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),f={properties:{tabColor:f}}));const p=this._worksheets.reduce((E,v)=>(v&&v.orderNo)>E?v.orderNo:E,0),m=Object.assign({},f,{id:b,name:u,orderNo:p+1,workbook:this}),C=new A(m);return this._worksheets[b]=C,C}removeWorksheetEx(u){delete this._worksheets[u.id]}removeWorksheet(u){const f=this.getWorksheet(u);f&&f.destroy()}getWorksheet(u){return void 0===u?this._worksheets.find(Boolean):"number"==typeof u?this._worksheets[u]:"string"==typeof u?this._worksheets.find(f=>f&&f.name===u):void 0}get worksheets(){return this._worksheets.slice(1).sort((u,f)=>u.orderNo-f.orderNo).filter(Boolean)}eachSheet(u){this.worksheets.forEach(f=>{u(f,f.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(u){const f=this.media.length;return this.media.push(Object.assign({},u,{type:"image"})),f}getImage(u){return this.media[u]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(u=>u.model),sheets:this.worksheets.map(u=>u.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(u){this.creator=u.creator,this.lastModifiedBy=u.lastModifiedBy,this.lastPrinted=u.lastPrinted,this.created=u.created,this.modified=u.modified,this.company=u.company,this.manager=u.manager,this.title=u.title,this.subject=u.subject,this.keywords=u.keywords,this.category=u.category,this.description=u.description,this.language=u.language,this.revision=u.revision,this.contentStatus=u.contentStatus,this.properties=u.properties,this.calcProperties=u.calcProperties,this._worksheets=[],u.worksheets.forEach(f=>{const{id:b,name:p,state:m}=f,C=u.sheets&&u.sheets.findIndex(E=>E.id===b);(this._worksheets[b]=new A({id:b,name:p,orderNo:C,state:m,workbook:this})).model=f}),this._definedNames.model=u.definedNames,this.views=u.views,this._themes=u.themes,this.media=u.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(_,z,B){"use strict";const A=_("../utils/under-dash"),y=_("../utils/col-cache"),g=_("./range"),d=_("./row"),u=_("./column"),f=_("./enums"),b=_("./image"),p=_("./table"),m=_("./data-validations"),C=_("../utils/encryptor"),{copyStyle:E}=_("../utils/copy-style");z.exports=class{constructor(v){this._workbook=(v=v||{}).workbook,this.id=v.id,this.orderNo=v.orderNo,this.name=v.name,this.state=v.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},v.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!v.pageSetup||!v.pageSetup.fitToWidth&&!v.pageSetup.fitToHeight||v.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},v.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},v.headerFooter),this.dataValidations=new m,this.views=v.views||[],this.autoFilter=v.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(v){if(void 0===v&&(v="sheet"+this.id),this._name!==v){if("string"!=typeof v)throw new Error("The name has to be a string.");if(""===v)throw new Error("The name can't be empty.");if("History"===v)throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(v))throw new Error(`Worksheet name ${v} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(v))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+v);if(v&&v.length>31&&(console.warn(`Worksheet name ${v} exceeds 31 chars. This will be truncated`),v=v.substring(0,31)),this._workbook._worksheets.find(D=>D&&D.name.toLowerCase()===v.toLowerCase()))throw new Error("Worksheet name already exists: "+v);this._name=v}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const v=new g;return this._rows.forEach(D=>{if(D){const S=D.dimensions;S&&v.expand(D.number,S.min,D.number,S.max)}}),v}get columns(){return this._columns}set columns(v){this._headerRowCount=v.reduce((R,L)=>Math.max(R,(L.header?1:L.headers&&L.headers.length)||0),0);let D=1;const S=this._columns=[];v.forEach(R=>{const L=new u(this,D++,!1);S.push(L),L.defn=R})}getColumnKey(v){return this._keys[v]}setColumnKey(v,D){this._keys[v]=D}deleteColumnKey(v){delete this._keys[v]}eachColumnKey(v){A.each(this._keys,v)}getColumn(v){if("string"==typeof v){const D=this._keys[v];if(D)return D;v=y.l2n(v)}if(this._columns||(this._columns=[]),v>this._columns.length){let D=this._columns.length+1;for(;D<=v;)this._columns.push(new u(this,D++))}return this._columns[v-1]}spliceColumns(v,D){const S=this._rows.length;for(var R=arguments.length,L=new Array(R>2?R-2:0),Z=2;Z<R;Z++)L[Z-2]=arguments[Z];if(L.length>0)for(let re=0;re<S;re++){const oe=[v,D];L.forEach(ae=>{oe.push(ae[re]||null)});const fe=this.getRow(re+1);fe.splice.apply(fe,oe)}else this._rows.forEach(re=>{re&&re.splice(v,D)});const ee=L.length-D,ne=v+D,J=this._columns.length;if(ee<0)for(let re=v+L.length;re<=J;re++)this.getColumn(re).defn=this.getColumn(re-ee).defn;else if(ee>0)for(let re=J;re>=ne;re--)this.getColumn(re+ee).defn=this.getColumn(re).defn;for(let re=v;re<v+L.length;re++)this.getColumn(re).defn=null;this.workbook.definedNames.spliceColumns(this.name,v,D,L.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let v=0;return this.eachRow(D=>{v=Math.max(v,D.cellCount)}),v}get actualColumnCount(){const v=[];let D=0;return this.eachRow(S=>{S.eachCell(R=>{let{col:L}=R;v[L]||(v[L]=!0,D++)})}),D}_commitRow(){}get _lastRowNumber(){const v=this._rows;let D=v.length;for(;D>0&&void 0===v[D-1];)D--;return D}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(v){return this._rows[v-1]}findRows(v,D){return this._rows.slice(v-1,v-1+D)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let v=0;return this.eachRow(()=>{v++}),v}getRow(v){let D=this._rows[v-1];return D||(D=this._rows[v-1]=new d(this,v)),D}getRows(v,D){if(D<1)return;const S=[];for(let R=v;R<v+D;R++)S.push(this.getRow(R));return S}addRow(v){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n";const S=this._nextRow,R=this.getRow(S);return R.values=v,this._setStyleOption(S,"i"===D[0]?D:"n"),R}addRows(v){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n";const S=[];return v.forEach(R=>{S.push(this.addRow(R,D))}),S}insertRow(v,D){let S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n";return this.spliceRows(v,0,D),this._setStyleOption(v,S),this.getRow(v)}insertRows(v,D){let S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n";if(this.spliceRows(v,0,...D),"n"!==S)for(let R=0;R<D.length;R++)"o"===S[0]&&void 0!==this.findRow(D.length+v+R)?this._copyStyle(D.length+v+R,v+R,"+"===S[1]):"i"===S[0]&&void 0!==this.findRow(v-1)&&this._copyStyle(v-1,v+R,"+"===S[1]);return this.getRows(v,D.length)}_setStyleOption(v){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n";"o"===D[0]&&void 0!==this.findRow(v+1)?this._copyStyle(v+1,v,"+"===D[1]):"i"===D[0]&&void 0!==this.findRow(v-1)&&this._copyStyle(v-1,v,"+"===D[1])}_copyStyle(v,D){let S=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const R=this.getRow(v),L=this.getRow(D);L.style=E(R.style),R.eachCell({includeEmpty:S},(Z,ee)=>{L.getCell(ee).style=E(Z.style)}),L.height=R.height}duplicateRow(v,D){let S=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const R=this._rows[v-1],L=new Array(D).fill(R.values);this.spliceRows(v+1,S?0:D,...L);for(let Z=0;Z<D;Z++){const ee=this._rows[v+Z];ee.style=R.style,ee.height=R.height,R.eachCell({includeEmpty:!0},(ne,J)=>{ee.getCell(J).style=ne.style})}}spliceRows(v,D){const S=v+D;for(var R=arguments.length,L=new Array(R>2?R-2:0),Z=2;Z<R;Z++)L[Z-2]=arguments[Z];const ee=L.length,ne=ee-D,J=this._rows.length;let re,oe;if(ne<0)for(v===J&&(this._rows[J-1]=void 0),re=S;re<=J;re++)if(oe=this._rows[re-1],oe){const fe=this.getRow(re+ne);fe.values=oe.values,fe.style=oe.style,fe.height=oe.height,oe.eachCell({includeEmpty:!0},(ae,$)=>{fe.getCell($).style=ae.style}),this._rows[re-1]=void 0}else this._rows[re+ne-1]=void 0;else if(ne>0)for(re=J;re>=S;re--)if(oe=this._rows[re-1],oe){const fe=this.getRow(re+ne);fe.values=oe.values,fe.style=oe.style,fe.height=oe.height,oe.eachCell({includeEmpty:!0},(ae,$)=>{if(fe.getCell($).style=ae.style,"MergeValue"===ae._value.constructor.name){const W=this.getRow(ae._row._number+ee).getCell($),ie=ae._value._master,T=this.getRow(ie._row._number+ee).getCell(ie._column._number);W.merge(T)}})}else this._rows[re+ne-1]=void 0;for(re=0;re<ee;re++){const fe=this.getRow(v+re);fe.style={},fe.values=L[re]}this.workbook.definedNames.spliceRows(this.name,v,D,ee)}eachRow(v,D){if(D||(D=v,v=void 0),v&&v.includeEmpty){const S=this._rows.length;for(let R=1;R<=S;R++)D(this.getRow(R),R)}else this._rows.forEach(S=>{S&&S.hasValues&&D(S,S.number)})}getSheetValues(){const v=[];return this._rows.forEach(D=>{D&&(v[D.number]=D.values)}),v}findCell(v,D){const S=y.getAddress(v,D),R=this._rows[S.row-1];return R?R.findCell(S.col):void 0}getCell(v,D){const S=y.getAddress(v,D);return this.getRow(S.row).getCellEx(S)}mergeCells(){for(var v=arguments.length,D=new Array(v),S=0;S<v;S++)D[S]=arguments[S];const R=new g(D);this._mergeCellsInternal(R)}mergeCellsWithoutStyle(){for(var v=arguments.length,D=new Array(v),S=0;S<v;S++)D[S]=arguments[S];const R=new g(D);this._mergeCellsInternal(R,!0)}_mergeCellsInternal(v,D){A.each(this._merges,R=>{if(R.intersects(v))throw new Error("Cannot merge already merged cells")});const S=this.getCell(v.top,v.left);for(let R=v.top;R<=v.bottom;R++)for(let L=v.left;L<=v.right;L++)(R>v.top||L>v.left)&&this.getCell(R,L).merge(S,D);this._merges[S.address]=v}_unMergeMaster(v){const D=this._merges[v.address];if(D){for(let S=D.top;S<=D.bottom;S++)for(let R=D.left;R<=D.right;R++)this.getCell(S,R).unmerge();delete this._merges[v.address]}}get hasMerges(){return A.some(this._merges,Boolean)}unMergeCells(){for(var v=arguments.length,D=new Array(v),S=0;S<v;S++)D[S]=arguments[S];const R=new g(D);for(let L=R.top;L<=R.bottom;L++)for(let Z=R.left;Z<=R.right;Z++){const ee=this.findCell(L,Z);ee&&(ee.type===f.ValueType.Merge?this._unMergeMaster(ee.master):this._merges[ee.address]&&this._unMergeMaster(ee))}}fillFormula(v,D,S){let R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"shared";const L=y.decode(v),{top:Z,left:ee,bottom:ne,right:J}=L,re=J-ee+1,oe=y.encodeAddress(Z,ee),fe="shared"===R;let ae;ae="function"==typeof S?S:Array.isArray(S)?Array.isArray(S[0])?(W,ie)=>S[W-Z][ie-ee]:(W,ie)=>S[(W-Z)*re+(ie-ee)]:()=>{};let $=!0;for(let W=Z;W<=ne;W++)for(let ie=ee;ie<=J;ie++)$?(this.getCell(W,ie).value={shareType:R,formula:D,ref:v,result:ae(W,ie)},$=!1):this.getCell(W,ie).value=fe?{sharedFormula:oe,result:ae(W,ie)}:ae(W,ie)}addImage(v,D){this._media.push(new b(this,{type:"image",imageId:v,range:D}))}getImages(){return this._media.filter(v=>"image"===v.type)}addBackgroundImage(v){this._media.push(new b(this,{type:"background",imageId:v}))}getBackgroundImageId(){const v=this._media.find(D=>"background"===D.type);return v&&v.imageId}protect(v,D){return new Promise(S=>{this.sheetProtection={sheet:!0},D&&"spinCount"in D&&(D.spinCount=Number.isFinite(D.spinCount)?Math.round(Math.max(0,D.spinCount)):1e5),v&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=C.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=D&&"spinCount"in D?D.spinCount:1e5,this.sheetProtection.hashValue=C.convertPasswordToHash(v,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),D&&(this.sheetProtection=Object.assign(this.sheetProtection,D),!v&&"spinCount"in D&&delete this.sheetProtection.spinCount),S()})}unprotect(){this.sheetProtection=null}addTable(v){const D=new p(this,v);return this.tables[v.name]=D,D}getTable(v){return this.tables[v]}removeTable(v){delete this.tables[v]}getTables(){return Object.values(this.tables)}addConditionalFormatting(v){this.conditionalFormattings.push(v)}removeConditionalFormatting(v){"number"==typeof v?this.conditionalFormattings.splice(v,1):this.conditionalFormattings=v instanceof Function?this.conditionalFormattings.filter(v):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(v){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=v}get model(){const v={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(R=>R.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(R=>R.model),conditionalFormattings:this.conditionalFormattings};v.cols=u.toModel(this.columns);const D=v.rows=[],S=v.dimensions=new g;return this._rows.forEach(R=>{const L=R&&R.model;L&&(S.expand(L.number,L.min,L.number,L.max),D.push(L))}),v.merges=[],A.each(this._merges,R=>{v.merges.push(R.range)}),v}_parseRows(v){this._rows=[],v.rows.forEach(D=>{const S=new d(this,D.number);this._rows[S.number-1]=S,S.model=D})}_parseMergeCells(v){A.each(v.mergeCells,D=>{this.mergeCellsWithoutStyle(D)})}set model(v){this.name=v.name,this._columns=u.fromModel(this,v.cols),this._parseRows(v),this._parseMergeCells(v),this.dataValidations=new m(v.dataValidations),this.properties=v.properties,this.pageSetup=v.pageSetup,this.headerFooter=v.headerFooter,this.views=v.views,this.autoFilter=v.autoFilter,this._media=v.media.map(D=>new b(this,D)),this.sheetProtection=v.sheetProtection,this.tables=v.tables.reduce((D,S)=>{const R=new p;return R.model=S,D[S.name]=R,D},{}),this.conditionalFormattings=v.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(_,z,B){"use strict";_("core-js/modules/es.promise"),_("core-js/modules/es.promise.finally"),_("core-js/modules/es.object.assign"),_("core-js/modules/es.object.keys"),_("core-js/modules/es.object.values"),_("core-js/modules/es.symbol"),_("core-js/modules/es.symbol.async-iterator"),_("core-js/modules/es.array.iterator"),_("core-js/modules/es.array.includes"),_("core-js/modules/es.array.find-index"),_("core-js/modules/es.array.find"),_("core-js/modules/es.string.from-code-point"),_("core-js/modules/es.string.includes"),_("core-js/modules/es.number.is-nan"),_("regenerator-runtime/runtime");const A={Workbook:_("./doc/workbook")},y=_("./doc/enums");Object.keys(y).forEach(g=>{A[g]=y[g]}),z.exports=A},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(_,z,B){"use strict";const A=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");B.bufferToString=function(y){return"string"==typeof y?y:A?A.decode(y):y.toString()}},{}],17:[function(_,z,B){"use strict";const A=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:y}=_("buffer");B.stringToBuffer=function(g){return"string"!=typeof g?g:y.from(A?A.encode(g).buffer:g)}},{buffer:220}],18:[function(_,z,B){"use strict";const A=_("./under-dash"),y=_("./col-cache");z.exports=class{constructor(g){this.template=g,this.sheets={}}addCell(g){this.addCellEx(y.decodeEx(g))}getCell(g){return this.findCellEx(y.decodeEx(g),!0)}findCell(g){return this.findCellEx(y.decodeEx(g),!1)}findCellAt(g,d,u){const f=this.sheets[g],b=f&&f[d];return b&&b[u]}addCellEx(g){if(g.top)for(let d=g.top;d<=g.bottom;d++)for(let u=g.left;u<=g.right;u++)this.getCellAt(g.sheetName,d,u);else this.findCellEx(g,!0)}getCellEx(g){return this.findCellEx(g,!0)}findCellEx(g,d){const u=this.findSheet(g,d),f=this.findSheetRow(u,g,d);return this.findRowCell(f,g,d)}getCellAt(g,d,u){const f=this.sheets[g]||(this.sheets[g]=[]),b=f[d]||(f[d]=[]);return b[u]||(b[u]={sheetName:g,address:y.n2l(u)+d,row:d,col:u})}removeCellEx(g){const d=this.findSheet(g);if(!d)return;const u=this.findSheetRow(d,g);u&&delete u[g.col]}forEachInSheet(g,d){const u=this.sheets[g];u&&u.forEach((f,b)=>{f&&f.forEach((p,m)=>{p&&d(p,b,m)})})}forEach(g){A.each(this.sheets,(d,u)=>{this.forEachInSheet(u,g)})}map(g){const d=[];return this.forEach(u=>{d.push(g(u))}),d}findSheet(g,d){const u=g.sheetName;return this.sheets[u]?this.sheets[u]:d?this.sheets[u]=[]:void 0}findSheetRow(g,d,u){const{row:f}=d;return g&&g[f]?g[f]:u?g[f]=[]:void 0}findRowCell(g,d,u){const{col:f}=d;return g&&g[f]?g[f]:u?g[f]=this.template?Object.assign(d,JSON.parse(JSON.stringify(this.template))):d:void 0}spliceRows(g,d,u,f){const b=this.sheets[g];if(b){const p=[];for(let m=0;m<f;m++)p.push([]);b.splice(d,u,...p)}}spliceColumns(g,d,u,f){const b=this.sheets[g];if(b){const p=[];for(let m=0;m<f;m++)p.push(null);A.each(b,m=>{m.splice(d,u,...p)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(_,z,B){"use strict";const A=/^[A-Z]+\d+$/,y={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:g=>g<=26?1:g<=676?2:3,_fill(g){let d,u,f,b,p,m=1;if(g>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&g>=1){for(;m<=26;)d=this._dictionary[m-1],this._n2l[m]=d,this._l2n[d]=m,m++;this._l2nFill=1}if(this._l2nFill<2&&g>=2){for(m=27;m<=702;)u=m-27,f=u%26,b=Math.floor(u/26),d=this._dictionary[b]+this._dictionary[f],this._n2l[m]=d,this._l2n[d]=m,m++;this._l2nFill=2}if(this._l2nFill<3&&g>=3){for(m=703;m<=16384;)u=m-703,f=u%26,b=Math.floor(u/26)%26,p=Math.floor(u/676),d=this._dictionary[p]+this._dictionary[b]+this._dictionary[f],this._n2l[m]=d,this._l2n[d]=m,m++;this._l2nFill=3}},l2n(g){if(this._l2n[g]||this._fill(g.length),!this._l2n[g])throw new Error("Out of bounds. Invalid column letter: "+g);return this._l2n[g]},n2l(g){if(g<1||g>16384)throw new Error(g+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[g]||this._fill(this._level(g)),this._n2l[g]},_hash:{},validateAddress(g){if(!A.test(g))throw new Error("Invalid Address: "+g);return!0},decodeAddress(g){const d=g.length<5&&this._hash[g];if(d)return d;let u=!1,f="",b=0,p=!1,m="",C=0;for(let v,D=0;D<g.length;D++)if(v=g.charCodeAt(D),!p&&v>=65&&v<=90)u=!0,f+=g[D],b=26*b+v-64;else if(v>=48&&v<=57)p=!0,m+=g[D],C=10*C+v-48;else if(p&&u&&36!==v)break;if(u){if(b>16384)throw new Error("Out of bounds. Invalid column letter: "+f)}else b=void 0;p||(C=void 0);const E={address:g=f+m,col:b,row:C,$col$row:`$${f}$${m}`};return b<=100&&C<=100&&(this._hash[g]=E,this._hash[E.$col$row]=E),E},getAddress(g,d){if(d){const u=this.n2l(d)+g;return this.decodeAddress(u)}return this.decodeAddress(g)},decode(g){const d=g.split(":");if(2===d.length){const u=this.decodeAddress(d[0]),f=this.decodeAddress(d[1]),b={top:Math.min(u.row,f.row),left:Math.min(u.col,f.col),bottom:Math.max(u.row,f.row),right:Math.max(u.col,f.col)};return b.tl=this.n2l(b.left)+b.top,b.br=this.n2l(b.right)+b.bottom,b.dimensions=`${b.tl}:${b.br}`,b}return this.decodeAddress(g)},decodeEx(g){const d=g.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),u=d[1]||d[2],f=d[3],b=f.split(":");if(b.length>1){let m=this.decodeAddress(b[0]),C=this.decodeAddress(b[1]);const E=Math.min(m.row,C.row),v=Math.min(m.col,C.col),D=Math.max(m.row,C.row),S=Math.max(m.col,C.col);return m=this.n2l(v)+E,C=this.n2l(S)+D,{top:E,left:v,bottom:D,right:S,sheetName:u,tl:{address:m,col:v,row:E,$col$row:`$${this.n2l(v)}$${E}`,sheetName:u},br:{address:C,col:S,row:D,$col$row:`$${this.n2l(S)}$${D}`,sheetName:u},dimensions:`${m}:${C}`}}if(f.startsWith("#"))return u?{sheetName:u,error:f}:{error:f};const p=this.decodeAddress(f);return u?{sheetName:u,...p}:p},encodeAddress:(g,d)=>y.n2l(d)+g,encode(){switch(arguments.length){case 2:return y.encodeAddress(arguments[0],arguments[1]);case 4:return`${y.encodeAddress(arguments[0],arguments[1])}:${y.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(g,d){const[u,f,,b,p]=g,[m,C]=d;return m>=u&&m<=b&&C>=f&&C<=p}};z.exports=y},{}],20:[function(_,z,B){"use strict";const A=(g,d)=>({...g,...d.reduce((u,f)=>(g[f]&&(u[f]={...g[f]}),u),{})}),y=function(g,d,u){g[u]&&(d[u]=A(g[u],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]))};B.copyStyle=g=>{if(!g)return g;if(0===Object.keys(g).length)return{};const u={...g};return y(g,u,"font",["color"]),y(g,u,"alignment"),y(g,u,"protection"),g.border&&(y(g,u,"border"),y(g.border,u.border,"top",["color"]),y(g.border,u.border,"left",["color"]),y(g.border,u.border,"bottom",["color"]),y(g.border,u.border,"right",["color"]),y(g.border,u.border,"diagonal",["color"])),g.fill&&(y(g,u,"fill",["fgColor","bgColor","center"]),g.fill.stops&&(u.fill.stops=g.fill.stops.map(f=>A(f,["color"])))),u}},{}],21:[function(_,z,B){(function(A){(function(){"use strict";const y=_("crypto"),g={hash(d){const u=y.createHash(d);for(var f=arguments.length,b=new Array(f>1?f-1:0),p=1;p<f;p++)b[p-1]=arguments[p];return u.update(A.concat(b)),u.digest()},convertPasswordToHash(d,u,f,b){if(u=u.toLowerCase(),y.getHashes().indexOf(u)<0)throw new Error(`Hash algorithm '${u}' not supported!`);const p=A.from(d,"utf16le");let m=this.hash(u,A.from(f,"base64"),p);for(let C=0;C<b;C++){const E=A.alloc(4);E.writeUInt32LE(C,0),m=this.hash(u,m,E)}return m.toString("base64")},randomBytes:d=>y.randomBytes(d)};z.exports=g}).call(this)}).call(this,_("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(_,z,B){"use strict";const{SaxesParser:A}=_("saxes"),{PassThrough:y}=_("readable-stream"),{bufferToString:g}=_("./browser-buffer-decode");z.exports=function(){var d=Ne(function*(u){u.pipe&&!u[Symbol.asyncIterator]&&(u=u.pipe(new y));const f=new A;let b;f.on("error",S=>{b=S});let p=[];f.on("opentag",S=>p.push({eventType:"opentag",value:S})),f.on("text",S=>p.push({eventType:"text",value:S})),f.on("closetag",S=>p.push({eventType:"closetag",value:S}));var E,m=!1,C=!1;try{for(var D,v=rt(u);m=!(D=yield et(v.next())).done;m=!1){if(f.write(g(D.value)),b)throw b;yield p,p=[]}}catch(S){C=!0,E=S}finally{try{m&&null!=v.return&&(yield et(v.return()))}finally{if(C)throw E}}});return function(u){return d.apply(this,arguments)}}()},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(_,z,B){"use strict";const A=_("./col-cache"),y=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,g=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;z.exports={slideFormula:function(d,u,f){const b=A.decode(u),p=A.decode(f);return d.replace(y,(m,C,E,v,D)=>{if(D)return m;const S=g.exec(v);if(S){const R=S[1],L=S[2].toUpperCase(),Z=S[3],ee=S[4];if(L.length>3||3===L.length&&L>"XFD")return m;let ne=A.l2n(L),J=parseInt(ee,10);return R||(ne+=p.col-b.col),Z||(J+=p.row-b.row),(C||"")+(R||"")+A.n2l(ne)+(Z||"")+J}return m})}}},{"./col-cache":19}],24:[function(_,z,B){(function(A,y){(function(){"use strict";const g=_("readable-stream"),d=_("./utils"),u=_("./string-buf");class f{constructor(v,D){this._data=v,this._encoding=D}get length(){return this.toBuffer().length}copy(v,D,S,R){return this.toBuffer().copy(v,D,S,R)}toBuffer(){return this._buffer||(this._buffer=y.from(this._data,this._encoding)),this._buffer}}class b{constructor(v){this._data=v}get length(){return this._data.length}copy(v,D,S,R){return this._data._buf.copy(v,D,S,R)}toBuffer(){return this._data.toBuffer()}}class p{constructor(v){this._data=v}get length(){return this._data.length}copy(v,D,S,R){this._data.copy(v,D,S,R)}toBuffer(){return this._data}}class m{constructor(v){this.size=v,this.buffer=y.alloc(v),this.iRead=0,this.iWrite=0}toBuffer(){if(0===this.iRead&&this.iWrite===this.size)return this.buffer;const v=y.alloc(this.iWrite-this.iRead);return this.buffer.copy(v,0,this.iRead,this.iWrite),v}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(v){let D;return 0===v?null:void 0===v||v>=this.length?(D=this.toBuffer(),this.iRead=this.iWrite,D):(D=y.alloc(v),this.buffer.copy(D,0,this.iRead,v),this.iRead+=v,D)}write(v,D,S){const R=Math.min(S,this.size-this.iWrite);return v.copy(this.buffer,this.iWrite,D,D+R),this.iWrite+=R,R}}const C=function(E){this.bufSize=(E=E||{}).bufSize||1048576,this.buffers=[],this.batch=E.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};d.inherits(C,g.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return y.concat(this.buffers.map(E=>E.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const v=this.buffers[this.buffers.length-1];if(!v.full)return v}const E=new m(this.bufSize);return this.buffers.push(E),E},_pipe(E){var v=this;return s(function*(){yield Promise.all(v.pipes.map(function(D){return new Promise(S=>{D.write(E.toBuffer(),()=>{S()})})}))})()},_writeToBuffers(E){let v=0;const D=E.length;for(;v<D;)v+=this._getWritableBuffer().write(E,v,D-v)},write(E,v,D){var S=this;return s(function*(){let R;if(v instanceof Function&&(D=v,v="utf8"),D=D||d.nop,E instanceof u)R=new b(E);else if(E instanceof y)R=new p(E);else{if(!("string"==typeof E||E instanceof String||E instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");R=new f(E,v)}if(S.pipes.length)if(S.batch)for(S._writeToBuffers(R);!S.corked&&S.buffers.length>1;)S._pipe(S.buffers.shift());else S.corked?(S._writeToBuffers(R),A.nextTick(D)):(yield S._pipe(R),D());else S.paused||S.emit("data",R.toBuffer()),S._writeToBuffers(R),S.emit("readable");return!0})()},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(E,v,D){const S=R=>{R?D(R):(this._flush(),this.pipes.forEach(L=>{L.end()}),this.emit("finish"))};E?this.write(E,v,S):S()},read(E){let v;if(E){for(v=[];E&&this.buffers.length&&!this.buffers[0].eod;){const D=this.buffers[0],S=D.read(E);E-=S.length,v.push(S),D.eod&&D.full&&this.buffers.shift()}return y.concat(v)}return v=this.buffers.map(D=>D.toBuffer()).filter(Boolean),this.buffers=[],y.concat(v)},setEncoding(E){this.encoding=E},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(E){this.pipes.push(E),!this.paused&&this.buffers.length&&this.end()},unpipe(E){this.pipes=this.pipes.filter(v=>v!==E)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),z.exports=C}).call(this)}).call(this,_("_process"),_("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(_,z,B){(function(A){(function(){"use strict";z.exports=class{constructor(y){this._buf=A.alloc(y&&y.size||16384),this._encoding=y&&y.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=A.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(y){y=y||0,this._buffer=void 0,this._inPos=y}_grow(y){let g=2*this._buf.length;for(;g<y;)g*=2;const d=A.alloc(g);this._buf.copy(d,0),this._buf=d}addText(y){this._buffer=void 0;let g=this._inPos+this._buf.write(y,this._inPos,this._encoding);for(;g>=this._buf.length-4;)this._grow(this._inPos+y.length),g=this._inPos+this._buf.write(y,this._inPos,this._encoding);this._inPos=g}addStringBuf(y){y.length&&(this._buffer=void 0,this.length+y.length>this.capacity&&this._grow(this.length+y.length),y._buf.copy(this._buf,this._inPos,0,y.length),this._inPos+=y.length)}}}).call(this)}).call(this,_("buffer").Buffer)},{buffer:220}],26:[function(_,z,B){"use strict";const{toString:A}=Object.prototype,y=/["&<>]/,g={each:function(d,u){d&&(Array.isArray(d)?d.forEach(u):Object.keys(d).forEach(f=>{u(d[f],f)}))},some:function(d,u){return!!d&&(Array.isArray(d)?d.some(u):Object.keys(d).some(f=>u(d[f],f)))},every:function(d,u){return!d||(Array.isArray(d)?d.every(u):Object.keys(d).every(f=>u(d[f],f)))},map:function(d,u){return d?Array.isArray(d)?d.map(u):Object.keys(d).map(f=>u(d[f],f)):[]},keyBy:(d,u)=>d.reduce((f,b)=>(f[b[u]]=b,f),{}),isEqual:function(d,u){const f=typeof d,b=typeof u,p=Array.isArray(d),m=Array.isArray(u);let C;if(f!==b)return!1;if("object"==typeof d){if(p||m)return!(!p||!m)&&d.length===u.length&&d.every((E,v)=>g.isEqual(E,u[v]));if(null===d||null===u)return d===u;if(C=Object.keys(d),Object.keys(u).length!==C.length)return!1;for(const E of C)if(!u.hasOwnProperty(E))return!1;return g.every(d,(E,v)=>g.isEqual(E,u[v]))}return d===u},escapeHtml(d){const u=y.exec(d);if(!u)return d;let f="",b="",p=0,m=u.index;for(;m<d.length;m++){switch(d.charAt(m)){case'"':b="&quot;";break;case"&":b="&amp;";break;case"'":b="&apos;";break;case"<":b="&lt;";break;case">":b="&gt;";break;default:continue}p!==m&&(f+=d.substring(p,m)),p=m+1,f+=b}return p!==m?f+d.substring(p,m):f},strcmp:(d,u)=>d<u?-1:d>u?1:0,isUndefined:d=>"[object Undefined]"===A.call(d),isObject:d=>"[object Object]"===A.call(d),deepMerge(){const d=arguments[0]||{},{length:u}=arguments;let f,b,p;function m(C,E){f=d[E],p=Array.isArray(C),g.isObject(C)||p?(p?(p=!1,b=f&&Array.isArray(f)?f:[]):b=f&&g.isObject(f)?f:{},d[E]=g.deepMerge(b,C)):g.isUndefined(C)||(d[E]=C)}for(let C=0;C<u;C++)g.each(arguments[C],m);return d}};z.exports=g},{}],27:[function(_,z,B){(function(A,y){(function(){"use strict";const g=_("fs"),d=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,u={nop(){},promiseImmediate:f=>new Promise(b=>{A.setImmediate?y(()=>{b(f)}):setTimeout(()=>{b(f)},1)}),inherits:function(f,b,p,m){f.super_=b,m||(m=p,p=null),p&&Object.keys(p).forEach(E=>{Object.defineProperty(f,E,Object.getOwnPropertyDescriptor(p,E))});const C={constructor:{value:f,enumerable:!1,writable:!1,configurable:!0}};m&&Object.keys(m).forEach(E=>{C[E]=Object.getOwnPropertyDescriptor(m,E)}),f.prototype=Object.create(b.prototype,C)},dateToExcel:(f,b)=>25569+f.getTime()/864e5-(b?1462:0),excelToDate(f,b){const p=Math.round(24*(f-25569+(b?1462:0))*3600*1e3);return new Date(p)},parsePath(f){const b=f.lastIndexOf("/");return{path:f.substring(0,b),name:f.substring(b+1)}},getRelsPath(f){const b=u.parsePath(f);return`${b.path}/_rels/${b.name}.rels`},xmlEncode(f){const b=d.exec(f);if(!b)return f;let p="",m="",C=0,E=b.index;for(;E<f.length;E++){const v=f.charCodeAt(E);switch(v){case 34:m="&quot;";break;case 38:m="&amp;";break;case 39:m="&apos;";break;case 60:m="&lt;";break;case 62:m="&gt;";break;case 127:m="";break;default:if(v<=31&&(v<=8||v>=11&&13!==v)){m="";break}continue}C!==E&&(p+=f.substring(C,E)),C=E+1,m&&(p+=m)}return C!==E?p+f.substring(C,E):p},xmlDecode:f=>f.replace(/&([a-z]*);/g,b=>{switch(b){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return b}}),validInt(f){const b=parseInt(f,10);return Number.isNaN(b)?0:b},isDateFmt:f=>!!f&&null!==(f=(f=f.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/),fs:{exists:f=>new Promise(b=>{g.access(f,g.constants.F_OK,p=>{b(!p)})})},toIsoDateString:f=>f.toIsoString().subsstr(0,10),parseBoolean:f=>!0===f||"true"===f||1===f||"1"===f};z.exports=u}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},_("timers").setImmediate)},{fs:216,timers:523}],28:[function(_,z,B){"use strict";const A=_("./under-dash"),y=_("./utils");function g(f,b,p){f.push(` ${b}="${y.xmlEncode(p.toString())}"`)}function d(f,b){if(b){const p=[];A.each(b,(m,C)=>{void 0!==m&&g(p,C,m)}),f.push(p.join(""))}}class u{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(b){const p=this._xml;p.push("<?xml"),d(p,b),p.push("?>\n")}openNode(b,p){const C=this._xml;this.tos&&this.open&&C.push(">"),this._stack.push(b),C.push("<"),C.push(b),d(C,p),this.leaf=!0,this.open=!0}addAttribute(b,p){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");void 0!==p&&g(this._xml,b,p)}addAttributes(b){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d(this._xml,b)}writeText(b){const p=this._xml;this.open&&(p.push(">"),this.open=!1),this.leaf=!1,p.push(y.xmlEncode(b.toString()))}writeXml(b){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(b)}closeNode(){const b=this._stack.pop(),p=this._xml;this.leaf?p.push("/>"):(p.push("</"),p.push(b),p.push(">")),this.open=!1,this.leaf=!1}leafNode(b,p,m){this.openNode(b,p),void 0!==m&&this.writeText(m),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const b=this._rollbacks.pop();this._xml.length>b.xml&&this._xml.splice(b.xml,this._xml.length-b.xml),this._stack.length>b.stack&&this._stack.splice(b.stack,this._stack.length-b.stack),this.leaf=b.leaf,this.open=b.open}get xml(){return this.closeAll(),this._xml.join("")}}u.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},z.exports=u},{"./under-dash":26,"./utils":27}],29:[function(_,z,B){(function(A){(function(){"use strict";const y=_("events"),g=_("jszip"),d=_("./stream-buf"),{stringToBuffer:u}=_("./browser-buffer-encode");z.exports={ZipWriter:class f extends y.EventEmitter{constructor(p){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},p),this.zip=new g,this.stream=new d}append(p,m){m.hasOwnProperty("base64")&&m.base64?this.zip.file(m.name,p,{base64:!0}):(A.browser&&"string"==typeof p&&(p=u(p)),this.zip.file(m.name,p))}finalize(){var p=this;return s(function*(){const m=yield p.zip.generateAsync(p.options);p.stream.end(m),p.emit("finish")})()}read(p){return this.stream.read(p)}setEncoding(p){return this.stream.setEncoding(p)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(p,m){return this.stream.pipe(p,m)}unpipe(p){return this.stream.unpipe(p)}unshift(p){return this.stream.unshift(p)}wrap(p){return this.stream.wrap(p)}}}}).call(this)}).call(this,_("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(_,z,B){"use strict";z.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5e74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5e74" mm"\u6708" dd"\u65e5"'},28:{"zh-tw":'[$-404]e"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'[$-411]ggge"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'[$-411]ggge"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'yyyy"\u5e74"m"\u6708"d"\u65e5"',"ja-jp":'yyyy"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":'yyyy"\ub144" mm"\uc6d4" dd"\uc77c"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65f6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uc2dc" mm"\ubd84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79d2"',"zh-cn":'h"\u65f6"mm"\u5206"ss"\u79d2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79d2"',"ko-kr":'h"\uc2dc" mm"\ubd84" ss"\ucd08"'},34:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4e0a\u5348/\u4e0b\u5348 h"\u65f6"mm"\u5206"',"ja-jp":'yyyy"\u5e74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"ss"\u79d2"',"zh-cn":'\u4e0a\u5348/\u4e0b\u5348 h"\u65f6"mm"\u5206"ss"\u79d2"',"ja-jp":'m"\u6708"d"\u65e5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5e74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5e74" mm"\u6708" dd"\u65e5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5e74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5e74" mm"\u6708" dd"\u65e5"'},51:{"zh-tw":'[$-404]e"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'[$-411]ggge"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5e74"m"\u6708"',"ja-jp":'yyyy"\u5e74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"ss"\u79d2"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'m"\u6708"d"\u65e5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'[$-411]ggge"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4e0a\u5348/\u4e0b\u5348 h"\u65f6"mm"\u5206"',"ja-jp":'yyyy"\u5e74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"ss"\u79d2"',"zh-cn":'\u4e0a\u5348/\u4e0b\u5348 h"\u65f6"mm"\u5206"ss"\u79d2"',"ja-jp":'m"\u6708"d"\u65e5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5e74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5e74" mm"\u6708" dd"\u65e5"'},58:{"zh-tw":'[$-404]e"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'[$-411]ggge"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(_,z,B){"use strict";z.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(_,z,B){"use strict";const A=_("../../utils/parse-sax"),y=_("../../utils/xml-stream");class g{prepare(){}render(){}parseOpen(u){}parseText(u){}parseClose(u){}reconcile(u,f){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(u=>{u instanceof g?u.reset():u.xform&&u.xform.reset()})}mergeModel(u){this.model=Object.assign(this.model||{},u)}parse(u){var f=this;return s(function*(){var m,b=!1,p=!1;try{for(var E,C=rt(u);b=!(E=yield C.next()).done;b=!1){const v=E.value;for(const{eventType:D,value:S}of v)if("opentag"===D)f.parseOpen(S);else if("text"===D)f.parseText(S);else if("closetag"===D&&!f.parseClose(S.name))return f.model}}catch(v){p=!0,m=v}finally{try{b&&null!=C.return&&(yield C.return())}finally{if(p)throw m}}return f.model})()}parseStream(u){var f=this;return s(function*(){return f.parse(A(u))})()}get xml(){return this.toXml(this.model)}toXml(u){const f=new y;return this.render(f,u),f.xml}static toAttribute(u,f){let b=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===u){if(b)return f}else if(b||u!==f)return u.toString()}static toStringAttribute(u,f){return g.toAttribute(u,f,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}static toStringValue(u,f){return void 0===u?f:u}static toBoolAttribute(u,f){let b=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===u){if(b)return f}else if(b||u!==f)return u?"1":"0"}static toBoolValue(u,f){return void 0===u?f:"1"===u}static toIntAttribute(u,f){return g.toAttribute(u,f,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}static toIntValue(u,f){return void 0===u?f:parseInt(u,10)}static toFloatAttribute(u,f){return g.toAttribute(u,f,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}static toFloatValue(u,f){return void 0===u?f:parseFloat(u)}}z.exports=g},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("../../../utils/col-cache");function g(u){try{return y.decodeEx(u),!0}catch{return!1}}function d(u){const f=[];let b=!1,p="";return u.split(",").forEach(m=>{if(!m)return;const C=(m.match(/'/g)||[]).length;if(!C)return void(b?p+=m+",":g(m)&&f.push(m));const E=C%2==0;!b&&E&&g(m)?f.push(m):b&&!E?(b=!1,g(p+m)&&f.push(p+m),p=""):(b=!0,p+=m+",")}),f}z.exports=class extends A{render(u,f){u.openNode("definedName",{name:f.name,localSheetId:f.localSheetId}),u.writeText(f.ranges.join(",")),u.closeNode()}parseOpen(u){return"definedName"===u.name&&(this._parsedName=u.attributes.name,this._parsedLocalSheetId=u.attributes.localSheetId,this._parsedText=[],!0)}parseText(u){this._parsedText.push(u)}parseClose(){return this.model={name:this._parsedName,ranges:d(this._parsedText.join(""))},void 0!==this._parsedLocalSheetId&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(_,z,B){"use strict";const A=_("../../../utils/utils"),y=_("../base-xform");z.exports=class extends y{render(g,d){g.leafNode("sheet",{sheetId:d.id,name:d.name,state:d.state,"r:id":d.rId})}parseOpen(g){return"sheet"===g.name&&(this.model={name:A.xmlDecode(g.attributes.name),id:parseInt(g.attributes.sheetId,10),state:g.attributes.state,rId:g.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{render(y,g){y.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:g.fullCalcOnLoad?1:void 0})}parseOpen(y){return"calcPr"===y.name&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{render(y,g){y.leafNode("workbookPr",{date1904:g.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(y){return"workbookPr"===y.name&&(this.model={date1904:"1"===y.attributes.date1904},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{render(y,g){const d={xWindow:g.x||0,yWindow:g.y||0,windowWidth:g.width||12e3,windowHeight:g.height||24e3,firstSheet:g.firstSheet,activeTab:g.activeTab};g.visibility&&"visible"!==g.visibility&&(d.visibility=g.visibility),y.leafNode("workbookView",d)}parseOpen(y){if("workbookView"===y.name){const g=this.model={},d=function(f,b,p){const m=void 0!==b?g[f]=b:p;void 0!==m&&(g[f]=m)},u=function(f,b,p){const m=void 0!==b?g[f]=parseInt(b,10):p;void 0!==m&&(g[f]=m)};return u("x",y.attributes.xWindow,0),u("y",y.attributes.yWindow,0),u("width",y.attributes.windowWidth,25e3),u("height",y.attributes.windowHeight,1e4),d("visibility",y.attributes.visibility,"visible"),u("activeTab",y.attributes.activeTab,void 0),u("firstSheet",y.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(_,z,B){"use strict";const A=_("../../../utils/under-dash"),y=_("../../../utils/col-cache"),g=_("../../../utils/xml-stream"),d=_("../base-xform"),u=_("../static-xform"),f=_("../list-xform"),b=_("./defined-name-xform"),p=_("./sheet-xform"),m=_("./workbook-view-xform"),C=_("./workbook-properties-xform"),E=_("./workbook-calc-properties-xform");class v extends d{constructor(){super(),this.map={fileVersion:v.STATIC_XFORMS.fileVersion,workbookPr:new C,bookViews:new f({tag:"bookViews",count:!1,childXform:new m}),sheets:new f({tag:"sheets",count:!1,childXform:new p}),definedNames:new f({tag:"definedNames",count:!1,childXform:new b}),calcPr:new E}}prepare(S){S.sheets=S.worksheets;const R=[];let L=0;S.sheets.forEach(Z=>{if(Z.pageSetup&&Z.pageSetup.printArea&&Z.pageSetup.printArea.split("&&").forEach(ee=>{const ne=ee.split(":");R.push({name:"_xlnm.Print_Area",ranges:[`'${Z.name}'!$${ne[0]}:$${ne[1]}`],localSheetId:L})}),Z.pageSetup&&(Z.pageSetup.printTitlesRow||Z.pageSetup.printTitlesColumn)){const ee=[];if(Z.pageSetup.printTitlesColumn){const J=Z.pageSetup.printTitlesColumn.split(":");ee.push(`'${Z.name}'!$${J[0]}:$${J[1]}`)}if(Z.pageSetup.printTitlesRow){const J=Z.pageSetup.printTitlesRow.split(":");ee.push(`'${Z.name}'!$${J[0]}:$${J[1]}`)}R.push({name:"_xlnm.Print_Titles",ranges:ee,localSheetId:L})}L++}),R.length&&(S.definedNames=S.definedNames.concat(R)),(S.media||[]).forEach((Z,ee)=>{Z.name=Z.type+(ee+1)})}render(S,R){S.openXml(g.StdDocAttributes),S.openNode("workbook",v.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(S),this.map.workbookPr.render(S,R.properties),this.map.bookViews.render(S,R.views),this.map.sheets.render(S,R.sheets),this.map.definedNames.render(S,R.definedNames),this.map.calcPr.render(S,R.calcProperties),S.closeNode()}parseOpen(S){return this.parser?(this.parser.parseOpen(S),!0):("workbook"===S.name||(this.parser=this.map[S.name],this.parser&&this.parser.parseOpen(S)),!0)}parseText(S){this.parser&&this.parser.parseText(S)}parseClose(S){return this.parser?(this.parser.parseClose(S)||(this.parser=void 0),!0):"workbook"!==S||(this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1)}reconcile(S){const R=(S.workbookRels||[]).reduce((J,re)=>(J[re.Id]=re,J),{}),L=[];let Z,ee=0;(S.sheets||[]).forEach(J=>{const re=R[J.rId];re&&(Z=S.worksheetHash["xl/"+re.Target.replace(/^(\s|\/xl\/)+/,"")],Z&&(Z.name=J.name,Z.id=J.id,Z.state=J.state,L[ee++]=Z))});const ne=[];A.each(S.definedNames,J=>{if("_xlnm.Print_Area"===J.name){if(Z=L[J.localSheetId],Z){Z.pageSetup||(Z.pageSetup={});const re=y.decodeEx(J.ranges[0]);Z.pageSetup.printArea=Z.pageSetup.printArea?`${Z.pageSetup.printArea}&&${re.dimensions}`:re.dimensions}}else if("_xlnm.Print_Titles"===J.name){if(Z=L[J.localSheetId],Z){Z.pageSetup||(Z.pageSetup={});const re=J.ranges.join(","),oe=/\$/g,ae=re.match(/\$\d+:\$\d+/);ae&&ae.length&&(Z.pageSetup.printTitlesRow=ae[0].replace(oe,""));const W=re.match(/\$[A-Z]+:\$[A-Z]+/);W&&W.length&&(Z.pageSetup.printTitlesColumn=W[0].replace(oe,""))}}else ne.push(J)}),S.definedNames=ne,S.media.forEach((J,re)=>{J.index=re})}}v.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},v.STATIC_XFORMS={fileVersion:new u({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},z.exports=v},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(_,z,B){"use strict";const A=_("../strings/rich-text-xform"),y=_("../../../utils/utils"),g=_("../base-xform"),d=z.exports=function(u){this.model=u};y.inherits(d,g,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new A),this._richTextXform},render(u,f){u.openNode("comment",{ref:(f=f||this.model).ref,authorId:0}),u.openNode("text"),f&&f.note&&f.note.texts&&f.note.texts.forEach(b=>{this.richTextXform.render(u,b)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"comment":return this.model={type:"note",note:{texts:[]},...u.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(_,z,B){"use strict";const A=_("../../../utils/xml-stream"),y=_("../../../utils/utils"),g=_("../base-xform"),d=_("./comment-xform"),u=z.exports=function(){this.map={comment:new d}};y.inherits(u,g,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(f,b){b=b||this.model,f.openXml(A.StdDocAttributes),f.openNode("comments",u.COMMENTS_ATTRIBUTES),f.openNode("authors"),f.leafNode("author",null,"Author"),f.closeNode(),f.openNode("commentList"),b.comments.forEach(p=>{this.map.comment.render(f,p)}),f.closeNode(),f.closeNode()},parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(f),!0;default:return!1}},parseText(f){this.parser&&this.parser.parseText(f)},parseClose(f){switch(f){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(f),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(_,z,B){"use strict";const A=_("../../base-xform");z.exports=class extends A{constructor(y){super(),this._model=y}get tag(){return this._model&&this._model.tag}render(y,g,d){(g===d[2]||"x:SizeWithCells"===this.tag&&g===d[1])&&y.leafNode(this.tag)}parseOpen(y){return y.name===this.tag&&(this.model={},this.model[this.tag]=!0,!0)}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(_,z,B){"use strict";const A=_("../../base-xform");z.exports=class extends A{constructor(y){super(),this._model=y}get tag(){return this._model&&this._model.tag}render(y,g){y.leafNode(this.tag,null,g)}parseOpen(y){return y.name===this.tag&&(this.text="",!0)}parseText(y){this.text=y}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"x:Anchor"}getAnchorRect(y){const g=Math.floor(y.left),d=Math.floor(68*(y.left-g)),u=Math.floor(y.top),f=Math.floor(18*(y.top-u)),b=Math.floor(y.right),p=Math.floor(68*(y.right-b)),m=Math.floor(y.bottom);return[g,d,u,f,b,p,m,Math.floor(18*(y.bottom-m))]}getDefaultRect(y){const g=y.col,d=Math.max(y.row-2,0);return[g,6,d,14,g+2,2,d+4,16]}render(y,g){const d=g.anchor?this.getAnchorRect(g.anchor):this.getDefaultRect(g.refAddress);y.leafNode("x:Anchor",null,d.join(", "))}parseOpen(y){return y.name===this.tag&&(this.text="",!0)}parseText(y){this.text=y}parseClose(){return!1}}},{"../base-xform":32}],44:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("./vml-anchor-xform"),g=_("./style/vml-protection-xform"),d=_("./style/vml-position-xform"),u=["twoCells","oneCells","absolute"];z.exports=class extends A{constructor(){super(),this.map={"x:Anchor":new y,"x:Locked":new g({tag:"x:Locked"}),"x:LockText":new g({tag:"x:LockText"}),"x:SizeWithCells":new d({tag:"x:SizeWithCells"}),"x:MoveWithCells":new d({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(f,b){const{protection:p,editAs:m}=b.note;f.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(f,m,u),this.map["x:SizeWithCells"].render(f,m,u),this.map["x:Anchor"].render(f,b),this.map["x:Locked"].render(f,p.locked),f.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(f,p.lockText),f.leafNode("x:Row",null,b.refAddress.row-1),f.leafNode("x:Column",null,b.refAddress.col-1),f.closeNode()}parseOpen(f){return f.name===this.tag?(this.reset(),this.model={anchor:[],protection:{},editAs:""}):(this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)),!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.normalizeModel(),!1)}normalizeModel(){const f=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),b=Object.keys(f).length;this.model.editAs=u[b],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(_,z,B){"use strict";const A=_("../../../utils/xml-stream"),y=_("../base-xform"),g=_("./vml-shape-xform");class d extends y{constructor(){super(),this.map={"v:shape":new g}}get tag(){return"xml"}render(f,b){f.openXml(A.StdDocAttributes),f.openNode(this.tag,d.DRAWING_ATTRIBUTES),f.openNode("o:shapelayout",{"v:ext":"edit"}),f.leafNode("o:idmap",{"v:ext":"edit",data:1}),f.closeNode(),f.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),f.leafNode("v:stroke",{joinstyle:"miter"}),f.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),f.closeNode(),b.comments.forEach((p,m)=>{this.map["v:shape"].render(f,p,m)}),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):(f.name===this.tag?(this.reset(),this.model={comments:[]}):(this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)),!0)}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0):f!==this.tag}reconcile(f,b){f.anchors.forEach(p=>{p.br?this.map["xdr:twoCellAnchor"].reconcile(p,b):this.map["xdr:oneCellAnchor"].reconcile(p,b)})}}d.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},z.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("./vml-textbox-xform"),g=_("./vml-client-data-xform");class d extends A{constructor(){super(),this.map={"v:textbox":new y,"x:ClientData":new g}}get tag(){return"v:shape"}render(f,b,p){f.openNode("v:shape",d.V_SHAPE_ATTRIBUTES(b,p)),f.leafNode("v:fill",{color2:"infoBackground [80]"}),f.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),f.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(f,b),this.map["x:ClientData"].render(f,b),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):(f.name===this.tag?(this.reset(),this.model={margins:{insetmode:f.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}}):(this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)),!0)}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1)}}d.V_SHAPE_ATTRIBUTES=(u,f)=>({id:"_x0000_s"+(1025+f),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":u.note.margins&&u.note.margins.insetmode}),z.exports=d},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"v:textbox"}conversionUnit(y,g,d){return`${parseFloat(y)*g.toFixed(2)}${d}`}reverseConversionUnit(y){return(y||"").split(",").map(g=>Number(parseFloat(this.conversionUnit(parseFloat(g),.1,"")).toFixed(2)))}render(y,g){const d={style:"mso-direction-alt:auto"};if(g&&g.note){let{inset:u}=g.note&&g.note.margins;Array.isArray(u)&&(u=u.map(f=>this.conversionUnit(f,10,"mm")).join(",")),u&&(d.inset=u)}y.openNode("v:textbox",d),y.leafNode("div",{style:"text-align:left"}),y.closeNode()}parseOpen(y){return y.name!==this.tag||(this.model={inset:this.reverseConversionUnit(y.attributes.inset)},!0)}parseText(){}parseClose(y){return y!==this.tag}}},{"../base-xform":32}],48:[function(_,z,B){"use strict";const A=_("./base-xform");z.exports=class extends A{createNewModel(y){return{}}parseOpen(y){return this.parser=this.parser||this.map[y.name],this.parser?(this.parser.parseOpen(y),!0):y.name===this.tag&&(this.model=this.createNewModel(y),!0)}parseText(y){this.parser&&this.parser.parseText(y)}onParserClose(y,g){this.model[y]=g.model}parseClose(y){return this.parser?(this.parser.parseClose(y)||(this.onParserClose(y,this.parser),this.parser=void 0),!0):y!==this.tag}}},{"./base-xform":32}],49:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{render(y,g){y.openNode("HeadingPairs"),y.openNode("vt:vector",{size:2,baseType:"variant"}),y.openNode("vt:variant"),y.leafNode("vt:lpstr",void 0,"Worksheets"),y.closeNode(),y.openNode("vt:variant"),y.leafNode("vt:i4",void 0,g.length),y.closeNode(),y.closeNode(),y.closeNode()}parseOpen(y){return"HeadingPairs"===y.name}parseText(){}parseClose(y){return"HeadingPairs"!==y}}},{"../base-xform":32}],50:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{render(y,g){y.openNode("TitlesOfParts"),y.openNode("vt:vector",{size:g.length,baseType:"lpstr"}),g.forEach(d=>{y.leafNode("vt:lpstr",void 0,d.name)}),y.closeNode(),y.closeNode()}parseOpen(y){return"TitlesOfParts"===y.name}parseText(){}parseClose(y){return"TitlesOfParts"!==y}}},{"../base-xform":32}],51:[function(_,z,B){"use strict";const A=_("../../../utils/xml-stream"),y=_("../base-xform"),g=_("../simple/string-xform"),d=_("./app-heading-pairs-xform"),u=_("./app-titles-of-parts-xform");class f extends y{constructor(){super(),this.map={Company:new g({tag:"Company"}),Manager:new g({tag:"Manager"}),HeadingPairs:new d,TitleOfParts:new u}}render(p,m){p.openXml(A.StdDocAttributes),p.openNode("Properties",f.PROPERTY_ATTRIBUTES),p.leafNode("Application",void 0,"Microsoft Excel"),p.leafNode("DocSecurity",void 0,"0"),p.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(p,m.worksheets),this.map.TitleOfParts.render(p,m.worksheets),this.map.Company.render(p,m.company||""),this.map.Manager.render(p,m.manager),p.leafNode("LinksUpToDate",void 0,"false"),p.leafNode("SharedDoc",void 0,"false"),p.leafNode("HyperlinksChanged",void 0,"false"),p.leafNode("AppVersion",void 0,"16.0300"),p.closeNode()}parseOpen(p){return this.parser?(this.parser.parseOpen(p),!0):"Properties"===p.name||(this.parser=this.map[p.name],!!this.parser&&(this.parser.parseOpen(p),!0))}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){return this.parser?(this.parser.parseClose(p)||(this.parser=void 0),!0):"Properties"!==p||(this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1)}}f.DateFormat=function(b){return b.toISOString().replace(/[.]\d{3,6}/,"")},f.DateAttrs={"xsi:type":"dcterms:W3CDTF"},f.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},z.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(_,z,B){"use strict";const A=_("../../../utils/xml-stream"),y=_("../base-xform");class g extends y{render(u,f){u.openXml(A.StdDocAttributes),u.openNode("Types",g.PROPERTY_ATTRIBUTES);const b={};(f.media||[]).forEach(p=>{if("image"===p.type){const m=p.extension;b[m]||(b[m]=!0,u.leafNode("Default",{Extension:m,ContentType:"image/"+m}))}}),u.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),u.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),u.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),f.worksheets.forEach(p=>{u.leafNode("Override",{PartName:`/xl/worksheets/sheet${p.id}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),u.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),u.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),f.sharedStrings&&f.sharedStrings.count&&u.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),f.tables&&f.tables.forEach(p=>{u.leafNode("Override",{PartName:"/xl/tables/"+p.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),f.drawings&&f.drawings.forEach(p=>{u.leafNode("Override",{PartName:`/xl/drawings/${p.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),f.commentRefs&&(u.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),f.commentRefs.forEach(p=>{let{commentName:m}=p;u.leafNode("Override",{PartName:`/xl/${m}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),u.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),u.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),u.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}g.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},z.exports=g},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(_,z,B){"use strict";const A=_("../../../utils/xml-stream"),y=_("../base-xform"),g=_("../simple/date-xform"),d=_("../simple/string-xform"),u=_("../simple/integer-xform");class f extends y{constructor(){super(),this.map={"dc:creator":new d({tag:"dc:creator"}),"dc:title":new d({tag:"dc:title"}),"dc:subject":new d({tag:"dc:subject"}),"dc:description":new d({tag:"dc:description"}),"dc:identifier":new d({tag:"dc:identifier"}),"dc:language":new d({tag:"dc:language"}),"cp:keywords":new d({tag:"cp:keywords"}),"cp:category":new d({tag:"cp:category"}),"cp:lastModifiedBy":new d({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new g({tag:"cp:lastPrinted",format:f.DateFormat}),"cp:revision":new u({tag:"cp:revision"}),"cp:version":new d({tag:"cp:version"}),"cp:contentStatus":new d({tag:"cp:contentStatus"}),"cp:contentType":new d({tag:"cp:contentType"}),"dcterms:created":new g({tag:"dcterms:created",attrs:f.DateAttrs,format:f.DateFormat}),"dcterms:modified":new g({tag:"dcterms:modified",attrs:f.DateAttrs,format:f.DateFormat})}}render(p,m){p.openXml(A.StdDocAttributes),p.openNode("cp:coreProperties",f.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(p,m.creator),this.map["dc:title"].render(p,m.title),this.map["dc:subject"].render(p,m.subject),this.map["dc:description"].render(p,m.description),this.map["dc:identifier"].render(p,m.identifier),this.map["dc:language"].render(p,m.language),this.map["cp:keywords"].render(p,m.keywords),this.map["cp:category"].render(p,m.category),this.map["cp:lastModifiedBy"].render(p,m.lastModifiedBy),this.map["cp:lastPrinted"].render(p,m.lastPrinted),this.map["cp:revision"].render(p,m.revision),this.map["cp:version"].render(p,m.version),this.map["cp:contentStatus"].render(p,m.contentStatus),this.map["cp:contentType"].render(p,m.contentType),this.map["dcterms:created"].render(p,m.created),this.map["dcterms:modified"].render(p,m.modified),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[p.name],this.parser)return this.parser.parseOpen(p),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(p))}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+p)}}}f.DateFormat=function(b){return b.toISOString().replace(/[.]\d{3}/,"")},f.DateAttrs={"xsi:type":"dcterms:W3CDTF"},f.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},z.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{render(y,g){y.leafNode("Relationship",g)}parseOpen(y){return"Relationship"===y.name&&(this.model=y.attributes,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(_,z,B){"use strict";const A=_("../../../utils/xml-stream"),y=_("../base-xform"),g=_("./relationship-xform");class d extends y{constructor(){super(),this.map={Relationship:new g}}render(f,b){b=b||this._values,f.openXml(A.StdDocAttributes),f.openNode("Relationships",d.RELATIONSHIPS_ATTRIBUTES),b.forEach(p=>{this.map.Relationship.render(f,p)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;if("Relationships"===f.name)return this.model=[],!0;if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.push(this.parser.model),this.parser=void 0),!0;if("Relationships"===f)return!1;throw new Error("Unexpected xml node in parseClose: "+f)}}d.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},z.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{parseOpen(y){return this.parser?(this.parser.parseOpen(y),!0):(y.name===this.tag?(this.reset(),this.model={range:{editAs:y.attributes.editAs||"oneCell"}}):(this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y)),!0)}parseText(y){this.parser&&this.parser.parseText(y)}reconcilePicture(y,g){if(y&&y.rId){const d=g.rels[y.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(d)return g.media[g.mediaIndex[d[1]]]}}}},{"../base-xform":32}],57:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("./blip-xform");z.exports=class extends A{constructor(){super(),this.map={"a:blip":new y}}get tag(){return"xdr:blipFill"}render(g,d){g.openNode(this.tag),this.map["a:blip"].render(g,d),g.openNode("a:stretch"),g.leafNode("a:fillRect"),g.closeNode(),g.closeNode()}parseOpen(g){return this.parser?(this.parser.parseOpen(g),!0):(g.name===this.tag?this.reset():(this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g)),!0)}parseText(){}parseClose(g){return this.parser?(this.parser.parseClose(g)||(this.parser=void 0),!0):g!==this.tag||(this.model=this.map["a:blip"].model,!1)}}},{"../base-xform":32,"./blip-xform":58}],58:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"a:blip"}render(y,g){y.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":g.rId,cstate:"print"})}parseOpen(y){return y.name!==this.tag||(this.model={rId:y.attributes["r:embed"]},!0)}parseText(){}parseClose(y){return y!==this.tag}}},{"../base-xform":32}],59:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"xdr:cNvPicPr"}render(y){y.openNode(this.tag),y.leafNode("a:picLocks",{noChangeAspect:"1"}),y.closeNode()}parseOpen(y){return!0}parseText(){}parseClose(y){return y!==this.tag}}},{"../base-xform":32}],60:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("./hlink-click-xform"),g=_("./ext-lst-xform");z.exports=class extends A{constructor(){super(),this.map={"a:hlinkClick":new y,"a:extLst":new g}}get tag(){return"xdr:cNvPr"}render(d,u){d.openNode(this.tag,{id:u.index,name:"Picture "+u.index}),this.map["a:hlinkClick"].render(d,u),this.map["a:extLst"].render(d,u),d.closeNode()}parseOpen(d){return this.parser?(this.parser.parseOpen(d),!0):(d.name===this.tag?this.reset():(this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)),!0)}parseText(){}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model=this.map["a:hlinkClick"].model,!1)}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("../simple/integer-xform");z.exports=class extends A{constructor(g){super(),this.tag=g.tag,this.map={"xdr:col":new y({tag:"xdr:col",zero:!0}),"xdr:colOff":new y({tag:"xdr:colOff",zero:!0}),"xdr:row":new y({tag:"xdr:row",zero:!0}),"xdr:rowOff":new y({tag:"xdr:rowOff",zero:!0})}}render(g,d){g.openNode(this.tag),this.map["xdr:col"].render(g,d.nativeCol),this.map["xdr:colOff"].render(g,d.nativeColOff),this.map["xdr:row"].render(g,d.nativeRow),this.map["xdr:rowOff"].render(g,d.nativeRowOff),g.closeNode()}parseOpen(g){return this.parser?(this.parser.parseOpen(g),!0):(g.name===this.tag?this.reset():(this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g)),!0)}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){return this.parser?(this.parser.parseClose(g)||(this.parser=void 0),!0):g!==this.tag||(this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1)}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(_,z,B){"use strict";const A=_("../../../utils/col-cache"),y=_("../../../utils/xml-stream"),g=_("../base-xform"),d=_("./two-cell-anchor-xform"),u=_("./one-cell-anchor-xform");class f extends g{constructor(){super(),this.map={"xdr:twoCellAnchor":new d,"xdr:oneCellAnchor":new u}}prepare(p){p.anchors.forEach((m,C)=>{var E;m.anchorType=("string"==typeof(E=m).range?A.decode(E.range):E.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor",this.map[m.anchorType].prepare(m,{index:C})})}get tag(){return"xdr:wsDr"}render(p,m){p.openXml(y.StdDocAttributes),p.openNode(this.tag,f.DRAWING_ATTRIBUTES),m.anchors.forEach(C=>{this.map[C.anchorType].render(p,C)}),p.closeNode()}parseOpen(p){return this.parser?(this.parser.parseOpen(p),!0):(p.name===this.tag?(this.reset(),this.model={anchors:[]}):(this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p)),!0)}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){return this.parser?(this.parser.parseClose(p)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0):p!==this.tag}reconcile(p,m){p.anchors.forEach(C=>{C.br?this.map["xdr:twoCellAnchor"].reconcile(C,m):this.map["xdr:oneCellAnchor"].reconcile(C,m)})}}f.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},z.exports=f},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"a:extLst"}render(y){y.openNode(this.tag),y.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),y.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),y.closeNode(),y.closeNode()}parseOpen(y){return!0}parseText(){}parseClose(y){return y!==this.tag}}},{"../base-xform":32}],64:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{constructor(y){super(),this.tag=y.tag,this.map={}}render(y,g){y.openNode(this.tag);const d=Math.floor(9525*g.width),u=Math.floor(9525*g.height);y.addAttribute("cx",d),y.addAttribute("cy",u),y.closeNode()}parseOpen(y){return y.name===this.tag&&(this.model={width:parseInt(y.attributes.cx||"0",10)/9525,height:parseInt(y.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"a:hlinkClick"}render(y,g){g.hyperlinks&&g.hyperlinks.rId&&y.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":g.hyperlinks.rId,tooltip:g.hyperlinks.tooltip})}parseOpen(y){return y.name!==this.tag||(this.model={hyperlinks:{rId:y.attributes["r:id"],tooltip:y.attributes.tooltip}},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("./c-nv-pr-xform"),g=_("./c-nv-pic-pr-xform");z.exports=class extends A{constructor(){super(),this.map={"xdr:cNvPr":new y,"xdr:cNvPicPr":new g}}get tag(){return"xdr:nvPicPr"}render(d,u){d.openNode(this.tag),this.map["xdr:cNvPr"].render(d,u),this.map["xdr:cNvPicPr"].render(d,u),d.closeNode()}parseOpen(d){return this.parser?(this.parser.parseOpen(d),!0):(d.name===this.tag?this.reset():(this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)),!0)}parseText(){}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model=this.map["xdr:cNvPr"].model,!1)}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(_,z,B){"use strict";const A=_("./base-cell-anchor-xform"),y=_("../static-xform"),g=_("./cell-position-xform"),d=_("./ext-xform"),u=_("./pic-xform");z.exports=class extends A{constructor(){super(),this.map={"xdr:from":new g({tag:"xdr:from"}),"xdr:ext":new d({tag:"xdr:ext"}),"xdr:pic":new u,"xdr:clientData":new y({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(f,b){this.map["xdr:pic"].prepare(f.picture,b)}render(f,b){f.openNode(this.tag,{editAs:b.range.editAs||"oneCell"}),this.map["xdr:from"].render(f,b.range.tl),this.map["xdr:ext"].render(f,b.range.ext),this.map["xdr:pic"].render(f,b.picture),this.map["xdr:clientData"].render(f,{}),f.closeNode()}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1)}reconcile(f,b){f.medium=this.reconcilePicture(f.picture,b)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("../static-xform"),g=_("./blip-fill-xform"),d=_("./nv-pic-pr-xform"),u=_("./sp-pr");z.exports=class extends A{constructor(){super(),this.map={"xdr:nvPicPr":new d,"xdr:blipFill":new g,"xdr:spPr":new y(u)}}get tag(){return"xdr:pic"}prepare(f,b){f.index=b.index+1}render(f,b){f.openNode(this.tag),this.map["xdr:nvPicPr"].render(f,b),this.map["xdr:blipFill"].render(f,b),this.map["xdr:spPr"].render(f,b),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):(f.name===this.tag?this.reset():(this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)),!0)}parseText(){}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.mergeModel(this.parser.model),this.parser=void 0),!0):f!==this.tag}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(_,z,B){"use strict";z.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(_,z,B){"use strict";const A=_("./base-cell-anchor-xform"),y=_("../static-xform"),g=_("./cell-position-xform"),d=_("./pic-xform");z.exports=class extends A{constructor(){super(),this.map={"xdr:from":new g({tag:"xdr:from"}),"xdr:to":new g({tag:"xdr:to"}),"xdr:pic":new d,"xdr:clientData":new y({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(u,f){this.map["xdr:pic"].prepare(u.picture,f)}render(u,f){u.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,f.range.tl),this.map["xdr:to"].render(u,f.range.br),this.map["xdr:pic"].render(u,f.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u!==this.tag||(this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1)}reconcile(u,f){u.medium=this.reconcilePicture(u.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(_,z,B){"use strict";const A=_("./base-xform");z.exports=class extends A{constructor(y){super(),this.tag=y.tag,this.always=!!y.always,this.count=y.count,this.empty=y.empty,this.$count=y.$count||"count",this.$=y.$,this.childXform=y.childXform,this.maxItems=y.maxItems}prepare(y,g){const{childXform:d}=this;y&&y.forEach((u,f)=>{g.index=f,d.prepare(u,g)})}render(y,g){if(this.always||g&&g.length){y.openNode(this.tag,this.$),this.count&&y.addAttribute(this.$count,g&&g.length||0);const{childXform:d}=this;(g||[]).forEach((u,f)=>{d.render(y,u,f)}),y.closeNode()}else this.empty&&y.leafNode(this.tag)}parseOpen(y){return this.parser?(this.parser.parseOpen(y),!0):y.name===this.tag?(this.model=[],!0):!!this.childXform.parseOpen(y)&&(this.parser=this.childXform,!0)}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser){if(!this.parser.parseClose(y)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(y,g){if(y){const{childXform:d}=this;y.forEach(u=>{d.reconcile(u,g)})}}}},{"./base-xform":32}],72:[function(_,z,B){"use strict";const A=_("../../../utils/col-cache"),y=_("../base-xform");z.exports=class extends y{get tag(){return"autoFilter"}render(g,d){if(d)if("string"==typeof d)g.leafNode("autoFilter",{ref:d});else{const u=function(p){return"string"==typeof p?p:A.getAddress(p.row,p.column).address},f=u(d.from),b=u(d.to);f&&b&&g.leafNode("autoFilter",{ref:`${f}:${b}`})}}parseOpen(g){"autoFilter"===g.name&&(this.model=g.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(_,z,B){"use strict";const A=_("../../../utils/utils"),y=_("../base-xform"),g=_("../../../doc/range"),d=_("../../../doc/enums"),u=_("../strings/rich-text-xform");function f(b){if(null==b)return d.ValueType.Null;if(b instanceof String||"string"==typeof b)return d.ValueType.String;if("number"==typeof b)return d.ValueType.Number;if("boolean"==typeof b)return d.ValueType.Boolean;if(b instanceof Date)return d.ValueType.Date;if(b.text&&b.hyperlink)return d.ValueType.Hyperlink;if(b.formula)return d.ValueType.Formula;if(b.error)return d.ValueType.Error;throw new Error("I could not understand type of value")}z.exports=class extends y{constructor(){super(),this.richTextXForm=new u}get tag(){return"c"}prepare(b,p){const m=p.styles.addStyleModel(b.style||{},(C=b).type===d.ValueType.Formula?f(C.result):C.type);var C;switch(m&&(b.styleId=m),b.comment&&p.comments.push({...b.comment,ref:b.address}),b.type){case d.ValueType.String:case d.ValueType.RichText:p.sharedStrings&&(b.ssId=p.sharedStrings.add(b.value));break;case d.ValueType.Date:p.date1904&&(b.date1904=!0);break;case d.ValueType.Hyperlink:p.sharedStrings&&null!=b.text&&(b.ssId=p.sharedStrings.add(b.text)),p.hyperlinks.push({address:b.address,target:b.hyperlink,tooltip:b.tooltip});break;case d.ValueType.Merge:p.merges.add(b);break;case d.ValueType.Formula:if(p.date1904&&(b.date1904=!0),"shared"===b.shareType&&(b.si=p.siFormulae++),b.formula)p.formulae[b.address]=b;else if(b.sharedFormula){const C=p.formulae[b.sharedFormula];if(!C)throw new Error("Shared Formula master must exist above and or left of clone for cell "+b.address);void 0===C.si?(C.shareType="shared",C.si=p.siFormulae++,C.range=new g(C.address,b.address)):C.range&&C.range.expandToAddress(b.address),b.si=C.si}}}renderFormula(b,p){let m=null;switch(p.shareType){case"shared":m={t:"shared",ref:p.ref||p.range.range,si:p.si};break;case"array":m={t:"array",ref:p.ref};break;default:void 0!==p.si&&(m={t:"shared",si:p.si})}switch(f(p.result)){case d.ValueType.Null:b.leafNode("f",m,p.formula);break;case d.ValueType.String:b.addAttribute("t","str"),b.leafNode("f",m,p.formula),b.leafNode("v",null,p.result);break;case d.ValueType.Number:b.leafNode("f",m,p.formula),b.leafNode("v",null,p.result);break;case d.ValueType.Boolean:b.addAttribute("t","b"),b.leafNode("f",m,p.formula),b.leafNode("v",null,p.result?1:0);break;case d.ValueType.Error:b.addAttribute("t","e"),b.leafNode("f",m,p.formula),b.leafNode("v",null,p.result.error);break;case d.ValueType.Date:b.leafNode("f",m,p.formula),b.leafNode("v",null,A.dateToExcel(p.result,p.date1904));break;default:throw new Error("I could not understand type of value")}}render(b,p){if(p.type!==d.ValueType.Null||p.styleId){switch(b.openNode("c"),b.addAttribute("r",p.address),p.styleId&&b.addAttribute("s",p.styleId),p.type){case d.ValueType.Null:break;case d.ValueType.Number:b.leafNode("v",null,p.value);break;case d.ValueType.Boolean:b.addAttribute("t","b"),b.leafNode("v",null,p.value?"1":"0");break;case d.ValueType.Error:b.addAttribute("t","e"),b.leafNode("v",null,p.value.error);break;case d.ValueType.String:case d.ValueType.RichText:void 0!==p.ssId?(b.addAttribute("t","s"),b.leafNode("v",null,p.ssId)):p.value&&p.value.richText?(b.addAttribute("t","inlineStr"),b.openNode("is"),p.value.richText.forEach(m=>{this.richTextXForm.render(b,m)}),b.closeNode("is")):(b.addAttribute("t","str"),b.leafNode("v",null,p.value));break;case d.ValueType.Date:b.leafNode("v",null,A.dateToExcel(p.value,p.date1904));break;case d.ValueType.Hyperlink:void 0!==p.ssId?(b.addAttribute("t","s"),b.leafNode("v",null,p.ssId)):(b.addAttribute("t","str"),b.leafNode("v",null,p.text));break;case d.ValueType.Formula:this.renderFormula(b,p)}b.closeNode()}}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"c":return this.model={address:b.attributes.r},this.t=b.attributes.t,b.attributes.s&&(this.model.styleId=parseInt(b.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=b.attributes.si,this.model.shareType=b.attributes.t,this.model.ref=b.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(b),!0;default:return!1}}parseText(b){if(this.parser)this.parser.parseText(b);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+b:b;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+b:b:this.model.value=this.model.value?this.model.value+b:b}}parseClose(b){switch(b){case"c":{const{model:p}=this;if(p.formula||p.shareType)p.type=d.ValueType.Formula,p.value&&(p.result="str"===this.t?A.xmlDecode(p.value):"b"===this.t?0!==parseInt(p.value,10):"e"===this.t?{error:p.value}:parseFloat(p.value),p.value=void 0);else if(void 0!==p.value)switch(this.t){case"s":p.type=d.ValueType.String,p.value=parseInt(p.value,10);break;case"str":p.type=d.ValueType.String,p.value=A.xmlDecode(p.value);break;case"inlineStr":p.type=d.ValueType.String;break;case"b":p.type=d.ValueType.Boolean,p.value=0!==parseInt(p.value,10);break;case"e":p.type=d.ValueType.Error,p.value={error:p.value};break;default:p.type=d.ValueType.Number,p.value=parseFloat(p.value)}else p.type=p.styleId?d.ValueType.Null:d.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(b),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(b),!0)}}reconcile(b,p){const m=b.styleId&&p.styles&&p.styles.getStyleModel(b.styleId);switch(m&&(b.style=m),void 0!==b.styleId&&(b.styleId=void 0),b.type){case d.ValueType.String:"number"==typeof b.value&&p.sharedStrings&&(b.value=p.sharedStrings.getString(b.value)),b.value.richText&&(b.type=d.ValueType.RichText);break;case d.ValueType.Number:m&&A.isDateFmt(m.numFmt)&&(b.type=d.ValueType.Date,b.value=A.excelToDate(b.value,p.date1904));break;case d.ValueType.Formula:void 0!==b.result&&m&&A.isDateFmt(m.numFmt)&&(b.result=A.excelToDate(b.result,p.date1904)),"shared"===b.shareType&&(b.ref?p.formulae[b.si]=b.address:(b.sharedFormula=p.formulae[b.si],delete b.shareType),delete b.si)}const C=p.hyperlinkMap[b.address];C&&(b.type===d.ValueType.Formula?(b.text=b.result,b.result=void 0):(b.text=b.value,b.value=void 0),b.type=d.ValueType.Hyperlink,b.hyperlink=C);const E=p.commentsMap&&p.commentsMap[b.address];E&&(b.comment=E)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(_,z,B){"use strict";const A=_("../../base-xform");z.exports=class extends A{get tag(){return"x14:cfIcon"}render(y,g){y.leafNode(this.tag,{iconSet:g.iconSet,iconId:g.iconId})}parseOpen(y){let{attributes:g}=y;this.model={iconSet:g.iconSet,iconId:A.toIntValue(g.iconId)}}parseClose(y){return y!==this.tag}}},{"../../base-xform":32}],75:[function(_,z,B){"use strict";const{v4:A}=_("uuid"),y=_("../../base-xform"),g=_("../../composite-xform"),d=_("./databar-ext-xform"),u=_("./icon-set-ext-xform"),f={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class b extends g{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new d,"x14:iconSet":this.iconSetXform=new u}}get tag(){return"x14:cfRule"}static isExt(m){return"dataBar"===m.type?d.isExt(m):!("iconSet"!==m.type||!m.custom&&!f[m.iconSet])}prepare(m){b.isExt(m)&&(m.x14Id=`{${A()}}`.toUpperCase())}render(m,C){if(b.isExt(C))switch(C.type){case"dataBar":this.renderDataBar(m,C);break;case"iconSet":this.renderIconSet(m,C)}}renderDataBar(m,C){m.openNode(this.tag,{type:"dataBar",id:C.x14Id}),this.databarXform.render(m,C),m.closeNode()}renderIconSet(m,C){m.openNode(this.tag,{type:"iconSet",priority:C.priority,id:C.x14Id||`{${A()}}`}),this.iconSetXform.render(m,C),m.closeNode()}createNewModel(m){let{attributes:C}=m;return{type:C.type,x14Id:C.id,priority:y.toIntValue(C.priority)}}onParserClose(m,C){Object.assign(this.model,C.model)}}z.exports=b},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(_,z,B){"use strict";const A=_("../../composite-xform"),y=_("./f-ext-xform");z.exports=class extends A{constructor(){super(),this.map={"xm:f":this.fExtXform=new y}}get tag(){return"x14:cfvo"}render(g,d){g.openNode(this.tag,{type:d.type}),void 0!==d.value&&this.fExtXform.render(g,d.value),g.closeNode()}createNewModel(g){return{type:g.attributes.type}}onParserClose(g,d){"xm:f"===g&&(this.model.value=d.model?parseFloat(d.model):0)}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(_,z,B){"use strict";const A=_("../../composite-xform"),y=_("./sqref-ext-xform"),g=_("./cf-rule-ext-xform");z.exports=class extends A{constructor(){super(),this.map={"xm:sqref":this.sqRef=new y,"x14:cfRule":this.cfRule=new g}}get tag(){return"x14:conditionalFormatting"}prepare(d,u){d.rules.forEach(f=>{this.cfRule.prepare(f,u)})}render(d,u){u.rules.some(g.isExt)&&(d.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),u.rules.filter(g.isExt).forEach(f=>this.cfRule.render(d,f)),this.sqRef.render(d,u.ref),d.closeNode())}createNewModel(){return{rules:[]}}onParserClose(d,u){switch(d){case"xm:sqref":this.model.ref=u.model;break;case"x14:cfRule":this.model.rules.push(u.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(_,z,B){"use strict";const A=_("../../composite-xform"),y=_("./cf-rule-ext-xform"),g=_("./conditional-formatting-ext-xform");z.exports=class extends A{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new g}}get tag(){return"x14:conditionalFormattings"}hasContent(d){return void 0===d.hasExtContent&&(d.hasExtContent=d.some(u=>u.rules.some(y.isExt))),d.hasExtContent}prepare(d,u){d.forEach(f=>{this.cfXform.prepare(f,u)})}render(d,u){this.hasContent(u)&&(d.openNode(this.tag),u.forEach(f=>this.cfXform.render(d,f)),d.closeNode())}createNewModel(){return[]}onParserClose(d,u){this.model.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(_,z,B){"use strict";const A=_("../../base-xform"),y=_("../../composite-xform"),g=_("../../style/color-xform"),d=_("./cfvo-ext-xform");z.exports=class extends y{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new d,"x14:borderColor":this.borderColorXform=new g("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new g("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new g("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new g("x14:axisColor")}}static isExt(u){return!u.gradient}get tag(){return"x14:dataBar"}render(u,f){u.openNode(this.tag,{minLength:A.toIntAttribute(f.minLength,0,!0),maxLength:A.toIntAttribute(f.maxLength,100,!0),border:A.toBoolAttribute(f.border,!1),gradient:A.toBoolAttribute(f.gradient,!0),negativeBarColorSameAsPositive:A.toBoolAttribute(f.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:A.toBoolAttribute(f.negativeBarBorderColorSameAsPositive,!0),axisPosition:A.toAttribute(f.axisPosition,"auto"),direction:A.toAttribute(f.direction,"leftToRight")}),f.cfvo.forEach(b=>{this.cfvoXform.render(u,b)}),this.borderColorXform.render(u,f.borderColor),this.negativeBorderColorXform.render(u,f.negativeBorderColor),this.negativeFillColorXform.render(u,f.negativeFillColor),this.axisColorXform.render(u,f.axisColor),u.closeNode()}createNewModel(u){let{attributes:f}=u;return{cfvo:[],minLength:A.toIntValue(f.minLength,0),maxLength:A.toIntValue(f.maxLength,100),border:A.toBoolValue(f.border,!1),gradient:A.toBoolValue(f.gradient,!0),negativeBarColorSameAsPositive:A.toBoolValue(f.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:A.toBoolValue(f.negativeBarBorderColorSameAsPositive,!0),axisPosition:A.toStringValue(f.axisPosition,"auto"),direction:A.toStringValue(f.direction,"leftToRight")}}onParserClose(u,f){const[,b]=u.split(":");"cfvo"===b?this.model.cfvo.push(f.model):this.model[b]=f.model}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(_,z,B){"use strict";const A=_("../../base-xform");z.exports=class extends A{get tag(){return"xm:f"}render(y,g){y.leafNode(this.tag,null,g)}parseOpen(){this.model=""}parseText(y){this.model+=y}parseClose(y){return y!==this.tag}}},{"../../base-xform":32}],81:[function(_,z,B){"use strict";const A=_("../../base-xform"),y=_("../../composite-xform"),g=_("./cfvo-ext-xform"),d=_("./cf-icon-ext-xform");z.exports=class extends y{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new g,"x14:cfIcon":this.cfIconXform=new d}}get tag(){return"x14:iconSet"}render(u,f){u.openNode(this.tag,{iconSet:A.toStringAttribute(f.iconSet),reverse:A.toBoolAttribute(f.reverse,!1),showValue:A.toBoolAttribute(f.showValue,!0),custom:A.toBoolAttribute(f.icons,!1)}),f.cfvo.forEach(b=>{this.cfvoXform.render(u,b)}),f.icons&&f.icons.forEach((b,p)=>{b.iconId=p,this.cfIconXform.render(u,b)}),u.closeNode()}createNewModel(u){let{attributes:f}=u;return{cfvo:[],iconSet:A.toStringValue(f.iconSet,"3TrafficLights"),reverse:A.toBoolValue(f.reverse,!1),showValue:A.toBoolValue(f.showValue,!0)}}onParserClose(u,f){const[,b]=u.split(":");switch(b){case"cfvo":this.model.cfvo.push(f.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(f.model);break;default:this.model[b]=f.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(_,z,B){"use strict";const A=_("../../base-xform");z.exports=class extends A{get tag(){return"xm:sqref"}render(y,g){y.leafNode(this.tag,null,g)}parseOpen(){this.model=""}parseText(y){this.model+=y}parseClose(y){return y!==this.tag}}},{"../../base-xform":32}],83:[function(_,z,B){"use strict";const A=_("../../base-xform"),y=_("../../composite-xform"),g=_("../../../../doc/range"),d=_("./databar-xform"),u=_("./ext-lst-ref-xform"),f=_("./formula-xform"),b=_("./color-scale-xform"),p=_("./icon-set-xform"),m={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},C=v=>{const{type:D,operator:S}=v;switch(D){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:D};default:return{type:D,operator:S}}};class E extends y{constructor(){super(),this.map={dataBar:this.databarXform=new d,extLst:this.extLstRefXform=new u,formula:this.formulaXform=new f,colorScale:this.colorScaleXform=new b,iconSet:this.iconSetXform=new p}}get tag(){return"cfRule"}static isPrimitive(D){return"iconSet"!==D.type||!D.custom&&!m[D.iconSet]}render(D,S){switch(S.type){case"expression":this.renderExpression(D,S);break;case"cellIs":this.renderCellIs(D,S);break;case"top10":this.renderTop10(D,S);break;case"aboveAverage":this.renderAboveAverage(D,S);break;case"dataBar":this.renderDataBar(D,S);break;case"colorScale":this.renderColorScale(D,S);break;case"iconSet":this.renderIconSet(D,S);break;case"containsText":this.renderText(D,S);break;case"timePeriod":this.renderTimePeriod(D,S)}}renderExpression(D,S){D.openNode(this.tag,{type:"expression",dxfId:S.dxfId,priority:S.priority}),this.formulaXform.render(D,S.formulae[0]),D.closeNode()}renderCellIs(D,S){D.openNode(this.tag,{type:"cellIs",dxfId:S.dxfId,priority:S.priority,operator:S.operator}),S.formulae.forEach(R=>{this.formulaXform.render(D,R)}),D.closeNode()}renderTop10(D,S){D.leafNode(this.tag,{type:"top10",dxfId:S.dxfId,priority:S.priority,percent:A.toBoolAttribute(S.percent,!1),bottom:A.toBoolAttribute(S.bottom,!1),rank:A.toIntValue(S.rank,10,!0)})}renderAboveAverage(D,S){D.leafNode(this.tag,{type:"aboveAverage",dxfId:S.dxfId,priority:S.priority,aboveAverage:A.toBoolAttribute(S.aboveAverage,!0)})}renderDataBar(D,S){D.openNode(this.tag,{type:"dataBar",priority:S.priority}),this.databarXform.render(D,S),this.extLstRefXform.render(D,S),D.closeNode()}renderColorScale(D,S){D.openNode(this.tag,{type:"colorScale",priority:S.priority}),this.colorScaleXform.render(D,S),D.closeNode()}renderIconSet(D,S){E.isPrimitive(S)&&(D.openNode(this.tag,{type:"iconSet",priority:S.priority}),this.iconSetXform.render(D,S),D.closeNode())}renderText(D,S){D.openNode(this.tag,{type:S.operator,dxfId:S.dxfId,priority:S.priority,operator:A.toStringAttribute(S.operator,"containsText")});const R=(L=>{if(L.formulae&&L.formulae[0])return L.formulae[0];const Z=new g(L.ref),{tl:ee}=Z;switch(L.operator){case"containsText":return`NOT(ISERROR(SEARCH("${L.text}",${ee})))`;case"containsBlanks":return`LEN(TRIM(${ee}))=0`;case"notContainsBlanks":return`LEN(TRIM(${ee}))>0`;case"containsErrors":return`ISERROR(${ee})`;case"notContainsErrors":return`NOT(ISERROR(${ee}))`;default:return}})(S);R&&this.formulaXform.render(D,R),D.closeNode()}renderTimePeriod(D,S){D.openNode(this.tag,{type:"timePeriod",dxfId:S.dxfId,priority:S.priority,timePeriod:S.timePeriod});const R=(L=>{if(L.formulae&&L.formulae[0])return L.formulae[0];const Z=new g(L.ref),{tl:ee}=Z;switch(L.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${ee},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${ee},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${ee},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${ee},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${ee},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${ee},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${ee},1)=TODAY()-1`;case"today":return`FLOOR(${ee},1)=TODAY()`;case"tomorrow":return`FLOOR(${ee},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${ee},1)<=6,FLOOR(${ee},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${ee})=MONTH(EDATE(TODAY(),0-1)),YEAR(${ee})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${ee})=MONTH(TODAY()),YEAR(${ee})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${ee})=MONTH(EDATE(TODAY(),0+1)),YEAR(${ee})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(S);R&&this.formulaXform.render(D,R),D.closeNode()}createNewModel(D){let{attributes:S}=D;return{...C(S),dxfId:A.toIntValue(S.dxfId),priority:A.toIntValue(S.priority),timePeriod:S.timePeriod,percent:A.toBoolValue(S.percent),bottom:A.toBoolValue(S.bottom),rank:A.toIntValue(S.rank),aboveAverage:A.toBoolValue(S.aboveAverage)}}onParserClose(D,S){switch(D){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,S.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(S.model)}}}z.exports=E},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(_,z,B){"use strict";const A=_("../../base-xform");z.exports=class extends A{get tag(){return"cfvo"}render(y,g){y.leafNode(this.tag,{type:g.type,val:g.value})}parseOpen(y){this.model={type:y.attributes.type,value:A.toFloatValue(y.attributes.val)}}parseClose(y){return y!==this.tag}}},{"../../base-xform":32}],85:[function(_,z,B){"use strict";const A=_("../../composite-xform"),y=_("../../style/color-xform"),g=_("./cfvo-xform");z.exports=class extends A{constructor(){super(),this.map={cfvo:this.cfvoXform=new g,color:this.colorXform=new y}}get tag(){return"colorScale"}render(d,u){d.openNode(this.tag),u.cfvo.forEach(f=>{this.cfvoXform.render(d,f)}),u.color.forEach(f=>{this.colorXform.render(d,f)}),d.closeNode()}createNewModel(d){return{cfvo:[],color:[]}}onParserClose(d,u){this.model[d].push(u.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(_,z,B){"use strict";const A=_("../../composite-xform"),y=_("./cf-rule-xform");z.exports=class extends A{constructor(){super(),this.map={cfRule:new y}}get tag(){return"conditionalFormatting"}render(g,d){d.rules.some(y.isPrimitive)&&(g.openNode(this.tag,{sqref:d.ref}),d.rules.forEach(u=>{y.isPrimitive(u)&&(u.ref=d.ref,this.map.cfRule.render(g,u))}),g.closeNode())}createNewModel(g){let{attributes:d}=g;return{ref:d.sqref,rules:[]}}onParserClose(g,d){this.model.rules.push(d.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(_,z,B){"use strict";const A=_("../../base-xform"),y=_("./conditional-formatting-xform");z.exports=class extends A{constructor(){super(),this.cfXform=new y}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(g,d){let u=g.reduce((f,b)=>Math.max(f,...b.rules.map(p=>p.priority||0)),1);g.forEach(f=>{f.rules.forEach(b=>{b.priority||(b.priority=u++),b.style&&(b.dxfId=d.styles.addDxfStyle(b.style))})})}render(g,d){d.forEach(u=>{this.cfXform.render(g,u)})}parseOpen(g){return this.parser?(this.parser.parseOpen(g),!0):"conditionalFormatting"===g.name&&(this.parser=this.cfXform,this.parser.parseOpen(g),!0)}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){return!(!this.parser||!this.parser.parseClose(g)&&(this.model.push(this.parser.model),this.parser=void 0,1))}reconcile(g,d){g.forEach(u=>{u.rules.forEach(f=>{void 0!==f.dxfId&&(f.style=d.styles.getDxfStyle(f.dxfId),delete f.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(_,z,B){"use strict";const A=_("../../composite-xform"),y=_("../../style/color-xform"),g=_("./cfvo-xform");z.exports=class extends A{constructor(){super(),this.map={cfvo:this.cfvoXform=new g,color:this.colorXform=new y}}get tag(){return"dataBar"}render(d,u){d.openNode(this.tag),u.cfvo.forEach(f=>{this.cfvoXform.render(d,f)}),this.colorXform.render(d,u.color),d.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(d,u){switch(d){case"cfvo":this.model.cfvo.push(u.model);break;case"color":this.model.color=u.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(_,z,B){"use strict";const A=_("../../base-xform"),y=_("../../composite-xform");class g extends A{get tag(){return"x14:id"}render(f,b){f.leafNode(this.tag,null,b)}parseOpen(){this.model=""}parseText(f){this.model+=f}parseClose(f){return f!==this.tag}}class d extends y{constructor(){super(),this.map={"x14:id":this.idXform=new g}}get tag(){return"ext"}render(f,b){f.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(f,b.x14Id),f.closeNode()}createNewModel(){return{}}onParserClose(f,b){this.model.x14Id=b.model}}z.exports=class extends y{constructor(){super(),this.map={ext:new d}}get tag(){return"extLst"}render(u,f){u.openNode(this.tag),this.map.ext.render(u,f),u.closeNode()}createNewModel(){return{}}onParserClose(u,f){Object.assign(this.model,f.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(_,z,B){"use strict";const A=_("../../base-xform");z.exports=class extends A{get tag(){return"formula"}render(y,g){y.leafNode(this.tag,null,g)}parseOpen(){this.model=""}parseText(y){this.model+=y}parseClose(y){return y!==this.tag}}},{"../../base-xform":32}],91:[function(_,z,B){"use strict";const A=_("../../base-xform"),y=_("../../composite-xform"),g=_("./cfvo-xform");z.exports=class extends y{constructor(){super(),this.map={cfvo:this.cfvoXform=new g}}get tag(){return"iconSet"}render(d,u){d.openNode(this.tag,{iconSet:A.toStringAttribute(u.iconSet,"3TrafficLights"),reverse:A.toBoolAttribute(u.reverse,!1),showValue:A.toBoolAttribute(u.showValue,!0)}),u.cfvo.forEach(f=>{this.cfvoXform.render(d,f)}),d.closeNode()}createNewModel(d){let{attributes:u}=d;return{iconSet:A.toStringValue(u.iconSet,"3TrafficLights"),reverse:A.toBoolValue(u.reverse),showValue:A.toBoolValue(u.showValue),cfvo:[]}}onParserClose(d,u){this.model[d].push(u.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(_,z,B){"use strict";const A=_("../../../utils/utils"),y=_("../base-xform");z.exports=class extends y{get tag(){return"col"}prepare(g,d){const u=d.styles.addStyleModel(g.style||{});u&&(g.styleId=u)}render(g,d){g.openNode("col"),g.addAttribute("min",d.min),g.addAttribute("max",d.max),d.width&&g.addAttribute("width",d.width),d.styleId&&g.addAttribute("style",d.styleId),d.hidden&&g.addAttribute("hidden","1"),d.bestFit&&g.addAttribute("bestFit","1"),d.outlineLevel&&g.addAttribute("outlineLevel",d.outlineLevel),d.collapsed&&g.addAttribute("collapsed","1"),g.addAttribute("customWidth","1"),g.closeNode()}parseOpen(g){if("col"===g.name){const d=this.model={min:parseInt(g.attributes.min||"0",10),max:parseInt(g.attributes.max||"0",10),width:void 0===g.attributes.width?void 0:parseFloat(g.attributes.width||"0")};return g.attributes.style&&(d.styleId=parseInt(g.attributes.style,10)),A.parseBoolean(g.attributes.hidden)&&(d.hidden=!0),A.parseBoolean(g.attributes.bestFit)&&(d.bestFit=!0),g.attributes.outlineLevel&&(d.outlineLevel=parseInt(g.attributes.outlineLevel,10)),A.parseBoolean(g.attributes.collapsed)&&(d.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(g,d){g.styleId&&(g.style=d.styles.getStyleModel(g.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(_,z,B){"use strict";const A=_("../../../utils/under-dash"),y=_("../../../utils/utils"),g=_("../../../utils/col-cache"),d=_("../base-xform"),u=_("../../../doc/range");function f(p,m,C,E){const v=m[C];void 0!==v?p[C]=v:void 0!==E&&(p[C]=E)}function b(p,m,C,E){const v=m[C];void 0!==v?p[C]=y.parseBoolean(v):void 0!==E&&(p[C]=E)}z.exports=class extends d{get tag(){return"dataValidations"}render(p,m){const C=function(E){const v=A.map(E,(R,L)=>({address:L,dataValidation:R,marked:!1})).sort((R,L)=>A.strcmp(R.address,L.address)),D=A.keyBy(v,"address"),S=(R,L,Z)=>{for(let ee=0;ee<L;ee++){const ne=g.encodeAddress(R.row+ee,Z);if(!E[ne]||!A.isEqual(E[R.address],E[ne]))return!1}return!0};return v.map(R=>{if(!R.marked){const L=g.decodeEx(R.address);if(L.dimensions)return D[L.dimensions].marked=!0,{...R.dataValidation,sqref:R.address};let Z=1,ee=g.encodeAddress(L.row+Z,L.col);for(;E[ee]&&A.isEqual(R.dataValidation,E[ee]);)Z++,ee=g.encodeAddress(L.row+Z,L.col);let ne=1;for(;S(L,Z,L.col+ne);)ne++;for(let J=0;J<Z;J++)for(let re=0;re<ne;re++)ee=g.encodeAddress(L.row+J,L.col+re),D[ee].marked=!0;return Z>1||ne>1?{...R.dataValidation,sqref:`${R.address}:${g.encodeAddress(L.row+(Z-1),L.col+(ne-1))}`}:{...R.dataValidation,sqref:R.address}}return null}).filter(Boolean)}(m);C.length&&(p.openNode("dataValidations",{count:C.length}),C.forEach(E=>{p.openNode("dataValidation"),"any"!==E.type&&(p.addAttribute("type",E.type),E.operator&&"list"!==E.type&&"between"!==E.operator&&p.addAttribute("operator",E.operator),E.allowBlank&&p.addAttribute("allowBlank","1")),E.showInputMessage&&p.addAttribute("showInputMessage","1"),E.promptTitle&&p.addAttribute("promptTitle",E.promptTitle),E.prompt&&p.addAttribute("prompt",E.prompt),E.showErrorMessage&&p.addAttribute("showErrorMessage","1"),E.errorStyle&&p.addAttribute("errorStyle",E.errorStyle),E.errorTitle&&p.addAttribute("errorTitle",E.errorTitle),E.error&&p.addAttribute("error",E.error),p.addAttribute("sqref",E.sqref),(E.formulae||[]).forEach((v,D)=>{p.openNode("formula"+(D+1)),p.writeText("date"===E.type?y.dateToExcel(new Date(v)):v),p.closeNode()}),p.closeNode()}),p.closeNode())}parseOpen(p){switch(p.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=p.attributes.sqref;const m={type:p.attributes.type||"any",formulae:[]};switch(p.attributes.type&&b(m,p.attributes,"allowBlank"),b(m,p.attributes,"showInputMessage"),b(m,p.attributes,"showErrorMessage"),m.type){case"any":case"list":case"custom":break;default:f(m,p.attributes,"operator","between")}return f(m,p.attributes,"promptTitle"),f(m,p.attributes,"prompt"),f(m,p.attributes,"errorStyle"),f(m,p.attributes,"errorTitle"),f(m,p.attributes,"error"),this._dataValidation=m,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(p){this._formula&&this._formula.push(p)}parseClose(p){switch(p){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(m=>{m.includes(":")?new u(m).forEachAddress(C=>{this.model[C]=this._dataValidation}):this.model[m]=this._dataValidation}),!0;case"formula1":case"formula2":{let m=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":m=parseInt(m,10);break;case"decimal":m=parseFloat(m);break;case"date":m=y.excelToDate(parseFloat(m))}return this._dataValidation.formulae.push(m),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"dimension"}render(y,g){g&&y.leafNode("dimension",{ref:g})}parseOpen(y){return"dimension"===y.name&&(this.model=y.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"drawing"}render(y,g){g&&y.leafNode(this.tag,{"r:id":g.rId})}parseOpen(y){return y.name===this.tag&&(this.model={rId:y.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(_,z,B){"use strict";const A=_("../composite-xform"),y=_("./cf-ext/conditional-formattings-ext-xform");class g extends A{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new y}}get tag(){return"ext"}hasContent(u){return this.conditionalFormattings.hasContent(u.conditionalFormattings)}prepare(u,f){this.conditionalFormattings.prepare(u.conditionalFormattings,f)}render(u,f){u.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(u,f.conditionalFormattings),u.closeNode()}createNewModel(){return{}}onParserClose(u,f){this.model[u]=f.model}}z.exports=class extends A{constructor(){super(),this.map={ext:this.ext=new g}}get tag(){return"extLst"}prepare(d,u){this.ext.prepare(d,u)}hasContent(d){return this.ext.hasContent(d)}render(d,u){this.hasContent(u)&&(d.openNode("extLst"),this.ext.render(d,u),d.closeNode())}createNewModel(){return{}}onParserClose(d,u){Object.assign(this.model,u.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"headerFooter"}render(y,g){if(g){y.addRollback();let d=!1;y.openNode("headerFooter"),g.differentFirst&&(y.addAttribute("differentFirst","1"),d=!0),g.differentOddEven&&(y.addAttribute("differentOddEven","1"),d=!0),g.oddHeader&&"string"==typeof g.oddHeader&&(y.leafNode("oddHeader",null,g.oddHeader),d=!0),g.oddFooter&&"string"==typeof g.oddFooter&&(y.leafNode("oddFooter",null,g.oddFooter),d=!0),g.evenHeader&&"string"==typeof g.evenHeader&&(y.leafNode("evenHeader",null,g.evenHeader),d=!0),g.evenFooter&&"string"==typeof g.evenFooter&&(y.leafNode("evenFooter",null,g.evenFooter),d=!0),g.firstHeader&&"string"==typeof g.firstHeader&&(y.leafNode("firstHeader",null,g.firstHeader),d=!0),g.firstFooter&&"string"==typeof g.firstFooter&&(y.leafNode("firstFooter",null,g.firstFooter),d=!0),d?(y.closeNode(),y.commit()):y.rollback()}}parseOpen(y){switch(y.name){case"headerFooter":return this.model={},y.attributes.differentFirst&&(this.model.differentFirst=1===parseInt(y.attributes.differentFirst,0)),y.attributes.differentOddEven&&(this.model.differentOddEven=1===parseInt(y.attributes.differentOddEven,0)),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(y){switch(this.currentNode){case"oddHeader":this.model.oddHeader=y;break;case"oddFooter":this.model.oddFooter=y;break;case"evenHeader":this.model.evenHeader=y;break;case"evenFooter":this.model.evenFooter=y;break;case"firstHeader":this.model.firstHeader=y;break;case"firstFooter":this.model.firstFooter=y}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"hyperlink"}render(y,g){this.isInternalLink(g)?y.leafNode("hyperlink",{ref:g.address,"r:id":g.rId,tooltip:g.tooltip,location:g.target}):y.leafNode("hyperlink",{ref:g.address,"r:id":g.rId,tooltip:g.tooltip})}parseOpen(y){return"hyperlink"===y.name&&(this.model={address:y.attributes.ref,rId:y.attributes["r:id"],tooltip:y.attributes.tooltip},y.attributes.location&&(this.model.target=y.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(y){return y.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(y.target)}}},{"../base-xform":32}],99:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"mergeCell"}render(y,g){y.leafNode("mergeCell",{ref:g})}parseOpen(y){return"mergeCell"===y.name&&(this.model=y.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(_,z,B){"use strict";const A=_("../../../utils/under-dash"),y=_("../../../doc/range"),g=_("../../../utils/col-cache"),d=_("../../../doc/enums");z.exports=class{constructor(){this.merges={}}add(u){this.merges[u.master]?this.merges[u.master].expandToAddress(u.address):this.merges[u.master]=new y(`${u.master}:${u.address}`)}get mergeCells(){return A.map(this.merges,u=>u.range)}reconcile(u,f){A.each(u,b=>{const p=g.decode(b);for(let m=p.top;m<=p.bottom;m++){const C=f[m-1];for(let E=p.left;E<=p.right;E++){const v=C.cells[E-1];v?v.type===d.ValueType.Merge&&(v.master=p.tl):C.cells[E]={type:d.ValueType.Null,address:g.encodeAddress(m,E)}}}})}getMasterAddress(u){const f=this.hash[u];return f&&f.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(_,z,B){"use strict";const A=_("../base-xform"),y=g=>void 0!==g;z.exports=class extends A{get tag(){return"outlinePr"}render(g,d){return!(!d||!y(d.summaryBelow)&&!y(d.summaryRight)||(g.leafNode(this.tag,{summaryBelow:y(d.summaryBelow)?Number(d.summaryBelow):void 0,summaryRight:y(d.summaryRight)?Number(d.summaryRight):void 0}),0))}parseOpen(g){return g.name===this.tag&&(this.model={summaryBelow:y(g.attributes.summaryBelow)?Boolean(Number(g.attributes.summaryBelow)):void 0,summaryRight:y(g.attributes.summaryRight)?Boolean(Number(g.attributes.summaryRight)):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"brk"}render(y,g){y.leafNode("brk",g)}parseOpen(y){return"brk"===y.name&&(this.model=y.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(_,z,B){"use strict";const A=_("../../../utils/under-dash"),y=_("../base-xform");z.exports=class extends y{get tag(){return"pageMargins"}render(g,d){if(d){const u={left:d.left,right:d.right,top:d.top,bottom:d.bottom,header:d.header,footer:d.footer};A.some(u,f=>void 0!==f)&&g.leafNode(this.tag,u)}}parseOpen(g){return g.name===this.tag&&(this.model={left:parseFloat(g.attributes.left||.7),right:parseFloat(g.attributes.right||.7),top:parseFloat(g.attributes.top||.75),bottom:parseFloat(g.attributes.bottom||.75),header:parseFloat(g.attributes.header||.3),footer:parseFloat(g.attributes.footer||.3)},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"pageSetUpPr"}render(y,g){return!(!g||!g.fitToPage||(y.leafNode(this.tag,{fitToPage:g.fitToPage?"1":void 0}),0))}parseOpen(y){return y.name===this.tag&&(this.model={fitToPage:"1"===y.attributes.fitToPage},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(_,z,B){"use strict";const A=_("../../../utils/under-dash"),y=_("../base-xform");function g(b){return b?"1":void 0}function d(b){if("overThenDown"===b)return b}function u(b){switch(b){case"atEnd":case"asDisplyed":return b;default:return}}function f(b){switch(b){case"dash":case"blank":case"NA":return b;default:return}}z.exports=class extends y{get tag(){return"pageSetup"}render(b,p){if(p){const m={paperSize:p.paperSize,orientation:p.orientation,horizontalDpi:p.horizontalDpi,verticalDpi:p.verticalDpi,pageOrder:d(p.pageOrder),blackAndWhite:g(p.blackAndWhite),draft:g(p.draft),cellComments:u(p.cellComments),errors:f(p.errors),scale:p.scale,fitToWidth:p.fitToWidth,fitToHeight:p.fitToHeight,firstPageNumber:p.firstPageNumber,useFirstPageNumber:g(p.firstPageNumber),usePrinterDefaults:g(p.usePrinterDefaults),copies:p.copies};A.some(m,C=>void 0!==C)&&b.leafNode(this.tag,m)}}parseOpen(b){return b.name===this.tag&&(this.model={paperSize:(p=b.attributes.paperSize,void 0!==p?parseInt(p,10):void 0),orientation:b.attributes.orientation||"portrait",horizontalDpi:parseInt(b.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(b.attributes.verticalDpi||"4294967295",10),pageOrder:b.attributes.pageOrder||"downThenOver",blackAndWhite:"1"===b.attributes.blackAndWhite,draft:"1"===b.attributes.draft,cellComments:b.attributes.cellComments||"None",errors:b.attributes.errors||"displayed",scale:parseInt(b.attributes.scale||"100",10),fitToWidth:parseInt(b.attributes.fitToWidth||"1",10),fitToHeight:parseInt(b.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(b.attributes.firstPageNumber||"1",10),useFirstPageNumber:"1"===b.attributes.useFirstPageNumber,usePrinterDefaults:"1"===b.attributes.usePrinterDefaults,copies:parseInt(b.attributes.copies||"1",10)},!0);var p}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"picture"}render(y,g){g&&y.leafNode(this.tag,{"r:id":g.rId})}parseOpen(y){return y.name===this.tag&&(this.model={rId:y.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(_,z,B){"use strict";const A=_("../../../utils/under-dash"),y=_("../base-xform");function g(d){return d?"1":void 0}z.exports=class extends y{get tag(){return"printOptions"}render(d,u){if(u){const f={headings:g(u.showRowColHeaders),gridLines:g(u.showGridLines),horizontalCentered:g(u.horizontalCentered),verticalCentered:g(u.verticalCentered)};A.some(f,b=>void 0!==b)&&d.leafNode(this.tag,f)}}parseOpen(d){return d.name===this.tag&&(this.model={showRowColHeaders:"1"===d.attributes.headings,showGridLines:"1"===d.attributes.gridLines,horizontalCentered:"1"===d.attributes.horizontalCentered,verticalCentered:"1"===d.attributes.verticalCentered},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(_,z,B){"use strict";const A=_("./page-breaks-xform"),y=_("../list-xform");z.exports=class extends y{constructor(){super({tag:"rowBreaks",count:!0,childXform:new A})}render(g,d){if(d&&d.length){g.openNode(this.tag,this.$),this.count&&(g.addAttribute(this.$count,d.length),g.addAttribute("manualBreakCount",d.length));const{childXform:u}=this;d.forEach(f=>{u.render(g,f)}),g.closeNode()}else this.empty&&g.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("../../../utils/utils"),g=_("./cell-xform");z.exports=class extends A{constructor(d){super(),this.maxItems=d&&d.maxItems,this.map={c:new g}}get tag(){return"row"}prepare(d,u){const f=u.styles.addStyleModel(d.style);f&&(d.styleId=f);const b=this.map.c;d.cells.forEach(p=>{b.prepare(p,u)})}render(d,u,f){d.openNode("row"),d.addAttribute("r",u.number),u.height&&(d.addAttribute("ht",u.height),d.addAttribute("customHeight","1")),u.hidden&&d.addAttribute("hidden","1"),u.min>0&&u.max>0&&u.min<=u.max&&d.addAttribute("spans",`${u.min}:${u.max}`),u.styleId&&(d.addAttribute("s",u.styleId),d.addAttribute("customFormat","1")),d.addAttribute("x14ac:dyDescent","0.25"),u.outlineLevel&&d.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&d.addAttribute("collapsed","1");const b=this.map.c;u.cells.forEach(p=>{b.render(d,p,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;if("row"===d.name){this.numRowsSeen+=1;const u=d.attributes.spans?d.attributes.spans.split(":").map(b=>parseInt(b,10)):[void 0,void 0],f=this.model={number:parseInt(d.attributes.r,10),min:u[0],max:u[1],cells:[]};return d.attributes.s&&(f.styleId=parseInt(d.attributes.s,10)),y.parseBoolean(d.attributes.hidden)&&(f.hidden=!0),y.parseBoolean(d.attributes.bestFit)&&(f.bestFit=!0),d.attributes.ht&&(f.height=parseFloat(d.attributes.ht)),d.attributes.outlineLevel&&(f.outlineLevel=parseInt(d.attributes.outlineLevel,10)),y.parseBoolean(d.attributes.collapsed)&&(f.collapsed=!0),!0}return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser){if(!this.parser.parseClose(d)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(d,u){d.style=d.styleId?u.styles.getStyleModel(d.styleId):{},void 0!==d.styleId&&(d.styleId=void 0);const f=this.map.c;d.cells.forEach(b=>{f.reconcile(b,u)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(_,z,B){"use strict";const A=_("../../../utils/under-dash"),y=_("../base-xform");z.exports=class extends y{get tag(){return"sheetFormatPr"}render(g,d){if(d){const u={defaultRowHeight:d.defaultRowHeight,outlineLevelRow:d.outlineLevelRow,outlineLevelCol:d.outlineLevelCol,"x14ac:dyDescent":d.dyDescent};d.defaultColWidth&&(u.defaultColWidth=d.defaultColWidth),d.defaultRowHeight&&15===d.defaultRowHeight||(u.customHeight="1"),A.some(u,f=>void 0!==f)&&g.leafNode("sheetFormatPr",u)}}parseOpen(g){return"sheetFormatPr"===g.name&&(this.model={defaultRowHeight:parseFloat(g.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(g.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(g.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(g.attributes.outlineLevelCol||"0",10)},g.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(g.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("../style/color-xform"),g=_("./page-setup-properties-xform"),d=_("./outline-properties-xform");z.exports=class extends A{constructor(){super(),this.map={tabColor:new y("tabColor"),pageSetUpPr:new g,outlinePr:new d}}get tag(){return"sheetPr"}render(u,f){if(f){u.addRollback(),u.openNode("sheetPr");let b=!1;b=this.map.tabColor.render(u,f.tabColor)||b,b=this.map.pageSetUpPr.render(u,f.pageSetup)||b,b=this.map.outlinePr.render(u,f.outlineProperties)||b,b?(u.closeNode(),u.commit()):u.rollback()}}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):u.name===this.tag?(this.reset(),!0):!!this.map[u.name]&&(this.parser=this.map[u.name],this.parser.parseOpen(u),!0)}parseText(u){return!!this.parser&&(this.parser.parseText(u),!0)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(_,z,B){"use strict";const A=_("../../../utils/under-dash"),y=_("../base-xform");function g(u,f){return u?f:void 0}function d(u,f){return u===f||void 0}z.exports=class extends y{get tag(){return"sheetProtection"}render(u,f){if(f){const b={sheet:g(f.sheet,"1"),selectLockedCells:!1===f.selectLockedCells?"1":void 0,selectUnlockedCells:!1===f.selectUnlockedCells?"1":void 0,formatCells:g(f.formatCells,"0"),formatColumns:g(f.formatColumns,"0"),formatRows:g(f.formatRows,"0"),insertColumns:g(f.insertColumns,"0"),insertRows:g(f.insertRows,"0"),insertHyperlinks:g(f.insertHyperlinks,"0"),deleteColumns:g(f.deleteColumns,"0"),deleteRows:g(f.deleteRows,"0"),sort:g(f.sort,"0"),autoFilter:g(f.autoFilter,"0"),pivotTables:g(f.pivotTables,"0")};f.sheet&&(b.algorithmName=f.algorithmName,b.hashValue=f.hashValue,b.saltValue=f.saltValue,b.spinCount=f.spinCount,b.objects=g(!1===f.objects,"1"),b.scenarios=g(!1===f.scenarios,"1")),A.some(b,p=>void 0!==p)&&u.leafNode(this.tag,b)}}parseOpen(u){return u.name===this.tag&&(this.model={sheet:d(u.attributes.sheet,"1"),objects:"1"!==u.attributes.objects&&void 0,scenarios:"1"!==u.attributes.scenarios&&void 0,selectLockedCells:"1"!==u.attributes.selectLockedCells&&void 0,selectUnlockedCells:"1"!==u.attributes.selectUnlockedCells&&void 0,formatCells:d(u.attributes.formatCells,"0"),formatColumns:d(u.attributes.formatColumns,"0"),formatRows:d(u.attributes.formatRows,"0"),insertColumns:d(u.attributes.insertColumns,"0"),insertRows:d(u.attributes.insertRows,"0"),insertHyperlinks:d(u.attributes.insertHyperlinks,"0"),deleteColumns:d(u.attributes.deleteColumns,"0"),deleteRows:d(u.attributes.deleteRows,"0"),sort:d(u.attributes.sort,"0"),autoFilter:d(u.attributes.autoFilter,"0"),pivotTables:d(u.attributes.pivotTables,"0")},u.attributes.algorithmName&&(this.model.algorithmName=u.attributes.algorithmName,this.model.hashValue=u.attributes.hashValue,this.model.saltValue=u.attributes.saltValue,this.model.spinCount=parseInt(u.attributes.spinCount,10)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(_,z,B){"use strict";const A=_("../../../utils/col-cache"),y=_("../base-xform"),g={frozen:"frozen",frozenSplit:"frozen",split:"split"};z.exports=class extends y{get tag(){return"sheetView"}prepare(d){switch(d.state){case"frozen":case"split":break;default:d.state="normal"}}render(d,u){d.openNode("sheetView",{workbookViewId:u.workbookViewId||0});const f=function(E,v,D){D&&d.addAttribute(E,v)};let b,p,m,C;switch(f("rightToLeft","1",!0===u.rightToLeft),f("tabSelected","1",u.tabSelected),f("showRuler","0",!1===u.showRuler),f("showRowColHeaders","0",!1===u.showRowColHeaders),f("showGridLines","0",!1===u.showGridLines),f("zoomScale",u.zoomScale,u.zoomScale),f("zoomScaleNormal",u.zoomScaleNormal,u.zoomScaleNormal),f("view",u.style,u.style),u.state){case"frozen":p=u.xSplit||0,m=u.ySplit||0,b=u.topLeftCell||A.getAddress(m+1,p+1).address,C=(u.xSplit&&u.ySplit?"bottomRight":u.xSplit&&"topRight")||"bottomLeft",d.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:b,activePane:C,state:"frozen"}),d.leafNode("selection",{pane:C,activeCell:u.activeCell,sqref:u.activeCell});break;case"split":"topLeft"===u.activePane&&(u.activePane=void 0),d.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:u.topLeftCell,activePane:u.activePane}),d.leafNode("selection",{pane:u.activePane,activeCell:u.activeCell,sqref:u.activeCell});break;case"normal":u.activeCell&&d.leafNode("selection",{activeCell:u.activeCell,sqref:u.activeCell})}d.closeNode()}parseOpen(d){switch(d.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(d.attributes.workbookViewId,10),rightToLeft:"1"===d.attributes.rightToLeft,tabSelected:"1"===d.attributes.tabSelected,showRuler:"0"!==d.attributes.showRuler,showRowColHeaders:"0"!==d.attributes.showRowColHeaders,showGridLines:"0"!==d.attributes.showGridLines,zoomScale:parseInt(d.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(d.attributes.zoomScaleNormal||"100",10),style:d.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(d.attributes.xSplit||"0",10),ySplit:parseInt(d.attributes.ySplit||"0",10),topLeftCell:d.attributes.topLeftCell,activePane:d.attributes.activePane||"topLeft",state:d.attributes.state},!0;case"selection":{const u=d.attributes.pane||"topLeft";return this.selections[u]={pane:u,activeCell:d.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(d){let u,f;return"sheetView"!==d||(this.sheetView&&this.pane?(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:g[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},"split"===this.model.state&&(u.activePane=this.pane.activePane),f=this.selections[this.pane.activePane],f&&f.activeCell&&(u.activeCell=f.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)):(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},f=this.selections.topLeft,f&&f.activeCell&&(u.activeCell=f.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)),!1)}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"tablePart"}render(y,g){g&&y.leafNode(this.tag,{"r:id":g.rId})}parseOpen(y){return y.name===this.tag&&(this.model={rId:y.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(_,z,B){"use strict";const A=_("../../../utils/under-dash"),y=_("../../../utils/col-cache"),g=_("../../../utils/xml-stream"),d=_("../../rel-type"),u=_("./merges"),f=_("../base-xform"),b=_("../list-xform"),p=_("./row-xform"),m=_("./col-xform"),C=_("./dimension-xform"),E=_("./hyperlink-xform"),v=_("./merge-cell-xform"),D=_("./data-validations-xform"),S=_("./sheet-properties-xform"),R=_("./sheet-format-properties-xform"),L=_("./sheet-view-xform"),Z=_("./sheet-protection-xform"),ee=_("./page-margins-xform"),ne=_("./page-setup-xform"),J=_("./print-options-xform"),re=_("./auto-filter-xform"),oe=_("./picture-xform"),fe=_("./drawing-xform"),ae=_("./table-part-xform"),$=_("./row-breaks-xform"),W=_("./header-footer-xform"),ie=_("./cf/conditional-formattings-xform"),T=_("./ext-lst-xform");class k extends f{constructor(P){super();const{maxRows:U,maxCols:Y,ignoreNodes:ce}=P||{};this.ignoreNodes=ce||[],this.map={sheetPr:new S,dimension:new C,sheetViews:new b({tag:"sheetViews",count:!1,childXform:new L}),sheetFormatPr:new R,cols:new b({tag:"cols",count:!1,childXform:new m}),sheetData:new b({tag:"sheetData",count:!1,empty:!0,childXform:new p({maxItems:Y}),maxItems:U}),autoFilter:new re,mergeCells:new b({tag:"mergeCells",count:!0,childXform:new v}),rowBreaks:new $,hyperlinks:new b({tag:"hyperlinks",count:!1,childXform:new E}),pageMargins:new ee,dataValidations:new D,pageSetup:new ne,headerFooter:new W,printOptions:new J,picture:new oe,drawing:new fe,sheetProtection:new Z,tableParts:new b({tag:"tableParts",count:!0,childXform:new ae}),conditionalFormatting:new ie,extLst:new T}}prepare(P,U){U.merges=new u,P.hyperlinks=U.hyperlinks=[],P.comments=U.comments=[],U.formulae={},U.siFormulae=0,this.map.cols.prepare(P.cols,U),this.map.sheetData.prepare(P.rows,U),this.map.conditionalFormatting.prepare(P.conditionalFormattings,U),P.mergeCells=U.merges.mergeCells;const Y=P.rels=[];function ce(K){return"rId"+(K.length+1)}if(P.hyperlinks.forEach(K=>{const _e=ce(Y);K.rId=_e,Y.push({Id:_e,Type:d.Hyperlink,Target:K.target,TargetMode:"External"})}),P.comments.length>0){const K={Id:ce(Y),Type:d.Comments,Target:`../comments${P.id}.xml`};Y.push(K);const _e={Id:ce(Y),Type:d.VmlDrawing,Target:`../drawings/vmlDrawing${P.id}.vml`};Y.push(_e),P.comments.forEach(q=>{q.refAddress=y.decodeAddress(q.ref)}),U.commentRefs.push({commentName:"comments"+P.id,vmlDrawing:"vmlDrawing"+P.id})}const he=[];let be;P.media.forEach(K=>{if("background"===K.type){const _e=ce(Y);be=U.media[K.imageId],Y.push({Id:_e,Type:d.Image,Target:`../media/${be.name}.${be.extension}`}),P.background={rId:_e},P.image=U.media[K.imageId]}else if("image"===K.type){let{drawing:_e}=P;be=U.media[K.imageId],_e||(_e=P.drawing={rId:ce(Y),name:"drawing"+ ++U.drawingsCount,anchors:[],rels:[]},U.drawings.push(_e),Y.push({Id:_e.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${_e.name}.xml`}));let q=this.preImageId===K.imageId?he[K.imageId]:he[_e.rels.length];q||(q=ce(_e.rels),he[_e.rels.length]=q,_e.rels.push({Id:q,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${be.name}.${be.extension}`}));const G={picture:{rId:q},range:K.range};if(K.hyperlinks&&K.hyperlinks.hyperlink){const ue=ce(_e.rels);he[_e.rels.length]=ue,G.picture.hyperlinks={tooltip:K.hyperlinks.tooltip,rId:ue},_e.rels.push({Id:ue,Type:d.Hyperlink,Target:K.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=K.imageId,_e.anchors.push(G)}}),P.tables.forEach(K=>{const _e=ce(Y);K.rId=_e,Y.push({Id:_e,Type:d.Table,Target:"../tables/"+K.target}),K.columns.forEach(q=>{const{style:G}=q;G&&(q.dxfId=U.styles.addDxfStyle(G))})}),this.map.extLst.prepare(P,U)}render(P,U){P.openXml(g.StdDocAttributes),P.openNode("worksheet",k.WORKSHEET_ATTRIBUTES);const Y=U.properties?{defaultRowHeight:U.properties.defaultRowHeight,dyDescent:U.properties.dyDescent,outlineLevelCol:U.properties.outlineLevelCol,outlineLevelRow:U.properties.outlineLevelRow}:void 0;U.properties&&U.properties.defaultColWidth&&(Y.defaultColWidth=U.properties.defaultColWidth);const he=U.pageSetup&&U.pageSetup.margins,be={showRowColHeaders:U.pageSetup&&U.pageSetup.showRowColHeaders,showGridLines:U.pageSetup&&U.pageSetup.showGridLines,horizontalCentered:U.pageSetup&&U.pageSetup.horizontalCentered,verticalCentered:U.pageSetup&&U.pageSetup.verticalCentered},K=U.sheetProtection;this.map.sheetPr.render(P,{outlineProperties:U.properties&&U.properties.outlineProperties,tabColor:U.properties&&U.properties.tabColor,pageSetup:U.pageSetup&&U.pageSetup.fitToPage?{fitToPage:U.pageSetup.fitToPage}:void 0}),this.map.dimension.render(P,U.dimensions),this.map.sheetViews.render(P,U.views),this.map.sheetFormatPr.render(P,Y),this.map.cols.render(P,U.cols),this.map.sheetData.render(P,U.rows),this.map.sheetProtection.render(P,K),this.map.autoFilter.render(P,U.autoFilter),this.map.mergeCells.render(P,U.mergeCells),this.map.conditionalFormatting.render(P,U.conditionalFormattings),this.map.dataValidations.render(P,U.dataValidations),this.map.hyperlinks.render(P,U.hyperlinks),this.map.printOptions.render(P,be),this.map.pageMargins.render(P,he),this.map.pageSetup.render(P,U.pageSetup),this.map.headerFooter.render(P,U.headerFooter),this.map.rowBreaks.render(P,U.rowBreaks),this.map.drawing.render(P,U.drawing),this.map.picture.render(P,U.background),this.map.tableParts.render(P,U.tables),this.map.extLst.render(P,U),U.rels&&U.rels.forEach(_e=>{_e.Type===d.VmlDrawing&&P.leafNode("legacyDrawing",{"r:id":_e.Id})}),P.closeNode()}parseOpen(P){return this.parser?(this.parser.parseOpen(P),!0):"worksheet"===P.name?(A.each(this.map,U=>{U.reset()}),!0):(this.map[P.name]&&!this.ignoreNodes.includes(P.name)&&(this.parser=this.map[P.name],this.parser.parseOpen(P)),!0)}parseText(P){this.parser&&this.parser.parseText(P)}parseClose(P){if(this.parser)return this.parser.parseClose(P)||(this.parser=void 0),!0;if("worksheet"===P){const U=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(U.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(U.outlineProperties=this.map.sheetPr.model.outlineProperties);const ce=Object.assign({fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},this.map.pageSetup.model,this.map.printOptions.model),he=((N,P)=>{if(!P||!P.length)return N;if(!N||!N.length)return P;const U={},Y={};return N.forEach(ce=>{U[ce.ref]=ce,ce.rules.forEach(he=>{const{x14Id:be}=he;be&&(Y[be]=he)})}),P.forEach(ce=>{ce.rules.forEach(he=>{const be=Y[he.x14Id];var K,_e;be?(K=be,_e=he,Object.keys(_e).forEach(q=>{const ue=_e[q];void 0===K[q]&&void 0!==ue&&(K[q]=ue)})):U[ce.ref]?U[ce.ref].rules.push(he):N.push({ref:ce.ref,rules:[he]})})}),N})(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:U,views:this.map.sheetViews.model,pageSetup:ce,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:he},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}return!0}reconcile(P,U){const Y=(P.relationships||[]).reduce((he,be)=>{if(he[be.Id]=be,be.Type===d.Comments&&(P.comments=U.comments[be.Target].comments),be.Type===d.VmlDrawing&&P.comments&&P.comments.length){const K=U.vmlDrawings[be.Target].comments;P.comments.forEach((_e,q)=>{_e.note=Object.assign({},_e.note,K[q])})}return he},{});if(U.commentsMap=(P.comments||[]).reduce((he,be)=>(be.ref&&(he[be.ref]=be),he),{}),U.hyperlinkMap=(P.hyperlinks||[]).reduce((he,be)=>(be.rId&&(he[be.address]=Y[be.rId].Target),he),{}),U.formulae={},P.rows=P.rows&&P.rows.filter(Boolean)||[],P.rows.forEach(he=>{he.cells=he.cells&&he.cells.filter(Boolean)||[]}),this.map.cols.reconcile(P.cols,U),this.map.sheetData.reconcile(P.rows,U),this.map.conditionalFormatting.reconcile(P.conditionalFormattings,U),P.media=[],P.drawing){const he=Y[P.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);he&&U.drawings[he[1]].anchors.forEach(K=>{K.medium&&P.media.push({type:"image",imageId:K.medium.index,range:K.range,hyperlinks:K.picture.hyperlinks})})}const ce=P.background&&Y[P.background.rId];if(ce){const he=ce.Target.split("/media/")[1],be=U.mediaIndex&&U.mediaIndex[he];void 0!==be&&P.media.push({type:"background",imageId:be})}P.tables=(P.tables||[]).map(he=>U.tables[Y[he.rId].Target]),delete P.relationships,delete P.hyperlinks,delete P.comments}}k.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},z.exports=k},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{constructor(y){super(),this.tag=y.tag,this.attr=y.attr}render(y,g){g&&(y.openNode(this.tag),y.closeNode())}parseOpen(y){y.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{constructor(y){super(),this.tag=y.tag,this.attr=y.attr,this.attrs=y.attrs,this._format=y.format||function(g){try{return Number.isNaN(g.getTime())?"":g.toISOString()}catch{return""}},this._parse=y.parse||function(g){return new Date(g)}}render(y,g){g&&(y.openNode(this.tag),this.attrs&&y.addAttributes(this.attrs),this.attr?y.addAttribute(this.attr,this._format(g)):y.writeText(this._format(g)),y.closeNode())}parseOpen(y){y.name===this.tag&&(this.attr?this.model=this._parse(y.attributes[this.attr]):this.text=[])}parseText(y){this.attr||this.text.push(y)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{constructor(y){super(),this.tag=y.tag,this.attr=y.attr,this.attrs=y.attrs,this.zero=y.zero}render(y,g){(g||this.zero)&&(y.openNode(this.tag),this.attrs&&y.addAttributes(this.attrs),this.attr?y.addAttribute(this.attr,g):y.writeText(g),y.closeNode())}parseOpen(y){return y.name===this.tag&&(this.attr?this.model=parseInt(y.attributes[this.attr],10):this.text=[],!0)}parseText(y){this.attr||this.text.push(y)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{constructor(y){super(),this.tag=y.tag,this.attr=y.attr,this.attrs=y.attrs}render(y,g){void 0!==g&&(y.openNode(this.tag),this.attrs&&y.addAttributes(this.attrs),this.attr?y.addAttribute(this.attr,g):y.writeText(g),y.closeNode())}parseOpen(y){y.name===this.tag&&(this.attr?this.model=y.attributes[this.attr]:this.text=[])}parseText(y){this.attr||this.text.push(y)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(_,z,B){"use strict";const A=_("./base-xform"),y=_("../../utils/xml-stream");z.exports=class extends A{constructor(g){super(),this._model=g}render(g){if(!this._xml){const d=new y;(function u(f,b){f.openNode(b.tag,b.$),b.c&&b.c.forEach(p=>{u(f,p)}),b.t&&f.writeText(b.t),f.closeNode()})(d,this._model),this._xml=d.xml}g.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(g){return g!==this._model.tag}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(_,z,B){"use strict";const A=_("./text-xform"),y=_("./rich-text-xform"),g=_("../base-xform");z.exports=class extends g{constructor(){super(),this.map={r:new y,t:new A}}get tag(){return"rPh"}render(d,u){if(d.openNode(this.tag,{sb:u.sb||0,eb:u.eb||0}),u&&u.hasOwnProperty("richText")&&u.richText){const{r:f}=this.map;u.richText.forEach(b=>{f.render(d,b)})}else u&&this.map.t.render(d,u.text);d.closeNode()}parseOpen(d){const{name:u}=d;return this.parser?(this.parser.parseOpen(d),!0):u===this.tag?(this.model={sb:parseInt(d.attributes.sb,10),eb:parseInt(d.attributes.eb,10)},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(d),!0))}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser){if(!this.parser.parseClose(d)){switch(d){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}return d!==this.tag}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(_,z,B){"use strict";const A=_("./text-xform"),y=_("../style/font-xform"),g=_("../base-xform");class d extends g{constructor(f){super(),this.model=f}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new A)}get fontXform(){return this._fontXform||(this._fontXform=new y(d.FONT_OPTIONS))}render(f,b){b=b||this.model,f.openNode("r"),b.font&&this.fontXform.render(f,b.font),this.textXform.render(f,b.text),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(f),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){switch(f){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(f),!0}}}d.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},z.exports=d},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(_,z,B){"use strict";const A=_("./text-xform"),y=_("./rich-text-xform"),g=_("./phonetic-text-xform"),d=_("../base-xform");z.exports=class extends d{constructor(u){super(),this.model=u,this.map={r:new y,t:new A,rPh:new g}}get tag(){return"si"}render(u,f){u.openNode(this.tag),f&&f.hasOwnProperty("richText")&&f.richText?f.richText.length?f.richText.forEach(b=>{this.map.r.render(u,b)}):this.map.t.render(u,""):null!=f&&this.map.t.render(u,f),u.closeNode()}parseOpen(u){const{name:f}=u;return this.parser?(this.parser.parseOpen(u),!0):f===this.tag?(this.model={},!0):(this.parser=this.map[f],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let f=this.model.richText;f||(f=this.model.richText=[]),f.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}return u!==this.tag}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(_,z,B){"use strict";const A=_("../../../utils/xml-stream"),y=_("../base-xform"),g=_("./shared-string-xform");z.exports=class extends y{constructor(d){super(),this.model=d||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new g)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(d){return this.model.values[d]}add(d){return d.richText?this.addRichText(d):this.addText(d)}addText(d){let u=this.hash[d];return void 0===u&&(u=this.hash[d]=this.model.values.length,this.model.values.push(d)),this.model.count++,u}addRichText(d){const u=this.sharedStringXform.toXml(d);let f=this.rich[u];return void 0===f&&(f=this.rich[u]=this.model.values.length,this.model.values.push(d)),this.model.count++,f}render(d,u){u=u||this._values,d.openXml(A.StdDocAttributes),d.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:u.count,uniqueCount:u.values.length});const f=this.sharedStringXform;u.values.forEach(b=>{f.render(d,b)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(d),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;if("sst"===d)return!1;throw new Error("Unexpected xml node in parseClose: "+d)}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"t"}render(y,g){y.openNode("t"),/^\s|\n|\s$/.test(g)&&y.addAttribute("xml:space","preserve"),y.writeText(g),y.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(y,g)=>String.fromCharCode(parseInt(g,16)))}parseOpen(y){return"t"===y.name&&(this._text=[],!0)}parseText(y){this._text.push(y)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(_,z,B){"use strict";const A=_("../../../doc/enums"),y=_("../../../utils/utils"),g=_("../base-xform"),d={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((f,b)=>(f[b]=!0,f),{}),horizontal(f){return this.horizontalValues[f]?f:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((f,b)=>(f[b]=!0,f),{}),vertical(f){return"middle"===f?"center":this.verticalValues[f]?f:void 0},wrapText:f=>!!f||void 0,shrinkToFit:f=>!!f||void 0,textRotation:f=>"vertical"===f||(f=y.validInt(f))>=-90&&f<=90?f:void 0,indent:f=>(f=y.validInt(f),Math.max(0,f)),readingOrder(f){switch(f){case"ltr":return A.ReadingOrder.LeftToRight;case"rtl":return A.ReadingOrder.RightToLeft;default:return}}},u={toXml(f){if(f=d.textRotation(f)){if("vertical"===f)return 255;const b=Math.round(f);if(b>=0&&b<=90)return b;if(b<0&&b>=-90)return 90-b}},toModel(f){const b=y.validInt(f);if(void 0!==b){if(255===b)return"vertical";if(b>=0&&b<=90)return b;if(b>90&&b<=180)return 90-b}}};z.exports=class extends g{get tag(){return"alignment"}render(f,b){f.addRollback(),f.openNode("alignment");let p=!1;function m(C,E){E&&(f.addAttribute(C,E),p=!0)}m("horizontal",d.horizontal(b.horizontal)),m("vertical",d.vertical(b.vertical)),m("wrapText",!!d.wrapText(b.wrapText)&&"1"),m("shrinkToFit",!!d.shrinkToFit(b.shrinkToFit)&&"1"),m("indent",d.indent(b.indent)),m("textRotation",u.toXml(b.textRotation)),m("readingOrder",d.readingOrder(b.readingOrder)),f.closeNode(),p?f.commit():f.rollback()}parseOpen(f){const b={};let p=!1;function m(C,E,v){C&&(b[E]=v,p=!0)}m(f.attributes.horizontal,"horizontal",f.attributes.horizontal),m(f.attributes.vertical,"vertical","center"===f.attributes.vertical?"middle":f.attributes.vertical),m(f.attributes.wrapText,"wrapText",y.parseBoolean(f.attributes.wrapText)),m(f.attributes.shrinkToFit,"shrinkToFit",y.parseBoolean(f.attributes.shrinkToFit)),m(f.attributes.indent,"indent",parseInt(f.attributes.indent,10)),m(f.attributes.textRotation,"textRotation",u.toModel(f.attributes.textRotation)),m(f.attributes.readingOrder,"readingOrder","2"===f.attributes.readingOrder?"rtl":"ltr"),this.model=p?b:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("../../../utils/utils"),g=_("./color-xform");class d extends A{constructor(f){super(),this.name=f,this.map={color:new g}}get tag(){return this.name}render(f,b,p){const m=b&&b.color||p||this.defaultColor;f.openNode(this.name),b&&b.style&&(f.addAttribute("style",b.style),m&&this.map.color.render(f,m)),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.name:{const{style:b}=f.attributes;return this.model=b?{style:b}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):(f===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(f){return d.validStyleValues[f]}}d.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((u,f)=>(u[f]=!0,u),{}),z.exports=class extends A{constructor(){super(),this.map={top:new d("top"),left:new d("left"),bottom:new d("bottom"),right:new d("right"),diagonal:new d("diagonal")}}render(u,f){const{color:b}=f;function p(m,C){m&&!m.color&&f.color&&(m={...m,color:f.color}),C.render(u,m,b)}u.openNode("border"),f.diagonal&&f.diagonal.style&&(f.diagonal.up&&u.addAttribute("diagonalUp","1"),f.diagonal.down&&u.addAttribute("diagonalDown","1")),p(f.left,this.map.left),p(f.right,this.map.right),p(f.top,this.map.top),p(f.bottom,this.map.bottom),p(f.diagonal,this.map.diagonal),u.closeNode()}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):"border"===u.name?(this.reset(),this.diagonalUp=y.parseBoolean(u.attributes.diagonalUp),this.diagonalDown=y.parseBoolean(u.attributes.diagonalDown),!0):(this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;if("border"===u){const f=this.model={},b=function(p,m,C){m&&(C&&Object.assign(m,C),f[p]=m)};b("left",this.map.left.model),b("right",this.map.right.model),b("top",this.map.top.model),b("bottom",this.map.bottom.model),b("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{constructor(y){super(),this.name=y||"color"}get tag(){return this.name}render(y,g){return!!g&&(y.openNode(this.name),g.argb?y.addAttribute("rgb",g.argb):void 0!==g.theme?(y.addAttribute("theme",g.theme),void 0!==g.tint&&y.addAttribute("tint",g.tint)):void 0!==g.indexed?y.addAttribute("indexed",g.indexed):y.addAttribute("auto","1"),y.closeNode(),!0)}parseOpen(y){return y.name===this.name&&(y.attributes.rgb?this.model={argb:y.attributes.rgb}:y.attributes.theme?(this.model={theme:parseInt(y.attributes.theme,10)},y.attributes.tint&&(this.model.tint=parseFloat(y.attributes.tint))):this.model=y.attributes.indexed?{indexed:parseInt(y.attributes.indexed,10)}:void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("./alignment-xform"),g=_("./border-xform"),d=_("./fill-xform"),u=_("./font-xform"),f=_("./numfmt-xform"),b=_("./protection-xform");z.exports=class extends A{constructor(){super(),this.map={alignment:new y,border:new g,fill:new d,font:new u,numFmt:new f,protection:new b}}get tag(){return"dxf"}render(p,m){p.openNode(this.tag),m.font&&this.map.font.render(p,m.font),m.numFmt&&m.numFmtId&&this.map.numFmt.render(p,{id:m.numFmtId,formatCode:m.numFmt}),m.fill&&this.map.fill.render(p,m.fill),m.alignment&&this.map.alignment.render(p,m.alignment),m.border&&this.map.border.render(p,m.border),m.protection&&this.map.protection.render(p,m.protection),p.closeNode()}parseOpen(p){return this.parser?(this.parser.parseOpen(p),!0):p.name===this.tag?(this.reset(),!0):(this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p),!0)}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){return this.parser?(this.parser.parseClose(p)||(this.parser=void 0),!0):p!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("./color-xform");class g extends A{constructor(){super(),this.map={color:new y}}get tag(){return"stop"}render(p,m){p.openNode("stop"),p.addAttribute("position",m.position),this.map.color.render(p,m.color),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"stop":return this.model={position:parseFloat(p.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(p),!0;default:return!1}}parseText(){}parseClose(p){return!!this.parser&&(this.parser.parseClose(p)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class d extends A{constructor(){super(),this.map={fgColor:new y("fgColor"),bgColor:new y("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(p,m){p.openNode("patternFill"),p.addAttribute("patternType",m.pattern),m.fgColor&&this.map.fgColor.render(p,m.fgColor),m.bgColor&&this.map.bgColor.render(p,m.bgColor),p.closeNode()}parseOpen(p){return this.parser?(this.parser.parseOpen(p),!0):"patternFill"===p.name?(this.model={type:"pattern",pattern:p.attributes.patternType},!0):(this.parser=this.map[p.name],!!this.parser&&(this.parser.parseOpen(p),!0))}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){return!!this.parser&&(this.parser.parseClose(p)||(this.parser.model&&(this.model[p]=this.parser.model),this.parser=void 0),!0)}}class u extends A{constructor(){super(),this.map={stop:new g}}get name(){return"gradient"}get tag(){return"gradientFill"}render(p,m){switch(p.openNode("gradientFill"),m.gradient){case"angle":p.addAttribute("degree",m.degree);break;case"path":p.addAttribute("type","path"),m.center.left&&(p.addAttribute("left",m.center.left),void 0===m.center.right&&p.addAttribute("right",m.center.left)),m.center.right&&p.addAttribute("right",m.center.right),m.center.top&&(p.addAttribute("top",m.center.top),void 0===m.center.bottom&&p.addAttribute("bottom",m.center.top)),m.center.bottom&&p.addAttribute("bottom",m.center.bottom)}const C=this.map.stop;m.stops.forEach(E=>{C.render(p,E)}),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"gradientFill":{const m=this.model={stops:[]};return p.attributes.degree?(m.gradient="angle",m.degree=parseInt(p.attributes.degree,10)):"path"===p.attributes.type&&(m.gradient="path",m.center={left:p.attributes.left?parseFloat(p.attributes.left):0,top:p.attributes.top?parseFloat(p.attributes.top):0},p.attributes.right!==p.attributes.left&&(m.center.right=p.attributes.right?parseFloat(p.attributes.right):0),p.attributes.bottom!==p.attributes.top&&(m.center.bottom=p.attributes.bottom?parseFloat(p.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(p),!0;default:return!1}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){return!!this.parser&&(this.parser.parseClose(p)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class f extends A{constructor(){super(),this.map={patternFill:new d,gradientFill:new u}}get tag(){return"fill"}render(p,m){switch(p.addRollback(),p.openNode("fill"),m.type){case"pattern":this.map.patternFill.render(p,m);break;case"gradient":this.map.gradientFill.render(p,m);break;default:return void p.rollback()}p.closeNode(),p.commit()}parseOpen(p){return this.parser?(this.parser.parseOpen(p),!0):"fill"===p.name?(this.model={},!0):(this.parser=this.map[p.name],!!this.parser&&(this.parser.parseOpen(p),!0))}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){return!!this.parser&&(this.parser.parseClose(p)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(p){return f.validPatternValues[p]}}f.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((b,p)=>(b[p]=!0,b),{}),f.StopXform=g,f.PatternFillXform=d,f.GradientFillXform=u,z.exports=f},{"../base-xform":32,"./color-xform":128}],131:[function(_,z,B){"use strict";const A=_("./color-xform"),y=_("../simple/boolean-xform"),g=_("../simple/integer-xform"),d=_("../simple/string-xform"),u=_("./underline-xform"),f=_("../../../utils/under-dash"),b=_("../base-xform");class p extends b{constructor(C){super(),this.options=C||p.OPTIONS,this.map={b:{prop:"bold",xform:new y({tag:"b",attr:"val"})},i:{prop:"italic",xform:new y({tag:"i",attr:"val"})},u:{prop:"underline",xform:new u},charset:{prop:"charset",xform:new g({tag:"charset",attr:"val"})},color:{prop:"color",xform:new A},condense:{prop:"condense",xform:new y({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new y({tag:"extend",attr:"val"})},family:{prop:"family",xform:new g({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new y({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new d({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new d({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new y({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new y({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new g({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new d({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(C,E){const{map:v}=this;C.openNode(this.options.tagName),f.each(this.map,(D,S)=>{v[S].xform.render(C,E[D.prop])}),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):this.map[C.name]?(this.parser=this.map[C.name].xform,this.parser.parseOpen(C)):C.name===this.options.tagName&&(this.model={},!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser&&!this.parser.parseClose(C)?(this.parser.model&&(this.model[this.map[C].prop]=this.parser.model),this.parser=void 0,!0):C!==this.options.tagName}}p.OPTIONS={tagName:"font",fontNameTag:"name"},z.exports=p},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(_,z,B){"use strict";const A=_("../../../utils/under-dash"),y=_("../../defaultnumformats"),g=_("../base-xform"),d=function(){const f={};return A.each(y,(b,p)=>{b.f&&(f[b.f]=parseInt(p,10))}),f}();class u extends g{constructor(b,p){super(),this.id=b,this.formatCode=p}get tag(){return"numFmt"}render(b,p){b.leafNode("numFmt",{numFmtId:p.id,formatCode:p.formatCode})}parseOpen(b){return"numFmt"===b.name&&(this.model={id:parseInt(b.attributes.numFmtId,10),formatCode:b.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0)}parseText(){}parseClose(){return!1}}u.getDefaultFmtId=function(f){return d[f]},u.getDefaultFmtCode=function(f){return y[f]&&y[f].f},z.exports=u},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(_,z,B){"use strict";const A=_("../base-xform"),y_boolean=(g,d)=>void 0===g?d:g;z.exports=class extends A{get tag(){return"protection"}render(g,d){g.addRollback(),g.openNode("protection");let u=!1;function f(b,p){void 0!==p&&(g.addAttribute(b,p),u=!0)}f("locked",y_boolean(d.locked,!0)?void 0:"0"),f("hidden",y_boolean(d.hidden,!1)?"1":void 0),g.closeNode(),u?g.commit():g.rollback()}parseOpen(g){const d={locked:"0"!==g.attributes.locked,hidden:"1"===g.attributes.hidden};this.model=!d.locked||d.hidden?d:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("./alignment-xform"),g=_("./protection-xform");z.exports=class extends A{constructor(d){super(),this.xfId=!(!d||!d.xfId),this.map={alignment:new y,protection:new g}}get tag(){return"xf"}render(d,u){d.openNode("xf",{numFmtId:u.numFmtId||0,fontId:u.fontId||0,fillId:u.fillId||0,borderId:u.borderId||0}),this.xfId&&d.addAttribute("xfId",u.xfId||0),u.numFmtId&&d.addAttribute("applyNumberFormat","1"),u.fontId&&d.addAttribute("applyFont","1"),u.fillId&&d.addAttribute("applyFill","1"),u.borderId&&d.addAttribute("applyBorder","1"),u.alignment&&d.addAttribute("applyAlignment","1"),u.protection&&d.addAttribute("applyProtection","1"),u.alignment&&this.map.alignment.render(d,u.alignment),u.protection&&this.map.protection.render(d,u.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"xf":return this.model={numFmtId:parseInt(d.attributes.numFmtId,10),fontId:parseInt(d.attributes.fontId,10),fillId:parseInt(d.attributes.fillId,10),borderId:parseInt(d.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(d.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(d),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):"xf"!==d}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(_,z,B){"use strict";const A=_("../../../doc/enums"),y=_("../../../utils/xml-stream"),g=_("../base-xform"),d=_("../static-xform"),u=_("../list-xform"),f=_("./font-xform"),b=_("./fill-xform"),p=_("./border-xform"),m=_("./numfmt-xform"),C=_("./style-xform"),E=_("./dxf-xform");class v extends g{constructor(S){super(),this.map={numFmts:new u({tag:"numFmts",count:!0,childXform:new m}),fonts:new u({tag:"fonts",count:!0,childXform:new f,$:{"x14ac:knownFonts":1}}),fills:new u({tag:"fills",count:!0,childXform:new b}),borders:new u({tag:"borders",count:!0,childXform:new p}),cellStyleXfs:new u({tag:"cellStyleXfs",count:!0,childXform:new C}),cellXfs:new u({tag:"cellXfs",count:!0,childXform:new C({xfId:!0})}),dxfs:new u({tag:"dxfs",always:!0,count:!0,childXform:new E}),numFmt:new m,font:new f,fill:new b,border:new p,style:new C({xfId:!0}),cellStyles:v.STATIC_XFORMS.cellStyles,tableStyles:v.STATIC_XFORMS.tableStyles,extLst:v.STATIC_XFORMS.extLst},S&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(S,R){R=R||this.model,S.openXml(y.StdDocAttributes),S.openNode("styleSheet",v.STYLESHEET_ATTRIBUTES),this.index?(R.numFmts&&R.numFmts.length&&(S.openNode("numFmts",{count:R.numFmts.length}),R.numFmts.forEach(L=>{S.writeXml(L)}),S.closeNode()),R.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),S.openNode("fonts",{count:R.fonts.length,"x14ac:knownFonts":1}),R.fonts.forEach(L=>{S.writeXml(L)}),S.closeNode(),S.openNode("fills",{count:R.fills.length}),R.fills.forEach(L=>{S.writeXml(L)}),S.closeNode(),S.openNode("borders",{count:R.borders.length}),R.borders.forEach(L=>{S.writeXml(L)}),S.closeNode(),this.map.cellStyleXfs.render(S,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),S.openNode("cellXfs",{count:R.styles.length}),R.styles.forEach(L=>{S.writeXml(L)}),S.closeNode()):(this.map.numFmts.render(S,R.numFmts),this.map.fonts.render(S,R.fonts),this.map.fills.render(S,R.fills),this.map.borders.render(S,R.borders),this.map.cellStyleXfs.render(S,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(S,R.styles)),v.STATIC_XFORMS.cellStyles.render(S),this.map.dxfs.render(S,R.dxfs),v.STATIC_XFORMS.tableStyles.render(S),v.STATIC_XFORMS.extLst.render(S),S.closeNode()}parseOpen(S){return this.parser?(this.parser.parseOpen(S),!0):"styleSheet"===S.name?(this.initIndex(),!0):(this.parser=this.map[S.name],this.parser&&this.parser.parseOpen(S),!0)}parseText(S){this.parser&&this.parser.parseText(S)}parseClose(S){if(this.parser)return this.parser.parseClose(S)||(this.parser=void 0),!0;if("styleSheet"===S){this.model={};const R=(L,Z)=>{Z.model&&Z.model.length&&(this.model[L]=Z.model)};if(R("numFmts",this.map.numFmts),R("fonts",this.map.fonts),R("fills",this.map.fills),R("borders",this.map.borders),R("styles",this.map.cellXfs),R("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const L=this.index.numFmt;this.model.numFmts.forEach(Z=>{L[Z.id]=Z.formatCode})}return!1}return!0}addStyleModel(S,R){if(!S)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(S))return this.weakMap.get(S);const L={};if(R=R||A.ValueType.Number,S.numFmt)L.numFmtId=this._addNumFmtStr(S.numFmt);else switch(R){case A.ValueType.Number:L.numFmtId=this._addNumFmtStr("General");break;case A.ValueType.Date:L.numFmtId=this._addNumFmtStr("mm-dd-yy")}S.font&&(L.fontId=this._addFont(S.font)),S.border&&(L.borderId=this._addBorder(S.border)),S.fill&&(L.fillId=this._addFill(S.fill)),S.alignment&&(L.alignment=S.alignment),S.protection&&(L.protection=S.protection);const Z=this._addStyle(L);return this.weakMap&&this.weakMap.set(S,Z),Z}getStyleModel(S){const R=this.model.styles[S];if(!R)return null;let L=this.index.model[S];if(L)return L;if(L=this.index.model[S]={},R.numFmtId){const ee=this.index.numFmt[R.numFmtId]||m.getDefaultFmtCode(R.numFmtId);ee&&(L.numFmt=ee)}function Z(ee,ne,J){if(J||0===J){const re=ne[J];re&&(L[ee]=re)}}return Z("font",this.model.fonts,R.fontId),Z("border",this.model.borders,R.borderId),Z("fill",this.model.fills,R.fillId),R.alignment&&(L.alignment=R.alignment),R.protection&&(L.protection=R.protection),L}addDxfStyle(S){return S.numFmt&&(S.numFmtId=this._addNumFmtStr(S.numFmt)),this.model.dxfs.push(S),this.model.dxfs.length-1}getDxfStyle(S){return this.model.dxfs[S]}_addStyle(S){const R=this.map.style.toXml(S);let L=this.index.style[R];return void 0===L&&(L=this.index.style[R]=this.model.styles.length,this.model.styles.push(R)),L}_addNumFmtStr(S){let R=m.getDefaultFmtId(S);if(void 0!==R||(R=this.index.numFmt[S],void 0!==R))return R;R=this.index.numFmt[S]=164+this.model.numFmts.length;const L=this.map.numFmt.toXml({id:R,formatCode:S});return this.model.numFmts.push(L),R}_addFont(S){const R=this.map.font.toXml(S);let L=this.index.font[R];return void 0===L&&(L=this.index.font[R]=this.model.fonts.length,this.model.fonts.push(R)),L}_addBorder(S){const R=this.map.border.toXml(S);let L=this.index.border[R];return void 0===L&&(L=this.index.border[R]=this.model.borders.length,this.model.borders.push(R)),L}_addFill(S){const R=this.map.fill.toXml(S);let L=this.index.fill[R];return void 0===L&&(L=this.index.fill[R]=this.model.fills.length,this.model.fills.push(R)),L}}v.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},v.STATIC_XFORMS={cellStyles:new d({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new d({tag:"dxfs",$:{count:0}}),tableStyles:new d({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new d({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},v.Mock=class extends v{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(D){return D.autodrain(),Promise.resolve()}addStyleModel(D,S){return S===A.ValueType.Date?this.dateStyleId:0}get dateStyleId(){if(!this._dateStyleId){const D={numFmtId:m.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(D)}return this._dateStyleId}getStyleModel(){return{}}},z.exports=v},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(_,z,B){"use strict";const A=_("../base-xform");class y extends A{constructor(d){super(),this.model=d}get tag(){return"u"}render(d,u){if(!0===(u=u||this.model))d.leafNode("u");else{const f=y.Attributes[u];f&&d.leafNode("u",f)}}parseOpen(d){"u"===d.name&&(this.model=d.attributes.val||!0)}parseText(){}parseClose(){return!1}}y.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},z.exports=y},{"../base-xform":32}],137:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("./filter-column-xform");z.exports=class extends A{constructor(){super(),this.map={filterColumn:new y}}get tag(){return"autoFilter"}prepare(g){g.columns.forEach((d,u)=>{this.map.filterColumn.prepare(d,{index:u})})}render(g,d){return g.openNode(this.tag,{ref:d.autoFilterRef}),d.columns.forEach(u=>{this.map.filterColumn.render(g,u)}),g.closeNode(),!0}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(g.name===this.tag)return this.model={autoFilterRef:g.attributes.ref,columns:[]},!0;if(this.parser=this.map[g.name],this.parser)return this.parseOpen(g),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(g))}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;if(g===this.tag)return!1;throw new Error("Unexpected xml node in parseClose: "+g)}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"customFilter"}render(y,g){y.leafNode(this.tag,{val:g.val,operator:g.operator})}parseOpen(y){return y.name===this.tag&&(this.model={val:y.attributes.val,operator:y.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(_,z,B){"use strict";const A=_("../base-xform"),y=_("../list-xform"),g=_("./custom-filter-xform"),d=_("./filter-xform");z.exports=class extends A{constructor(){super(),this.map={customFilters:new y({tag:"customFilters",count:!1,empty:!0,childXform:new g}),filters:new y({tag:"filters",count:!1,empty:!0,childXform:new d})}}get tag(){return"filterColumn"}prepare(u,f){u.colId=f.index.toString()}render(u,f){return f.customFilters?(u.openNode(this.tag,{colId:f.colId,hiddenButton:f.filterButton?"0":"1"}),this.map.customFilters.render(u,f.customFilters),u.closeNode(),!0):(u.leafNode(this.tag,{colId:f.colId,hiddenButton:f.filterButton?"0":"1"}),!0)}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;const{attributes:f}=u;if(u.name===this.tag)return this.model={filterButton:"0"===f.hiddenButton},!0;if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}parseText(){}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u!==this.tag||(this.model.customFilters=this.map.customFilters.model,!1)}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"filter"}render(y,g){y.leafNode(this.tag,{val:g.val})}parseOpen(y){return y.name===this.tag&&(this.model={val:y.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"tableColumn"}prepare(y,g){y.id=g.index+1}render(y,g){return y.leafNode(this.tag,{id:g.id.toString(),name:g.name,totalsRowLabel:g.totalsRowLabel,totalsRowFunction:g.totalsRowFunction,dxfId:g.dxfId}),!0}parseOpen(y){if(y.name===this.tag){const{attributes:g}=y;return this.model={name:g.name,totalsRowLabel:g.totalsRowLabel,totalsRowFunction:g.totalsRowFunction,dxfId:g.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(_,z,B){"use strict";const A=_("../base-xform");z.exports=class extends A{get tag(){return"tableStyleInfo"}render(y,g){return y.leafNode(this.tag,{name:g.theme?g.theme:void 0,showFirstColumn:g.showFirstColumn?"1":"0",showLastColumn:g.showLastColumn?"1":"0",showRowStripes:g.showRowStripes?"1":"0",showColumnStripes:g.showColumnStripes?"1":"0"}),!0}parseOpen(y){if(y.name===this.tag){const{attributes:g}=y;return this.model={theme:g.name?g.name:null,showFirstColumn:"1"===g.showFirstColumn,showLastColumn:"1"===g.showLastColumn,showRowStripes:"1"===g.showRowStripes,showColumnStripes:"1"===g.showColumnStripes},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(_,z,B){"use strict";const A=_("../../../utils/xml-stream"),y=_("../base-xform"),g=_("../list-xform"),d=_("./auto-filter-xform"),u=_("./table-column-xform"),f=_("./table-style-info-xform");class b extends y{constructor(){super(),this.map={autoFilter:new d,tableColumns:new g({tag:"tableColumns",count:!0,empty:!0,childXform:new u}),tableStyleInfo:new f}}prepare(m,C){this.map.autoFilter.prepare(m),this.map.tableColumns.prepare(m.columns,C)}get tag(){return"table"}render(m,C){m.openXml(A.StdDocAttributes),m.openNode(this.tag,{...b.TABLE_ATTRIBUTES,id:C.id,name:C.name,displayName:C.displayName||C.name,ref:C.tableRef,totalsRowCount:C.totalsRow?"1":void 0,totalsRowShown:C.totalsRow?void 0:"1",headerRowCount:C.headerRow?"1":"0"}),this.map.autoFilter.render(m,C),this.map.tableColumns.render(m,C.columns),this.map.tableStyleInfo.render(m,C.style),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;const{name:C,attributes:E}=m;return C===this.tag?(this.reset(),this.model={name:E.name,displayName:E.displayName||E.name,tableRef:E.ref,totalsRow:"1"===E.totalsRowCount,headerRow:"1"===E.headerRowCount}):(this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m)),!0}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){return this.parser?(this.parser.parseClose(m)||(this.parser=void 0),!0):m!==this.tag||(this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((C,E)=>{this.model.columns[E].filterButton=C.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1)}reconcile(m,C){m.columns.forEach(E=>{void 0!==E.dxfId&&(E.style=C.styles.getDxfStyle(E.dxfId))})}}b.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},z.exports=b},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(_,z,B){(function(A,y){(function(){"use strict";const g=_("fs"),d=_("jszip"),{PassThrough:u}=_("readable-stream"),f=_("../utils/zip-stream"),b=_("../utils/stream-buf"),p=_("../utils/utils"),m=_("../utils/xml-stream"),{bufferToString:C}=_("../utils/browser-buffer-decode"),E=_("./xform/style/styles-xform"),v=_("./xform/core/core-xform"),D=_("./xform/strings/shared-strings-xform"),S=_("./xform/core/relationships-xform"),R=_("./xform/core/content-types-xform"),L=_("./xform/core/app-xform"),Z=_("./xform/book/workbook-xform"),ee=_("./xform/sheet/worksheet-xform"),ne=_("./xform/drawing/drawing-xform"),J=_("./xform/table/table-xform"),re=_("./xform/comment/comments-xform"),oe=_("./xform/comment/vml-notes-xform"),fe=_("./xml/theme1");class ae{constructor(W){this.workbook=W}readFile(W,ie){var T=this;return s(function*(){if(!(yield p.fs.exists(W)))throw new Error("File not found: "+W);const I=g.createReadStream(W);try{const k=yield T.read(I,ie);return I.close(),k}catch(k){throw I.close(),k}})()}parseRels(W){return(new S).parseStream(W)}parseWorkbook(W){return(new Z).parseStream(W)}parseSharedStrings(W){return(new D).parseStream(W)}reconcile(W,ie){const T=new Z,I=new ee(ie),k=new ne,N=new J;T.reconcile(W);const P={media:W.media,mediaIndex:W.mediaIndex};Object.keys(W.drawings).forEach(ce=>{const he=W.drawings[ce],be=W.drawingRels[ce];be&&(P.rels=be.reduce((K,_e)=>(K[_e.Id]=_e,K),{}),(he.anchors||[]).forEach(K=>{const _e=K.picture&&K.picture.hyperlinks;_e&&P.rels[_e.rId]&&(_e.hyperlink=P.rels[_e.rId].Target,delete _e.rId)}),k.reconcile(he,P))});const U={styles:W.styles};Object.values(W.tables).forEach(ce=>{N.reconcile(ce,U)});const Y={styles:W.styles,sharedStrings:W.sharedStrings,media:W.media,mediaIndex:W.mediaIndex,date1904:W.properties&&W.properties.date1904,drawings:W.drawings,comments:W.comments,tables:W.tables,vmlDrawings:W.vmlDrawings};W.worksheets.forEach(ce=>{ce.relationships=W.worksheetRels[ce.sheetNo],I.reconcile(ce,Y)}),delete W.worksheetHash,delete W.worksheetRels,delete W.globalRels,delete W.sharedStrings,delete W.workbookRels,delete W.sheetDefs,delete W.styles,delete W.mediaIndex,delete W.drawings,delete W.drawingRels,delete W.vmlDrawings}_processWorksheetEntry(W,ie,T,I,k){return s(function*(){const N=new ee(I),P=yield N.parseStream(W);P.sheetNo=T,ie.worksheetHash[k]=P,ie.worksheets.push(P)})()}_processCommentEntry(W,ie,T){return s(function*(){const I=new re,k=yield I.parseStream(W);ie.comments[`../${T}.xml`]=k})()}_processTableEntry(W,ie,T){return s(function*(){const I=new J,k=yield I.parseStream(W);ie.tables[`../tables/${T}.xml`]=k})()}_processWorksheetRelsEntry(W,ie,T){return s(function*(){const I=new S,k=yield I.parseStream(W);ie.worksheetRels[T]=k})()}_processMediaEntry(W,ie,T){return s(function*(){const I=T.lastIndexOf(".");if(I>=1){const k=T.substr(I+1),N=T.substr(0,I);yield new Promise((P,U)=>{const Y=new b;Y.on("finish",()=>{ie.mediaIndex[T]=ie.media.length,ie.mediaIndex[N]=ie.media.length;const ce={type:"image",name:N,extension:k,buffer:Y.toBuffer()};ie.media.push(ce),P()}),W.on("error",ce=>{U(ce)}),W.pipe(Y)})}})()}_processDrawingEntry(W,ie,T){return s(function*(){const I=new ne,k=yield I.parseStream(W);ie.drawings[T]=k})()}_processDrawingRelsEntry(W,ie,T){return s(function*(){const I=new S,k=yield I.parseStream(W);ie.drawingRels[T]=k})()}_processVmlDrawingEntry(W,ie,T){return s(function*(){const I=new oe,k=yield I.parseStream(W);ie.vmlDrawings[`../drawings/${T}.vml`]=k})()}_processThemeEntry(W,ie,T){return s(function*(){yield new Promise((I,k)=>{const N=new b;W.on("error",k),N.on("error",k),N.on("finish",()=>{ie.themes[T]=N.read().toString(),I()}),W.pipe(N)})})()}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}read(W,ie){var T=this;return s(function*(){!W[Symbol.asyncIterator]&&W.pipe&&(W=W.pipe(new u));const I=[];var P,k=!1,N=!1;try{for(var Y,U=rt(W);k=!(Y=yield U.next()).done;k=!1)I.push(Y.value)}catch(ce){N=!0,P=ce}finally{try{k&&null!=U.return&&(yield U.return())}finally{if(N)throw P}}return T.load(y.concat(I),ie)})()}load(W,ie){var T=this;return s(function*(){let I;I=ie&&ie.base64?y.from(W.toString(),"base64"):W;const k={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},N=yield d.loadAsync(I);for(const P of Object.values(N.files))if(!P.dir){let U,Y=P.name;if("/"===Y[0]&&(Y=Y.substr(1)),Y.match(/xl\/media\//)||Y.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))U=new u,U.write(yield P.async("nodebuffer"));else{let ce;U=new u({writableObjectMode:!0,readableObjectMode:!0}),ce=A.browser?C(yield P.async("nodebuffer")):yield P.async("string");const he=16384;for(let be=0;be<ce.length;be+=he)U.write(ce.substring(be,be+he))}switch(U.end(),Y){case"_rels/.rels":k.globalRels=yield T.parseRels(U);break;case"xl/workbook.xml":{const ce=yield T.parseWorkbook(U);k.sheets=ce.sheets,k.definedNames=ce.definedNames,k.views=ce.views,k.properties=ce.properties,k.calcProperties=ce.calcProperties;break}case"xl/_rels/workbook.xml.rels":k.workbookRels=yield T.parseRels(U);break;case"xl/sharedStrings.xml":k.sharedStrings=new D,yield k.sharedStrings.parseStream(U);break;case"xl/styles.xml":k.styles=new E,yield k.styles.parseStream(U);break;case"docProps/app.xml":{const ce=new L,he=yield ce.parseStream(U);k.company=he.company,k.manager=he.manager;break}case"docProps/core.xml":{const ce=new v,he=yield ce.parseStream(U);Object.assign(k,he);break}default:{let ce=Y.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(ce){yield T._processWorksheetEntry(U,k,ce[1],ie,Y);break}if(ce=Y.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),ce){yield T._processWorksheetRelsEntry(U,k,ce[1]);break}if(ce=Y.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),ce){yield T._processThemeEntry(U,k,ce[1]);break}if(ce=Y.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),ce){yield T._processMediaEntry(U,k,ce[1]);break}if(ce=Y.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),ce){yield T._processDrawingEntry(U,k,ce[1]);break}if(ce=Y.match(/xl\/(comments\d+)[.]xml/),ce){yield T._processCommentEntry(U,k,ce[1]);break}if(ce=Y.match(/xl\/tables\/(table\d+)[.]xml/),ce){yield T._processTableEntry(U,k,ce[1]);break}if(ce=Y.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),ce){yield T._processDrawingRelsEntry(U,k,ce[1]);break}if(ce=Y.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),ce){yield T._processVmlDrawingEntry(U,k,ce[1]);break}}}}return T.reconcile(k,ie),T.workbook.model=k,T.workbook})()}addMedia(W,ie){return s(function*(){yield Promise.all(ie.media.map(function(){var T=s(function*(I){if("image"===I.type){const k=`xl/media/${I.name}.${I.extension}`;if(I.filename){const N=yield(P=I.filename,new Promise((Y,ce)=>{g.readFile(P,undefined,(he,be)=>{he?ce(he):Y(be)})}));return W.append(N,{name:k})}if(I.buffer)return W.append(I.buffer,{name:k});if(I.base64){const N=I.base64,P=N.substring(N.indexOf(",")+1);return W.append(P,{name:k,base64:!0})}}var P;throw new Error("Unsupported media")});return function(I){return T.apply(this,arguments)}}()))})()}addDrawings(W,ie){const T=new ne,I=new S;ie.worksheets.forEach(k=>{const{drawing:N}=k;if(N){T.prepare(N,{});let P=T.toXml(N);W.append(P,{name:`xl/drawings/${N.name}.xml`}),P=I.toXml(N.rels),W.append(P,{name:`xl/drawings/_rels/${N.name}.xml.rels`})}})}addTables(W,ie){const T=new J;ie.worksheets.forEach(I=>{const{tables:k}=I;k.forEach(N=>{T.prepare(N,{});const P=T.toXml(N);W.append(P,{name:"xl/tables/"+N.target})})})}addContentTypes(W,ie){return s(function*(){const T=(new R).toXml(ie);W.append(T,{name:"[Content_Types].xml"})})()}addApp(W,ie){return s(function*(){const T=(new L).toXml(ie);W.append(T,{name:"docProps/app.xml"})})()}addCore(W,ie){return s(function*(){const T=new v;W.append(T.toXml(ie),{name:"docProps/core.xml"})})()}addThemes(W,ie){return s(function*(){const T=ie.themes||{theme1:fe};Object.keys(T).forEach(I=>{W.append(T[I],{name:`xl/theme/${I}.xml`})})})()}addOfficeRels(W){return s(function*(){const ie=(new S).toXml([{Id:"rId1",Type:ae.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:ae.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:ae.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);W.append(ie,{name:"_rels/.rels"})})()}addWorkbookRels(W,ie){return s(function*(){let T=1;const I=[{Id:"rId"+T++,Type:ae.RelType.Styles,Target:"styles.xml"},{Id:"rId"+T++,Type:ae.RelType.Theme,Target:"theme/theme1.xml"}];ie.sharedStrings.count&&I.push({Id:"rId"+T++,Type:ae.RelType.SharedStrings,Target:"sharedStrings.xml"}),ie.worksheets.forEach(N=>{N.rId="rId"+T++,I.push({Id:N.rId,Type:ae.RelType.Worksheet,Target:`worksheets/sheet${N.id}.xml`})});const k=(new S).toXml(I);W.append(k,{name:"xl/_rels/workbook.xml.rels"})})()}addSharedStrings(W,ie){return s(function*(){ie.sharedStrings&&ie.sharedStrings.count&&W.append(ie.sharedStrings.xml,{name:"xl/sharedStrings.xml"})})()}addStyles(W,ie){return s(function*(){const{xml:T}=ie.styles;T&&W.append(T,{name:"xl/styles.xml"})})()}addWorkbook(W,ie){return s(function*(){const T=new Z;W.append(T.toXml(ie),{name:"xl/workbook.xml"})})()}addWorksheets(W,ie){return s(function*(){const T=new ee,I=new S,k=new re,N=new oe;ie.worksheets.forEach(P=>{let U=new m;T.render(U,P),W.append(U.xml,{name:`xl/worksheets/sheet${P.id}.xml`}),P.rels&&P.rels.length&&(U=new m,I.render(U,P.rels),W.append(U.xml,{name:`xl/worksheets/_rels/sheet${P.id}.xml.rels`})),P.comments.length>0&&(U=new m,k.render(U,P),W.append(U.xml,{name:`xl/comments${P.id}.xml`}),U=new m,N.render(U,P),W.append(U.xml,{name:`xl/drawings/vmlDrawing${P.id}.vml`}))})})()}_finalize(W){return new Promise((ie,T)=>{W.on("finish",()=>{ie(this)}),W.on("error",T),W.finalize()})}prepareModel(W,ie){W.creator=W.creator||"ExcelJS",W.lastModifiedBy=W.lastModifiedBy||"ExcelJS",W.created=W.created||new Date,W.modified=W.modified||new Date,W.useSharedStrings=void 0===ie.useSharedStrings||ie.useSharedStrings,W.useStyles=void 0===ie.useStyles||ie.useStyles,W.sharedStrings=new D,W.styles=W.useStyles?new E(!0):new E.Mock;const T=new Z,I=new ee;T.prepare(W);const k={sharedStrings:W.sharedStrings,styles:W.styles,date1904:W.properties.date1904,drawingsCount:0,media:W.media};k.drawings=W.drawings=[],k.commentRefs=W.commentRefs=[];let N=0;W.tables=[],W.worksheets.forEach(P=>{P.tables.forEach(U=>{N++,U.target=`table${N}.xml`,U.id=N,W.tables.push(U)}),I.prepare(P,k)})}write(W,ie){var T=this;return s(function*(){ie=ie||{};const{model:I}=T.workbook,k=new f.ZipWriter(ie.zip);return k.pipe(W),T.prepareModel(I,ie),yield T.addContentTypes(k,I),yield T.addOfficeRels(k,I),yield T.addWorkbookRels(k,I),yield T.addWorksheets(k,I),yield T.addSharedStrings(k,I),yield T.addDrawings(k,I),yield T.addTables(k,I),yield Promise.all([T.addThemes(k,I),T.addStyles(k,I)]),yield T.addMedia(k,I),yield Promise.all([T.addApp(k,I),T.addCore(k,I)]),yield T.addWorkbook(k,I),T._finalize(k)})()}writeFile(W,ie){const T=g.createWriteStream(W);return new Promise((I,k)=>{T.on("finish",()=>{I()}),T.on("error",N=>{k(N)}),this.write(T,ie).then(()=>{T.end()}).catch(N=>{k(N)})})}writeBuffer(W){var ie=this;return s(function*(){const T=new b;return yield ie.write(T,W),T.read()})()}}ae.RelType=_("./rel-type"),z.exports=ae}).call(this)}).call(this,_("_process"),_("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(_,z,B){"use strict";z.exports='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/> <a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/> <a:font script="Hans" typeface="\u5b8b\u4f53"/> <a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/> <a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/> <a:font script="Hans" typeface="\u5b8b\u4f53"/> <a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>'},{}],146:[function(_,z,B){(function(A){(function(){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.CsvFormatterStream=void 0;const y=_("stream"),g=_("./formatter");B.CsvFormatterStream=class d extends y.Transform{constructor(f){super({writableObjectMode:f.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=f,this.rowFormatter=new g.RowFormatter(f),this.hasWrittenBOM=!f.writeBOM}transform(f){return this.rowFormatter.rowTransform=f,this}_transform(f,b,p){let m=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(f,(C,E)=>C?(m=!0,p(C)):(E&&E.forEach(v=>{this.push(A.from(v,"utf8"))}),m=!0,p()))}catch(C){if(m)throw C;p(C)}}_flush(f){this.rowFormatter.finish((b,p)=>b?f(b):(p&&p.forEach(m=>{this.push(A.from(m,"utf8"))}),f()))}}}).call(this)}).call(this,_("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.FormatterOptions=void 0,B.FormatterOptions=class{constructor(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var y;this.objectMode=!0,this.delimiter=",",this.rowDelimiter="\n",this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\ufeff",this.alwaysWriteHeaders=!1,Object.assign(this,A||{}),void 0===A?.quoteHeaders&&(this.quoteHeaders=this.quoteColumns),!0===A?.quote?this.quote='"':!1===A?.quote&&(this.quote=""),"string"!=typeof A?.escape&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&(null===(y=A.writeHeaders)||void 0===y||y),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(_,z,B){"use strict";var A=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(B,"__esModule",{value:!0}),B.FieldFormatter=void 0;const y=A(_("lodash.isboolean")),g=A(_("lodash.isnil")),d=A(_("lodash.escaperegexp"));B.FieldFormatter=class{constructor(u){this._headers=null,this.formatterOptions=u,null!==u.headers&&(this.headers=u.headers),this.REPLACE_REGEXP=new RegExp(u.quote,"g");const f=`[${u.delimiter}${d.default(u.rowDelimiter)}|\r|\n]`;this.ESCAPE_REGEXP=new RegExp(f)}set headers(u){this._headers=u}shouldQuote(u,f){const b=f?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return y.default(b)?b:Array.isArray(b)?b[u]:null!==this._headers&&b[this._headers[u]]}format(u,f,b){const p=(""+(g.default(u)?"":u)).replace(/\0/g,""),{formatterOptions:m}=this;return""!==m.quote&&-1!==p.indexOf(m.quote)?this.quoteField(p.replace(this.REPLACE_REGEXP,m.escapedQuote)):-1!==p.search(this.ESCAPE_REGEXP)||this.shouldQuote(f,b)?this.quoteField(p):p}quoteField(u){const{quote:f}=this.formatterOptions;return`${f}${u}${f}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(_,z,B){"use strict";var A=function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(B,"__esModule",{value:!0}),B.RowFormatter=void 0;const y=A(_("lodash.isfunction")),g=A(_("lodash.isequal")),d=_("./FieldFormatter"),u=_("../types");class f{constructor(p){this.rowCount=0,this.formatterOptions=p,this.fieldFormatter=new d.FieldFormatter(p),this.headers=p.headers,this.shouldWriteHeaders=p.shouldWriteHeaders,this.hasWrittenHeaders=!1,null!==this.headers&&(this.fieldFormatter.headers=this.headers),p.transform&&(this.rowTransform=p.transform)}static isRowHashArray(p){return!!Array.isArray(p)&&Array.isArray(p[0])&&2===p[0].length}static isRowArray(p){return Array.isArray(p)&&!this.isRowHashArray(p)}static gatherHeaders(p){return f.isRowHashArray(p)?p.map(m=>m[0]):Array.isArray(p)?p:Object.keys(p)}static createTransform(p){return u.isSyncTransform(p)?(m,C)=>{let E=null;try{E=p(m)}catch(v){return C(v)}return C(null,E)}:(m,C)=>{p(m,C)}}set rowTransform(p){if(!y.default(p))throw new TypeError("The transform should be a function");this._rowTransform=f.createTransform(p)}format(p,m){this.callTransformer(p,(C,E)=>{if(C)return m(C);if(!p)return m(null);const v=[];if(E){const{shouldFormatColumns:D,headers:S}=this.checkHeaders(E);if(this.shouldWriteHeaders&&S&&!this.hasWrittenHeaders&&(v.push(this.formatColumns(S,!0)),this.hasWrittenHeaders=!0),D){const R=this.gatherColumns(E);v.push(this.formatColumns(R,!1))}}return m(null,v)})}finish(p){const m=[];if(this.formatterOptions.alwaysWriteHeaders&&0===this.rowCount){if(!this.headers)return p(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));m.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&m.push(this.formatterOptions.rowDelimiter),p(null,m)}checkHeaders(p){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const m=f.gatherHeaders(p);return this.headers=m,this.fieldFormatter.headers=m,this.shouldWriteHeaders?{shouldFormatColumns:!g.default(m,p),headers:m}:{shouldFormatColumns:!0,headers:null}}gatherColumns(p){if(null===this.headers)throw new Error("Headers is currently null");return Array.isArray(p)?f.isRowHashArray(p)?this.headers.map((m,C)=>{const E=p[C];return E?E[1]:""}):f.isRowArray(p)&&!this.shouldWriteHeaders?p:this.headers.map((m,C)=>p[C]):this.headers.map(m=>p[m])}callTransformer(p,m){return this._rowTransform?this._rowTransform(p,m):m(null,p)}formatColumns(p,m){const C=p.map((v,D)=>this.fieldFormatter.format(v,D,m)).join(this.formatterOptions.delimiter),{rowCount:E}=this;return this.rowCount+=1,E?[this.formatterOptions.rowDelimiter,C].join(""):C}}B.RowFormatter=f},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.FieldFormatter=B.RowFormatter=void 0;var A=_("./RowFormatter");Object.defineProperty(B,"RowFormatter",{enumerable:!0,get:function(){return A.RowFormatter}});var y=_("./FieldFormatter");Object.defineProperty(B,"FieldFormatter",{enumerable:!0,get:function(){return y.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(_,z,B){(function(A){(function(){"use strict";var y=Object.create?function(D,S,R,L){void 0===L&&(L=R),Object.defineProperty(D,L,{enumerable:!0,get:function(){return S[R]}})}:function(D,S,R,L){void 0===L&&(L=R),D[L]=S[R]},g=Object.create?function(D,S){Object.defineProperty(D,"default",{enumerable:!0,value:S})}:function(D,S){D.default=S};Object.defineProperty(B,"__esModule",{value:!0}),B.writeToPath=B.writeToString=B.writeToBuffer=B.writeToStream=B.write=B.format=B.FormatterOptions=B.CsvFormatterStream=void 0;const f=_("util"),b=_("stream"),p=function(D){if(D&&D.__esModule)return D;var S={};if(null!=D)for(var R in D)"default"!==R&&Object.prototype.hasOwnProperty.call(D,R)&&y(S,D,R);return g(S,D),S}(_("fs")),m=_("./FormatterOptions"),C=_("./CsvFormatterStream");!function(D,S){for(var R in D)"default"===R||Object.prototype.hasOwnProperty.call(S,R)||y(S,D,R)}(_("./types"),B);var E=_("./CsvFormatterStream");Object.defineProperty(B,"CsvFormatterStream",{enumerable:!0,get:function(){return E.CsvFormatterStream}});var v=_("./FormatterOptions");Object.defineProperty(B,"FormatterOptions",{enumerable:!0,get:function(){return v.FormatterOptions}}),B.format=D=>new C.CsvFormatterStream(new m.FormatterOptions(D)),B.write=(D,S)=>{const R=B.format(S),L=f.promisify((Z,ee)=>{R.write(Z,void 0,ee)});return D.reduce((Z,ee)=>Z.then(()=>L(ee)),Promise.resolve()).then(()=>R.end()).catch(Z=>{R.emit("error",Z)}),R},B.writeToStream=(D,S,R)=>B.write(S,R).pipe(D),B.writeToBuffer=function(D){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const R=[],L=new b.Writable({write(Z,ee,ne){R.push(Z),ne()}});return new Promise((Z,ee)=>{L.on("error",ee).on("finish",()=>Z(A.concat(R))),B.write(D,S).pipe(L)})},B.writeToString=(D,S)=>B.writeToBuffer(D,S).then(R=>R.toString()),B.writeToPath=(D,S,R)=>{const L=p.createWriteStream(D,{encoding:"utf8"});return B.write(S,R).pipe(L)}}).call(this)}).call(this,_("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.isSyncTransform=void 0,B.isSyncTransform=A=>1===A.length},{}],153:[function(_,z,B){(function(A){(function(){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.CsvParserStream=void 0;const y=_("string_decoder"),g=_("stream"),d=_("./transforms"),u=_("./parser");class f extends g.Transform{constructor(p){super({objectMode:p.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=p,this.parser=new u.Parser(p),this.headerTransformer=new d.HeaderTransformer(p),this.decoder=new y.StringDecoder(p.encoding),this.rowTransformerValidator=new d.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(p){return this.rowTransformerValidator.rowTransform=p,this}validate(p){return this.rowTransformerValidator.rowValidator=p,this}emit(p){if("end"===p)return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var m=arguments.length,C=new Array(m>1?m-1:0),E=1;E<m;E++)C[E-1]=arguments[E];return super.emit(p,...C)}_transform(p,m,C){if(this.hasHitRowLimit)return C();const E=f.wrapDoneCallback(C);try{const{lines:v}=this,D=v+this.decoder.write(p),S=this.parse(D,!0);return this.processRows(S,E)}catch(v){return E(v)}}_flush(p){const m=f.wrapDoneCallback(p);if(this.hasHitRowLimit)return m();try{const C=this.lines+this.decoder.end(),E=this.parse(C,!1);return this.processRows(E,m)}catch(C){return m(C)}}parse(p,m){if(!p)return[];const{line:C,rows:E}=this.parser.parse(p,m);return this.lines=C,E}processRows(p,m){const C=p.length,E=v=>{const D=L=>L?m(L):v%100!=0?E(v+1):void A(()=>E(v+1));if(this.checkAndEmitHeaders(),v>=C||this.hasHitRowLimit)return m();if(this.parsedLineCount+=1,this.shouldSkipLine)return D();const S=p[v];this.rowCount+=1,this.parsedRowCount+=1;const R=this.rowCount;return this.transformRow(S,(L,Z)=>{if(L)return this.rowCount-=1,D(L);if(!Z)return D(new Error("expected transform result"));if(Z.isValid){if(Z.row)return this.pushRow(Z.row,D)}else this.emit("data-invalid",Z.row,R,Z.reason);return D()})};E(0)}transformRow(p,m){try{this.headerTransformer.transform(p,(C,E)=>C?m(C):E?E.isValid?E.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(E.row,m):this.skipRow(m):(this.rowCount-=1,this.parsedRowCount-=1,m(null,{row:null,isValid:!0})):this.shouldEmitRows?m(null,{isValid:!1,row:p}):this.skipRow(m):m(new Error("Expected result from header transform")))}catch(C){m(C)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(p){return this.rowCount-=1,p(null,{row:null,isValid:!0})}pushRow(p,m){try{this.push(this.parserOptions.objectMode?p:JSON.stringify(p)),m()}catch(C){m(C)}}static wrapDoneCallback(p){let m=!1;return function(C){if(C){if(m)throw C;return m=!0,void p(C)}for(var E=arguments.length,v=new Array(E>1?E-1:0),D=1;D<E;D++)v[D-1]=arguments[D];p(...v)}}}B.CsvParserStream=f}).call(this)}).call(this,_("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(_,z,B){"use strict";var A=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(B,"__esModule",{value:!0}),B.ParserOptions=void 0;const y=A(_("lodash.escaperegexp")),g=A(_("lodash.isnil"));B.ParserOptions=class{constructor(d){var u;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,d||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=y.default(this.delimiter),this.escapeChar=null!==(u=this.escape)&&void 0!==u?u:this.quote,this.supportsComments=!g.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(_,z,B){"use strict";var A=Object.create?function(E,v,D,S){void 0===S&&(S=D),Object.defineProperty(E,S,{enumerable:!0,get:function(){return v[D]}})}:function(E,v,D,S){void 0===S&&(S=D),E[S]=v[D]},y=Object.create?function(E,v){Object.defineProperty(E,"default",{enumerable:!0,value:v})}:function(E,v){E.default=v};Object.defineProperty(B,"__esModule",{value:!0}),B.parseString=B.parseFile=B.parseStream=B.parse=B.ParserOptions=B.CsvParserStream=void 0;const u=function(E){if(E&&E.__esModule)return E;var v={};if(null!=E)for(var D in E)"default"!==D&&Object.prototype.hasOwnProperty.call(E,D)&&A(v,E,D);return y(v,E),v}(_("fs")),f=_("stream"),b=_("./ParserOptions"),p=_("./CsvParserStream");!function(E,v){for(var D in E)"default"===D||Object.prototype.hasOwnProperty.call(v,D)||A(v,E,D)}(_("./types"),B);var m=_("./CsvParserStream");Object.defineProperty(B,"CsvParserStream",{enumerable:!0,get:function(){return m.CsvParserStream}});var C=_("./ParserOptions");Object.defineProperty(B,"ParserOptions",{enumerable:!0,get:function(){return C.ParserOptions}}),B.parse=E=>new p.CsvParserStream(new b.ParserOptions(E)),B.parseStream=(E,v)=>E.pipe(new p.CsvParserStream(new b.ParserOptions(v))),B.parseFile=function(E){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.createReadStream(E).pipe(new p.CsvParserStream(new b.ParserOptions(v)))},B.parseString=(E,v)=>{const D=new f.Readable;return D.push(E),D.push(null),D.pipe(new p.CsvParserStream(new b.ParserOptions(v)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.Parser=void 0;const A=_("./Scanner"),y=_("./RowParser"),g=_("./Token");class d{constructor(f){this.parserOptions=f,this.rowParser=new y.RowParser(this.parserOptions)}static removeBOM(f){return f&&65279===f.charCodeAt(0)?f.slice(1):f}parse(f,b){const p=new A.Scanner({line:d.removeBOM(f),parserOptions:this.parserOptions,hasMoreData:b});return this.parserOptions.supportsComments?this.parseWithComments(p):this.parseWithoutComments(p)}parseWithoutComments(f){const b=[];let p=!0;for(;p;)p=this.parseRow(f,b);return{line:f.line,rows:b}}parseWithComments(f){const{parserOptions:b}=this,p=[];for(let m=f.nextCharacterToken;null!==m;m=f.nextCharacterToken)if(g.Token.isTokenComment(m,b)){if(null===f.advancePastLine())return{line:f.lineFromCursor,rows:p};if(!f.hasMoreCharacters)return{line:f.lineFromCursor,rows:p};f.truncateToCursor()}else if(!this.parseRow(f,p))break;return{line:f.line,rows:p}}parseRow(f,b){if(!f.nextNonSpaceToken)return!1;const p=this.rowParser.parse(f);return null!==p&&(this.parserOptions.ignoreEmpty&&y.RowParser.isEmptyRow(p)||b.push(p),!0)}}B.Parser=d},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.RowParser=void 0;const A=_("./column"),y=_("./Token");B.RowParser=class{constructor(g){this.parserOptions=g,this.columnParser=new A.ColumnParser(g)}static isEmptyRow(g){return""===g.join("").replace(/\s+/g,"")}parse(g){const{parserOptions:d}=this,{hasMoreData:u}=g,f=g,b=[];let p=this.getStartToken(f,b);for(;p;){if(y.Token.isTokenRowDelimiter(p))return f.advancePastToken(p),!f.hasMoreCharacters&&y.Token.isTokenCarriageReturn(p,d)&&u?null:(f.truncateToCursor(),b);if(!this.shouldSkipColumnParse(f,p,b)){const m=this.columnParser.parse(f);if(null===m)return null;b.push(m)}p=f.nextNonSpaceToken}return u?null:(f.truncateToCursor(),b)}getStartToken(g,d){const u=g.nextNonSpaceToken;return null!==u&&y.Token.isTokenDelimiter(u,this.parserOptions)?(d.push(""),g.nextNonSpaceToken):u}shouldSkipColumnParse(g,d,u){const{parserOptions:f}=this;if(y.Token.isTokenDelimiter(d,f)){g.advancePastToken(d);const b=g.nextCharacterToken;if(!g.hasMoreCharacters||null!==b&&y.Token.isTokenRowDelimiter(b)||null!==b&&y.Token.isTokenDelimiter(b,f))return u.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.Scanner=void 0;const A=_("./Token"),y=/((?:\r\n)|\n|\r)/;B.Scanner=class{constructor(g){this.cursor=0,this.line=g.line,this.lineLength=this.line.length,this.parserOptions=g.parserOptions,this.hasMoreData=g.hasMoreData,this.cursor=g.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:g}=this,d=this.parserOptions.NEXT_TOKEN_REGEXP;if(-1===g.search(d))return null;const u=d.exec(g);if(null==u)return null;const f=u[1],b=this.cursor+(u.index||0);return new A.Token({token:f,startCursor:b,endCursor:b+f.length-1})}get nextCharacterToken(){const{cursor:g,lineLength:d}=this;return d<=g?null:new A.Token({token:this.line[g],startCursor:g,endCursor:g})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const g=y.exec(this.lineFromCursor);return g?(this.cursor+=(g.index||0)+g[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(g){return this.cursor=g,this}advanceToToken(g){return this.cursor=g.startCursor,this}advancePastToken(g){return this.cursor=g.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.Token=void 0,B.Token=class{constructor(A){this.token=A.token,this.startCursor=A.startCursor,this.endCursor=A.endCursor}static isTokenRowDelimiter(A){const y=A.token;return"\r"===y||"\n"===y||"\r\n"===y}static isTokenCarriageReturn(A,y){return A.token===y.carriageReturn}static isTokenComment(A,y){return y.supportsComments&&!!A&&A.token===y.comment}static isTokenEscapeCharacter(A,y){return A.token===y.escapeChar}static isTokenQuote(A,y){return A.token===y.quote}static isTokenDelimiter(A,y){return A.token===y.delimiter}}},{}],160:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.ColumnFormatter=void 0,B.ColumnFormatter=class{constructor(A){this.format=A.trim?y=>y.trim():A.ltrim?y=>y.trimLeft():A.rtrim?y=>y.trimRight():y=>y}}},{}],161:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.ColumnParser=void 0;const A=_("./NonQuotedColumnParser"),y=_("./QuotedColumnParser"),g=_("../Token");B.ColumnParser=class{constructor(d){this.parserOptions=d,this.quotedColumnParser=new y.QuotedColumnParser(d),this.nonQuotedColumnParser=new A.NonQuotedColumnParser(d)}parse(d){const{nextNonSpaceToken:u}=d;return null!==u&&g.Token.isTokenQuote(u,this.parserOptions)?(d.advanceToToken(u),this.quotedColumnParser.parse(d)):this.nonQuotedColumnParser.parse(d)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.NonQuotedColumnParser=void 0;const A=_("./ColumnFormatter"),y=_("../Token");B.NonQuotedColumnParser=class{constructor(g){this.parserOptions=g,this.columnFormatter=new A.ColumnFormatter(g)}parse(g){if(!g.hasMoreCharacters)return null;const{parserOptions:d}=this,u=[];let f=g.nextCharacterToken;for(;f&&!y.Token.isTokenDelimiter(f,d)&&!y.Token.isTokenRowDelimiter(f);f=g.nextCharacterToken)u.push(f.token),g.advancePastToken(f);return this.columnFormatter.format(u.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.QuotedColumnParser=void 0;const A=_("./ColumnFormatter"),y=_("../Token");B.QuotedColumnParser=class{constructor(g){this.parserOptions=g,this.columnFormatter=new A.ColumnFormatter(g)}parse(g){if(!g.hasMoreCharacters)return null;const d=g.cursor,{foundClosingQuote:u,col:f}=this.gatherDataBetweenQuotes(g);if(!u){if(g.advanceTo(d),!g.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${g.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(g),f}gatherDataBetweenQuotes(g){const{parserOptions:d}=this;let u=!1,f=!1;const b=[];let p=g.nextCharacterToken;for(;!f&&null!==p;p=g.nextCharacterToken){const m=y.Token.isTokenQuote(p,d);if(!u&&m)u=!0;else if(u)if(y.Token.isTokenEscapeCharacter(p,d)){g.advancePastToken(p);const C=g.nextCharacterToken;null!==C&&(y.Token.isTokenQuote(C,d)||y.Token.isTokenEscapeCharacter(C,d))?(b.push(C.token),p=C):m?f=!0:b.push(p.token)}else m?f=!0:b.push(p.token);g.advancePastToken(p)}return{col:this.columnFormatter.format(b.join("")),foundClosingQuote:f}}checkForMalformedColumn(g){const{parserOptions:d}=this,{nextNonSpaceToken:u}=g;if(u){const f=y.Token.isTokenDelimiter(u,d),b=y.Token.isTokenRowDelimiter(u);if(!f&&!b){const p=g.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${d.escapedDelimiter}' OR new line got: '${u.token}'. at '${p}`)}g.advanceToToken(u)}else g.hasMoreData||g.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.ColumnFormatter=B.QuotedColumnParser=B.NonQuotedColumnParser=B.ColumnParser=void 0;var A=_("./ColumnParser");Object.defineProperty(B,"ColumnParser",{enumerable:!0,get:function(){return A.ColumnParser}});var y=_("./NonQuotedColumnParser");Object.defineProperty(B,"NonQuotedColumnParser",{enumerable:!0,get:function(){return y.NonQuotedColumnParser}});var g=_("./QuotedColumnParser");Object.defineProperty(B,"QuotedColumnParser",{enumerable:!0,get:function(){return g.QuotedColumnParser}});var d=_("./ColumnFormatter");Object.defineProperty(B,"ColumnFormatter",{enumerable:!0,get:function(){return d.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.QuotedColumnParser=B.NonQuotedColumnParser=B.ColumnParser=B.Token=B.Scanner=B.RowParser=B.Parser=void 0;var A=_("./Parser");Object.defineProperty(B,"Parser",{enumerable:!0,get:function(){return A.Parser}});var y=_("./RowParser");Object.defineProperty(B,"RowParser",{enumerable:!0,get:function(){return y.RowParser}});var g=_("./Scanner");Object.defineProperty(B,"Scanner",{enumerable:!0,get:function(){return g.Scanner}});var d=_("./Token");Object.defineProperty(B,"Token",{enumerable:!0,get:function(){return d.Token}});var u=_("./column");Object.defineProperty(B,"ColumnParser",{enumerable:!0,get:function(){return u.ColumnParser}}),Object.defineProperty(B,"NonQuotedColumnParser",{enumerable:!0,get:function(){return u.NonQuotedColumnParser}}),Object.defineProperty(B,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(_,z,B){"use strict";var A=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(B,"__esModule",{value:!0}),B.HeaderTransformer=void 0;const y=A(_("lodash.isundefined")),g=A(_("lodash.isfunction")),d=A(_("lodash.uniq")),u=A(_("lodash.groupby"));B.HeaderTransformer=class{constructor(f){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=f,!0===f.headers?this.shouldUseFirstRow=!0:Array.isArray(f.headers)?this.setHeaders(f.headers):g.default(f.headers)&&(this.headersTransform=f.headers)}transform(f,b){return this.shouldMapRow(f)?b(null,this.processRow(f)):b(null,{row:null,isValid:!0})}shouldMapRow(f){const{parserOptions:b}=this;if(!this.headersTransform&&b.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(f)){if(this.headersTransform)this.setHeaders(this.headersTransform(f));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(f)}return!1}return!0}processRow(f){if(!this.headers)return{row:f,isValid:!0};const{parserOptions:b}=this;if(!b.discardUnmappedColumns&&f.length>this.headersLength){if(!b.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${f.length}`);return{row:f,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${f.length}`}}return b.strictColumnHandling&&f.length<this.headersLength?{row:f,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${f.length}`}:{row:this.mapHeaders(f),isValid:!0}}mapHeaders(f){const b={},{headers:p,headersLength:m}=this;for(let C=0;C<m;C+=1){const E=p[C];if(!y.default(E)){const v=f[C];b[E]=y.default(v)?"":v}}return b}setHeaders(f){var b;const p=f.filter(m=>!!m);if(d.default(p).length!==p.length){const m=u.default(p),C=Object.keys(m).filter(E=>m[E].length>1);throw new Error("Duplicate headers found "+JSON.stringify(C))}this.headers=f,this.receivedHeaders=!0,this.headersLength=(null===(b=this.headers)||void 0===b?void 0:b.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.RowTransformerValidator=void 0;const y=(u=_("lodash.isfunction"))&&u.__esModule?u:{default:u},g=_("../types");var u;class d{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(f){return g.isSyncTransform(f)?(b,p)=>{let m=null;try{m=f(b)}catch(C){return p(C)}return p(null,m)}:f}static createValidator(f){return g.isSyncValidate(f)?(b,p)=>{p(null,{row:b,isValid:f(b)})}:(b,p)=>{f(b,(m,C,E)=>m?p(m):p(null,C?{row:b,isValid:C,reason:E}:{row:b,isValid:!1,reason:E}))}}set rowTransform(f){if(!y.default(f))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(f)}set rowValidator(f){if(!y.default(f))throw new TypeError("The validate should be a function");this._rowValidator=d.createValidator(f)}transformAndValidate(f,b){return this.callTransformer(f,(p,m)=>p?b(p):m?this.callValidator(m,(C,E)=>C?b(C):b(null,E&&!E.isValid?{row:m,isValid:!1,reason:E.reason}:{row:m,isValid:!0})):b(null,{row:null,isValid:!0}))}callTransformer(f,b){return this._rowTransform?this._rowTransform(f,b):b(null,f)}callValidator(f,b){return this._rowValidator?this._rowValidator(f,b):b(null,{row:f,isValid:!0})}}B.RowTransformerValidator=d},{"../types":169,"lodash.isfunction":446}],168:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.HeaderTransformer=B.RowTransformerValidator=void 0;var A=_("./RowTransformerValidator");Object.defineProperty(B,"RowTransformerValidator",{enumerable:!0,get:function(){return A.RowTransformerValidator}});var y=_("./HeaderTransformer");Object.defineProperty(B,"HeaderTransformer",{enumerable:!0,get:function(){return y.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.isSyncValidate=B.isSyncTransform=void 0,B.isSyncTransform=A=>1===A.length,B.isSyncValidate=A=>1===A.length},{}],170:[function(_,z,B){"use strict";const A=B;A.bignum=_("bn.js"),A.define=_("./asn1/api").define,A.base=_("./asn1/base"),A.constants=_("./asn1/constants"),A.decoders=_("./asn1/decoders"),A.encoders=_("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(_,z,B){"use strict";const A=_("./encoders"),y=_("./decoders"),g=_("inherits");function d(u,f){this.name=u,this.body=f,this.decoders={},this.encoders={}}B.define=function(u,f){return new d(u,f)},d.prototype._createNamed=function(u){const f=this.name;function b(p){this._initNamed(p,f)}return g(b,u),b.prototype._initNamed=function(p,m){u.call(this,p,m)},new b(this)},d.prototype._getDecoder=function(u){return this.decoders.hasOwnProperty(u=u||"der")||(this.decoders[u]=this._createNamed(y[u])),this.decoders[u]},d.prototype.decode=function(u,f,b){return this._getDecoder(f).decode(u,b)},d.prototype._getEncoder=function(u){return this.encoders.hasOwnProperty(u=u||"der")||(this.encoders[u]=this._createNamed(A[u])),this.encoders[u]},d.prototype.encode=function(u,f,b){return this._getEncoder(f).encode(u,b)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(_,z,B){"use strict";const A=_("inherits"),y=_("../base/reporter").Reporter,g=_("safer-buffer").Buffer;function d(f,b){y.call(this,b),g.isBuffer(f)?(this.base=f,this.offset=0,this.length=f.length):this.error("Input not Buffer")}function u(f,b){if(Array.isArray(f))this.length=0,this.value=f.map(function(p){return u.isEncoderBuffer(p)||(p=new u(p,b)),this.length+=p.length,p},this);else if("number"==typeof f){if(!(0<=f&&f<=255))return b.error("non-byte EncoderBuffer value");this.value=f,this.length=1}else if("string"==typeof f)this.value=f,this.length=g.byteLength(f);else{if(!g.isBuffer(f))return b.error("Unsupported type: "+typeof f);this.value=f,this.length=f.length}}A(d,y),B.DecoderBuffer=d,d.isDecoderBuffer=function(f){return f instanceof d||"object"==typeof f&&g.isBuffer(f.base)&&"DecoderBuffer"===f.constructor.name&&"number"==typeof f.offset&&"number"==typeof f.length&&"function"==typeof f.save&&"function"==typeof f.restore&&"function"==typeof f.isEmpty&&"function"==typeof f.readUInt8&&"function"==typeof f.skip&&"function"==typeof f.raw},d.prototype.save=function(){return{offset:this.offset,reporter:y.prototype.save.call(this)}},d.prototype.restore=function(f){const b=new d(this.base);return b.offset=f.offset,b.length=this.offset,this.offset=f.offset,y.prototype.restore.call(this,f.reporter),b},d.prototype.isEmpty=function(){return this.offset===this.length},d.prototype.readUInt8=function(f){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(f||"DecoderBuffer overrun")},d.prototype.skip=function(f,b){if(!(this.offset+f<=this.length))return this.error(b||"DecoderBuffer overrun");const p=new d(this.base);return p._reporterState=this._reporterState,p.offset=this.offset,p.length=this.offset+f,this.offset+=f,p},d.prototype.raw=function(f){return this.base.slice(f?f.offset:this.offset,this.length)},B.EncoderBuffer=u,u.isEncoderBuffer=function(f){return f instanceof u||"object"==typeof f&&"EncoderBuffer"===f.constructor.name&&"number"==typeof f.length&&"function"==typeof f.join},u.prototype.join=function(f,b){return f||(f=g.alloc(this.length)),b||(b=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(p){p.join(f,b),b+=p.length}):("number"==typeof this.value?f[b]=this.value:"string"==typeof this.value?f.write(this.value,b):g.isBuffer(this.value)&&this.value.copy(f,b),b+=this.length)),f}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(_,z,B){"use strict";const A=B;A.Reporter=_("./reporter").Reporter,A.DecoderBuffer=_("./buffer").DecoderBuffer,A.EncoderBuffer=_("./buffer").EncoderBuffer,A.Node=_("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(_,z,B){"use strict";const A=_("../base/reporter").Reporter,y=_("../base/buffer").EncoderBuffer,g=_("../base/buffer").DecoderBuffer,d=_("minimalistic-assert"),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],f=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u);function b(m,C,E){const v={};this._baseState=v,v.name=E,v.enc=m,v.parent=C||null,v.children=null,v.tag=null,v.args=null,v.reverseArgs=null,v.choice=null,v.optional=!1,v.any=!1,v.obj=!1,v.use=null,v.useDecoder=null,v.key=null,v.default=null,v.explicit=null,v.implicit=null,v.contains=null,v.parent||(v.children=[],this._wrap())}z.exports=b;const p=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];b.prototype.clone=function(){const m=this._baseState,C={};p.forEach(function(v){C[v]=m[v]});const E=new this.constructor(C.parent);return E._baseState=C,E},b.prototype._wrap=function(){const m=this._baseState;f.forEach(function(C){this[C]=function(){const E=new this.constructor(this);return m.children.push(E),E[C].apply(E,arguments)}},this)},b.prototype._init=function(m){const C=this._baseState;d(null===C.parent),m.call(this),C.children=C.children.filter(function(E){return E._baseState.parent===this},this),d.equal(C.children.length,1,"Root node can have only one child")},b.prototype._useArgs=function(m){const C=this._baseState,E=m.filter(function(v){return v instanceof this.constructor},this);m=m.filter(function(v){return!(v instanceof this.constructor)},this),0!==E.length&&(d(null===C.children),C.children=E,E.forEach(function(v){v._baseState.parent=this},this)),0!==m.length&&(d(null===C.args),C.args=m,C.reverseArgs=m.map(function(v){if("object"!=typeof v||v.constructor!==Object)return v;const D={};return Object.keys(v).forEach(function(S){S==(0|S)&&(S|=0),D[v[S]]=S}),D}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(m){b.prototype[m]=function(){throw new Error(m+" not implemented for encoding: "+this._baseState.enc)}}),u.forEach(function(m){b.prototype[m]=function(){const C=this._baseState,E=Array.prototype.slice.call(arguments);return d(null===C.tag),C.tag=m,this._useArgs(E),this}}),b.prototype.use=function(m){d(m);const C=this._baseState;return d(null===C.use),C.use=m,this},b.prototype.optional=function(){return this._baseState.optional=!0,this},b.prototype.def=function(m){const C=this._baseState;return d(null===C.default),C.default=m,C.optional=!0,this},b.prototype.explicit=function(m){const C=this._baseState;return d(null===C.explicit&&null===C.implicit),C.explicit=m,this},b.prototype.implicit=function(m){const C=this._baseState;return d(null===C.explicit&&null===C.implicit),C.implicit=m,this},b.prototype.obj=function(){const m=this._baseState,C=Array.prototype.slice.call(arguments);return m.obj=!0,0!==C.length&&this._useArgs(C),this},b.prototype.key=function(m){const C=this._baseState;return d(null===C.key),C.key=m,this},b.prototype.any=function(){return this._baseState.any=!0,this},b.prototype.choice=function(m){const C=this._baseState;return d(null===C.choice),C.choice=m,this._useArgs(Object.keys(m).map(function(E){return m[E]})),this},b.prototype.contains=function(m){const C=this._baseState;return d(null===C.use),C.contains=m,this},b.prototype._decode=function(m,C){const E=this._baseState;if(null===E.parent)return m.wrapResult(E.children[0]._decode(m,C));let v,D=E.default,S=!0,R=null;if(null!==E.key&&(R=m.enterKey(E.key)),E.optional){let L=null;if(null!==E.explicit?L=E.explicit:null!==E.implicit?L=E.implicit:null!==E.tag&&(L=E.tag),null!==L||E.any){if(S=this._peekTag(m,L,E.any),m.isError(S))return S}else{const Z=m.save();try{null===E.choice?this._decodeGeneric(E.tag,m,C):this._decodeChoice(m,C),S=!0}catch{S=!1}m.restore(Z)}}if(E.obj&&S&&(v=m.enterObject()),S){if(null!==E.explicit){const Z=this._decodeTag(m,E.explicit);if(m.isError(Z))return Z;m=Z}const L=m.offset;if(null===E.use&&null===E.choice){let Z;E.any&&(Z=m.save());const ee=this._decodeTag(m,null!==E.implicit?E.implicit:E.tag,E.any);if(m.isError(ee))return ee;E.any?D=m.raw(Z):m=ee}if(C&&C.track&&null!==E.tag&&C.track(m.path(),L,m.length,"tagged"),C&&C.track&&null!==E.tag&&C.track(m.path(),m.offset,m.length,"content"),E.any||(D=null===E.choice?this._decodeGeneric(E.tag,m,C):this._decodeChoice(m,C)),m.isError(D))return D;if(E.any||null!==E.choice||null===E.children||E.children.forEach(function(Z){Z._decode(m,C)}),E.contains&&("octstr"===E.tag||"bitstr"===E.tag)){const Z=new g(D);D=this._getUse(E.contains,m._reporterState.obj)._decode(Z,C)}}return E.obj&&S&&(D=m.leaveObject(v)),null===E.key||null===D&&!0!==S?null!==R&&m.exitKey(R):m.leaveKey(R,E.key,D),D},b.prototype._decodeGeneric=function(m,C,E){const v=this._baseState;return"seq"===m||"set"===m?null:"seqof"===m||"setof"===m?this._decodeList(C,m,v.args[0],E):/str$/.test(m)?this._decodeStr(C,m,E):"objid"===m&&v.args?this._decodeObjid(C,v.args[0],v.args[1],E):"objid"===m?this._decodeObjid(C,null,null,E):"gentime"===m||"utctime"===m?this._decodeTime(C,m,E):"null_"===m?this._decodeNull(C,E):"bool"===m?this._decodeBool(C,E):"objDesc"===m?this._decodeStr(C,m,E):"int"===m||"enum"===m?this._decodeInt(C,v.args&&v.args[0],E):null!==v.use?this._getUse(v.use,C._reporterState.obj)._decode(C,E):C.error("unknown tag: "+m)},b.prototype._getUse=function(m,C){const E=this._baseState;return E.useDecoder=this._use(m,C),d(null===E.useDecoder._baseState.parent),E.useDecoder=E.useDecoder._baseState.children[0],E.implicit!==E.useDecoder._baseState.implicit&&(E.useDecoder=E.useDecoder.clone(),E.useDecoder._baseState.implicit=E.implicit),E.useDecoder},b.prototype._decodeChoice=function(m,C){const E=this._baseState;let v=null,D=!1;return Object.keys(E.choice).some(function(S){const R=m.save(),L=E.choice[S];try{const Z=L._decode(m,C);if(m.isError(Z))return!1;v={type:S,value:Z},D=!0}catch{return m.restore(R),!1}return!0},this),D?v:m.error("Choice not matched")},b.prototype._createEncoderBuffer=function(m){return new y(m,this.reporter)},b.prototype._encode=function(m,C,E){const v=this._baseState;if(null!==v.default&&v.default===m)return;const D=this._encodeValue(m,C,E);return void 0===D||this._skipDefault(D,C,E)?void 0:D},b.prototype._encodeValue=function(m,C,E){const v=this._baseState;if(null===v.parent)return v.children[0]._encode(m,C||new A);let D=null;if(this.reporter=C,v.optional&&void 0===m){if(null===v.default)return;m=v.default}let S=null,R=!1;if(v.any)D=this._createEncoderBuffer(m);else if(v.choice)D=this._encodeChoice(m,C);else if(v.contains)S=this._getUse(v.contains,E)._encode(m,C),R=!0;else if(v.children)S=v.children.map(function(L){if("null_"===L._baseState.tag)return L._encode(null,C,m);if(null===L._baseState.key)return C.error("Child should have a key");const Z=C.enterKey(L._baseState.key);if("object"!=typeof m)return C.error("Child expected, but input is not object");const ee=L._encode(m[L._baseState.key],C,m);return C.leaveKey(Z),ee},this).filter(function(L){return L}),S=this._createEncoderBuffer(S);else if("seqof"===v.tag||"setof"===v.tag){if(!v.args||1!==v.args.length)return C.error("Too many args for : "+v.tag);if(!Array.isArray(m))return C.error("seqof/setof, but data is not Array");const L=this.clone();L._baseState.implicit=null,S=this._createEncoderBuffer(m.map(function(Z){return this._getUse(this._baseState.args[0],m)._encode(Z,C)},L))}else null!==v.use?D=this._getUse(v.use,E)._encode(m,C):(S=this._encodePrimitive(v.tag,m),R=!0);if(!v.any&&null===v.choice){const L=null!==v.implicit?v.implicit:v.tag,Z=null===v.implicit?"universal":"context";null===L?null===v.use&&C.error("Tag could be omitted only for .use()"):null===v.use&&(D=this._encodeComposite(L,R,Z,S))}return null!==v.explicit&&(D=this._encodeComposite(v.explicit,!1,"context",D)),D},b.prototype._encodeChoice=function(m,C){const E=this._baseState,v=E.choice[m.type];return v||d(!1,m.type+" not found in "+JSON.stringify(Object.keys(E.choice))),v._encode(m.value,C)},b.prototype._encodePrimitive=function(m,C){const E=this._baseState;if(/str$/.test(m))return this._encodeStr(C,m);if("objid"===m&&E.args)return this._encodeObjid(C,E.reverseArgs[0],E.args[1]);if("objid"===m)return this._encodeObjid(C,null,null);if("gentime"===m||"utctime"===m)return this._encodeTime(C,m);if("null_"===m)return this._encodeNull();if("int"===m||"enum"===m)return this._encodeInt(C,E.args&&E.reverseArgs[0]);if("bool"===m)return this._encodeBool(C);if("objDesc"===m)return this._encodeStr(C,m);throw new Error("Unsupported tag: "+m)},b.prototype._isNumstr=function(m){return/^[0-9 ]*$/.test(m)},b.prototype._isPrintstr=function(m){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(m)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(_,z,B){"use strict";const A=_("inherits");function y(d){this._reporterState={obj:null,path:[],options:d||{},errors:[]}}function g(d,u){this.path=d,this.rethrow(u)}B.Reporter=y,y.prototype.isError=function(d){return d instanceof g},y.prototype.save=function(){const d=this._reporterState;return{obj:d.obj,pathLen:d.path.length}},y.prototype.restore=function(d){const u=this._reporterState;u.obj=d.obj,u.path=u.path.slice(0,d.pathLen)},y.prototype.enterKey=function(d){return this._reporterState.path.push(d)},y.prototype.exitKey=function(d){const u=this._reporterState;u.path=u.path.slice(0,d-1)},y.prototype.leaveKey=function(d,u,f){const b=this._reporterState;this.exitKey(d),null!==b.obj&&(b.obj[u]=f)},y.prototype.path=function(){return this._reporterState.path.join("/")},y.prototype.enterObject=function(){const d=this._reporterState,u=d.obj;return d.obj={},u},y.prototype.leaveObject=function(d){const u=this._reporterState,f=u.obj;return u.obj=d,f},y.prototype.error=function(d){let u;const f=this._reporterState,b=d instanceof g;if(u=b?d:new g(f.path.map(function(p){return"["+JSON.stringify(p)+"]"}).join(""),d.message||d,d.stack),!f.options.partial)throw u;return b||f.errors.push(u),u},y.prototype.wrapResult=function(d){const u=this._reporterState;return u.options.partial?{result:this.isError(d)?null:d,errors:u.errors}:d},A(g,Error),g.prototype.rethrow=function(d){if(this.message=d+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,g),!this.stack)try{throw new Error(this.message)}catch(u){this.stack=u.stack}return this}},{inherits:440}],176:[function(_,z,B){"use strict";function A(y){const g={};return Object.keys(y).forEach(function(d){(0|d)==d&&(d|=0),g[y[d]]=d}),g}B.tagClass={0:"universal",1:"application",2:"context",3:"private"},B.tagClassByName=A(B.tagClass),B.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},B.tagByName=A(B.tag)},{}],177:[function(_,z,B){"use strict";const A=B;A._reverse=function(y){const g={};return Object.keys(y).forEach(function(d){(0|d)==d&&(d|=0),g[y[d]]=d}),g},A.der=_("./der")},{"./der":176}],178:[function(_,z,B){"use strict";const A=_("inherits"),y=_("bn.js"),g=_("../base/buffer").DecoderBuffer,d=_("../base/node"),u=_("../constants/der");function f(C){this.enc="der",this.name=C.name,this.entity=C,this.tree=new b,this.tree._init(C.body)}function b(C){d.call(this,"der",C)}function p(C,E){let v=C.readUInt8(E);if(C.isError(v))return v;const D=u.tagClass[v>>6],S=0==(32&v);if(31==(31&v)){let R=v;for(v=0;128==(128&R);){if(R=C.readUInt8(E),C.isError(R))return R;v<<=7,v|=127&R}}else v&=31;return{cls:D,primitive:S,tag:v,tagStr:u.tag[v]}}function m(C,E,v){let D=C.readUInt8(v);if(C.isError(D))return D;if(!E&&128===D)return null;if(!(128&D))return D;const S=127&D;if(S>4)return C.error("length octect is too long");D=0;for(let R=0;R<S;R++){D<<=8;const L=C.readUInt8(v);if(C.isError(L))return L;D|=L}return D}z.exports=f,f.prototype.decode=function(C,E){return g.isDecoderBuffer(C)||(C=new g(C,E)),this.tree._decode(C,E)},A(b,d),b.prototype._peekTag=function(C,E,v){if(C.isEmpty())return!1;const D=C.save(),S=p(C,'Failed to peek tag: "'+E+'"');return C.isError(S)?S:(C.restore(D),S.tag===E||S.tagStr===E||S.tagStr+"of"===E||v)},b.prototype._decodeTag=function(C,E,v){const D=p(C,'Failed to decode tag of "'+E+'"');if(C.isError(D))return D;let S=m(C,D.primitive,'Failed to get length of "'+E+'"');if(C.isError(S))return S;if(!v&&D.tag!==E&&D.tagStr!==E&&D.tagStr+"of"!==E)return C.error('Failed to match tag: "'+E+'"');if(D.primitive||null!==S)return C.skip(S,'Failed to match body of: "'+E+'"');const R=C.save(),L=this._skipUntilEnd(C,'Failed to skip indefinite length body: "'+this.tag+'"');return C.isError(L)?L:(S=C.offset-R.offset,C.restore(R),C.skip(S,'Failed to match body of: "'+E+'"'))},b.prototype._skipUntilEnd=function(C,E){for(;;){const v=p(C,E);if(C.isError(v))return v;const D=m(C,v.primitive,E);if(C.isError(D))return D;let S;if(S=v.primitive||null!==D?C.skip(D):this._skipUntilEnd(C,E),C.isError(S))return S;if("end"===v.tagStr)break}},b.prototype._decodeList=function(C,E,v,D){const S=[];for(;!C.isEmpty();){const R=this._peekTag(C,"end");if(C.isError(R))return R;const L=v.decode(C,"der",D);if(C.isError(L)&&R)break;S.push(L)}return S},b.prototype._decodeStr=function(C,E){if("bitstr"===E){const v=C.readUInt8();return C.isError(v)?v:{unused:v,data:C.raw()}}if("bmpstr"===E){const v=C.raw();if(v.length%2==1)return C.error("Decoding of string type: bmpstr length mismatch");let D="";for(let S=0;S<v.length/2;S++)D+=String.fromCharCode(v.readUInt16BE(2*S));return D}if("numstr"===E){const v=C.raw().toString("ascii");return this._isNumstr(v)?v:C.error("Decoding of string type: numstr unsupported characters")}if("octstr"===E||"objDesc"===E)return C.raw();if("printstr"===E){const v=C.raw().toString("ascii");return this._isPrintstr(v)?v:C.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(E)?C.raw().toString():C.error("Decoding of string type: "+E+" unsupported")},b.prototype._decodeObjid=function(C,E,v){let D;const S=[];let R=0,L=0;for(;!C.isEmpty();)L=C.readUInt8(),R<<=7,R|=127&L,!(128&L)&&(S.push(R),R=0);if(128&L&&S.push(R),D=v?S:[S[0]/40|0,S[0]%40].concat(S.slice(1)),E){let ne=E[D.join(" ")];void 0===ne&&(ne=E[D.join(".")]),void 0!==ne&&(D=ne)}return D},b.prototype._decodeTime=function(C,E){const v=C.raw().toString();let D,S,R,L,Z,ee;if("gentime"===E)D=0|v.slice(0,4),S=0|v.slice(4,6),R=0|v.slice(6,8),L=0|v.slice(8,10),Z=0|v.slice(10,12),ee=0|v.slice(12,14);else{if("utctime"!==E)return C.error("Decoding "+E+" time is not supported yet");D=0|v.slice(0,2),S=0|v.slice(2,4),R=0|v.slice(4,6),L=0|v.slice(6,8),Z=0|v.slice(8,10),ee=0|v.slice(10,12),D=D<70?2e3+D:1900+D}return Date.UTC(D,S-1,R,L,Z,ee,0)},b.prototype._decodeNull=function(){return null},b.prototype._decodeBool=function(C){const E=C.readUInt8();return C.isError(E)?E:0!==E},b.prototype._decodeInt=function(C,E){const v=C.raw();let D=new y(v);return E&&(D=E[D.toString(10)]||D),D},b.prototype._use=function(C,E){return"function"==typeof C&&(C=C(E)),C._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(_,z,B){"use strict";const A=B;A.der=_("./der"),A.pem=_("./pem")},{"./der":178,"./pem":180}],180:[function(_,z,B){"use strict";const A=_("inherits"),y=_("safer-buffer").Buffer,g=_("./der");function d(u){g.call(this,u),this.enc="pem"}A(d,g),z.exports=d,d.prototype.decode=function(u,f){const b=u.toString().split(/[\r\n]+/g),p=f.label.toUpperCase(),m=/^-----(BEGIN|END) ([^-]+)-----$/;let C=-1,E=-1;for(let S=0;S<b.length;S++){const R=b[S].match(m);if(null!==R&&R[2]===p){if(-1!==C){if("END"!==R[1])break;E=S;break}if("BEGIN"!==R[1])break;C=S}}if(-1===C||-1===E)throw new Error("PEM section not found for: "+p);const v=b.slice(C+1,E).join("");v.replace(/[^a-z0-9+/=]+/gi,"");const D=y.from(v,"base64");return g.prototype.decode.call(this,D,f)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(_,z,B){"use strict";const A=_("inherits"),y=_("safer-buffer").Buffer,g=_("../base/node"),d=_("../constants/der");function u(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new f,this.tree._init(p.body)}function f(p){g.call(this,"der",p)}function b(p){return p<10?"0"+p:p}z.exports=u,u.prototype.encode=function(p,m){return this.tree._encode(p,m).join()},A(f,g),f.prototype._encodeComposite=function(p,m,C,E){const v=function(R,L,Z,ee){let ne;if("seqof"===R?R="seq":"setof"===R&&(R="set"),d.tagByName.hasOwnProperty(R))ne=d.tagByName[R];else{if("number"!=typeof R||(0|R)!==R)return ee.error("Unknown tag: "+R);ne=R}return ne>=31?ee.error("Multi-octet tag encoding unsupported"):(L||(ne|=32),ne|=d.tagClassByName[Z||"universal"]<<6,ne)}(p,m,C,this.reporter);if(E.length<128){const R=y.alloc(2);return R[0]=v,R[1]=E.length,this._createEncoderBuffer([R,E])}let D=1;for(let R=E.length;R>=256;R>>=8)D++;const S=y.alloc(2+D);S[0]=v,S[1]=128|D;for(let R=1+D,L=E.length;L>0;R--,L>>=8)S[R]=255&L;return this._createEncoderBuffer([S,E])},f.prototype._encodeStr=function(p,m){if("bitstr"===m)return this._createEncoderBuffer([0|p.unused,p.data]);if("bmpstr"===m){const C=y.alloc(2*p.length);for(let E=0;E<p.length;E++)C.writeUInt16BE(p.charCodeAt(E),2*E);return this._createEncoderBuffer(C)}return"numstr"===m?this._isNumstr(p)?this._createEncoderBuffer(p):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===m?this._isPrintstr(p)?this._createEncoderBuffer(p):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(m)||"objDesc"===m?this._createEncoderBuffer(p):this.reporter.error("Encoding of string type: "+m+" unsupported")},f.prototype._encodeObjid=function(p,m,C){if("string"==typeof p){if(!m)return this.reporter.error("string objid given, but no values map found");if(!m.hasOwnProperty(p))return this.reporter.error("objid not found in values map");p=m[p].split(/[\s.]+/g);for(let S=0;S<p.length;S++)p[S]|=0}else if(Array.isArray(p)){p=p.slice();for(let S=0;S<p.length;S++)p[S]|=0}if(!Array.isArray(p))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(p));if(!C){if(p[1]>=40)return this.reporter.error("Second objid identifier OOB");p.splice(0,2,40*p[0]+p[1])}let E=0;for(let S=0;S<p.length;S++){let R=p[S];for(E++;R>=128;R>>=7)E++}const v=y.alloc(E);let D=v.length-1;for(let S=p.length-1;S>=0;S--){let R=p[S];for(v[D--]=127&R;(R>>=7)>0;)v[D--]=128|127&R}return this._createEncoderBuffer(v)},f.prototype._encodeTime=function(p,m){let C;const E=new Date(p);return"gentime"===m?C=[b(E.getUTCFullYear()),b(E.getUTCMonth()+1),b(E.getUTCDate()),b(E.getUTCHours()),b(E.getUTCMinutes()),b(E.getUTCSeconds()),"Z"].join(""):"utctime"===m?C=[b(E.getUTCFullYear()%100),b(E.getUTCMonth()+1),b(E.getUTCDate()),b(E.getUTCHours()),b(E.getUTCMinutes()),b(E.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+m+" time is not supported yet"),this._encodeStr(C,"octstr")},f.prototype._encodeNull=function(){return this._createEncoderBuffer("")},f.prototype._encodeInt=function(p,m){if("string"==typeof p){if(!m)return this.reporter.error("String int or enum given, but no values map");if(!m.hasOwnProperty(p))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(p));p=m[p]}if("number"!=typeof p&&!y.isBuffer(p)){const v=p.toArray();!p.sign&&128&v[0]&&v.unshift(0),p=y.from(v)}if(y.isBuffer(p)){let v=p.length;0===p.length&&v++;const D=y.alloc(v);return p.copy(D),0===p.length&&(D[0]=0),this._createEncoderBuffer(D)}if(p<128)return this._createEncoderBuffer(p);if(p<256)return this._createEncoderBuffer([0,p]);let C=1;for(let v=p;v>=256;v>>=8)C++;const E=new Array(C);for(let v=E.length-1;v>=0;v--)E[v]=255&p,p>>=8;return 128&E[0]&&E.unshift(0),this._createEncoderBuffer(y.from(E))},f.prototype._encodeBool=function(p){return this._createEncoderBuffer(p?255:0)},f.prototype._use=function(p,m){return"function"==typeof p&&(p=p(m)),p._getEncoder("der").tree},f.prototype._skipDefault=function(p,m,C){const E=this._baseState;let v;if(null===E.default)return!1;const D=p.join();if(void 0===E.defaultBuffer&&(E.defaultBuffer=this._encodeValue(E.default,m,C).join()),D.length!==E.defaultBuffer.length)return!1;for(v=0;v<D.length;v++)if(D[v]!==E.defaultBuffer[v])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(_,z,B){"use strict";const A=B;A.der=_("./der"),A.pem=_("./pem")},{"./der":181,"./pem":183}],183:[function(_,z,B){"use strict";const A=_("inherits"),y=_("./der");function g(d){y.call(this,d),this.enc="pem"}A(g,y),z.exports=g,g.prototype.encode=function(d,u){const f=y.prototype.encode.call(this,d).toString("base64"),b=["-----BEGIN "+u.label+"-----"];for(let p=0;p<f.length;p+=64)b.push(f.slice(p,p+64));return b.push("-----END "+u.label+"-----"),b.join("\n")}},{"./der":181,inherits:440}],184:[function(_,z,B){"use strict";!function(A,y){function g($,W){if(!$)throw new Error(W||"Assertion failed")}function d($,W){$.super_=W;var ie=function(){};ie.prototype=W.prototype,$.prototype=new ie,$.prototype.constructor=$}function u($,W,ie){if(u.isBN($))return $;this.negative=0,this.words=null,this.length=0,this.red=null,null!==$&&("le"!==W&&"be"!==W||(ie=W,W=10),this._init($||0,W||10,ie||"be"))}var f;"object"==typeof A?A.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{f=typeof window<"u"&&void 0!==window.Buffer?window.Buffer:_("buffer").Buffer}catch{}function b($,W){var ie=$.charCodeAt(W);return ie>=65&&ie<=70?ie-55:ie>=97&&ie<=102?ie-87:ie-48&15}function p($,W,ie){var T=b($,ie);return ie-1>=W&&(T|=b($,ie-1)<<4),T}function m($,W,ie,T){for(var I=0,k=Math.min($.length,ie),N=W;N<k;N++){var P=$.charCodeAt(N)-48;I*=T,I+=P>=49?P-49+10:P>=17?P-17+10:P}return I}u.isBN=function($){return $ instanceof u||null!==$&&"object"==typeof $&&$.constructor.wordSize===u.wordSize&&Array.isArray($.words)},u.max=function($,W){return $.cmp(W)>0?$:W},u.min=function($,W){return $.cmp(W)<0?$:W},u.prototype._init=function($,W,ie){if("number"==typeof $)return this._initNumber($,W,ie);if("object"==typeof $)return this._initArray($,W,ie);"hex"===W&&(W=16),g(W===(0|W)&&W>=2&&W<=36);var T=0;"-"===($=$.toString().replace(/\s+/g,""))[0]&&(T++,this.negative=1),T<$.length&&(16===W?this._parseHex($,T,ie):(this._parseBase($,W,T),"le"===ie&&this._initArray(this.toArray(),W,ie)))},u.prototype._initNumber=function($,W,ie){$<0&&(this.negative=1,$=-$),$<67108864?(this.words=[67108863&$],this.length=1):$<4503599627370496?(this.words=[67108863&$,$/67108864&67108863],this.length=2):(g($<9007199254740992),this.words=[67108863&$,$/67108864&67108863,1],this.length=3),"le"===ie&&this._initArray(this.toArray(),W,ie)},u.prototype._initArray=function($,W,ie){if(g("number"==typeof $.length),$.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil($.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var I,k,N=0;if("be"===ie)for(T=$.length-1,I=0;T>=0;T-=3)this.words[I]|=(k=$[T]|$[T-1]<<8|$[T-2]<<16)<<N&67108863,this.words[I+1]=k>>>26-N&67108863,(N+=24)>=26&&(N-=26,I++);else if("le"===ie)for(T=0,I=0;T<$.length;T+=3)this.words[I]|=(k=$[T]|$[T+1]<<8|$[T+2]<<16)<<N&67108863,this.words[I+1]=k>>>26-N&67108863,(N+=24)>=26&&(N-=26,I++);return this.strip()},u.prototype._parseHex=function($,W,ie){this.length=Math.ceil(($.length-W)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var I,k=0,N=0;if("be"===ie)for(T=$.length-1;T>=W;T-=2)I=p($,W,T)<<k,this.words[N]|=67108863&I,k>=18?(k-=18,this.words[N+=1]|=I>>>26):k+=8;else for(T=($.length-W)%2==0?W+1:W;T<$.length;T+=2)I=p($,W,T)<<k,this.words[N]|=67108863&I,k>=18?(k-=18,this.words[N+=1]|=I>>>26):k+=8;this.strip()},u.prototype._parseBase=function($,W,ie){this.words=[0],this.length=1;for(var T=0,I=1;I<=67108863;I*=W)T++;T--,I=I/W|0;for(var k=$.length-ie,N=k%T,P=Math.min(k,k-N)+ie,U=0,Y=ie;Y<P;Y+=T)U=m($,Y,Y+T,W),this.imuln(I),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(0!==N){var ce=1;for(U=m($,Y,$.length,W),Y=0;Y<N;Y++)ce*=W;this.imuln(ce),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}this.strip()},u.prototype.copy=function($){$.words=new Array(this.length);for(var W=0;W<this.length;W++)$.words[W]=this.words[W];$.length=this.length,$.negative=this.negative,$.red=this.red},u.prototype.clone=function(){var $=new u(null);return this.copy($),$},u.prototype._expand=function($){for(;this.length<$;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},u.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function D($,W,ie){ie.negative=W.negative^$.negative;var T=$.length+W.length|0;ie.length=T,T=T-1|0;var I=0|$.words[0],k=0|W.words[0],N=I*k,U=N/67108864|0;ie.words[0]=67108863&N;for(var Y=1;Y<T;Y++){for(var ce=U>>>26,he=67108863&U,be=Math.min(Y,W.length-1),K=Math.max(0,Y-$.length+1);K<=be;K++)ce+=(N=(I=0|$.words[Y-K|0])*(k=0|W.words[K])+he)/67108864|0,he=67108863&N;ie.words[Y]=0|he,U=0|ce}return 0!==U?ie.words[Y]=0|U:ie.length--,ie.strip()}u.prototype.toString=function($,W){var ie;if(W=0|W||1,16===($=$||10)||"hex"===$){ie="";for(var T=0,I=0,k=0;k<this.length;k++){var N=this.words[k],P=(16777215&(N<<T|I)).toString(16);ie=0!=(I=N>>>24-T&16777215)||k!==this.length-1?C[6-P.length]+P+ie:P+ie,(T+=2)>=26&&(T-=26,k--)}for(0!==I&&(ie=I.toString(16)+ie);ie.length%W!=0;)ie="0"+ie;return 0!==this.negative&&(ie="-"+ie),ie}if($===(0|$)&&$>=2&&$<=36){var U=E[$],Y=v[$];ie="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var he=ce.modn(Y).toString($);ie=(ce=ce.idivn(Y)).isZero()?he+ie:C[U-he.length]+he+ie}for(this.isZero()&&(ie="0"+ie);ie.length%W!=0;)ie="0"+ie;return 0!==this.negative&&(ie="-"+ie),ie}g(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var $=this.words[0];return 2===this.length?$+=67108864*this.words[1]:3===this.length&&1===this.words[2]?$+=4503599627370496+67108864*this.words[1]:this.length>2&&g(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-$:$},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function($,W){return g(void 0!==f),this.toArrayLike(f,$,W)},u.prototype.toArray=function($,W){return this.toArrayLike(Array,$,W)},u.prototype.toArrayLike=function($,W,ie){var T=this.byteLength(),I=ie||Math.max(1,T);g(T<=I,"byte array longer than desired length"),g(I>0,"Requested array length <= 0"),this.strip();var k,N,P="le"===W,U=new $(I),Y=this.clone();if(P){for(N=0;!Y.isZero();N++)k=Y.andln(255),Y.iushrn(8),U[N]=k;for(;N<I;N++)U[N]=0}else{for(N=0;N<I-T;N++)U[N]=0;for(N=0;!Y.isZero();N++)k=Y.andln(255),Y.iushrn(8),U[I-N-1]=k}return U},u.prototype._countBits=Math.clz32?function($){return 32-Math.clz32($)}:function($){var W=$,ie=0;return W>=4096&&(ie+=13,W>>>=13),W>=64&&(ie+=7,W>>>=7),W>=8&&(ie+=4,W>>>=4),W>=2&&(ie+=2,W>>>=2),ie+W},u.prototype._zeroBits=function($){if(0===$)return 26;var W=$,ie=0;return!(8191&W)&&(ie+=13,W>>>=13),!(127&W)&&(ie+=7,W>>>=7),!(15&W)&&(ie+=4,W>>>=4),!(3&W)&&(ie+=2,W>>>=2),!(1&W)&&ie++,ie},u.prototype.bitLength=function(){var W=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+W},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var $=0,W=0;W<this.length;W++){var ie=this._zeroBits(this.words[W]);if($+=ie,26!==ie)break}return $},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function($){return 0!==this.negative?this.abs().inotn($).iaddn(1):this.clone()},u.prototype.fromTwos=function($){return this.testn($-1)?this.notn($).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return 0!==this.negative},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function($){for(;this.length<$.length;)this.words[this.length++]=0;for(var W=0;W<$.length;W++)this.words[W]=this.words[W]|$.words[W];return this.strip()},u.prototype.ior=function($){return g(0==(this.negative|$.negative)),this.iuor($)},u.prototype.or=function($){return this.length>$.length?this.clone().ior($):$.clone().ior(this)},u.prototype.uor=function($){return this.length>$.length?this.clone().iuor($):$.clone().iuor(this)},u.prototype.iuand=function($){var W;W=this.length>$.length?$:this;for(var ie=0;ie<W.length;ie++)this.words[ie]=this.words[ie]&$.words[ie];return this.length=W.length,this.strip()},u.prototype.iand=function($){return g(0==(this.negative|$.negative)),this.iuand($)},u.prototype.and=function($){return this.length>$.length?this.clone().iand($):$.clone().iand(this)},u.prototype.uand=function($){return this.length>$.length?this.clone().iuand($):$.clone().iuand(this)},u.prototype.iuxor=function($){var W,ie;this.length>$.length?(W=this,ie=$):(W=$,ie=this);for(var T=0;T<ie.length;T++)this.words[T]=W.words[T]^ie.words[T];if(this!==W)for(;T<W.length;T++)this.words[T]=W.words[T];return this.length=W.length,this.strip()},u.prototype.ixor=function($){return g(0==(this.negative|$.negative)),this.iuxor($)},u.prototype.xor=function($){return this.length>$.length?this.clone().ixor($):$.clone().ixor(this)},u.prototype.uxor=function($){return this.length>$.length?this.clone().iuxor($):$.clone().iuxor(this)},u.prototype.inotn=function($){g("number"==typeof $&&$>=0);var W=0|Math.ceil($/26),ie=$%26;this._expand(W),ie>0&&W--;for(var T=0;T<W;T++)this.words[T]=67108863&~this.words[T];return ie>0&&(this.words[T]=~this.words[T]&67108863>>26-ie),this.strip()},u.prototype.notn=function($){return this.clone().inotn($)},u.prototype.setn=function($,W){g("number"==typeof $&&$>=0);var ie=$/26|0,T=$%26;return this._expand(ie+1),this.words[ie]=W?this.words[ie]|1<<T:this.words[ie]&~(1<<T),this.strip()},u.prototype.iadd=function($){var W,ie,T;if(0!==this.negative&&0===$.negative)return this.negative=0,W=this.isub($),this.negative^=1,this._normSign();if(0===this.negative&&0!==$.negative)return $.negative=0,W=this.isub($),$.negative=1,W._normSign();this.length>$.length?(ie=this,T=$):(ie=$,T=this);for(var I=0,k=0;k<T.length;k++)this.words[k]=67108863&(W=(0|ie.words[k])+(0|T.words[k])+I),I=W>>>26;for(;0!==I&&k<ie.length;k++)this.words[k]=67108863&(W=(0|ie.words[k])+I),I=W>>>26;if(this.length=ie.length,0!==I)this.words[this.length]=I,this.length++;else if(ie!==this)for(;k<ie.length;k++)this.words[k]=ie.words[k];return this},u.prototype.add=function($){var W;return 0!==$.negative&&0===this.negative?($.negative=0,W=this.sub($),$.negative^=1,W):0===$.negative&&0!==this.negative?(this.negative=0,W=$.sub(this),this.negative=1,W):this.length>$.length?this.clone().iadd($):$.clone().iadd(this)},u.prototype.isub=function($){if(0!==$.negative){$.negative=0;var W=this.iadd($);return $.negative=1,W._normSign()}if(0!==this.negative)return this.negative=0,this.iadd($),this.negative=1,this._normSign();var ie,T,I=this.cmp($);if(0===I)return this.negative=0,this.length=1,this.words[0]=0,this;I>0?(ie=this,T=$):(ie=$,T=this);for(var k=0,N=0;N<T.length;N++)k=(W=(0|ie.words[N])-(0|T.words[N])+k)>>26,this.words[N]=67108863&W;for(;0!==k&&N<ie.length;N++)k=(W=(0|ie.words[N])+k)>>26,this.words[N]=67108863&W;if(0===k&&N<ie.length&&ie!==this)for(;N<ie.length;N++)this.words[N]=ie.words[N];return this.length=Math.max(this.length,N),ie!==this&&(this.negative=1),this.strip()},u.prototype.sub=function($){return this.clone().isub($)};var S=function($,W,ie){var T,I,k,N=$.words,P=W.words,U=ie.words,Y=0,ce=0|N[0],he=8191&ce,be=ce>>>13,K=0|N[1],_e=8191&K,q=K>>>13,G=0|N[2],ue=8191&G,Te=G>>>13,Me=0|N[3],Ee=8191&Me,ke=Me>>>13,We=0|N[4],Ve=8191&We,Se=We>>>13,qe=0|N[5],ze=8191&qe,Ye=qe>>>13,st=0|N[6],tt=8191&st,it=st>>>13,lt=0|N[7],ht=8191&lt,kt=lt>>>13,Wt=0|N[8],Nt=8191&Wt,qt=Wt>>>13,Dn=0|N[9],gn=8191&Dn,Mt=Dn>>>13,sn=0|P[0],Dt=8191&sn,Fe=sn>>>13,Be=0|P[1],Pe=8191&Be,Ue=Be>>>13,Ze=0|P[2],ot=8191&Ze,yt=Ze>>>13,Jt=0|P[3],on=8191&Jt,Qt=Jt>>>13,tr=0|P[4],Ut=8191&tr,an=tr>>>13,lr=0|P[5],Zt=8191&lr,vn=lr>>>13,Bi=0|P[6],In=8191&Bi,Ge=Bi>>>13,ct=0|P[7],gt=8191&ct,Rt=ct>>>13,Qn=0|P[8],Kt=8191&Qn,cn=Qn>>>13,fr=0|P[9],yn=8191&fr,en=fr>>>13;ie.negative=$.negative^W.negative,ie.length=19;var pr=(Y+(T=Math.imul(he,Dt))|0)+((8191&(I=(I=Math.imul(he,Fe))+Math.imul(be,Dt)|0))<<13)|0;Y=((k=Math.imul(be,Fe))+(I>>>13)|0)+(pr>>>26)|0,pr&=67108863,T=Math.imul(_e,Dt),I=(I=Math.imul(_e,Fe))+Math.imul(q,Dt)|0,k=Math.imul(q,Fe);var Cn=(Y+(T=T+Math.imul(he,Pe)|0)|0)+((8191&(I=(I=I+Math.imul(he,Ue)|0)+Math.imul(be,Pe)|0))<<13)|0;Y=((k=k+Math.imul(be,Ue)|0)+(I>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,T=Math.imul(ue,Dt),I=(I=Math.imul(ue,Fe))+Math.imul(Te,Dt)|0,k=Math.imul(Te,Fe),T=T+Math.imul(_e,Pe)|0,I=(I=I+Math.imul(_e,Ue)|0)+Math.imul(q,Pe)|0,k=k+Math.imul(q,Ue)|0;var Wn=(Y+(T=T+Math.imul(he,ot)|0)|0)+((8191&(I=(I=I+Math.imul(he,yt)|0)+Math.imul(be,ot)|0))<<13)|0;Y=((k=k+Math.imul(be,yt)|0)+(I>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,T=Math.imul(Ee,Dt),I=(I=Math.imul(Ee,Fe))+Math.imul(ke,Dt)|0,k=Math.imul(ke,Fe),T=T+Math.imul(ue,Pe)|0,I=(I=I+Math.imul(ue,Ue)|0)+Math.imul(Te,Pe)|0,k=k+Math.imul(Te,Ue)|0,T=T+Math.imul(_e,ot)|0,I=(I=I+Math.imul(_e,yt)|0)+Math.imul(q,ot)|0,k=k+Math.imul(q,yt)|0;var En=(Y+(T=T+Math.imul(he,on)|0)|0)+((8191&(I=(I=I+Math.imul(he,Qt)|0)+Math.imul(be,on)|0))<<13)|0;Y=((k=k+Math.imul(be,Qt)|0)+(I>>>13)|0)+(En>>>26)|0,En&=67108863,T=Math.imul(Ve,Dt),I=(I=Math.imul(Ve,Fe))+Math.imul(Se,Dt)|0,k=Math.imul(Se,Fe),T=T+Math.imul(Ee,Pe)|0,I=(I=I+Math.imul(Ee,Ue)|0)+Math.imul(ke,Pe)|0,k=k+Math.imul(ke,Ue)|0,T=T+Math.imul(ue,ot)|0,I=(I=I+Math.imul(ue,yt)|0)+Math.imul(Te,ot)|0,k=k+Math.imul(Te,yt)|0,T=T+Math.imul(_e,on)|0,I=(I=I+Math.imul(_e,Qt)|0)+Math.imul(q,on)|0,k=k+Math.imul(q,Qt)|0;var Kn=(Y+(T=T+Math.imul(he,Ut)|0)|0)+((8191&(I=(I=I+Math.imul(he,an)|0)+Math.imul(be,Ut)|0))<<13)|0;Y=((k=k+Math.imul(be,an)|0)+(I>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,T=Math.imul(ze,Dt),I=(I=Math.imul(ze,Fe))+Math.imul(Ye,Dt)|0,k=Math.imul(Ye,Fe),T=T+Math.imul(Ve,Pe)|0,I=(I=I+Math.imul(Ve,Ue)|0)+Math.imul(Se,Pe)|0,k=k+Math.imul(Se,Ue)|0,T=T+Math.imul(Ee,ot)|0,I=(I=I+Math.imul(Ee,yt)|0)+Math.imul(ke,ot)|0,k=k+Math.imul(ke,yt)|0,T=T+Math.imul(ue,on)|0,I=(I=I+Math.imul(ue,Qt)|0)+Math.imul(Te,on)|0,k=k+Math.imul(Te,Qt)|0,T=T+Math.imul(_e,Ut)|0,I=(I=I+Math.imul(_e,an)|0)+Math.imul(q,Ut)|0,k=k+Math.imul(q,an)|0;var or=(Y+(T=T+Math.imul(he,Zt)|0)|0)+((8191&(I=(I=I+Math.imul(he,vn)|0)+Math.imul(be,Zt)|0))<<13)|0;Y=((k=k+Math.imul(be,vn)|0)+(I>>>13)|0)+(or>>>26)|0,or&=67108863,T=Math.imul(tt,Dt),I=(I=Math.imul(tt,Fe))+Math.imul(it,Dt)|0,k=Math.imul(it,Fe),T=T+Math.imul(ze,Pe)|0,I=(I=I+Math.imul(ze,Ue)|0)+Math.imul(Ye,Pe)|0,k=k+Math.imul(Ye,Ue)|0,T=T+Math.imul(Ve,ot)|0,I=(I=I+Math.imul(Ve,yt)|0)+Math.imul(Se,ot)|0,k=k+Math.imul(Se,yt)|0,T=T+Math.imul(Ee,on)|0,I=(I=I+Math.imul(Ee,Qt)|0)+Math.imul(ke,on)|0,k=k+Math.imul(ke,Qt)|0,T=T+Math.imul(ue,Ut)|0,I=(I=I+Math.imul(ue,an)|0)+Math.imul(Te,Ut)|0,k=k+Math.imul(Te,an)|0,T=T+Math.imul(_e,Zt)|0,I=(I=I+Math.imul(_e,vn)|0)+Math.imul(q,Zt)|0,k=k+Math.imul(q,vn)|0;var Pr=(Y+(T=T+Math.imul(he,In)|0)|0)+((8191&(I=(I=I+Math.imul(he,Ge)|0)+Math.imul(be,In)|0))<<13)|0;Y=((k=k+Math.imul(be,Ge)|0)+(I>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,T=Math.imul(ht,Dt),I=(I=Math.imul(ht,Fe))+Math.imul(kt,Dt)|0,k=Math.imul(kt,Fe),T=T+Math.imul(tt,Pe)|0,I=(I=I+Math.imul(tt,Ue)|0)+Math.imul(it,Pe)|0,k=k+Math.imul(it,Ue)|0,T=T+Math.imul(ze,ot)|0,I=(I=I+Math.imul(ze,yt)|0)+Math.imul(Ye,ot)|0,k=k+Math.imul(Ye,yt)|0,T=T+Math.imul(Ve,on)|0,I=(I=I+Math.imul(Ve,Qt)|0)+Math.imul(Se,on)|0,k=k+Math.imul(Se,Qt)|0,T=T+Math.imul(Ee,Ut)|0,I=(I=I+Math.imul(Ee,an)|0)+Math.imul(ke,Ut)|0,k=k+Math.imul(ke,an)|0,T=T+Math.imul(ue,Zt)|0,I=(I=I+Math.imul(ue,vn)|0)+Math.imul(Te,Zt)|0,k=k+Math.imul(Te,vn)|0,T=T+Math.imul(_e,In)|0,I=(I=I+Math.imul(_e,Ge)|0)+Math.imul(q,In)|0,k=k+Math.imul(q,Ge)|0;var cr=(Y+(T=T+Math.imul(he,gt)|0)|0)+((8191&(I=(I=I+Math.imul(he,Rt)|0)+Math.imul(be,gt)|0))<<13)|0;Y=((k=k+Math.imul(be,Rt)|0)+(I>>>13)|0)+(cr>>>26)|0,cr&=67108863,T=Math.imul(Nt,Dt),I=(I=Math.imul(Nt,Fe))+Math.imul(qt,Dt)|0,k=Math.imul(qt,Fe),T=T+Math.imul(ht,Pe)|0,I=(I=I+Math.imul(ht,Ue)|0)+Math.imul(kt,Pe)|0,k=k+Math.imul(kt,Ue)|0,T=T+Math.imul(tt,ot)|0,I=(I=I+Math.imul(tt,yt)|0)+Math.imul(it,ot)|0,k=k+Math.imul(it,yt)|0,T=T+Math.imul(ze,on)|0,I=(I=I+Math.imul(ze,Qt)|0)+Math.imul(Ye,on)|0,k=k+Math.imul(Ye,Qt)|0,T=T+Math.imul(Ve,Ut)|0,I=(I=I+Math.imul(Ve,an)|0)+Math.imul(Se,Ut)|0,k=k+Math.imul(Se,an)|0,T=T+Math.imul(Ee,Zt)|0,I=(I=I+Math.imul(Ee,vn)|0)+Math.imul(ke,Zt)|0,k=k+Math.imul(ke,vn)|0,T=T+Math.imul(ue,In)|0,I=(I=I+Math.imul(ue,Ge)|0)+Math.imul(Te,In)|0,k=k+Math.imul(Te,Ge)|0,T=T+Math.imul(_e,gt)|0,I=(I=I+Math.imul(_e,Rt)|0)+Math.imul(q,gt)|0,k=k+Math.imul(q,Rt)|0;var Ur=(Y+(T=T+Math.imul(he,Kt)|0)|0)+((8191&(I=(I=I+Math.imul(he,cn)|0)+Math.imul(be,Kt)|0))<<13)|0;Y=((k=k+Math.imul(be,cn)|0)+(I>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,T=Math.imul(gn,Dt),I=(I=Math.imul(gn,Fe))+Math.imul(Mt,Dt)|0,k=Math.imul(Mt,Fe),T=T+Math.imul(Nt,Pe)|0,I=(I=I+Math.imul(Nt,Ue)|0)+Math.imul(qt,Pe)|0,k=k+Math.imul(qt,Ue)|0,T=T+Math.imul(ht,ot)|0,I=(I=I+Math.imul(ht,yt)|0)+Math.imul(kt,ot)|0,k=k+Math.imul(kt,yt)|0,T=T+Math.imul(tt,on)|0,I=(I=I+Math.imul(tt,Qt)|0)+Math.imul(it,on)|0,k=k+Math.imul(it,Qt)|0,T=T+Math.imul(ze,Ut)|0,I=(I=I+Math.imul(ze,an)|0)+Math.imul(Ye,Ut)|0,k=k+Math.imul(Ye,an)|0,T=T+Math.imul(Ve,Zt)|0,I=(I=I+Math.imul(Ve,vn)|0)+Math.imul(Se,Zt)|0,k=k+Math.imul(Se,vn)|0,T=T+Math.imul(Ee,In)|0,I=(I=I+Math.imul(Ee,Ge)|0)+Math.imul(ke,In)|0,k=k+Math.imul(ke,Ge)|0,T=T+Math.imul(ue,gt)|0,I=(I=I+Math.imul(ue,Rt)|0)+Math.imul(Te,gt)|0,k=k+Math.imul(Te,Rt)|0,T=T+Math.imul(_e,Kt)|0,I=(I=I+Math.imul(_e,cn)|0)+Math.imul(q,Kt)|0,k=k+Math.imul(q,cn)|0;var Le=(Y+(T=T+Math.imul(he,yn)|0)|0)+((8191&(I=(I=I+Math.imul(he,en)|0)+Math.imul(be,yn)|0))<<13)|0;Y=((k=k+Math.imul(be,en)|0)+(I>>>13)|0)+(Le>>>26)|0,Le&=67108863,T=Math.imul(gn,Pe),I=(I=Math.imul(gn,Ue))+Math.imul(Mt,Pe)|0,k=Math.imul(Mt,Ue),T=T+Math.imul(Nt,ot)|0,I=(I=I+Math.imul(Nt,yt)|0)+Math.imul(qt,ot)|0,k=k+Math.imul(qt,yt)|0,T=T+Math.imul(ht,on)|0,I=(I=I+Math.imul(ht,Qt)|0)+Math.imul(kt,on)|0,k=k+Math.imul(kt,Qt)|0,T=T+Math.imul(tt,Ut)|0,I=(I=I+Math.imul(tt,an)|0)+Math.imul(it,Ut)|0,k=k+Math.imul(it,an)|0,T=T+Math.imul(ze,Zt)|0,I=(I=I+Math.imul(ze,vn)|0)+Math.imul(Ye,Zt)|0,k=k+Math.imul(Ye,vn)|0,T=T+Math.imul(Ve,In)|0,I=(I=I+Math.imul(Ve,Ge)|0)+Math.imul(Se,In)|0,k=k+Math.imul(Se,Ge)|0,T=T+Math.imul(Ee,gt)|0,I=(I=I+Math.imul(Ee,Rt)|0)+Math.imul(ke,gt)|0,k=k+Math.imul(ke,Rt)|0,T=T+Math.imul(ue,Kt)|0,I=(I=I+Math.imul(ue,cn)|0)+Math.imul(Te,Kt)|0,k=k+Math.imul(Te,cn)|0;var at=(Y+(T=T+Math.imul(_e,yn)|0)|0)+((8191&(I=(I=I+Math.imul(_e,en)|0)+Math.imul(q,yn)|0))<<13)|0;Y=((k=k+Math.imul(q,en)|0)+(I>>>13)|0)+(at>>>26)|0,at&=67108863,T=Math.imul(gn,ot),I=(I=Math.imul(gn,yt))+Math.imul(Mt,ot)|0,k=Math.imul(Mt,yt),T=T+Math.imul(Nt,on)|0,I=(I=I+Math.imul(Nt,Qt)|0)+Math.imul(qt,on)|0,k=k+Math.imul(qt,Qt)|0,T=T+Math.imul(ht,Ut)|0,I=(I=I+Math.imul(ht,an)|0)+Math.imul(kt,Ut)|0,k=k+Math.imul(kt,an)|0,T=T+Math.imul(tt,Zt)|0,I=(I=I+Math.imul(tt,vn)|0)+Math.imul(it,Zt)|0,k=k+Math.imul(it,vn)|0,T=T+Math.imul(ze,In)|0,I=(I=I+Math.imul(ze,Ge)|0)+Math.imul(Ye,In)|0,k=k+Math.imul(Ye,Ge)|0,T=T+Math.imul(Ve,gt)|0,I=(I=I+Math.imul(Ve,Rt)|0)+Math.imul(Se,gt)|0,k=k+Math.imul(Se,Rt)|0,T=T+Math.imul(Ee,Kt)|0,I=(I=I+Math.imul(Ee,cn)|0)+Math.imul(ke,Kt)|0,k=k+Math.imul(ke,cn)|0;var Tt=(Y+(T=T+Math.imul(ue,yn)|0)|0)+((8191&(I=(I=I+Math.imul(ue,en)|0)+Math.imul(Te,yn)|0))<<13)|0;Y=((k=k+Math.imul(Te,en)|0)+(I>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,T=Math.imul(gn,on),I=(I=Math.imul(gn,Qt))+Math.imul(Mt,on)|0,k=Math.imul(Mt,Qt),T=T+Math.imul(Nt,Ut)|0,I=(I=I+Math.imul(Nt,an)|0)+Math.imul(qt,Ut)|0,k=k+Math.imul(qt,an)|0,T=T+Math.imul(ht,Zt)|0,I=(I=I+Math.imul(ht,vn)|0)+Math.imul(kt,Zt)|0,k=k+Math.imul(kt,vn)|0,T=T+Math.imul(tt,In)|0,I=(I=I+Math.imul(tt,Ge)|0)+Math.imul(it,In)|0,k=k+Math.imul(it,Ge)|0,T=T+Math.imul(ze,gt)|0,I=(I=I+Math.imul(ze,Rt)|0)+Math.imul(Ye,gt)|0,k=k+Math.imul(Ye,Rt)|0,T=T+Math.imul(Ve,Kt)|0,I=(I=I+Math.imul(Ve,cn)|0)+Math.imul(Se,Kt)|0,k=k+Math.imul(Se,cn)|0;var Qe=(Y+(T=T+Math.imul(Ee,yn)|0)|0)+((8191&(I=(I=I+Math.imul(Ee,en)|0)+Math.imul(ke,yn)|0))<<13)|0;Y=((k=k+Math.imul(ke,en)|0)+(I>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,T=Math.imul(gn,Ut),I=(I=Math.imul(gn,an))+Math.imul(Mt,Ut)|0,k=Math.imul(Mt,an),T=T+Math.imul(Nt,Zt)|0,I=(I=I+Math.imul(Nt,vn)|0)+Math.imul(qt,Zt)|0,k=k+Math.imul(qt,vn)|0,T=T+Math.imul(ht,In)|0,I=(I=I+Math.imul(ht,Ge)|0)+Math.imul(kt,In)|0,k=k+Math.imul(kt,Ge)|0,T=T+Math.imul(tt,gt)|0,I=(I=I+Math.imul(tt,Rt)|0)+Math.imul(it,gt)|0,k=k+Math.imul(it,Rt)|0,T=T+Math.imul(ze,Kt)|0,I=(I=I+Math.imul(ze,cn)|0)+Math.imul(Ye,Kt)|0,k=k+Math.imul(Ye,cn)|0;var wt=(Y+(T=T+Math.imul(Ve,yn)|0)|0)+((8191&(I=(I=I+Math.imul(Ve,en)|0)+Math.imul(Se,yn)|0))<<13)|0;Y=((k=k+Math.imul(Se,en)|0)+(I>>>13)|0)+(wt>>>26)|0,wt&=67108863,T=Math.imul(gn,Zt),I=(I=Math.imul(gn,vn))+Math.imul(Mt,Zt)|0,k=Math.imul(Mt,vn),T=T+Math.imul(Nt,In)|0,I=(I=I+Math.imul(Nt,Ge)|0)+Math.imul(qt,In)|0,k=k+Math.imul(qt,Ge)|0,T=T+Math.imul(ht,gt)|0,I=(I=I+Math.imul(ht,Rt)|0)+Math.imul(kt,gt)|0,k=k+Math.imul(kt,Rt)|0,T=T+Math.imul(tt,Kt)|0,I=(I=I+Math.imul(tt,cn)|0)+Math.imul(it,Kt)|0,k=k+Math.imul(it,cn)|0;var zt=(Y+(T=T+Math.imul(ze,yn)|0)|0)+((8191&(I=(I=I+Math.imul(ze,en)|0)+Math.imul(Ye,yn)|0))<<13)|0;Y=((k=k+Math.imul(Ye,en)|0)+(I>>>13)|0)+(zt>>>26)|0,zt&=67108863,T=Math.imul(gn,In),I=(I=Math.imul(gn,Ge))+Math.imul(Mt,In)|0,k=Math.imul(Mt,Ge),T=T+Math.imul(Nt,gt)|0,I=(I=I+Math.imul(Nt,Rt)|0)+Math.imul(qt,gt)|0,k=k+Math.imul(qt,Rt)|0,T=T+Math.imul(ht,Kt)|0,I=(I=I+Math.imul(ht,cn)|0)+Math.imul(kt,Kt)|0,k=k+Math.imul(kt,cn)|0;var Yt=(Y+(T=T+Math.imul(tt,yn)|0)|0)+((8191&(I=(I=I+Math.imul(tt,en)|0)+Math.imul(it,yn)|0))<<13)|0;Y=((k=k+Math.imul(it,en)|0)+(I>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,T=Math.imul(gn,gt),I=(I=Math.imul(gn,Rt))+Math.imul(Mt,gt)|0,k=Math.imul(Mt,Rt),T=T+Math.imul(Nt,Kt)|0,I=(I=I+Math.imul(Nt,cn)|0)+Math.imul(qt,Kt)|0,k=k+Math.imul(qt,cn)|0;var jn=(Y+(T=T+Math.imul(ht,yn)|0)|0)+((8191&(I=(I=I+Math.imul(ht,en)|0)+Math.imul(kt,yn)|0))<<13)|0;Y=((k=k+Math.imul(kt,en)|0)+(I>>>13)|0)+(jn>>>26)|0,jn&=67108863,T=Math.imul(gn,Kt),I=(I=Math.imul(gn,cn))+Math.imul(Mt,Kt)|0,k=Math.imul(Mt,cn);var mn=(Y+(T=T+Math.imul(Nt,yn)|0)|0)+((8191&(I=(I=I+Math.imul(Nt,en)|0)+Math.imul(qt,yn)|0))<<13)|0;Y=((k=k+Math.imul(qt,en)|0)+(I>>>13)|0)+(mn>>>26)|0,mn&=67108863;var hn=(Y+(T=Math.imul(gn,yn))|0)+((8191&(I=(I=Math.imul(gn,en))+Math.imul(Mt,yn)|0))<<13)|0;return Y=((k=Math.imul(Mt,en))+(I>>>13)|0)+(hn>>>26)|0,hn&=67108863,U[0]=pr,U[1]=Cn,U[2]=Wn,U[3]=En,U[4]=Kn,U[5]=or,U[6]=Pr,U[7]=cr,U[8]=Ur,U[9]=Le,U[10]=at,U[11]=Tt,U[12]=Qe,U[13]=wt,U[14]=zt,U[15]=Yt,U[16]=jn,U[17]=mn,U[18]=hn,0!==Y&&(U[19]=Y,ie.length++),ie};function R($,W,ie){return(new L).mulp($,W,ie)}function L($,W){this.x=$,this.y=W}Math.imul||(S=D),u.prototype.mulTo=function($,W){var ie=this.length+$.length;return 10===this.length&&10===$.length?S(this,$,W):ie<63?D(this,$,W):ie<1024?function(T,I,k){k.negative=I.negative^T.negative,k.length=T.length+I.length;for(var N=0,P=0,U=0;U<k.length-1;U++){var Y=P;P=0;for(var ce=67108863&N,he=Math.min(U,I.length-1),be=Math.max(0,U-T.length+1);be<=he;be++){var _e=(0|T.words[U-be])*(0|I.words[be]),q=67108863&_e;ce=67108863&(q=q+ce|0),P+=(Y=(Y=Y+(_e/67108864|0)|0)+(q>>>26)|0)>>>26,Y&=67108863}k.words[U]=ce,N=Y,Y=P}return 0!==N?k.words[U]=N:k.length--,k.strip()}(this,$,W):R(this,$,W)},L.prototype.makeRBT=function($){for(var W=new Array($),ie=u.prototype._countBits($)-1,T=0;T<$;T++)W[T]=this.revBin(T,ie,$);return W},L.prototype.revBin=function($,W,ie){if(0===$||$===ie-1)return $;for(var T=0,I=0;I<W;I++)T|=(1&$)<<W-I-1,$>>=1;return T},L.prototype.permute=function($,W,ie,T,I,k){for(var N=0;N<k;N++)T[N]=W[$[N]],I[N]=ie[$[N]]},L.prototype.transform=function($,W,ie,T,I,k){this.permute(k,$,W,ie,T,I);for(var N=1;N<I;N<<=1)for(var P=N<<1,U=Math.cos(2*Math.PI/P),Y=Math.sin(2*Math.PI/P),ce=0;ce<I;ce+=P)for(var he=U,be=Y,K=0;K<N;K++){var _e=ie[ce+K],q=T[ce+K],G=ie[ce+K+N],ue=T[ce+K+N],Te=he*G-be*ue;ue=he*ue+be*G,ie[ce+K]=_e+(G=Te),T[ce+K]=q+ue,ie[ce+K+N]=_e-G,T[ce+K+N]=q-ue,K!==P&&(Te=U*he-Y*be,be=U*be+Y*he,he=Te)}},L.prototype.guessLen13b=function($,W){var ie=1|Math.max(W,$),T=1&ie,I=0;for(ie=ie/2|0;ie;ie>>>=1)I++;return 1<<I+1+T},L.prototype.conjugate=function($,W,ie){if(!(ie<=1))for(var T=0;T<ie/2;T++){var I=$[T];$[T]=$[ie-T-1],$[ie-T-1]=I,I=W[T],W[T]=-W[ie-T-1],W[ie-T-1]=-I}},L.prototype.normalize13b=function($,W){for(var ie=0,T=0;T<W/2;T++){var I=8192*Math.round($[2*T+1]/W)+Math.round($[2*T]/W)+ie;$[T]=67108863&I,ie=I<67108864?0:I/67108864|0}return $},L.prototype.convert13b=function($,W,ie,T){for(var I=0,k=0;k<W;k++)ie[2*k]=8191&(I+=0|$[k]),ie[2*k+1]=8191&(I>>>=13),I>>>=13;for(k=2*W;k<T;++k)ie[k]=0;g(0===I),g(0==(-8192&I))},L.prototype.stub=function($){for(var W=new Array($),ie=0;ie<$;ie++)W[ie]=0;return W},L.prototype.mulp=function($,W,ie){var T=2*this.guessLen13b($.length,W.length),I=this.makeRBT(T),k=this.stub(T),N=new Array(T),P=new Array(T),U=new Array(T),Y=new Array(T),ce=new Array(T),he=new Array(T),be=ie.words;be.length=T,this.convert13b($.words,$.length,N,T),this.convert13b(W.words,W.length,Y,T),this.transform(N,k,P,U,T,I),this.transform(Y,k,ce,he,T,I);for(var K=0;K<T;K++){var _e=P[K]*ce[K]-U[K]*he[K];U[K]=P[K]*he[K]+U[K]*ce[K],P[K]=_e}return this.conjugate(P,U,T),this.transform(P,U,be,k,T,I),this.conjugate(be,k,T),this.normalize13b(be,T),ie.negative=$.negative^W.negative,ie.length=$.length+W.length,ie.strip()},u.prototype.mul=function($){var W=new u(null);return W.words=new Array(this.length+$.length),this.mulTo($,W)},u.prototype.mulf=function($){var W=new u(null);return W.words=new Array(this.length+$.length),R(this,$,W)},u.prototype.imul=function($){return this.clone().mulTo($,this)},u.prototype.imuln=function($){g("number"==typeof $),g($<67108864);for(var W=0,ie=0;ie<this.length;ie++){var T=(0|this.words[ie])*$,I=(67108863&T)+(67108863&W);W>>=26,W+=T/67108864|0,W+=I>>>26,this.words[ie]=67108863&I}return 0!==W&&(this.words[ie]=W,this.length++),this},u.prototype.muln=function($){return this.clone().imuln($)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function($){var W=function(k){for(var N=new Array(k.bitLength()),P=0;P<N.length;P++){var Y=P%26;N[P]=(k.words[P/26|0]&1<<Y)>>>Y}return N}($);if(0===W.length)return new u(1);for(var ie=this,T=0;T<W.length&&0===W[T];T++,ie=ie.sqr());if(++T<W.length)for(var I=ie.sqr();T<W.length;T++,I=I.sqr())0!==W[T]&&(ie=ie.mul(I));return ie},u.prototype.iushln=function($){g("number"==typeof $&&$>=0);var W,ie=$%26,T=($-ie)/26,I=67108863>>>26-ie<<26-ie;if(0!==ie){var k=0;for(W=0;W<this.length;W++){var N=this.words[W]&I;this.words[W]=(0|this.words[W])-N<<ie|k,k=N>>>26-ie}k&&(this.words[W]=k,this.length++)}if(0!==T){for(W=this.length-1;W>=0;W--)this.words[W+T]=this.words[W];for(W=0;W<T;W++)this.words[W]=0;this.length+=T}return this.strip()},u.prototype.ishln=function($){return g(0===this.negative),this.iushln($)},u.prototype.iushrn=function($,W,ie){var T;g("number"==typeof $&&$>=0),T=W?(W-W%26)/26:0;var I=$%26,k=Math.min(($-I)/26,this.length),N=67108863^67108863>>>I<<I,P=ie;if(T-=k,T=Math.max(0,T),P){for(var U=0;U<k;U++)P.words[U]=this.words[U];P.length=k}if(0!==k)if(this.length>k)for(this.length-=k,U=0;U<this.length;U++)this.words[U]=this.words[U+k];else this.words[0]=0,this.length=1;var Y=0;for(U=this.length-1;U>=0&&(0!==Y||U>=T);U--){var ce=0|this.words[U];this.words[U]=Y<<26-I|ce>>>I,Y=ce&N}return P&&0!==Y&&(P.words[P.length++]=Y),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function($,W,ie){return g(0===this.negative),this.iushrn($,W,ie)},u.prototype.shln=function($){return this.clone().ishln($)},u.prototype.ushln=function($){return this.clone().iushln($)},u.prototype.shrn=function($){return this.clone().ishrn($)},u.prototype.ushrn=function($){return this.clone().iushrn($)},u.prototype.testn=function($){g("number"==typeof $&&$>=0);var W=$%26,ie=($-W)/26;return!(this.length<=ie||!(this.words[ie]&1<<W))},u.prototype.imaskn=function($){g("number"==typeof $&&$>=0);var W=$%26,ie=($-W)/26;return g(0===this.negative,"imaskn works only with positive numbers"),this.length<=ie?this:(0!==W&&ie++,this.length=Math.min(ie,this.length),0!==W&&(this.words[this.length-1]&=67108863^67108863>>>W<<W),this.strip())},u.prototype.maskn=function($){return this.clone().imaskn($)},u.prototype.iaddn=function($){return g("number"==typeof $),g($<67108864),$<0?this.isubn(-$):0!==this.negative?1===this.length&&(0|this.words[0])<$?(this.words[0]=$-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn($),this.negative=1,this):this._iaddn($)},u.prototype._iaddn=function($){this.words[0]+=$;for(var W=0;W<this.length&&this.words[W]>=67108864;W++)this.words[W]-=67108864,W===this.length-1?this.words[W+1]=1:this.words[W+1]++;return this.length=Math.max(this.length,W+1),this},u.prototype.isubn=function($){if(g("number"==typeof $),g($<67108864),$<0)return this.iaddn(-$);if(0!==this.negative)return this.negative=0,this.iaddn($),this.negative=1,this;if(this.words[0]-=$,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var W=0;W<this.length&&this.words[W]<0;W++)this.words[W]+=67108864,this.words[W+1]-=1;return this.strip()},u.prototype.addn=function($){return this.clone().iaddn($)},u.prototype.subn=function($){return this.clone().isubn($)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function($,W,ie){var T,I;this._expand($.length+ie);var N=0;for(T=0;T<$.length;T++){I=(0|this.words[T+ie])+N;var P=(0|$.words[T])*W;N=((I-=67108863&P)>>26)-(P/67108864|0),this.words[T+ie]=67108863&I}for(;T<this.length-ie;T++)N=(I=(0|this.words[T+ie])+N)>>26,this.words[T+ie]=67108863&I;if(0===N)return this.strip();for(g(-1===N),N=0,T=0;T<this.length;T++)N=(I=-(0|this.words[T])+N)>>26,this.words[T]=67108863&I;return this.negative=1,this.strip()},u.prototype._wordDiv=function($,W){var ie,T=this.clone(),I=$,k=0|I.words[I.length-1];0!=(ie=26-this._countBits(k))&&(I=I.ushln(ie),T.iushln(ie),k=0|I.words[I.length-1]);var N,P=T.length-I.length;if("mod"!==W){(N=new u(null)).length=P+1,N.words=new Array(N.length);for(var U=0;U<N.length;U++)N.words[U]=0}var Y=T.clone()._ishlnsubmul(I,1,P);0===Y.negative&&(T=Y,N&&(N.words[P]=1));for(var ce=P-1;ce>=0;ce--){var he=67108864*(0|T.words[I.length+ce])+(0|T.words[I.length+ce-1]);for(he=Math.min(he/k|0,67108863),T._ishlnsubmul(I,he,ce);0!==T.negative;)he--,T.negative=0,T._ishlnsubmul(I,1,ce),T.isZero()||(T.negative^=1);N&&(N.words[ce]=he)}return N&&N.strip(),T.strip(),"div"!==W&&0!==ie&&T.iushrn(ie),{div:N||null,mod:T}},u.prototype.divmod=function($,W,ie){return g(!$.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:0!==this.negative&&0===$.negative?(k=this.neg().divmod($,W),"mod"!==W&&(T=k.div.neg()),"div"!==W&&(I=k.mod.neg(),ie&&0!==I.negative&&I.iadd($)),{div:T,mod:I}):0===this.negative&&0!==$.negative?(k=this.divmod($.neg(),W),"mod"!==W&&(T=k.div.neg()),{div:T,mod:k.mod}):this.negative&$.negative?(k=this.neg().divmod($.neg(),W),"div"!==W&&(I=k.mod.neg(),ie&&0!==I.negative&&I.isub($)),{div:k.div,mod:I}):$.length>this.length||this.cmp($)<0?{div:new u(0),mod:this}:1===$.length?"div"===W?{div:this.divn($.words[0]),mod:null}:"mod"===W?{div:null,mod:new u(this.modn($.words[0]))}:{div:this.divn($.words[0]),mod:new u(this.modn($.words[0]))}:this._wordDiv($,W);var T,I,k},u.prototype.div=function($){return this.divmod($,"div",!1).div},u.prototype.mod=function($){return this.divmod($,"mod",!1).mod},u.prototype.umod=function($){return this.divmod($,"mod",!0).mod},u.prototype.divRound=function($){var W=this.divmod($);if(W.mod.isZero())return W.div;var ie=0!==W.div.negative?W.mod.isub($):W.mod,T=$.ushrn(1),I=$.andln(1),k=ie.cmp(T);return k<0||1===I&&0===k?W.div:0!==W.div.negative?W.div.isubn(1):W.div.iaddn(1)},u.prototype.modn=function($){g($<=67108863);for(var W=(1<<26)%$,ie=0,T=this.length-1;T>=0;T--)ie=(W*ie+(0|this.words[T]))%$;return ie},u.prototype.idivn=function($){g($<=67108863);for(var W=0,ie=this.length-1;ie>=0;ie--){var T=(0|this.words[ie])+67108864*W;this.words[ie]=T/$|0,W=T%$}return this.strip()},u.prototype.divn=function($){return this.clone().idivn($)},u.prototype.egcd=function($){g(0===$.negative),g(!$.isZero());var W=this,ie=$.clone();W=0!==W.negative?W.umod($):W.clone();for(var T=new u(1),I=new u(0),k=new u(0),N=new u(1),P=0;W.isEven()&&ie.isEven();)W.iushrn(1),ie.iushrn(1),++P;for(var U=ie.clone(),Y=W.clone();!W.isZero();){for(var ce=0,he=1;!(W.words[0]&he)&&ce<26;++ce,he<<=1);if(ce>0)for(W.iushrn(ce);ce-- >0;)(T.isOdd()||I.isOdd())&&(T.iadd(U),I.isub(Y)),T.iushrn(1),I.iushrn(1);for(var be=0,K=1;!(ie.words[0]&K)&&be<26;++be,K<<=1);if(be>0)for(ie.iushrn(be);be-- >0;)(k.isOdd()||N.isOdd())&&(k.iadd(U),N.isub(Y)),k.iushrn(1),N.iushrn(1);W.cmp(ie)>=0?(W.isub(ie),T.isub(k),I.isub(N)):(ie.isub(W),k.isub(T),N.isub(I))}return{a:k,b:N,gcd:ie.iushln(P)}},u.prototype._invmp=function($){g(0===$.negative),g(!$.isZero());var W=this,ie=$.clone();W=0!==W.negative?W.umod($):W.clone();for(var T,I=new u(1),k=new u(0),N=ie.clone();W.cmpn(1)>0&&ie.cmpn(1)>0;){for(var P=0,U=1;!(W.words[0]&U)&&P<26;++P,U<<=1);if(P>0)for(W.iushrn(P);P-- >0;)I.isOdd()&&I.iadd(N),I.iushrn(1);for(var Y=0,ce=1;!(ie.words[0]&ce)&&Y<26;++Y,ce<<=1);if(Y>0)for(ie.iushrn(Y);Y-- >0;)k.isOdd()&&k.iadd(N),k.iushrn(1);W.cmp(ie)>=0?(W.isub(ie),I.isub(k)):(ie.isub(W),k.isub(I))}return(T=0===W.cmpn(1)?I:k).cmpn(0)<0&&T.iadd($),T},u.prototype.gcd=function($){if(this.isZero())return $.abs();if($.isZero())return this.abs();var W=this.clone(),ie=$.clone();W.negative=0,ie.negative=0;for(var T=0;W.isEven()&&ie.isEven();T++)W.iushrn(1),ie.iushrn(1);for(;;){for(;W.isEven();)W.iushrn(1);for(;ie.isEven();)ie.iushrn(1);var I=W.cmp(ie);if(I<0){var k=W;W=ie,ie=k}else if(0===I||0===ie.cmpn(1))break;W.isub(ie)}return ie.iushln(T)},u.prototype.invm=function($){return this.egcd($).a.umod($)},u.prototype.isEven=function(){return 0==(1&this.words[0])},u.prototype.isOdd=function(){return 1==(1&this.words[0])},u.prototype.andln=function($){return this.words[0]&$},u.prototype.bincn=function($){g("number"==typeof $);var W=$%26,ie=($-W)/26,T=1<<W;if(this.length<=ie)return this._expand(ie+1),this.words[ie]|=T,this;for(var I=T,k=ie;0!==I&&k<this.length;k++){var N=0|this.words[k];I=(N+=I)>>>26,this.words[k]=N&=67108863}return 0!==I&&(this.words[k]=I,this.length++),this},u.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},u.prototype.cmpn=function($){var W,ie=$<0;if(0!==this.negative&&!ie)return-1;if(0===this.negative&&ie)return 1;if(this.strip(),this.length>1)W=1;else{ie&&($=-$),g($<=67108863,"Number is too big");var T=0|this.words[0];W=T===$?0:T<$?-1:1}return 0!==this.negative?0|-W:W},u.prototype.cmp=function($){if(0!==this.negative&&0===$.negative)return-1;if(0===this.negative&&0!==$.negative)return 1;var W=this.ucmp($);return 0!==this.negative?0|-W:W},u.prototype.ucmp=function($){if(this.length>$.length)return 1;if(this.length<$.length)return-1;for(var W=0,ie=this.length-1;ie>=0;ie--){var T=0|this.words[ie],I=0|$.words[ie];if(T!==I){T<I?W=-1:T>I&&(W=1);break}}return W},u.prototype.gtn=function($){return 1===this.cmpn($)},u.prototype.gt=function($){return 1===this.cmp($)},u.prototype.gten=function($){return this.cmpn($)>=0},u.prototype.gte=function($){return this.cmp($)>=0},u.prototype.ltn=function($){return-1===this.cmpn($)},u.prototype.lt=function($){return-1===this.cmp($)},u.prototype.lten=function($){return this.cmpn($)<=0},u.prototype.lte=function($){return this.cmp($)<=0},u.prototype.eqn=function($){return 0===this.cmpn($)},u.prototype.eq=function($){return 0===this.cmp($)},u.red=function($){return new fe($)},u.prototype.toRed=function($){return g(!this.red,"Already a number in reduction context"),g(0===this.negative,"red works only with positives"),$.convertTo(this)._forceRed($)},u.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function($){return this.red=$,this},u.prototype.forceRed=function($){return g(!this.red,"Already a number in reduction context"),this._forceRed($)},u.prototype.redAdd=function($){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,$)},u.prototype.redIAdd=function($){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,$)},u.prototype.redSub=function($){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,$)},u.prototype.redISub=function($){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,$)},u.prototype.redShl=function($){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,$)},u.prototype.redMul=function($){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,$),this.red.mul(this,$)},u.prototype.redIMul=function($){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,$),this.red.imul(this,$)},u.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function($){return g(this.red&&!$.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,$)};var Z={k256:null,p224:null,p192:null,p25519:null};function ee($,W){this.name=$,this.p=new u(W,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ne(){ee.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function J(){ee.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function re(){ee.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function oe(){ee.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function fe($){if("string"==typeof $){var W=u._prime($);this.m=W.p,this.prime=W}else g($.gtn(1),"modulus must be greater than 1"),this.m=$,this.prime=null}function ae($){fe.call(this,$),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ee.prototype._tmp=function(){var $=new u(null);return $.words=new Array(Math.ceil(this.n/13)),$},ee.prototype.ireduce=function($){var W,ie=$;do{this.split(ie,this.tmp),W=(ie=(ie=this.imulK(ie)).iadd(this.tmp)).bitLength()}while(W>this.n);var T=W<this.n?-1:ie.ucmp(this.p);return 0===T?(ie.words[0]=0,ie.length=1):T>0?ie.isub(this.p):void 0!==ie.strip?ie.strip():ie._strip(),ie},ee.prototype.split=function($,W){$.iushrn(this.n,0,W)},ee.prototype.imulK=function($){return $.imul(this.k)},d(ne,ee),ne.prototype.split=function($,W){for(var ie=Math.min($.length,9),T=0;T<ie;T++)W.words[T]=$.words[T];if(W.length=ie,$.length<=9)return $.words[0]=0,void($.length=1);var I=$.words[9];for(W.words[W.length++]=4194303&I,T=10;T<$.length;T++){var k=0|$.words[T];$.words[T-10]=(4194303&k)<<4|I>>>22,I=k}$.words[T-10]=I>>>=22,$.length-=0===I&&$.length>10?10:9},ne.prototype.imulK=function($){$.words[$.length]=0,$.words[$.length+1]=0,$.length+=2;for(var W=0,ie=0;ie<$.length;ie++){var T=0|$.words[ie];$.words[ie]=67108863&(W+=977*T),W=64*T+(W/67108864|0)}return 0===$.words[$.length-1]&&($.length--,0===$.words[$.length-1]&&$.length--),$},d(J,ee),d(re,ee),d(oe,ee),oe.prototype.imulK=function($){for(var W=0,ie=0;ie<$.length;ie++){var T=19*(0|$.words[ie])+W,I=67108863&T;T>>>=26,$.words[ie]=I,W=T}return 0!==W&&($.words[$.length++]=W),$},u._prime=function($){if(Z[$])return Z[$];var W;if("k256"===$)W=new ne;else if("p224"===$)W=new J;else if("p192"===$)W=new re;else{if("p25519"!==$)throw new Error("Unknown prime "+$);W=new oe}return Z[$]=W,W},fe.prototype._verify1=function($){g(0===$.negative,"red works only with positives"),g($.red,"red works only with red numbers")},fe.prototype._verify2=function($,W){g(0==($.negative|W.negative),"red works only with positives"),g($.red&&$.red===W.red,"red works only with red numbers")},fe.prototype.imod=function($){return this.prime?this.prime.ireduce($)._forceRed(this):$.umod(this.m)._forceRed(this)},fe.prototype.neg=function($){return $.isZero()?$.clone():this.m.sub($)._forceRed(this)},fe.prototype.add=function($,W){this._verify2($,W);var ie=$.add(W);return ie.cmp(this.m)>=0&&ie.isub(this.m),ie._forceRed(this)},fe.prototype.iadd=function($,W){this._verify2($,W);var ie=$.iadd(W);return ie.cmp(this.m)>=0&&ie.isub(this.m),ie},fe.prototype.sub=function($,W){this._verify2($,W);var ie=$.sub(W);return ie.cmpn(0)<0&&ie.iadd(this.m),ie._forceRed(this)},fe.prototype.isub=function($,W){this._verify2($,W);var ie=$.isub(W);return ie.cmpn(0)<0&&ie.iadd(this.m),ie},fe.prototype.shl=function($,W){return this._verify1($),this.imod($.ushln(W))},fe.prototype.imul=function($,W){return this._verify2($,W),this.imod($.imul(W))},fe.prototype.mul=function($,W){return this._verify2($,W),this.imod($.mul(W))},fe.prototype.isqr=function($){return this.imul($,$.clone())},fe.prototype.sqr=function($){return this.mul($,$)},fe.prototype.sqrt=function($){if($.isZero())return $.clone();var W=this.m.andln(3);if(g(W%2==1),3===W){var ie=this.m.add(new u(1)).iushrn(2);return this.pow($,ie)}for(var T=this.m.subn(1),I=0;!T.isZero()&&0===T.andln(1);)I++,T.iushrn(1);g(!T.isZero());var k=new u(1).toRed(this),N=k.redNeg(),P=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new u(2*U*U).toRed(this);0!==this.pow(U,P).cmp(N);)U.redIAdd(N);for(var Y=this.pow(U,T),ce=this.pow($,T.addn(1).iushrn(1)),he=this.pow($,T),be=I;0!==he.cmp(k);){for(var K=he,_e=0;0!==K.cmp(k);_e++)K=K.redSqr();g(_e<be);var q=this.pow(Y,new u(1).iushln(be-_e-1));ce=ce.redMul(q),Y=q.redSqr(),he=he.redMul(Y),be=_e}return ce},fe.prototype.invm=function($){var W=$._invmp(this.m);return 0!==W.negative?(W.negative=0,this.imod(W).redNeg()):this.imod(W)},fe.prototype.pow=function($,W){if(W.isZero())return new u(1).toRed(this);if(0===W.cmpn(1))return $.clone();var ie=new Array(16);ie[0]=new u(1).toRed(this),ie[1]=$;for(var T=2;T<ie.length;T++)ie[T]=this.mul(ie[T-1],$);var I=ie[0],k=0,N=0,P=W.bitLength()%26;for(0===P&&(P=26),T=W.length-1;T>=0;T--){for(var U=W.words[T],Y=P-1;Y>=0;Y--){var ce=U>>Y&1;I!==ie[0]&&(I=this.sqr(I)),0!==ce||0!==k?(k<<=1,k|=ce,(4==++N||0===T&&0===Y)&&(I=this.mul(I,ie[k]),N=0,k=0)):N=0}P=26}return I},fe.prototype.convertTo=function($){var W=$.umod(this.m);return W===$?W.clone():W},fe.prototype.convertFrom=function($){var W=$.clone();return W.red=null,W},u.mont=function($){return new ae($)},d(ae,fe),ae.prototype.convertTo=function($){return this.imod($.ushln(this.shift))},ae.prototype.convertFrom=function($){var W=this.imod($.mul(this.rinv));return W.red=null,W},ae.prototype.imul=function($,W){if($.isZero()||W.isZero())return $.words[0]=0,$.length=1,$;var ie=$.imul(W),T=ie.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=ie.isub(T).iushrn(this.shift),k=I;return I.cmp(this.m)>=0?k=I.isub(this.m):I.cmpn(0)<0&&(k=I.iadd(this.m)),k._forceRed(this)},ae.prototype.mul=function($,W){if($.isZero()||W.isZero())return new u(0)._forceRed(this);var ie=$.mul(W),T=ie.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=ie.isub(T).iushrn(this.shift),k=I;return I.cmp(this.m)>=0?k=I.isub(this.m):I.cmpn(0)<0&&(k=I.iadd(this.m)),k._forceRed(this)},ae.prototype.invm=function($){return this.imod($._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===z||z)},{buffer:188}],185:[function(_,z,B){"use strict";B.byteLength=function(m){var C=b(m),v=C[1];return 3*(C[0]+v)/4-v},B.toByteArray=function(m){var C,E,J,v=b(m),D=v[0],S=v[1],R=new g(3*(D+(J=S))/4-J),L=0,Z=S>0?D-4:D;for(E=0;E<Z;E+=4)C=y[m.charCodeAt(E)]<<18|y[m.charCodeAt(E+1)]<<12|y[m.charCodeAt(E+2)]<<6|y[m.charCodeAt(E+3)],R[L++]=C>>16&255,R[L++]=C>>8&255,R[L++]=255&C;return 2===S&&(C=y[m.charCodeAt(E)]<<2|y[m.charCodeAt(E+1)]>>4,R[L++]=255&C),1===S&&(C=y[m.charCodeAt(E)]<<10|y[m.charCodeAt(E+1)]<<4|y[m.charCodeAt(E+2)]>>2,R[L++]=C>>8&255,R[L++]=255&C),R},B.fromByteArray=function(m){for(var C,E=m.length,v=E%3,D=[],S=0,R=E-v;S<R;S+=16383)D.push(p(m,S,S+16383>R?R:S+16383));return 1===v?D.push(A[(C=m[E-1])>>2]+A[C<<4&63]+"=="):2===v&&D.push(A[(C=(m[E-2]<<8)+m[E-1])>>10]+A[C>>4&63]+A[C<<2&63]+"="),D.join("")};for(var A=[],y=[],g=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,f=d.length;u<f;++u)A[u]=d[u],y[d.charCodeAt(u)]=u;function b(m){var C=m.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=m.indexOf("=");return-1===E&&(E=C),[E,E===C?0:4-E%4]}function p(m,C,E){for(var D,S=[],R=C;R<E;R+=3)S.push(A[(D=(m[R]<<16&16711680)+(m[R+1]<<8&65280)+(255&m[R+2]))>>18&63]+A[D>>12&63]+A[D>>6&63]+A[63&D]);return S.join("")}y["-".charCodeAt(0)]=62,y["_".charCodeAt(0)]=63},{}],186:[function(_,z,B){"use strict";!function(A,y){function g(T,I){if(!T)throw new Error(I||"Assertion failed")}function d(T,I){T.super_=I;var k=function(){};k.prototype=I.prototype,T.prototype=new k,T.prototype.constructor=T}function u(T,I,k){if(u.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,null!==T&&("le"!==I&&"be"!==I||(k=I,I=10),this._init(T||0,I||10,k||"be"))}var f;"object"==typeof A?A.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{f=typeof window<"u"&&void 0!==window.Buffer?window.Buffer:_("buffer").Buffer}catch{}function b(T,I){var k=T.charCodeAt(I);return k>=48&&k<=57?k-48:k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:void g(!1,"Invalid character in "+T)}function p(T,I,k){var N=b(T,k);return k-1>=I&&(N|=b(T,k-1)<<4),N}function m(T,I,k,N){for(var P=0,U=0,Y=Math.min(T.length,k),ce=I;ce<Y;ce++){var he=T.charCodeAt(ce)-48;P*=N,U=he>=49?he-49+10:he>=17?he-17+10:he,g(he>=0&&U<N,"Invalid character"),P+=U}return P}function C(T,I){T.words=I.words,T.length=I.length,T.negative=I.negative,T.red=I.red}if(u.isBN=function(T){return T instanceof u||null!==T&&"object"==typeof T&&T.constructor.wordSize===u.wordSize&&Array.isArray(T.words)},u.max=function(T,I){return T.cmp(I)>0?T:I},u.min=function(T,I){return T.cmp(I)<0?T:I},u.prototype._init=function(T,I,k){if("number"==typeof T)return this._initNumber(T,I,k);if("object"==typeof T)return this._initArray(T,I,k);"hex"===I&&(I=16),g(I===(0|I)&&I>=2&&I<=36);var N=0;"-"===(T=T.toString().replace(/\s+/g,""))[0]&&(N++,this.negative=1),N<T.length&&(16===I?this._parseHex(T,N,k):(this._parseBase(T,I,N),"le"===k&&this._initArray(this.toArray(),I,k)))},u.prototype._initNumber=function(T,I,k){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(g(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),"le"===k&&this._initArray(this.toArray(),I,k)},u.prototype._initArray=function(T,I,k){if(g("number"==typeof T.length),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var P,U,Y=0;if("be"===k)for(N=T.length-1,P=0;N>=0;N-=3)this.words[P]|=(U=T[N]|T[N-1]<<8|T[N-2]<<16)<<Y&67108863,this.words[P+1]=U>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,P++);else if("le"===k)for(N=0,P=0;N<T.length;N+=3)this.words[P]|=(U=T[N]|T[N+1]<<8|T[N+2]<<16)<<Y&67108863,this.words[P+1]=U>>>26-Y&67108863,(Y+=24)>=26&&(Y-=26,P++);return this._strip()},u.prototype._parseHex=function(T,I,k){this.length=Math.ceil((T.length-I)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var P,U=0,Y=0;if("be"===k)for(N=T.length-1;N>=I;N-=2)P=p(T,I,N)<<U,this.words[Y]|=67108863&P,U>=18?(U-=18,this.words[Y+=1]|=P>>>26):U+=8;else for(N=(T.length-I)%2==0?I+1:I;N<T.length;N+=2)P=p(T,I,N)<<U,this.words[Y]|=67108863&P,U>=18?(U-=18,this.words[Y+=1]|=P>>>26):U+=8;this._strip()},u.prototype._parseBase=function(T,I,k){this.words=[0],this.length=1;for(var N=0,P=1;P<=67108863;P*=I)N++;N--,P=P/I|0;for(var U=T.length-k,Y=U%N,ce=Math.min(U,U-Y)+k,he=0,be=k;be<ce;be+=N)he=m(T,be,be+N,I),this.imuln(P),this.words[0]+he<67108864?this.words[0]+=he:this._iaddn(he);if(0!==Y){var K=1;for(he=m(T,be,T.length,I),be=0;be<Y;be++)K*=I;this.imuln(K),this.words[0]+he<67108864?this.words[0]+=he:this._iaddn(he)}this._strip()},u.prototype.copy=function(T){T.words=new Array(this.length);for(var I=0;I<this.length;I++)T.words[I]=this.words[I];T.length=this.length,T.negative=this.negative,T.red=this.red},u.prototype._move=function(T){C(T,this)},u.prototype.clone=function(){var T=new u(null);return this.copy(T),T},u.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},u.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=E}catch{u.prototype.inspect=E}else u.prototype.inspect=E;function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function R(T,I,k){k.negative=I.negative^T.negative;var N=T.length+I.length|0;k.length=N,N=N-1|0;var P=0|T.words[0],U=0|I.words[0],Y=P*U,he=Y/67108864|0;k.words[0]=67108863&Y;for(var be=1;be<N;be++){for(var K=he>>>26,_e=67108863&he,q=Math.min(be,I.length-1),G=Math.max(0,be-T.length+1);G<=q;G++)K+=(Y=(P=0|T.words[be-G|0])*(U=0|I.words[G])+_e)/67108864|0,_e=67108863&Y;k.words[be]=0|_e,he=0|K}return 0!==he?k.words[be]=0|he:k.length--,k._strip()}u.prototype.toString=function(T,I){var k;if(I=0|I||1,16===(T=T||10)||"hex"===T){k="";for(var N=0,P=0,U=0;U<this.length;U++){var Y=this.words[U],ce=(16777215&(Y<<N|P)).toString(16);P=Y>>>24-N&16777215,(N+=2)>=26&&(N-=26,U--),k=0!==P||U!==this.length-1?v[6-ce.length]+ce+k:ce+k}for(0!==P&&(k=P.toString(16)+k);k.length%I!=0;)k="0"+k;return 0!==this.negative&&(k="-"+k),k}if(T===(0|T)&&T>=2&&T<=36){var he=D[T],be=S[T];k="";var K=this.clone();for(K.negative=0;!K.isZero();){var _e=K.modrn(be).toString(T);k=(K=K.idivn(be)).isZero()?_e+k:v[he-_e.length]+_e+k}for(this.isZero()&&(k="0"+k);k.length%I!=0;)k="0"+k;return 0!==this.negative&&(k="-"+k),k}g(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var T=this.words[0];return 2===this.length?T+=67108864*this.words[1]:3===this.length&&1===this.words[2]?T+=4503599627370496+67108864*this.words[1]:this.length>2&&g(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-T:T},u.prototype.toJSON=function(){return this.toString(16,2)},f&&(u.prototype.toBuffer=function(T,I){return this.toArrayLike(f,T,I)}),u.prototype.toArray=function(T,I){return this.toArrayLike(Array,T,I)},u.prototype.toArrayLike=function(T,I,k){this._strip();var N=this.byteLength(),P=k||Math.max(1,N);g(N<=P,"byte array longer than desired length"),g(P>0,"Requested array length <= 0");var Y,ce,U=(ce=P,(Y=T).allocUnsafe?Y.allocUnsafe(ce):new Y(ce));return this["_toArrayLike"+("le"===I?"LE":"BE")](U,N),U},u.prototype._toArrayLikeLE=function(T,I){for(var k=0,N=0,P=0,U=0;P<this.length;P++){var Y=this.words[P]<<U|N;T[k++]=255&Y,k<T.length&&(T[k++]=Y>>8&255),k<T.length&&(T[k++]=Y>>16&255),6===U?(k<T.length&&(T[k++]=Y>>24&255),N=0,U=0):(N=Y>>>24,U+=2)}if(k<T.length)for(T[k++]=N;k<T.length;)T[k++]=0},u.prototype._toArrayLikeBE=function(T,I){for(var k=T.length-1,N=0,P=0,U=0;P<this.length;P++){var Y=this.words[P]<<U|N;T[k--]=255&Y,k>=0&&(T[k--]=Y>>8&255),k>=0&&(T[k--]=Y>>16&255),6===U?(k>=0&&(T[k--]=Y>>24&255),N=0,U=0):(N=Y>>>24,U+=2)}if(k>=0)for(T[k--]=N;k>=0;)T[k--]=0},u.prototype._countBits=Math.clz32?function(T){return 32-Math.clz32(T)}:function(T){var I=T,k=0;return I>=4096&&(k+=13,I>>>=13),I>=64&&(k+=7,I>>>=7),I>=8&&(k+=4,I>>>=4),I>=2&&(k+=2,I>>>=2),k+I},u.prototype._zeroBits=function(T){if(0===T)return 26;var I=T,k=0;return!(8191&I)&&(k+=13,I>>>=13),!(127&I)&&(k+=7,I>>>=7),!(15&I)&&(k+=4,I>>>=4),!(3&I)&&(k+=2,I>>>=2),!(1&I)&&k++,k},u.prototype.bitLength=function(){var I=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+I},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,I=0;I<this.length;I++){var k=this._zeroBits(this.words[I]);if(T+=k,26!==k)break}return T},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(T){return 0!==this.negative?this.abs().inotn(T).iaddn(1):this.clone()},u.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return 0!==this.negative},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var I=0;I<T.length;I++)this.words[I]=this.words[I]|T.words[I];return this._strip()},u.prototype.ior=function(T){return g(0==(this.negative|T.negative)),this.iuor(T)},u.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},u.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},u.prototype.iuand=function(T){var I;I=this.length>T.length?T:this;for(var k=0;k<I.length;k++)this.words[k]=this.words[k]&T.words[k];return this.length=I.length,this._strip()},u.prototype.iand=function(T){return g(0==(this.negative|T.negative)),this.iuand(T)},u.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},u.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},u.prototype.iuxor=function(T){var I,k;this.length>T.length?(I=this,k=T):(I=T,k=this);for(var N=0;N<k.length;N++)this.words[N]=I.words[N]^k.words[N];if(this!==I)for(;N<I.length;N++)this.words[N]=I.words[N];return this.length=I.length,this._strip()},u.prototype.ixor=function(T){return g(0==(this.negative|T.negative)),this.iuxor(T)},u.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},u.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},u.prototype.inotn=function(T){g("number"==typeof T&&T>=0);var I=0|Math.ceil(T/26),k=T%26;this._expand(I),k>0&&I--;for(var N=0;N<I;N++)this.words[N]=67108863&~this.words[N];return k>0&&(this.words[N]=~this.words[N]&67108863>>26-k),this._strip()},u.prototype.notn=function(T){return this.clone().inotn(T)},u.prototype.setn=function(T,I){g("number"==typeof T&&T>=0);var k=T/26|0,N=T%26;return this._expand(k+1),this.words[k]=I?this.words[k]|1<<N:this.words[k]&~(1<<N),this._strip()},u.prototype.iadd=function(T){var I,k,N;if(0!==this.negative&&0===T.negative)return this.negative=0,I=this.isub(T),this.negative^=1,this._normSign();if(0===this.negative&&0!==T.negative)return T.negative=0,I=this.isub(T),T.negative=1,I._normSign();this.length>T.length?(k=this,N=T):(k=T,N=this);for(var P=0,U=0;U<N.length;U++)this.words[U]=67108863&(I=(0|k.words[U])+(0|N.words[U])+P),P=I>>>26;for(;0!==P&&U<k.length;U++)this.words[U]=67108863&(I=(0|k.words[U])+P),P=I>>>26;if(this.length=k.length,0!==P)this.words[this.length]=P,this.length++;else if(k!==this)for(;U<k.length;U++)this.words[U]=k.words[U];return this},u.prototype.add=function(T){var I;return 0!==T.negative&&0===this.negative?(T.negative=0,I=this.sub(T),T.negative^=1,I):0===T.negative&&0!==this.negative?(this.negative=0,I=T.sub(this),this.negative=1,I):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},u.prototype.isub=function(T){if(0!==T.negative){T.negative=0;var I=this.iadd(T);return T.negative=1,I._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var k,N,P=this.cmp(T);if(0===P)return this.negative=0,this.length=1,this.words[0]=0,this;P>0?(k=this,N=T):(k=T,N=this);for(var U=0,Y=0;Y<N.length;Y++)U=(I=(0|k.words[Y])-(0|N.words[Y])+U)>>26,this.words[Y]=67108863&I;for(;0!==U&&Y<k.length;Y++)U=(I=(0|k.words[Y])+U)>>26,this.words[Y]=67108863&I;if(0===U&&Y<k.length&&k!==this)for(;Y<k.length;Y++)this.words[Y]=k.words[Y];return this.length=Math.max(this.length,Y),k!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(T){return this.clone().isub(T)};var L=function(T,I,k){var N,P,U,Y=T.words,ce=I.words,he=k.words,be=0,K=0|Y[0],_e=8191&K,q=K>>>13,G=0|Y[1],ue=8191&G,Te=G>>>13,Me=0|Y[2],Ee=8191&Me,ke=Me>>>13,We=0|Y[3],Ve=8191&We,Se=We>>>13,qe=0|Y[4],ze=8191&qe,Ye=qe>>>13,st=0|Y[5],tt=8191&st,it=st>>>13,lt=0|Y[6],ht=8191&lt,kt=lt>>>13,Wt=0|Y[7],Nt=8191&Wt,qt=Wt>>>13,Dn=0|Y[8],gn=8191&Dn,Mt=Dn>>>13,sn=0|Y[9],Dt=8191&sn,Fe=sn>>>13,Be=0|ce[0],Pe=8191&Be,Ue=Be>>>13,Ze=0|ce[1],ot=8191&Ze,yt=Ze>>>13,Jt=0|ce[2],on=8191&Jt,Qt=Jt>>>13,tr=0|ce[3],Ut=8191&tr,an=tr>>>13,lr=0|ce[4],Zt=8191&lr,vn=lr>>>13,Bi=0|ce[5],In=8191&Bi,Ge=Bi>>>13,ct=0|ce[6],gt=8191&ct,Rt=ct>>>13,Qn=0|ce[7],Kt=8191&Qn,cn=Qn>>>13,fr=0|ce[8],yn=8191&fr,en=fr>>>13,pr=0|ce[9],Cn=8191&pr,Wn=pr>>>13;k.negative=T.negative^I.negative,k.length=19;var En=(be+(N=Math.imul(_e,Pe))|0)+((8191&(P=(P=Math.imul(_e,Ue))+Math.imul(q,Pe)|0))<<13)|0;be=((U=Math.imul(q,Ue))+(P>>>13)|0)+(En>>>26)|0,En&=67108863,N=Math.imul(ue,Pe),P=(P=Math.imul(ue,Ue))+Math.imul(Te,Pe)|0,U=Math.imul(Te,Ue);var Kn=(be+(N=N+Math.imul(_e,ot)|0)|0)+((8191&(P=(P=P+Math.imul(_e,yt)|0)+Math.imul(q,ot)|0))<<13)|0;be=((U=U+Math.imul(q,yt)|0)+(P>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,N=Math.imul(Ee,Pe),P=(P=Math.imul(Ee,Ue))+Math.imul(ke,Pe)|0,U=Math.imul(ke,Ue),N=N+Math.imul(ue,ot)|0,P=(P=P+Math.imul(ue,yt)|0)+Math.imul(Te,ot)|0,U=U+Math.imul(Te,yt)|0;var or=(be+(N=N+Math.imul(_e,on)|0)|0)+((8191&(P=(P=P+Math.imul(_e,Qt)|0)+Math.imul(q,on)|0))<<13)|0;be=((U=U+Math.imul(q,Qt)|0)+(P>>>13)|0)+(or>>>26)|0,or&=67108863,N=Math.imul(Ve,Pe),P=(P=Math.imul(Ve,Ue))+Math.imul(Se,Pe)|0,U=Math.imul(Se,Ue),N=N+Math.imul(Ee,ot)|0,P=(P=P+Math.imul(Ee,yt)|0)+Math.imul(ke,ot)|0,U=U+Math.imul(ke,yt)|0,N=N+Math.imul(ue,on)|0,P=(P=P+Math.imul(ue,Qt)|0)+Math.imul(Te,on)|0,U=U+Math.imul(Te,Qt)|0;var Pr=(be+(N=N+Math.imul(_e,Ut)|0)|0)+((8191&(P=(P=P+Math.imul(_e,an)|0)+Math.imul(q,Ut)|0))<<13)|0;be=((U=U+Math.imul(q,an)|0)+(P>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,N=Math.imul(ze,Pe),P=(P=Math.imul(ze,Ue))+Math.imul(Ye,Pe)|0,U=Math.imul(Ye,Ue),N=N+Math.imul(Ve,ot)|0,P=(P=P+Math.imul(Ve,yt)|0)+Math.imul(Se,ot)|0,U=U+Math.imul(Se,yt)|0,N=N+Math.imul(Ee,on)|0,P=(P=P+Math.imul(Ee,Qt)|0)+Math.imul(ke,on)|0,U=U+Math.imul(ke,Qt)|0,N=N+Math.imul(ue,Ut)|0,P=(P=P+Math.imul(ue,an)|0)+Math.imul(Te,Ut)|0,U=U+Math.imul(Te,an)|0;var cr=(be+(N=N+Math.imul(_e,Zt)|0)|0)+((8191&(P=(P=P+Math.imul(_e,vn)|0)+Math.imul(q,Zt)|0))<<13)|0;be=((U=U+Math.imul(q,vn)|0)+(P>>>13)|0)+(cr>>>26)|0,cr&=67108863,N=Math.imul(tt,Pe),P=(P=Math.imul(tt,Ue))+Math.imul(it,Pe)|0,U=Math.imul(it,Ue),N=N+Math.imul(ze,ot)|0,P=(P=P+Math.imul(ze,yt)|0)+Math.imul(Ye,ot)|0,U=U+Math.imul(Ye,yt)|0,N=N+Math.imul(Ve,on)|0,P=(P=P+Math.imul(Ve,Qt)|0)+Math.imul(Se,on)|0,U=U+Math.imul(Se,Qt)|0,N=N+Math.imul(Ee,Ut)|0,P=(P=P+Math.imul(Ee,an)|0)+Math.imul(ke,Ut)|0,U=U+Math.imul(ke,an)|0,N=N+Math.imul(ue,Zt)|0,P=(P=P+Math.imul(ue,vn)|0)+Math.imul(Te,Zt)|0,U=U+Math.imul(Te,vn)|0;var Ur=(be+(N=N+Math.imul(_e,In)|0)|0)+((8191&(P=(P=P+Math.imul(_e,Ge)|0)+Math.imul(q,In)|0))<<13)|0;be=((U=U+Math.imul(q,Ge)|0)+(P>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,N=Math.imul(ht,Pe),P=(P=Math.imul(ht,Ue))+Math.imul(kt,Pe)|0,U=Math.imul(kt,Ue),N=N+Math.imul(tt,ot)|0,P=(P=P+Math.imul(tt,yt)|0)+Math.imul(it,ot)|0,U=U+Math.imul(it,yt)|0,N=N+Math.imul(ze,on)|0,P=(P=P+Math.imul(ze,Qt)|0)+Math.imul(Ye,on)|0,U=U+Math.imul(Ye,Qt)|0,N=N+Math.imul(Ve,Ut)|0,P=(P=P+Math.imul(Ve,an)|0)+Math.imul(Se,Ut)|0,U=U+Math.imul(Se,an)|0,N=N+Math.imul(Ee,Zt)|0,P=(P=P+Math.imul(Ee,vn)|0)+Math.imul(ke,Zt)|0,U=U+Math.imul(ke,vn)|0,N=N+Math.imul(ue,In)|0,P=(P=P+Math.imul(ue,Ge)|0)+Math.imul(Te,In)|0,U=U+Math.imul(Te,Ge)|0;var Le=(be+(N=N+Math.imul(_e,gt)|0)|0)+((8191&(P=(P=P+Math.imul(_e,Rt)|0)+Math.imul(q,gt)|0))<<13)|0;be=((U=U+Math.imul(q,Rt)|0)+(P>>>13)|0)+(Le>>>26)|0,Le&=67108863,N=Math.imul(Nt,Pe),P=(P=Math.imul(Nt,Ue))+Math.imul(qt,Pe)|0,U=Math.imul(qt,Ue),N=N+Math.imul(ht,ot)|0,P=(P=P+Math.imul(ht,yt)|0)+Math.imul(kt,ot)|0,U=U+Math.imul(kt,yt)|0,N=N+Math.imul(tt,on)|0,P=(P=P+Math.imul(tt,Qt)|0)+Math.imul(it,on)|0,U=U+Math.imul(it,Qt)|0,N=N+Math.imul(ze,Ut)|0,P=(P=P+Math.imul(ze,an)|0)+Math.imul(Ye,Ut)|0,U=U+Math.imul(Ye,an)|0,N=N+Math.imul(Ve,Zt)|0,P=(P=P+Math.imul(Ve,vn)|0)+Math.imul(Se,Zt)|0,U=U+Math.imul(Se,vn)|0,N=N+Math.imul(Ee,In)|0,P=(P=P+Math.imul(Ee,Ge)|0)+Math.imul(ke,In)|0,U=U+Math.imul(ke,Ge)|0,N=N+Math.imul(ue,gt)|0,P=(P=P+Math.imul(ue,Rt)|0)+Math.imul(Te,gt)|0,U=U+Math.imul(Te,Rt)|0;var at=(be+(N=N+Math.imul(_e,Kt)|0)|0)+((8191&(P=(P=P+Math.imul(_e,cn)|0)+Math.imul(q,Kt)|0))<<13)|0;be=((U=U+Math.imul(q,cn)|0)+(P>>>13)|0)+(at>>>26)|0,at&=67108863,N=Math.imul(gn,Pe),P=(P=Math.imul(gn,Ue))+Math.imul(Mt,Pe)|0,U=Math.imul(Mt,Ue),N=N+Math.imul(Nt,ot)|0,P=(P=P+Math.imul(Nt,yt)|0)+Math.imul(qt,ot)|0,U=U+Math.imul(qt,yt)|0,N=N+Math.imul(ht,on)|0,P=(P=P+Math.imul(ht,Qt)|0)+Math.imul(kt,on)|0,U=U+Math.imul(kt,Qt)|0,N=N+Math.imul(tt,Ut)|0,P=(P=P+Math.imul(tt,an)|0)+Math.imul(it,Ut)|0,U=U+Math.imul(it,an)|0,N=N+Math.imul(ze,Zt)|0,P=(P=P+Math.imul(ze,vn)|0)+Math.imul(Ye,Zt)|0,U=U+Math.imul(Ye,vn)|0,N=N+Math.imul(Ve,In)|0,P=(P=P+Math.imul(Ve,Ge)|0)+Math.imul(Se,In)|0,U=U+Math.imul(Se,Ge)|0,N=N+Math.imul(Ee,gt)|0,P=(P=P+Math.imul(Ee,Rt)|0)+Math.imul(ke,gt)|0,U=U+Math.imul(ke,Rt)|0,N=N+Math.imul(ue,Kt)|0,P=(P=P+Math.imul(ue,cn)|0)+Math.imul(Te,Kt)|0,U=U+Math.imul(Te,cn)|0;var Tt=(be+(N=N+Math.imul(_e,yn)|0)|0)+((8191&(P=(P=P+Math.imul(_e,en)|0)+Math.imul(q,yn)|0))<<13)|0;be=((U=U+Math.imul(q,en)|0)+(P>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,N=Math.imul(Dt,Pe),P=(P=Math.imul(Dt,Ue))+Math.imul(Fe,Pe)|0,U=Math.imul(Fe,Ue),N=N+Math.imul(gn,ot)|0,P=(P=P+Math.imul(gn,yt)|0)+Math.imul(Mt,ot)|0,U=U+Math.imul(Mt,yt)|0,N=N+Math.imul(Nt,on)|0,P=(P=P+Math.imul(Nt,Qt)|0)+Math.imul(qt,on)|0,U=U+Math.imul(qt,Qt)|0,N=N+Math.imul(ht,Ut)|0,P=(P=P+Math.imul(ht,an)|0)+Math.imul(kt,Ut)|0,U=U+Math.imul(kt,an)|0,N=N+Math.imul(tt,Zt)|0,P=(P=P+Math.imul(tt,vn)|0)+Math.imul(it,Zt)|0,U=U+Math.imul(it,vn)|0,N=N+Math.imul(ze,In)|0,P=(P=P+Math.imul(ze,Ge)|0)+Math.imul(Ye,In)|0,U=U+Math.imul(Ye,Ge)|0,N=N+Math.imul(Ve,gt)|0,P=(P=P+Math.imul(Ve,Rt)|0)+Math.imul(Se,gt)|0,U=U+Math.imul(Se,Rt)|0,N=N+Math.imul(Ee,Kt)|0,P=(P=P+Math.imul(Ee,cn)|0)+Math.imul(ke,Kt)|0,U=U+Math.imul(ke,cn)|0,N=N+Math.imul(ue,yn)|0,P=(P=P+Math.imul(ue,en)|0)+Math.imul(Te,yn)|0,U=U+Math.imul(Te,en)|0;var Qe=(be+(N=N+Math.imul(_e,Cn)|0)|0)+((8191&(P=(P=P+Math.imul(_e,Wn)|0)+Math.imul(q,Cn)|0))<<13)|0;be=((U=U+Math.imul(q,Wn)|0)+(P>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,N=Math.imul(Dt,ot),P=(P=Math.imul(Dt,yt))+Math.imul(Fe,ot)|0,U=Math.imul(Fe,yt),N=N+Math.imul(gn,on)|0,P=(P=P+Math.imul(gn,Qt)|0)+Math.imul(Mt,on)|0,U=U+Math.imul(Mt,Qt)|0,N=N+Math.imul(Nt,Ut)|0,P=(P=P+Math.imul(Nt,an)|0)+Math.imul(qt,Ut)|0,U=U+Math.imul(qt,an)|0,N=N+Math.imul(ht,Zt)|0,P=(P=P+Math.imul(ht,vn)|0)+Math.imul(kt,Zt)|0,U=U+Math.imul(kt,vn)|0,N=N+Math.imul(tt,In)|0,P=(P=P+Math.imul(tt,Ge)|0)+Math.imul(it,In)|0,U=U+Math.imul(it,Ge)|0,N=N+Math.imul(ze,gt)|0,P=(P=P+Math.imul(ze,Rt)|0)+Math.imul(Ye,gt)|0,U=U+Math.imul(Ye,Rt)|0,N=N+Math.imul(Ve,Kt)|0,P=(P=P+Math.imul(Ve,cn)|0)+Math.imul(Se,Kt)|0,U=U+Math.imul(Se,cn)|0,N=N+Math.imul(Ee,yn)|0,P=(P=P+Math.imul(Ee,en)|0)+Math.imul(ke,yn)|0,U=U+Math.imul(ke,en)|0;var wt=(be+(N=N+Math.imul(ue,Cn)|0)|0)+((8191&(P=(P=P+Math.imul(ue,Wn)|0)+Math.imul(Te,Cn)|0))<<13)|0;be=((U=U+Math.imul(Te,Wn)|0)+(P>>>13)|0)+(wt>>>26)|0,wt&=67108863,N=Math.imul(Dt,on),P=(P=Math.imul(Dt,Qt))+Math.imul(Fe,on)|0,U=Math.imul(Fe,Qt),N=N+Math.imul(gn,Ut)|0,P=(P=P+Math.imul(gn,an)|0)+Math.imul(Mt,Ut)|0,U=U+Math.imul(Mt,an)|0,N=N+Math.imul(Nt,Zt)|0,P=(P=P+Math.imul(Nt,vn)|0)+Math.imul(qt,Zt)|0,U=U+Math.imul(qt,vn)|0,N=N+Math.imul(ht,In)|0,P=(P=P+Math.imul(ht,Ge)|0)+Math.imul(kt,In)|0,U=U+Math.imul(kt,Ge)|0,N=N+Math.imul(tt,gt)|0,P=(P=P+Math.imul(tt,Rt)|0)+Math.imul(it,gt)|0,U=U+Math.imul(it,Rt)|0,N=N+Math.imul(ze,Kt)|0,P=(P=P+Math.imul(ze,cn)|0)+Math.imul(Ye,Kt)|0,U=U+Math.imul(Ye,cn)|0,N=N+Math.imul(Ve,yn)|0,P=(P=P+Math.imul(Ve,en)|0)+Math.imul(Se,yn)|0,U=U+Math.imul(Se,en)|0;var zt=(be+(N=N+Math.imul(Ee,Cn)|0)|0)+((8191&(P=(P=P+Math.imul(Ee,Wn)|0)+Math.imul(ke,Cn)|0))<<13)|0;be=((U=U+Math.imul(ke,Wn)|0)+(P>>>13)|0)+(zt>>>26)|0,zt&=67108863,N=Math.imul(Dt,Ut),P=(P=Math.imul(Dt,an))+Math.imul(Fe,Ut)|0,U=Math.imul(Fe,an),N=N+Math.imul(gn,Zt)|0,P=(P=P+Math.imul(gn,vn)|0)+Math.imul(Mt,Zt)|0,U=U+Math.imul(Mt,vn)|0,N=N+Math.imul(Nt,In)|0,P=(P=P+Math.imul(Nt,Ge)|0)+Math.imul(qt,In)|0,U=U+Math.imul(qt,Ge)|0,N=N+Math.imul(ht,gt)|0,P=(P=P+Math.imul(ht,Rt)|0)+Math.imul(kt,gt)|0,U=U+Math.imul(kt,Rt)|0,N=N+Math.imul(tt,Kt)|0,P=(P=P+Math.imul(tt,cn)|0)+Math.imul(it,Kt)|0,U=U+Math.imul(it,cn)|0,N=N+Math.imul(ze,yn)|0,P=(P=P+Math.imul(ze,en)|0)+Math.imul(Ye,yn)|0,U=U+Math.imul(Ye,en)|0;var Yt=(be+(N=N+Math.imul(Ve,Cn)|0)|0)+((8191&(P=(P=P+Math.imul(Ve,Wn)|0)+Math.imul(Se,Cn)|0))<<13)|0;be=((U=U+Math.imul(Se,Wn)|0)+(P>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,N=Math.imul(Dt,Zt),P=(P=Math.imul(Dt,vn))+Math.imul(Fe,Zt)|0,U=Math.imul(Fe,vn),N=N+Math.imul(gn,In)|0,P=(P=P+Math.imul(gn,Ge)|0)+Math.imul(Mt,In)|0,U=U+Math.imul(Mt,Ge)|0,N=N+Math.imul(Nt,gt)|0,P=(P=P+Math.imul(Nt,Rt)|0)+Math.imul(qt,gt)|0,U=U+Math.imul(qt,Rt)|0,N=N+Math.imul(ht,Kt)|0,P=(P=P+Math.imul(ht,cn)|0)+Math.imul(kt,Kt)|0,U=U+Math.imul(kt,cn)|0,N=N+Math.imul(tt,yn)|0,P=(P=P+Math.imul(tt,en)|0)+Math.imul(it,yn)|0,U=U+Math.imul(it,en)|0;var jn=(be+(N=N+Math.imul(ze,Cn)|0)|0)+((8191&(P=(P=P+Math.imul(ze,Wn)|0)+Math.imul(Ye,Cn)|0))<<13)|0;be=((U=U+Math.imul(Ye,Wn)|0)+(P>>>13)|0)+(jn>>>26)|0,jn&=67108863,N=Math.imul(Dt,In),P=(P=Math.imul(Dt,Ge))+Math.imul(Fe,In)|0,U=Math.imul(Fe,Ge),N=N+Math.imul(gn,gt)|0,P=(P=P+Math.imul(gn,Rt)|0)+Math.imul(Mt,gt)|0,U=U+Math.imul(Mt,Rt)|0,N=N+Math.imul(Nt,Kt)|0,P=(P=P+Math.imul(Nt,cn)|0)+Math.imul(qt,Kt)|0,U=U+Math.imul(qt,cn)|0,N=N+Math.imul(ht,yn)|0,P=(P=P+Math.imul(ht,en)|0)+Math.imul(kt,yn)|0,U=U+Math.imul(kt,en)|0;var mn=(be+(N=N+Math.imul(tt,Cn)|0)|0)+((8191&(P=(P=P+Math.imul(tt,Wn)|0)+Math.imul(it,Cn)|0))<<13)|0;be=((U=U+Math.imul(it,Wn)|0)+(P>>>13)|0)+(mn>>>26)|0,mn&=67108863,N=Math.imul(Dt,gt),P=(P=Math.imul(Dt,Rt))+Math.imul(Fe,gt)|0,U=Math.imul(Fe,Rt),N=N+Math.imul(gn,Kt)|0,P=(P=P+Math.imul(gn,cn)|0)+Math.imul(Mt,Kt)|0,U=U+Math.imul(Mt,cn)|0,N=N+Math.imul(Nt,yn)|0,P=(P=P+Math.imul(Nt,en)|0)+Math.imul(qt,yn)|0,U=U+Math.imul(qt,en)|0;var hn=(be+(N=N+Math.imul(ht,Cn)|0)|0)+((8191&(P=(P=P+Math.imul(ht,Wn)|0)+Math.imul(kt,Cn)|0))<<13)|0;be=((U=U+Math.imul(kt,Wn)|0)+(P>>>13)|0)+(hn>>>26)|0,hn&=67108863,N=Math.imul(Dt,Kt),P=(P=Math.imul(Dt,cn))+Math.imul(Fe,Kt)|0,U=Math.imul(Fe,cn),N=N+Math.imul(gn,yn)|0,P=(P=P+Math.imul(gn,en)|0)+Math.imul(Mt,yn)|0,U=U+Math.imul(Mt,en)|0;var pn=(be+(N=N+Math.imul(Nt,Cn)|0)|0)+((8191&(P=(P=P+Math.imul(Nt,Wn)|0)+Math.imul(qt,Cn)|0))<<13)|0;be=((U=U+Math.imul(qt,Wn)|0)+(P>>>13)|0)+(pn>>>26)|0,pn&=67108863,N=Math.imul(Dt,yn),P=(P=Math.imul(Dt,en))+Math.imul(Fe,yn)|0,U=Math.imul(Fe,en);var Tr=(be+(N=N+Math.imul(gn,Cn)|0)|0)+((8191&(P=(P=P+Math.imul(gn,Wn)|0)+Math.imul(Mt,Cn)|0))<<13)|0;be=((U=U+Math.imul(Mt,Wn)|0)+(P>>>13)|0)+(Tr>>>26)|0,Tr&=67108863;var er=(be+(N=Math.imul(Dt,Cn))|0)+((8191&(P=(P=Math.imul(Dt,Wn))+Math.imul(Fe,Cn)|0))<<13)|0;return be=((U=Math.imul(Fe,Wn))+(P>>>13)|0)+(er>>>26)|0,er&=67108863,he[0]=En,he[1]=Kn,he[2]=or,he[3]=Pr,he[4]=cr,he[5]=Ur,he[6]=Le,he[7]=at,he[8]=Tt,he[9]=Qe,he[10]=wt,he[11]=zt,he[12]=Yt,he[13]=jn,he[14]=mn,he[15]=hn,he[16]=pn,he[17]=Tr,he[18]=er,0!==be&&(he[19]=be,k.length++),k};function Z(T,I,k){k.negative=I.negative^T.negative,k.length=T.length+I.length;for(var N=0,P=0,U=0;U<k.length-1;U++){var Y=P;P=0;for(var ce=67108863&N,he=Math.min(U,I.length-1),be=Math.max(0,U-T.length+1);be<=he;be++){var _e=(0|T.words[U-be])*(0|I.words[be]),q=67108863&_e;ce=67108863&(q=q+ce|0),P+=(Y=(Y=Y+(_e/67108864|0)|0)+(q>>>26)|0)>>>26,Y&=67108863}k.words[U]=ce,N=Y,Y=P}return 0!==N?k.words[U]=N:k.length--,k._strip()}function ee(T,I,k){return Z(T,I,k)}function ne(T,I){this.x=T,this.y=I}Math.imul||(L=R),u.prototype.mulTo=function(T,I){var k=this.length+T.length;return 10===this.length&&10===T.length?L(this,T,I):k<63?R(this,T,I):k<1024?Z(this,T,I):ee(this,T,I)},ne.prototype.makeRBT=function(T){for(var I=new Array(T),k=u.prototype._countBits(T)-1,N=0;N<T;N++)I[N]=this.revBin(N,k,T);return I},ne.prototype.revBin=function(T,I,k){if(0===T||T===k-1)return T;for(var N=0,P=0;P<I;P++)N|=(1&T)<<I-P-1,T>>=1;return N},ne.prototype.permute=function(T,I,k,N,P,U){for(var Y=0;Y<U;Y++)N[Y]=I[T[Y]],P[Y]=k[T[Y]]},ne.prototype.transform=function(T,I,k,N,P,U){this.permute(U,T,I,k,N,P);for(var Y=1;Y<P;Y<<=1)for(var ce=Y<<1,he=Math.cos(2*Math.PI/ce),be=Math.sin(2*Math.PI/ce),K=0;K<P;K+=ce)for(var _e=he,q=be,G=0;G<Y;G++){var ue=k[K+G],Te=N[K+G],Me=k[K+G+Y],Ee=N[K+G+Y],ke=_e*Me-q*Ee;Ee=_e*Ee+q*Me,k[K+G]=ue+(Me=ke),N[K+G]=Te+Ee,k[K+G+Y]=ue-Me,N[K+G+Y]=Te-Ee,G!==ce&&(ke=he*_e-be*q,q=he*q+be*_e,_e=ke)}},ne.prototype.guessLen13b=function(T,I){var k=1|Math.max(I,T),N=1&k,P=0;for(k=k/2|0;k;k>>>=1)P++;return 1<<P+1+N},ne.prototype.conjugate=function(T,I,k){if(!(k<=1))for(var N=0;N<k/2;N++){var P=T[N];T[N]=T[k-N-1],T[k-N-1]=P,P=I[N],I[N]=-I[k-N-1],I[k-N-1]=-P}},ne.prototype.normalize13b=function(T,I){for(var k=0,N=0;N<I/2;N++){var P=8192*Math.round(T[2*N+1]/I)+Math.round(T[2*N]/I)+k;T[N]=67108863&P,k=P<67108864?0:P/67108864|0}return T},ne.prototype.convert13b=function(T,I,k,N){for(var P=0,U=0;U<I;U++)k[2*U]=8191&(P+=0|T[U]),k[2*U+1]=8191&(P>>>=13),P>>>=13;for(U=2*I;U<N;++U)k[U]=0;g(0===P),g(0==(-8192&P))},ne.prototype.stub=function(T){for(var I=new Array(T),k=0;k<T;k++)I[k]=0;return I},ne.prototype.mulp=function(T,I,k){var N=2*this.guessLen13b(T.length,I.length),P=this.makeRBT(N),U=this.stub(N),Y=new Array(N),ce=new Array(N),he=new Array(N),be=new Array(N),K=new Array(N),_e=new Array(N),q=k.words;q.length=N,this.convert13b(T.words,T.length,Y,N),this.convert13b(I.words,I.length,be,N),this.transform(Y,U,ce,he,N,P),this.transform(be,U,K,_e,N,P);for(var G=0;G<N;G++){var ue=ce[G]*K[G]-he[G]*_e[G];he[G]=ce[G]*_e[G]+he[G]*K[G],ce[G]=ue}return this.conjugate(ce,he,N),this.transform(ce,he,q,U,N,P),this.conjugate(q,U,N),this.normalize13b(q,N),k.negative=T.negative^I.negative,k.length=T.length+I.length,k._strip()},u.prototype.mul=function(T){var I=new u(null);return I.words=new Array(this.length+T.length),this.mulTo(T,I)},u.prototype.mulf=function(T){var I=new u(null);return I.words=new Array(this.length+T.length),ee(this,T,I)},u.prototype.imul=function(T){return this.clone().mulTo(T,this)},u.prototype.imuln=function(T){var I=T<0;I&&(T=-T),g("number"==typeof T),g(T<67108864);for(var k=0,N=0;N<this.length;N++){var P=(0|this.words[N])*T,U=(67108863&P)+(67108863&k);k>>=26,k+=P/67108864|0,k+=U>>>26,this.words[N]=67108863&U}return 0!==k&&(this.words[N]=k,this.length++),I?this.ineg():this},u.prototype.muln=function(T){return this.clone().imuln(T)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(T){var I=function(U){for(var Y=new Array(U.bitLength()),ce=0;ce<Y.length;ce++)Y[ce]=U.words[ce/26|0]>>>ce%26&1;return Y}(T);if(0===I.length)return new u(1);for(var k=this,N=0;N<I.length&&0===I[N];N++,k=k.sqr());if(++N<I.length)for(var P=k.sqr();N<I.length;N++,P=P.sqr())0!==I[N]&&(k=k.mul(P));return k},u.prototype.iushln=function(T){g("number"==typeof T&&T>=0);var I,k=T%26,N=(T-k)/26,P=67108863>>>26-k<<26-k;if(0!==k){var U=0;for(I=0;I<this.length;I++){var Y=this.words[I]&P;this.words[I]=(0|this.words[I])-Y<<k|U,U=Y>>>26-k}U&&(this.words[I]=U,this.length++)}if(0!==N){for(I=this.length-1;I>=0;I--)this.words[I+N]=this.words[I];for(I=0;I<N;I++)this.words[I]=0;this.length+=N}return this._strip()},u.prototype.ishln=function(T){return g(0===this.negative),this.iushln(T)},u.prototype.iushrn=function(T,I,k){var N;g("number"==typeof T&&T>=0),N=I?(I-I%26)/26:0;var P=T%26,U=Math.min((T-P)/26,this.length),Y=67108863^67108863>>>P<<P,ce=k;if(N-=U,N=Math.max(0,N),ce){for(var he=0;he<U;he++)ce.words[he]=this.words[he];ce.length=U}if(0!==U)if(this.length>U)for(this.length-=U,he=0;he<this.length;he++)this.words[he]=this.words[he+U];else this.words[0]=0,this.length=1;var be=0;for(he=this.length-1;he>=0&&(0!==be||he>=N);he--){var K=0|this.words[he];this.words[he]=be<<26-P|K>>>P,be=K&Y}return ce&&0!==be&&(ce.words[ce.length++]=be),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(T,I,k){return g(0===this.negative),this.iushrn(T,I,k)},u.prototype.shln=function(T){return this.clone().ishln(T)},u.prototype.ushln=function(T){return this.clone().iushln(T)},u.prototype.shrn=function(T){return this.clone().ishrn(T)},u.prototype.ushrn=function(T){return this.clone().iushrn(T)},u.prototype.testn=function(T){g("number"==typeof T&&T>=0);var I=T%26,k=(T-I)/26;return!(this.length<=k||!(this.words[k]&1<<I))},u.prototype.imaskn=function(T){g("number"==typeof T&&T>=0);var I=T%26,k=(T-I)/26;return g(0===this.negative,"imaskn works only with positive numbers"),this.length<=k?this:(0!==I&&k++,this.length=Math.min(k,this.length),0!==I&&(this.words[this.length-1]&=67108863^67108863>>>I<<I),this._strip())},u.prototype.maskn=function(T){return this.clone().imaskn(T)},u.prototype.iaddn=function(T){return g("number"==typeof T),g(T<67108864),T<0?this.isubn(-T):0!==this.negative?1===this.length&&(0|this.words[0])<=T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},u.prototype._iaddn=function(T){this.words[0]+=T;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},u.prototype.isubn=function(T){if(g("number"==typeof T),g(T<67108864),T<0)return this.iaddn(-T);if(0!==this.negative)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this._strip()},u.prototype.addn=function(T){return this.clone().iaddn(T)},u.prototype.subn=function(T){return this.clone().isubn(T)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(T,I,k){var N,P;this._expand(T.length+k);var Y=0;for(N=0;N<T.length;N++){P=(0|this.words[N+k])+Y;var ce=(0|T.words[N])*I;Y=((P-=67108863&ce)>>26)-(ce/67108864|0),this.words[N+k]=67108863&P}for(;N<this.length-k;N++)Y=(P=(0|this.words[N+k])+Y)>>26,this.words[N+k]=67108863&P;if(0===Y)return this._strip();for(g(-1===Y),Y=0,N=0;N<this.length;N++)Y=(P=-(0|this.words[N])+Y)>>26,this.words[N]=67108863&P;return this.negative=1,this._strip()},u.prototype._wordDiv=function(T,I){var k,N=this.clone(),P=T,U=0|P.words[P.length-1];0!=(k=26-this._countBits(U))&&(P=P.ushln(k),N.iushln(k),U=0|P.words[P.length-1]);var Y,ce=N.length-P.length;if("mod"!==I){(Y=new u(null)).length=ce+1,Y.words=new Array(Y.length);for(var he=0;he<Y.length;he++)Y.words[he]=0}var be=N.clone()._ishlnsubmul(P,1,ce);0===be.negative&&(N=be,Y&&(Y.words[ce]=1));for(var K=ce-1;K>=0;K--){var _e=67108864*(0|N.words[P.length+K])+(0|N.words[P.length+K-1]);for(_e=Math.min(_e/U|0,67108863),N._ishlnsubmul(P,_e,K);0!==N.negative;)_e--,N.negative=0,N._ishlnsubmul(P,1,K),N.isZero()||(N.negative^=1);Y&&(Y.words[K]=_e)}return Y&&Y._strip(),N._strip(),"div"!==I&&0!==k&&N.iushrn(k),{div:Y||null,mod:N}},u.prototype.divmod=function(T,I,k){return g(!T.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:0!==this.negative&&0===T.negative?(U=this.neg().divmod(T,I),"mod"!==I&&(N=U.div.neg()),"div"!==I&&(P=U.mod.neg(),k&&0!==P.negative&&P.iadd(T)),{div:N,mod:P}):0===this.negative&&0!==T.negative?(U=this.divmod(T.neg(),I),"mod"!==I&&(N=U.div.neg()),{div:N,mod:U.mod}):this.negative&T.negative?(U=this.neg().divmod(T.neg(),I),"div"!==I&&(P=U.mod.neg(),k&&0!==P.negative&&P.isub(T)),{div:U.div,mod:P}):T.length>this.length||this.cmp(T)<0?{div:new u(0),mod:this}:1===T.length?"div"===I?{div:this.divn(T.words[0]),mod:null}:"mod"===I?{div:null,mod:new u(this.modrn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new u(this.modrn(T.words[0]))}:this._wordDiv(T,I);var N,P,U},u.prototype.div=function(T){return this.divmod(T,"div",!1).div},u.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},u.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},u.prototype.divRound=function(T){var I=this.divmod(T);if(I.mod.isZero())return I.div;var k=0!==I.div.negative?I.mod.isub(T):I.mod,N=T.ushrn(1),P=T.andln(1),U=k.cmp(N);return U<0||1===P&&0===U?I.div:0!==I.div.negative?I.div.isubn(1):I.div.iaddn(1)},u.prototype.modrn=function(T){var I=T<0;I&&(T=-T),g(T<=67108863);for(var k=(1<<26)%T,N=0,P=this.length-1;P>=0;P--)N=(k*N+(0|this.words[P]))%T;return I?-N:N},u.prototype.modn=function(T){return this.modrn(T)},u.prototype.idivn=function(T){var I=T<0;I&&(T=-T),g(T<=67108863);for(var k=0,N=this.length-1;N>=0;N--){var P=(0|this.words[N])+67108864*k;this.words[N]=P/T|0,k=P%T}return this._strip(),I?this.ineg():this},u.prototype.divn=function(T){return this.clone().idivn(T)},u.prototype.egcd=function(T){g(0===T.negative),g(!T.isZero());var I=this,k=T.clone();I=0!==I.negative?I.umod(T):I.clone();for(var N=new u(1),P=new u(0),U=new u(0),Y=new u(1),ce=0;I.isEven()&&k.isEven();)I.iushrn(1),k.iushrn(1),++ce;for(var he=k.clone(),be=I.clone();!I.isZero();){for(var K=0,_e=1;!(I.words[0]&_e)&&K<26;++K,_e<<=1);if(K>0)for(I.iushrn(K);K-- >0;)(N.isOdd()||P.isOdd())&&(N.iadd(he),P.isub(be)),N.iushrn(1),P.iushrn(1);for(var q=0,G=1;!(k.words[0]&G)&&q<26;++q,G<<=1);if(q>0)for(k.iushrn(q);q-- >0;)(U.isOdd()||Y.isOdd())&&(U.iadd(he),Y.isub(be)),U.iushrn(1),Y.iushrn(1);I.cmp(k)>=0?(I.isub(k),N.isub(U),P.isub(Y)):(k.isub(I),U.isub(N),Y.isub(P))}return{a:U,b:Y,gcd:k.iushln(ce)}},u.prototype._invmp=function(T){g(0===T.negative),g(!T.isZero());var I=this,k=T.clone();I=0!==I.negative?I.umod(T):I.clone();for(var N,P=new u(1),U=new u(0),Y=k.clone();I.cmpn(1)>0&&k.cmpn(1)>0;){for(var ce=0,he=1;!(I.words[0]&he)&&ce<26;++ce,he<<=1);if(ce>0)for(I.iushrn(ce);ce-- >0;)P.isOdd()&&P.iadd(Y),P.iushrn(1);for(var be=0,K=1;!(k.words[0]&K)&&be<26;++be,K<<=1);if(be>0)for(k.iushrn(be);be-- >0;)U.isOdd()&&U.iadd(Y),U.iushrn(1);I.cmp(k)>=0?(I.isub(k),P.isub(U)):(k.isub(I),U.isub(P))}return(N=0===I.cmpn(1)?P:U).cmpn(0)<0&&N.iadd(T),N},u.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var I=this.clone(),k=T.clone();I.negative=0,k.negative=0;for(var N=0;I.isEven()&&k.isEven();N++)I.iushrn(1),k.iushrn(1);for(;;){for(;I.isEven();)I.iushrn(1);for(;k.isEven();)k.iushrn(1);var P=I.cmp(k);if(P<0){var U=I;I=k,k=U}else if(0===P||0===k.cmpn(1))break;I.isub(k)}return k.iushln(N)},u.prototype.invm=function(T){return this.egcd(T).a.umod(T)},u.prototype.isEven=function(){return 0==(1&this.words[0])},u.prototype.isOdd=function(){return 1==(1&this.words[0])},u.prototype.andln=function(T){return this.words[0]&T},u.prototype.bincn=function(T){g("number"==typeof T);var I=T%26,k=(T-I)/26,N=1<<I;if(this.length<=k)return this._expand(k+1),this.words[k]|=N,this;for(var P=N,U=k;0!==P&&U<this.length;U++){var Y=0|this.words[U];P=(Y+=P)>>>26,this.words[U]=Y&=67108863}return 0!==P&&(this.words[U]=P,this.length++),this},u.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},u.prototype.cmpn=function(T){var I,k=T<0;if(0!==this.negative&&!k)return-1;if(0===this.negative&&k)return 1;if(this._strip(),this.length>1)I=1;else{k&&(T=-T),g(T<=67108863,"Number is too big");var N=0|this.words[0];I=N===T?0:N<T?-1:1}return 0!==this.negative?0|-I:I},u.prototype.cmp=function(T){if(0!==this.negative&&0===T.negative)return-1;if(0===this.negative&&0!==T.negative)return 1;var I=this.ucmp(T);return 0!==this.negative?0|-I:I},u.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var I=0,k=this.length-1;k>=0;k--){var N=0|this.words[k],P=0|T.words[k];if(N!==P){N<P?I=-1:N>P&&(I=1);break}}return I},u.prototype.gtn=function(T){return 1===this.cmpn(T)},u.prototype.gt=function(T){return 1===this.cmp(T)},u.prototype.gten=function(T){return this.cmpn(T)>=0},u.prototype.gte=function(T){return this.cmp(T)>=0},u.prototype.ltn=function(T){return-1===this.cmpn(T)},u.prototype.lt=function(T){return-1===this.cmp(T)},u.prototype.lten=function(T){return this.cmpn(T)<=0},u.prototype.lte=function(T){return this.cmp(T)<=0},u.prototype.eqn=function(T){return 0===this.cmpn(T)},u.prototype.eq=function(T){return 0===this.cmp(T)},u.red=function(T){return new W(T)},u.prototype.toRed=function(T){return g(!this.red,"Already a number in reduction context"),g(0===this.negative,"red works only with positives"),T.convertTo(this)._forceRed(T)},u.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(T){return this.red=T,this},u.prototype.forceRed=function(T){return g(!this.red,"Already a number in reduction context"),this._forceRed(T)},u.prototype.redAdd=function(T){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},u.prototype.redIAdd=function(T){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},u.prototype.redSub=function(T){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},u.prototype.redISub=function(T){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},u.prototype.redShl=function(T){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},u.prototype.redMul=function(T){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},u.prototype.redIMul=function(T){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},u.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(T){return g(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var J={k256:null,p224:null,p192:null,p25519:null};function re(T,I){this.name=T,this.p=new u(I,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function oe(){re.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){re.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){re.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function $(){re.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function W(T){if("string"==typeof T){var I=u._prime(T);this.m=I.p,this.prime=I}else g(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function ie(T){W.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}re.prototype._tmp=function(){var T=new u(null);return T.words=new Array(Math.ceil(this.n/13)),T},re.prototype.ireduce=function(T){var I,k=T;do{this.split(k,this.tmp),I=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength()}while(I>this.n);var N=I<this.n?-1:k.ucmp(this.p);return 0===N?(k.words[0]=0,k.length=1):N>0?k.isub(this.p):void 0!==k.strip?k.strip():k._strip(),k},re.prototype.split=function(T,I){T.iushrn(this.n,0,I)},re.prototype.imulK=function(T){return T.imul(this.k)},d(oe,re),oe.prototype.split=function(T,I){for(var k=Math.min(T.length,9),N=0;N<k;N++)I.words[N]=T.words[N];if(I.length=k,T.length<=9)return T.words[0]=0,void(T.length=1);var P=T.words[9];for(I.words[I.length++]=4194303&P,N=10;N<T.length;N++){var U=0|T.words[N];T.words[N-10]=(4194303&U)<<4|P>>>22,P=U}T.words[N-10]=P>>>=22,T.length-=0===P&&T.length>10?10:9},oe.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var I=0,k=0;k<T.length;k++){var N=0|T.words[k];T.words[k]=67108863&(I+=977*N),I=64*N+(I/67108864|0)}return 0===T.words[T.length-1]&&(T.length--,0===T.words[T.length-1]&&T.length--),T},d(fe,re),d(ae,re),d($,re),$.prototype.imulK=function(T){for(var I=0,k=0;k<T.length;k++){var N=19*(0|T.words[k])+I,P=67108863&N;N>>>=26,T.words[k]=P,I=N}return 0!==I&&(T.words[T.length++]=I),T},u._prime=function(T){if(J[T])return J[T];var I;if("k256"===T)I=new oe;else if("p224"===T)I=new fe;else if("p192"===T)I=new ae;else{if("p25519"!==T)throw new Error("Unknown prime "+T);I=new $}return J[T]=I,I},W.prototype._verify1=function(T){g(0===T.negative,"red works only with positives"),g(T.red,"red works only with red numbers")},W.prototype._verify2=function(T,I){g(0==(T.negative|I.negative),"red works only with positives"),g(T.red&&T.red===I.red,"red works only with red numbers")},W.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):(C(T,T.umod(this.m)._forceRed(this)),T)},W.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},W.prototype.add=function(T,I){this._verify2(T,I);var k=T.add(I);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},W.prototype.iadd=function(T,I){this._verify2(T,I);var k=T.iadd(I);return k.cmp(this.m)>=0&&k.isub(this.m),k},W.prototype.sub=function(T,I){this._verify2(T,I);var k=T.sub(I);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},W.prototype.isub=function(T,I){this._verify2(T,I);var k=T.isub(I);return k.cmpn(0)<0&&k.iadd(this.m),k},W.prototype.shl=function(T,I){return this._verify1(T),this.imod(T.ushln(I))},W.prototype.imul=function(T,I){return this._verify2(T,I),this.imod(T.imul(I))},W.prototype.mul=function(T,I){return this._verify2(T,I),this.imod(T.mul(I))},W.prototype.isqr=function(T){return this.imul(T,T.clone())},W.prototype.sqr=function(T){return this.mul(T,T)},W.prototype.sqrt=function(T){if(T.isZero())return T.clone();var I=this.m.andln(3);if(g(I%2==1),3===I){var k=this.m.add(new u(1)).iushrn(2);return this.pow(T,k)}for(var N=this.m.subn(1),P=0;!N.isZero()&&0===N.andln(1);)P++,N.iushrn(1);g(!N.isZero());var U=new u(1).toRed(this),Y=U.redNeg(),ce=this.m.subn(1).iushrn(1),he=this.m.bitLength();for(he=new u(2*he*he).toRed(this);0!==this.pow(he,ce).cmp(Y);)he.redIAdd(Y);for(var be=this.pow(he,N),K=this.pow(T,N.addn(1).iushrn(1)),_e=this.pow(T,N),q=P;0!==_e.cmp(U);){for(var G=_e,ue=0;0!==G.cmp(U);ue++)G=G.redSqr();g(ue<q);var Te=this.pow(be,new u(1).iushln(q-ue-1));K=K.redMul(Te),be=Te.redSqr(),_e=_e.redMul(be),q=ue}return K},W.prototype.invm=function(T){var I=T._invmp(this.m);return 0!==I.negative?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},W.prototype.pow=function(T,I){if(I.isZero())return new u(1).toRed(this);if(0===I.cmpn(1))return T.clone();var k=new Array(16);k[0]=new u(1).toRed(this),k[1]=T;for(var N=2;N<k.length;N++)k[N]=this.mul(k[N-1],T);var P=k[0],U=0,Y=0,ce=I.bitLength()%26;for(0===ce&&(ce=26),N=I.length-1;N>=0;N--){for(var he=I.words[N],be=ce-1;be>=0;be--){var K=he>>be&1;P!==k[0]&&(P=this.sqr(P)),0!==K||0!==U?(U<<=1,U|=K,(4==++Y||0===N&&0===be)&&(P=this.mul(P,k[U]),Y=0,U=0)):Y=0}ce=26}return P},W.prototype.convertTo=function(T){var I=T.umod(this.m);return I===T?I.clone():I},W.prototype.convertFrom=function(T){var I=T.clone();return I.red=null,I},u.mont=function(T){return new ie(T)},d(ie,W),ie.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},ie.prototype.convertFrom=function(T){var I=this.imod(T.mul(this.rinv));return I.red=null,I},ie.prototype.imul=function(T,I){if(T.isZero()||I.isZero())return T.words[0]=0,T.length=1,T;var k=T.imul(I),N=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=k.isub(N).iushrn(this.shift),U=P;return P.cmp(this.m)>=0?U=P.isub(this.m):P.cmpn(0)<0&&(U=P.iadd(this.m)),U._forceRed(this)},ie.prototype.mul=function(T,I){if(T.isZero()||I.isZero())return new u(0)._forceRed(this);var k=T.mul(I),N=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=k.isub(N).iushrn(this.shift),U=P;return P.cmp(this.m)>=0?U=P.isub(this.m):P.cmpn(0)<0&&(U=P.iadd(this.m)),U._forceRed(this)},ie.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===z||z)},{buffer:188}],187:[function(_,z,B){"use strict";var A;function y(d){this.rand=d}if(z.exports=function(d){return A||(A=new y(null)),A.generate(d)},z.exports.Rand=y,y.prototype.generate=function(d){return this._rand(d)},y.prototype._rand=function(d){if(this.rand.getBytes)return this.rand.getBytes(d);for(var u=new Uint8Array(d),f=0;f<u.length;f++)u[f]=this.rand.getByte();return u},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?y.prototype._rand=function(d){var u=new Uint8Array(d);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?y.prototype._rand=function(d){var u=new Uint8Array(d);return self.msCrypto.getRandomValues(u),u}:"object"==typeof window&&(y.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var g=_("crypto");if("function"!=typeof g.randomBytes)throw new Error("Not supported");y.prototype._rand=function(d){return g.randomBytes(d)}}catch{}},{crypto:188}],188:[function(_,z,B){},{}],189:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer;function y(p){A.isBuffer(p)||(p=A.from(p));for(var m=p.length/4|0,C=new Array(m),E=0;E<m;E++)C[E]=p.readUInt32BE(4*E);return C}function g(p){for(;0<p.length;p++)p[0]=0}function d(p,m,C,E,v){for(var D,S,R,L,Z=C[0],ee=C[1],ne=C[2],J=C[3],re=p[0]^m[0],oe=p[1]^m[1],fe=p[2]^m[2],ae=p[3]^m[3],$=4,W=1;W<v;W++)D=Z[re>>>24]^ee[oe>>>16&255]^ne[fe>>>8&255]^J[255&ae]^m[$++],S=Z[oe>>>24]^ee[fe>>>16&255]^ne[ae>>>8&255]^J[255&re]^m[$++],R=Z[fe>>>24]^ee[ae>>>16&255]^ne[re>>>8&255]^J[255&oe]^m[$++],L=Z[ae>>>24]^ee[re>>>16&255]^ne[oe>>>8&255]^J[255&fe]^m[$++],re=D,oe=S,fe=R,ae=L;return D=(E[re>>>24]<<24|E[oe>>>16&255]<<16|E[fe>>>8&255]<<8|E[255&ae])^m[$++],S=(E[oe>>>24]<<24|E[fe>>>16&255]<<16|E[ae>>>8&255]<<8|E[255&re])^m[$++],R=(E[fe>>>24]<<24|E[ae>>>16&255]<<16|E[re>>>8&255]<<8|E[255&oe])^m[$++],L=(E[ae>>>24]<<24|E[re>>>16&255]<<16|E[oe>>>8&255]<<8|E[255&fe])^m[$++],[D>>>=0,S>>>=0,R>>>=0,L>>>=0]}var u=[0,1,2,4,8,16,32,64,128,27,54],f=function(){for(var p=new Array(256),m=0;m<256;m++)p[m]=m<128?m<<1:m<<1^283;for(var C=[],E=[],v=[[],[],[],[]],D=[[],[],[],[]],S=0,R=0,L=0;L<256;++L){var Z=R^R<<1^R<<2^R<<3^R<<4;C[S]=Z=Z>>>8^255&Z^99,E[Z]=S;var ee=p[S],ne=p[ee],J=p[ne],re=257*p[Z]^16843008*Z;v[0][S]=re<<24|re>>>8,v[1][S]=re<<16|re>>>16,v[2][S]=re<<8|re>>>24,v[3][S]=re,D[0][Z]=(re=16843009*J^65537*ne^257*ee^16843008*S)<<24|re>>>8,D[1][Z]=re<<16|re>>>16,D[2][Z]=re<<8|re>>>24,D[3][Z]=re,0===S?S=R=1:(S=ee^p[p[p[J^ee]]],R^=p[p[R]])}return{SBOX:C,INV_SBOX:E,SUB_MIX:v,INV_SUB_MIX:D}}();function b(p){this._key=y(p),this._reset()}b.blockSize=16,b.keySize=32,b.prototype.blockSize=b.blockSize,b.prototype.keySize=b.keySize,b.prototype._reset=function(){for(var p=this._key,m=p.length,C=m+6,E=4*(C+1),v=[],D=0;D<m;D++)v[D]=p[D];for(D=m;D<E;D++){var S=v[D-1];D%m==0?(S=f.SBOX[(S=S<<8|S>>>24)>>>24]<<24|f.SBOX[S>>>16&255]<<16|f.SBOX[S>>>8&255]<<8|f.SBOX[255&S],S^=u[D/m|0]<<24):m>6&&D%m==4&&(S=f.SBOX[S>>>24]<<24|f.SBOX[S>>>16&255]<<16|f.SBOX[S>>>8&255]<<8|f.SBOX[255&S]),v[D]=v[D-m]^S}for(var R=[],L=0;L<E;L++){var Z=E-L,ee=v[Z-(L%4?0:4)];R[L]=L<4||Z<=4?ee:f.INV_SUB_MIX[0][f.SBOX[ee>>>24]]^f.INV_SUB_MIX[1][f.SBOX[ee>>>16&255]]^f.INV_SUB_MIX[2][f.SBOX[ee>>>8&255]]^f.INV_SUB_MIX[3][f.SBOX[255&ee]]}this._nRounds=C,this._keySchedule=v,this._invKeySchedule=R},b.prototype.encryptBlockRaw=function(p){return d(p=y(p),this._keySchedule,f.SUB_MIX,f.SBOX,this._nRounds)},b.prototype.encryptBlock=function(p){var m=this.encryptBlockRaw(p),C=A.allocUnsafe(16);return C.writeUInt32BE(m[0],0),C.writeUInt32BE(m[1],4),C.writeUInt32BE(m[2],8),C.writeUInt32BE(m[3],12),C},b.prototype.decryptBlock=function(p){var m=(p=y(p))[1];p[1]=p[3],p[3]=m;var C=d(p,this._invKeySchedule,f.INV_SUB_MIX,f.INV_SBOX,this._nRounds),E=A.allocUnsafe(16);return E.writeUInt32BE(C[0],0),E.writeUInt32BE(C[3],4),E.writeUInt32BE(C[2],8),E.writeUInt32BE(C[1],12),E},b.prototype.scrub=function(){g(this._keySchedule),g(this._invKeySchedule),g(this._key)},z.exports.AES=b},{"safe-buffer":494}],190:[function(_,z,B){"use strict";var A=_("./aes"),y=_("safe-buffer").Buffer,g=_("cipher-base"),d=_("inherits"),u=_("./ghash"),f=_("buffer-xor"),b=_("./incr32");function p(m,C,E,v){g.call(this);var D=y.alloc(4,0);this._cipher=new A.AES(C);var S=this._cipher.encryptBlock(D);this._ghash=new u(S),E=function(R,L,Z){if(12===L.length)return R._finID=y.concat([L,y.from([0,0,0,1])]),y.concat([L,y.from([0,0,0,2])]);var ee=new u(Z),ne=L.length,J=ne%16;ee.update(L),J&&ee.update(y.alloc(J=16-J,0)),ee.update(y.alloc(8,0));var re=8*ne,oe=y.alloc(8);oe.writeUIntBE(re,0,8),ee.update(oe),R._finID=ee.state;var fe=y.from(R._finID);return b(fe),fe}(this,E,S),this._prev=y.from(E),this._cache=y.allocUnsafe(0),this._secCache=y.allocUnsafe(0),this._decrypt=v,this._alen=0,this._len=0,this._mode=m,this._authTag=null,this._called=!1}d(p,g),p.prototype._update=function(m){if(!this._called&&this._alen){var C=16-this._alen%16;C<16&&(C=y.alloc(C,0),this._ghash.update(C))}this._called=!0;var E=this._mode.encrypt(this,m);return this._ghash.update(this._decrypt?m:E),this._len+=m.length,E},p.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var m=f(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(C,E){var v=0;C.length!==E.length&&v++;for(var D=Math.min(C.length,E.length),S=0;S<D;++S)v+=C[S]^E[S];return v}(m,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=m,this._cipher.scrub()},p.prototype.getAuthTag=function(){if(this._decrypt||!y.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},p.prototype.setAuthTag=function(m){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=m},p.prototype.setAAD=function(m){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(m),this._alen+=m.length},z.exports=p},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(_,z,B){"use strict";var A=_("./encrypter"),y=_("./decrypter"),g=_("./modes/list.json");B.createCipher=B.Cipher=A.createCipher,B.createCipheriv=B.Cipheriv=A.createCipheriv,B.createDecipher=B.Decipher=y.createDecipher,B.createDecipheriv=B.Decipheriv=y.createDecipheriv,B.listCiphers=B.getCiphers=function(){return Object.keys(g)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(_,z,B){"use strict";var A=_("./authCipher"),y=_("safe-buffer").Buffer,g=_("./modes"),d=_("./streamCipher"),u=_("cipher-base"),f=_("./aes"),b=_("evp_bytestokey");function p(E,v,D){u.call(this),this._cache=new m,this._last=void 0,this._cipher=new f.AES(v),this._prev=y.from(D),this._mode=E,this._autopadding=!0}function m(){this.cache=y.allocUnsafe(0)}function C(E,v,D){var S=g[E.toLowerCase()];if(!S)throw new TypeError("invalid suite type");if("string"==typeof D&&(D=y.from(D)),"GCM"!==S.mode&&D.length!==S.iv)throw new TypeError("invalid iv length "+D.length);if("string"==typeof v&&(v=y.from(v)),v.length!==S.key/8)throw new TypeError("invalid key length "+v.length);return"stream"===S.type?new d(S.module,v,D,!0):"auth"===S.type?new A(S.module,v,D,!0):new p(S.module,v,D)}_("inherits")(p,u),p.prototype._update=function(E){var v,D;this._cache.add(E);for(var S=[];v=this._cache.get(this._autopadding);)D=this._mode.decrypt(this,v),S.push(D);return y.concat(S)},p.prototype._final=function(){var E=this._cache.flush();if(this._autopadding)return function(v){var D=v[15];if(D<1||D>16)throw new Error("unable to decrypt data");for(var S=-1;++S<D;)if(v[S+(16-D)]!==D)throw new Error("unable to decrypt data");if(16!==D)return v.slice(0,16-D)}(this._mode.decrypt(this,E));if(E)throw new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(E){return this._autopadding=!!E,this},m.prototype.add=function(E){this.cache=y.concat([this.cache,E])},m.prototype.get=function(E){var v;if(E){if(this.cache.length>16)return v=this.cache.slice(0,16),this.cache=this.cache.slice(16),v}else if(this.cache.length>=16)return v=this.cache.slice(0,16),this.cache=this.cache.slice(16),v;return null},m.prototype.flush=function(){if(this.cache.length)return this.cache},B.createDecipher=function(E,v){var D=g[E.toLowerCase()];if(!D)throw new TypeError("invalid suite type");var S=b(v,!1,D.key,D.iv);return C(E,S.key,S.iv)},B.createDecipheriv=C},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(_,z,B){"use strict";var A=_("./modes"),y=_("./authCipher"),g=_("safe-buffer").Buffer,d=_("./streamCipher"),u=_("cipher-base"),f=_("./aes"),b=_("evp_bytestokey");function p(v,D,S){u.call(this),this._cache=new C,this._cipher=new f.AES(D),this._prev=g.from(S),this._mode=v,this._autopadding=!0}_("inherits")(p,u),p.prototype._update=function(v){var D,S;this._cache.add(v);for(var R=[];D=this._cache.get();)S=this._mode.encrypt(this,D),R.push(S);return g.concat(R)};var m=g.alloc(16,16);function C(){this.cache=g.allocUnsafe(0)}function E(v,D,S){var R=A[v.toLowerCase()];if(!R)throw new TypeError("invalid suite type");if("string"==typeof D&&(D=g.from(D)),D.length!==R.key/8)throw new TypeError("invalid key length "+D.length);if("string"==typeof S&&(S=g.from(S)),"GCM"!==R.mode&&S.length!==R.iv)throw new TypeError("invalid iv length "+S.length);return"stream"===R.type?new d(R.module,D,S):"auth"===R.type?new y(R.module,D,S):new p(R.module,D,S)}p.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return v=this._mode.encrypt(this,v),this._cipher.scrub(),v;if(!v.equals(m))throw this._cipher.scrub(),new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this},C.prototype.add=function(v){this.cache=g.concat([this.cache,v])},C.prototype.get=function(){if(this.cache.length>15){var v=this.cache.slice(0,16);return this.cache=this.cache.slice(16),v}return null},C.prototype.flush=function(){for(var v=16-this.cache.length,D=g.allocUnsafe(v),S=-1;++S<v;)D.writeUInt8(v,S);return g.concat([this.cache,D])},B.createCipheriv=E,B.createCipher=function(v,D){var S=A[v.toLowerCase()];if(!S)throw new TypeError("invalid suite type");var R=b(D,!1,S.key,S.iv);return E(v,R.key,R.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer,y=A.alloc(16,0);function g(u){var f=A.allocUnsafe(16);return f.writeUInt32BE(u[0]>>>0,0),f.writeUInt32BE(u[1]>>>0,4),f.writeUInt32BE(u[2]>>>0,8),f.writeUInt32BE(u[3]>>>0,12),f}function d(u){this.h=u,this.state=A.alloc(16,0),this.cache=A.allocUnsafe(0)}d.prototype.ghash=function(u){for(var f=-1;++f<u.length;)this.state[f]^=u[f];this._multiply()},d.prototype._multiply=function(){for(var u,f,b,p=[(u=this.h).readUInt32BE(0),u.readUInt32BE(4),u.readUInt32BE(8),u.readUInt32BE(12)],m=[0,0,0,0],C=-1;++C<128;){for(this.state[~~(C/8)]&1<<7-C%8&&(m[0]^=p[0],m[1]^=p[1],m[2]^=p[2],m[3]^=p[3]),b=0!=(1&p[3]),f=3;f>0;f--)p[f]=p[f]>>>1|(1&p[f-1])<<31;p[0]=p[0]>>>1,b&&(p[0]=p[0]^225<<24)}this.state=g(m)},d.prototype.update=function(u){var f;for(this.cache=A.concat([this.cache,u]);this.cache.length>=16;)f=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(f)},d.prototype.final=function(u,f){return this.cache.length&&this.ghash(A.concat([this.cache,y],16)),this.ghash(g([0,u,0,f])),this.state},z.exports=d},{"safe-buffer":494}],195:[function(_,z,B){"use strict";z.exports=function(A){for(var y,g=A.length;g--;){if(255!==(y=A.readUInt8(g))){y++,A.writeUInt8(y,g);break}A.writeUInt8(0,g)}}},{}],196:[function(_,z,B){"use strict";var A=_("buffer-xor");B.encrypt=function(y,g){var d=A(g,y._prev);return y._prev=y._cipher.encryptBlock(d),y._prev},B.decrypt=function(y,g){var d=y._prev;y._prev=g;var u=y._cipher.decryptBlock(g);return A(u,d)}},{"buffer-xor":219}],197:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer,y=_("buffer-xor");function g(d,u,f){var b=u.length,p=y(u,d._cache);return d._cache=d._cache.slice(b),d._prev=A.concat([d._prev,f?u:p]),p}B.encrypt=function(d,u,f){for(var b,p=A.allocUnsafe(0);u.length;){if(0===d._cache.length&&(d._cache=d._cipher.encryptBlock(d._prev),d._prev=A.allocUnsafe(0)),!(d._cache.length<=u.length)){p=A.concat([p,g(d,u,f)]);break}p=A.concat([p,g(d,u.slice(0,b=d._cache.length),f)]),u=u.slice(b)}return p}},{"buffer-xor":219,"safe-buffer":494}],198:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer;function y(d,u,f){for(var b,p,m=-1,C=0;++m<8;)b=u&1<<7-m?128:0,C+=(128&(p=d._cipher.encryptBlock(d._prev)[0]^b))>>m%8,d._prev=g(d._prev,f?b:p);return C}function g(d,u){var f=d.length,b=-1,p=A.allocUnsafe(d.length);for(d=A.concat([d,A.from([u])]);++b<f;)p[b]=d[b]<<1|d[b+1]>>7;return p}B.encrypt=function(d,u,f){for(var b=u.length,p=A.allocUnsafe(b),m=-1;++m<b;)p[m]=y(d,u[m],f);return p}},{"safe-buffer":494}],199:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer;function y(g,d,u){var f=g._cipher.encryptBlock(g._prev)[0]^d;return g._prev=A.concat([g._prev.slice(1),A.from([u?d:f])]),f}B.encrypt=function(g,d,u){for(var f=d.length,b=A.allocUnsafe(f),p=-1;++p<f;)b[p]=y(g,d[p],u);return b}},{"safe-buffer":494}],200:[function(_,z,B){"use strict";var A=_("buffer-xor"),y=_("safe-buffer").Buffer,g=_("../incr32");function d(u){var f=u._cipher.encryptBlockRaw(u._prev);return g(u._prev),f}B.encrypt=function(u,f){var b=Math.ceil(f.length/16),p=u._cache.length;u._cache=y.concat([u._cache,y.allocUnsafe(16*b)]);for(var m=0;m<b;m++){var C=d(u),E=p+16*m;u._cache.writeUInt32BE(C[0],E+0),u._cache.writeUInt32BE(C[1],E+4),u._cache.writeUInt32BE(C[2],E+8),u._cache.writeUInt32BE(C[3],E+12)}var v=u._cache.slice(0,f.length);return u._cache=u._cache.slice(f.length),A(f,v)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(_,z,B){"use strict";B.encrypt=function(A,y){return A._cipher.encryptBlock(y)},B.decrypt=function(A,y){return A._cipher.decryptBlock(y)}},{}],202:[function(_,z,B){"use strict";var A={ECB:_("./ecb"),CBC:_("./cbc"),CFB:_("./cfb"),CFB8:_("./cfb8"),CFB1:_("./cfb1"),OFB:_("./ofb"),CTR:_("./ctr"),GCM:_("./ctr")},y=_("./list.json");for(var g in y)y[g].module=A[y[g].mode];z.exports=y},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(_,z,B){z.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(_,z,B){(function(A){(function(){"use strict";var y=_("buffer-xor");function g(d){return d._prev=d._cipher.encryptBlock(d._prev),d._prev}B.encrypt=function(d,u){for(;d._cache.length<u.length;)d._cache=A.concat([d._cache,g(d)]);var f=d._cache.slice(0,u.length);return d._cache=d._cache.slice(u.length),y(u,f)}}).call(this)}).call(this,_("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(_,z,B){"use strict";var A=_("./aes"),y=_("safe-buffer").Buffer,g=_("cipher-base");function d(u,f,b,p){g.call(this),this._cipher=new A.AES(f),this._prev=y.from(b),this._cache=y.allocUnsafe(0),this._secCache=y.allocUnsafe(0),this._decrypt=p,this._mode=u}_("inherits")(d,g),d.prototype._update=function(u){return this._mode.encrypt(this,u,this._decrypt)},d.prototype._final=function(){this._cipher.scrub()},z.exports=d},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(_,z,B){"use strict";var A=_("browserify-des"),y=_("browserify-aes/browser"),g=_("browserify-aes/modes"),d=_("browserify-des/modes"),u=_("evp_bytestokey");function f(p,m,C){if(p=p.toLowerCase(),g[p])return y.createCipheriv(p,m,C);if(d[p])return new A({key:m,iv:C,mode:p});throw new TypeError("invalid suite type")}function b(p,m,C){if(p=p.toLowerCase(),g[p])return y.createDecipheriv(p,m,C);if(d[p])return new A({key:m,iv:C,mode:p,decrypt:!0});throw new TypeError("invalid suite type")}B.createCipher=B.Cipher=function(p,m){var C,E;if(p=p.toLowerCase(),g[p])C=g[p].key,E=g[p].iv;else{if(!d[p])throw new TypeError("invalid suite type");C=8*d[p].key,E=d[p].iv}var v=u(m,!1,C,E);return f(p,v.key,v.iv)},B.createCipheriv=B.Cipheriv=f,B.createDecipher=B.Decipher=function(p,m){var C,E;if(p=p.toLowerCase(),g[p])C=g[p].key,E=g[p].iv;else{if(!d[p])throw new TypeError("invalid suite type");C=8*d[p].key,E=d[p].iv}var v=u(m,!1,C,E);return b(p,v.key,v.iv)},B.createDecipheriv=B.Decipheriv=b,B.listCiphers=B.getCiphers=function(){return Object.keys(d).concat(y.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(_,z,B){"use strict";var A=_("cipher-base"),y=_("des.js"),g=_("inherits"),d=_("safe-buffer").Buffer,u={"des-ede3-cbc":y.CBC.instantiate(y.EDE),"des-ede3":y.EDE,"des-ede-cbc":y.CBC.instantiate(y.EDE),"des-ede":y.EDE,"des-cbc":y.CBC.instantiate(y.DES),"des-ecb":y.DES};function f(b){A.call(this);var p,m=b.mode.toLowerCase(),C=u[m];p=b.decrypt?"decrypt":"encrypt";var E=b.key;d.isBuffer(E)||(E=d.from(E)),"des-ede"!==m&&"des-ede-cbc"!==m||(E=d.concat([E,E.slice(0,8)]));var v=b.iv;d.isBuffer(v)||(v=d.from(v)),this._des=C.create({key:E,iv:v,type:p})}u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],z.exports=f,g(f,A),f.prototype._update=function(b){return d.from(this._des.update(b))},f.prototype._final=function(){return d.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(_,z,B){"use strict";B["des-ecb"]={key:8,iv:0},B["des-cbc"]=B.des={key:8,iv:8},B["des-ede3-cbc"]=B.des3={key:24,iv:8},B["des-ede3"]={key:24,iv:0},B["des-ede-cbc"]={key:16,iv:8},B["des-ede"]={key:16,iv:0}},{}],209:[function(_,z,B){(function(A){(function(){"use strict";var y=_("bn.js"),g=_("randombytes");function d(f){var b,p=f.modulus.byteLength();do{b=new y(g(p))}while(b.cmp(f.modulus)>=0||!b.umod(f.prime1)||!b.umod(f.prime2));return b}function u(f,b){var ne,J,p={blinder:(J=d(ne=b)).toRed(y.mont(ne.modulus)).redPow(new y(ne.publicExponent)).fromRed(),unblinder:J.invm(ne.modulus)},m=b.modulus.byteLength(),C=new y(f).mul(p.blinder).umod(b.modulus),E=C.toRed(y.mont(b.prime1)),v=C.toRed(y.mont(b.prime2)),D=b.coefficient,S=b.prime1,R=b.prime2,L=E.redPow(b.exponent1).fromRed(),Z=v.redPow(b.exponent2).fromRed(),ee=L.isub(Z).imul(D).umod(S).imul(R);return Z.iadd(ee).imul(p.unblinder).umod(b.modulus).toArrayLike(A,"be",m)}u.getr=d,z.exports=u}).call(this)}).call(this,_("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(_,z,B){"use strict";z.exports=_("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(_,z,B){z.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(_,z,B){z.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer,y=_("create-hash"),g=_("readable-stream"),d=_("inherits"),u=_("./sign"),f=_("./verify"),b=_("./algorithms.json");function p(v){g.Writable.call(this);var D=b[v];if(!D)throw new Error("Unknown message digest");this._hashType=D.hash,this._hash=y(D.hash),this._tag=D.id,this._signType=D.sign}function m(v){g.Writable.call(this);var D=b[v];if(!D)throw new Error("Unknown message digest");this._hash=y(D.hash),this._tag=D.id,this._signType=D.sign}function C(v){return new p(v)}function E(v){return new m(v)}Object.keys(b).forEach(function(v){b[v].id=A.from(b[v].id,"hex"),b[v.toLowerCase()]=b[v]}),d(p,g.Writable),p.prototype._write=function(v,D,S){this._hash.update(v),S()},p.prototype.update=function(v,D){return"string"==typeof v&&(v=A.from(v,D)),this._hash.update(v),this},p.prototype.sign=function(v,D){this.end();var S=this._hash.digest(),R=u(S,v,this._hashType,this._signType,this._tag);return D?R.toString(D):R},d(m,g.Writable),m.prototype._write=function(v,D,S){this._hash.update(v),S()},m.prototype.update=function(v,D){return"string"==typeof v&&(v=A.from(v,D)),this._hash.update(v),this},m.prototype.verify=function(v,D,S){"string"==typeof D&&(D=A.from(D,S)),this.end();var R=this._hash.digest();return f(D,R,v,this._signType,this._tag)},z.exports={Sign:C,Verify:E,createSign:C,createVerify:E}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer,y=_("create-hmac"),g=_("browserify-rsa"),d=_("elliptic").ec,u=_("bn.js"),f=_("parse-asn1"),b=_("./curves.json");function p(v,D,S,R){if((v=A.from(v.toArray())).length<D.byteLength()){var L=A.alloc(D.byteLength()-v.length);v=A.concat([L,v])}var Z=S.length,ee=function(re,oe){re=(re=m(re,oe)).mod(oe);var fe=A.from(re.toArray());if(fe.length<oe.byteLength()){var ae=A.alloc(oe.byteLength()-fe.length);fe=A.concat([ae,fe])}return fe}(S,D),ne=A.alloc(Z);ne.fill(1);var J=A.alloc(Z);return J=y(R,J).update(ne).update(A.from([0])).update(v).update(ee).digest(),ne=y(R,J).update(ne).digest(),{k:J=y(R,J).update(ne).update(A.from([1])).update(v).update(ee).digest(),v:ne=y(R,J).update(ne).digest()}}function m(v,D){var S=new u(v),R=(v.length<<3)-D.bitLength();return R>0&&S.ishrn(R),S}function C(v,D,S){var R,L;do{for(R=A.alloc(0);8*R.length<v.bitLength();)D.v=y(S,D.k).update(D.v).digest(),R=A.concat([R,D.v]);L=m(R,v),D.k=y(S,D.k).update(D.v).update(A.from([0])).digest(),D.v=y(S,D.k).update(D.v).digest()}while(-1!==L.cmp(v));return L}function E(v,D,S,R){return v.toRed(u.mont(S)).redPow(D).fromRed().mod(R)}z.exports=function(v,D,S,R,L){var Z=f(D);if(Z.curve){if("ecdsa"!==R&&"ecdsa/rsa"!==R)throw new Error("wrong private key type");return function(re,oe){var fe=b[oe.curve.join(".")];if(!fe)throw new Error("unknown curve "+oe.curve.join("."));var ae=new d(fe).keyFromPrivate(oe.privateKey).sign(re);return A.from(ae.toDER())}(v,Z)}if("dsa"===Z.type){if("dsa"!==R)throw new Error("wrong private key type");return function(re,oe,fe){for(var ae,$=oe.params.priv_key,W=oe.params.p,ie=oe.params.q,T=oe.params.g,I=new u(0),k=m(re,ie).mod(ie),N=!1,P=p($,ie,re,fe);!1===N;)I=E(T,ae=C(ie,P,fe),W,ie),0===(N=ae.invm(ie).imul(k.add($.mul(I))).mod(ie)).cmpn(0)&&(N=!1,I=new u(0));return function(U,Y){U=U.toArray(),Y=Y.toArray(),128&U[0]&&(U=[0].concat(U)),128&Y[0]&&(Y=[0].concat(Y));var ce=[48,U.length+Y.length+4,2,U.length];return ce=ce.concat(U,[2,Y.length],Y),A.from(ce)}(I,N)}(v,Z,S)}if("rsa"!==R&&"ecdsa/rsa"!==R)throw new Error("wrong private key type");v=A.concat([L,v]);for(var ee=Z.modulus.byteLength(),ne=[0,1];v.length+ne.length+1<ee;)ne.push(255);ne.push(0);for(var J=-1;++J<v.length;)ne.push(v[J]);return g(ne,Z)},z.exports.getKey=p,z.exports.makeKey=C},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer,y=_("bn.js"),g=_("elliptic").ec,d=_("parse-asn1"),u=_("./curves.json");function f(b,p){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(p)>=p)throw new Error("invalid sig")}z.exports=function(b,p,m,C,E){var v=d(m);if("ec"===v.type){if("ecdsa"!==C&&"ecdsa/rsa"!==C)throw new Error("wrong public key type");return function(ne,J,re){var oe=u[re.data.algorithm.curve.join(".")];if(!oe)throw new Error("unknown curve "+re.data.algorithm.curve.join("."));return new g(oe).verify(J,ne,re.data.subjectPrivateKey.data)}(b,p,v)}if("dsa"===v.type){if("dsa"!==C)throw new Error("wrong public key type");return function(ne,J,re){var oe=re.data.p,fe=re.data.q,ae=re.data.g,$=re.data.pub_key,W=d.signature.decode(ne,"der"),ie=W.s,T=W.r;f(ie,fe),f(T,fe);var I=y.mont(oe),k=ie.invm(fe);return 0===ae.toRed(I).redPow(new y(J).mul(k).mod(fe)).fromRed().mul($.toRed(I).redPow(T.mul(k).mod(fe)).fromRed()).mod(oe).mod(fe).cmp(T)}(b,p,v)}if("rsa"!==C&&"ecdsa/rsa"!==C)throw new Error("wrong public key type");p=A.concat([E,p]);for(var D=v.modulus.byteLength(),S=[1],R=0;p.length+S.length+2<D;)S.push(255),R++;S.push(0);for(var L=-1;++L<p.length;)S.push(p[L]);S=A.from(S);var Z=y.mont(v.modulus);b=(b=new y(b).toRed(Z)).redPow(new y(v.publicExponent)),b=A.from(b.fromRed().toArray());var ee=R<8?1:0;for(D=Math.min(b.length,S.length),b.length!==S.length&&(ee=1),L=-1;++L<D;)ee|=b[L]^S[L];return 0===ee}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(_,z,B){},{}],217:[function(_,z,B){"use strict";var A=_("buffer"),y=A.Buffer;function g(u,f){for(var b in u)f[b]=u[b]}function d(u,f,b){return y(u,f,b)}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?z.exports=A:(g(A,B),B.Buffer=d),g(y,d),d.from=function(u,f,b){if("number"==typeof u)throw new TypeError("Argument must not be a number");return y(u,f,b)},d.alloc=function(u,f,b){if("number"!=typeof u)throw new TypeError("Argument must be a number");var p=y(u);return void 0!==f?"string"==typeof b?p.fill(f,b):p.fill(f):p.fill(0),p},d.allocUnsafe=function(u){if("number"!=typeof u)throw new TypeError("Argument must be a number");return y(u)},d.allocUnsafeSlow=function(u){if("number"!=typeof u)throw new TypeError("Argument must be a number");return A.SlowBuffer(u)}},{buffer:220}],218:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer,y=A.isEncoding||function(v){switch((v=""+v)&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function g(v){var D;switch(this.encoding=function(S){var R=function(L){if(!L)return"utf8";for(var Z;;)switch(L){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return L;default:if(Z)return;L=(""+L).toLowerCase(),Z=!0}}(S);if("string"!=typeof R&&(A.isEncoding===y||!y(S)))throw new Error("Unknown encoding: "+S);return R||S}(v),this.encoding){case"utf16le":this.text=f,this.end=b,D=4;break;case"utf8":this.fillLast=u,D=4;break;case"base64":this.text=p,this.end=m,D=3;break;default:return this.write=C,void(this.end=E)}this.lastNeed=0,this.lastTotal=0,this.lastChar=A.allocUnsafe(D)}function d(v){return v<=127?0:v>>5==6?2:v>>4==14?3:v>>3==30?4:v>>6==2?-1:-2}function u(v){var D=this.lastTotal-this.lastNeed,S=function(R,L,Z){if(128!=(192&L[0]))return R.lastNeed=0,"\ufffd";if(R.lastNeed>1&&L.length>1){if(128!=(192&L[1]))return R.lastNeed=1,"\ufffd";if(R.lastNeed>2&&L.length>2&&128!=(192&L[2]))return R.lastNeed=2,"\ufffd"}}(this,v);return void 0!==S?S:this.lastNeed<=v.length?(v.copy(this.lastChar,D,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(v.copy(this.lastChar,D,0,v.length),void(this.lastNeed-=v.length))}function f(v,D){if((v.length-D)%2==0){var S=v.toString("utf16le",D);if(S){var R=S.charCodeAt(S.length-1);if(R>=55296&&R<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",D,v.length-1)}function b(v){var D=v&&v.length?this.write(v):"";return this.lastNeed?D+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):D}function p(v,D){var S=(v.length-D)%3;return 0===S?v.toString("base64",D):(this.lastNeed=3-S,this.lastTotal=3,1===S?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",D,v.length-S))}function m(v){var D=v&&v.length?this.write(v):"";return this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function C(v){return v.toString(this.encoding)}function E(v){return v&&v.length?this.write(v):""}B.StringDecoder=g,g.prototype.write=function(v){if(0===v.length)return"";var D,S;if(this.lastNeed){if(void 0===(D=this.fillLast(v)))return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<v.length?D?D+this.text(v,S):this.text(v,S):D||""},g.prototype.end=function(v){var D=v&&v.length?this.write(v):"";return this.lastNeed?D+"\ufffd":D},g.prototype.text=function(v,D){var S=function(L,Z,ee){var ne=Z.length-1;if(ne<ee)return 0;var J=d(Z[ne]);return J>=0?(J>0&&(L.lastNeed=J-1),J):--ne<ee||-2===J?0:(J=d(Z[ne]))>=0?(J>0&&(L.lastNeed=J-2),J):--ne<ee||-2===J?0:(J=d(Z[ne]))>=0?(J>0&&(2===J?J=0:L.lastNeed=J-3),J):0}(this,v,D);if(!this.lastNeed)return v.toString("utf8",D);this.lastTotal=S;var R=v.length-(S-this.lastNeed);return v.copy(this.lastChar,0,R),v.toString("utf8",D,R)},g.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length}},{"safe-buffer":217}],219:[function(_,z,B){(function(A){(function(){"use strict";z.exports=function(y,g){for(var d=Math.min(y.length,g.length),u=new A(d),f=0;f<d;++f)u[f]=y[f]^g[f];return u}}).call(this)}).call(this,_("buffer").Buffer)},{buffer:220}],220:[function(_,z,B){(function(A){(function(){"use strict";var y=_("base64-js"),g=_("ieee754");function d(q){if(q>2147483647)throw new RangeError('The value "'+q+'" is invalid for option "size"');var G=new Uint8Array(q);return G.__proto__=u.prototype,G}function u(q,G,ue){if("number"==typeof q){if("string"==typeof G)throw new TypeError('The "string" argument must be of type string. Received type number');return p(q)}return f(q,G,ue)}function f(q,G,ue){if("string"==typeof q)return function(Ee,ke){if("string"==typeof ke&&""!==ke||(ke="utf8"),!u.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);var We=0|E(Ee,ke),Ve=d(We),Se=Ve.write(Ee,ke);return Se!==We&&(Ve=Ve.slice(0,Se)),Ve}(q,G);if(ArrayBuffer.isView(q))return m(q);if(null==q)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(K(q,ArrayBuffer)||q&&K(q.buffer,ArrayBuffer))return function(Ee,ke,We){if(ke<0||Ee.byteLength<ke)throw new RangeError('"offset" is outside of buffer bounds');if(Ee.byteLength<ke+(We||0))throw new RangeError('"length" is outside of buffer bounds');var Ve;return(Ve=void 0===ke&&void 0===We?new Uint8Array(Ee):void 0===We?new Uint8Array(Ee,ke):new Uint8Array(Ee,ke,We)).__proto__=u.prototype,Ve}(q,G,ue);if("number"==typeof q)throw new TypeError('The "value" argument must not be of type number. Received type number');var Te=q.valueOf&&q.valueOf();if(null!=Te&&Te!==q)return u.from(Te,G,ue);var Me=function(Ee){if(u.isBuffer(Ee)){var ke=0|C(Ee.length),We=d(ke);return 0===We.length||Ee.copy(We,0,0,ke),We}return void 0!==Ee.length?"number"!=typeof Ee.length||_e(Ee.length)?d(0):m(Ee):"Buffer"===Ee.type&&Array.isArray(Ee.data)?m(Ee.data):void 0}(q);if(Me)return Me;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof q[Symbol.toPrimitive])return u.from(q[Symbol.toPrimitive]("string"),G,ue);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}function b(q){if("number"!=typeof q)throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function p(q){return b(q),d(q<0?0:0|C(q))}function m(q){for(var G=q.length<0?0:0|C(q.length),ue=d(G),Te=0;Te<G;Te+=1)ue[Te]=255&q[Te];return ue}function C(q){if(q>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|q}function E(q,G){if(u.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||K(q,ArrayBuffer))return q.byteLength;if("string"!=typeof q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var ue=q.length,Te=arguments.length>2&&!0===arguments[2];if(!Te&&0===ue)return 0;for(var Me=!1;;)switch(G){case"ascii":case"latin1":case"binary":return ue;case"utf8":case"utf-8":return ce(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ue;case"hex":return ue>>>1;case"base64":return he(q).length;default:if(Me)return Te?-1:ce(q).length;G=(""+G).toLowerCase(),Me=!0}}function v(q,G,ue){var Te=!1;if((void 0===G||G<0)&&(G=0),G>this.length||((void 0===ue||ue>this.length)&&(ue=this.length),ue<=0)||(ue>>>=0)<=(G>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return W(this,G,ue);case"utf8":case"utf-8":return fe(this,G,ue);case"ascii":return ae(this,G,ue);case"latin1":case"binary":return $(this,G,ue);case"base64":return oe(this,G,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,G,ue);default:if(Te)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),Te=!0}}function D(q,G,ue){var Te=q[G];q[G]=q[ue],q[ue]=Te}function S(q,G,ue,Te,Me){if(0===q.length)return-1;if("string"==typeof ue?(Te=ue,ue=0):ue>2147483647?ue=2147483647:ue<-2147483648&&(ue=-2147483648),_e(ue=+ue)&&(ue=Me?0:q.length-1),ue<0&&(ue=q.length+ue),ue>=q.length){if(Me)return-1;ue=q.length-1}else if(ue<0){if(!Me)return-1;ue=0}if("string"==typeof G&&(G=u.from(G,Te)),u.isBuffer(G))return 0===G.length?-1:R(q,G,ue,Te,Me);if("number"==typeof G)return G&=255,"function"==typeof Uint8Array.prototype.indexOf?Me?Uint8Array.prototype.indexOf.call(q,G,ue):Uint8Array.prototype.lastIndexOf.call(q,G,ue):R(q,[G],ue,Te,Me);throw new TypeError("val must be string, number or Buffer")}function R(q,G,ue,Te,Me){var Ee,ke=1,We=q.length,Ve=G.length;if(void 0!==Te&&("ucs2"===(Te=String(Te).toLowerCase())||"ucs-2"===Te||"utf16le"===Te||"utf-16le"===Te)){if(q.length<2||G.length<2)return-1;ke=2,We/=2,Ve/=2,ue/=2}function Se(st,tt){return 1===ke?st[tt]:st.readUInt16BE(tt*ke)}if(Me){var qe=-1;for(Ee=ue;Ee<We;Ee++)if(Se(q,Ee)===Se(G,-1===qe?0:Ee-qe)){if(-1===qe&&(qe=Ee),Ee-qe+1===Ve)return qe*ke}else-1!==qe&&(Ee-=Ee-qe),qe=-1}else for(ue+Ve>We&&(ue=We-Ve),Ee=ue;Ee>=0;Ee--){for(var ze=!0,Ye=0;Ye<Ve;Ye++)if(Se(q,Ee+Ye)!==Se(G,Ye)){ze=!1;break}if(ze)return Ee}return-1}function L(q,G,ue,Te){ue=Number(ue)||0;var Me=q.length-ue;Te?(Te=Number(Te))>Me&&(Te=Me):Te=Me;var Ee=G.length;Te>Ee/2&&(Te=Ee/2);for(var ke=0;ke<Te;++ke){var We=parseInt(G.substr(2*ke,2),16);if(_e(We))return ke;q[ue+ke]=We}return ke}function Z(q,G,ue,Te){return be(ce(G,q.length-ue),q,ue,Te)}function ee(q,G,ue,Te){return be(function(Me){for(var Ee=[],ke=0;ke<Me.length;++ke)Ee.push(255&Me.charCodeAt(ke));return Ee}(G),q,ue,Te)}function ne(q,G,ue,Te){return ee(q,G,ue,Te)}function J(q,G,ue,Te){return be(he(G),q,ue,Te)}function re(q,G,ue,Te){return be(function(Me,Ee){for(var ke,We,Se=[],qe=0;qe<Me.length&&!((Ee-=2)<0);++qe)We=(ke=Me.charCodeAt(qe))>>8,Se.push(ke%256),Se.push(We);return Se}(G,q.length-ue),q,ue,Te)}function oe(q,G,ue){return y.fromByteArray(0===G&&ue===q.length?q:q.slice(G,ue))}function fe(q,G,ue){ue=Math.min(q.length,ue);for(var Te=[],Me=G;Me<ue;){var Ee,ke,We,Ve,Se=q[Me],qe=null,ze=Se>239?4:Se>223?3:Se>191?2:1;if(Me+ze<=ue)switch(ze){case 1:Se<128&&(qe=Se);break;case 2:128==(192&(Ee=q[Me+1]))&&(Ve=(31&Se)<<6|63&Ee)>127&&(qe=Ve);break;case 3:ke=q[Me+2],128==(192&(Ee=q[Me+1]))&&128==(192&ke)&&(Ve=(15&Se)<<12|(63&Ee)<<6|63&ke)>2047&&(Ve<55296||Ve>57343)&&(qe=Ve);break;case 4:ke=q[Me+2],We=q[Me+3],128==(192&(Ee=q[Me+1]))&&128==(192&ke)&&128==(192&We)&&(Ve=(15&Se)<<18|(63&Ee)<<12|(63&ke)<<6|63&We)>65535&&Ve<1114112&&(qe=Ve)}null===qe?(qe=65533,ze=1):qe>65535&&(Te.push((qe-=65536)>>>10&1023|55296),qe=56320|1023&qe),Te.push(qe),Me+=ze}return function(Ye){var st=Ye.length;if(st<=4096)return String.fromCharCode.apply(String,Ye);for(var tt="",it=0;it<st;)tt+=String.fromCharCode.apply(String,Ye.slice(it,it+=4096));return tt}(Te)}function ae(q,G,ue){var Te="";ue=Math.min(q.length,ue);for(var Me=G;Me<ue;++Me)Te+=String.fromCharCode(127&q[Me]);return Te}function $(q,G,ue){var Te="";ue=Math.min(q.length,ue);for(var Me=G;Me<ue;++Me)Te+=String.fromCharCode(q[Me]);return Te}function W(q,G,ue){var Te=q.length;(!G||G<0)&&(G=0),(!ue||ue<0||ue>Te)&&(ue=Te);for(var Me="",Ee=G;Ee<ue;++Ee)Me+=Y(q[Ee]);return Me}function ie(q,G,ue){for(var Te=q.slice(G,ue),Me="",Ee=0;Ee<Te.length;Ee+=2)Me+=String.fromCharCode(Te[Ee]+256*Te[Ee+1]);return Me}function T(q,G,ue){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+G>ue)throw new RangeError("Trying to access beyond buffer length")}function I(q,G,ue,Te,Me,Ee){if(!u.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>Me||G<Ee)throw new RangeError('"value" argument is out of bounds');if(ue+Te>q.length)throw new RangeError("Index out of range")}function k(q,G,ue,Te,Me,Ee){if(ue+Te>q.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("Index out of range")}function N(q,G,ue,Te,Me){return G=+G,ue>>>=0,Me||k(q,0,ue,4),g.write(q,G,ue,Te,23,4),ue+4}function P(q,G,ue,Te,Me){return G=+G,ue>>>=0,Me||k(q,0,ue,8),g.write(q,G,ue,Te,52,8),ue+8}B.Buffer=u,B.SlowBuffer=function(q){return+q!=q&&(q=0),u.alloc(+q)},B.INSPECT_MAX_BYTES=50,B.kMaxLength=2147483647,(u.TYPED_ARRAY_SUPPORT=function(){try{var q=new Uint8Array(1);return q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===q.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(q,G,ue){return f(q,G,ue)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(q,G,ue){return Me=G,Ee=ue,b(Te=q),Te<=0?d(Te):void 0!==Me?"string"==typeof Ee?d(Te).fill(Me,Ee):d(Te).fill(Me):d(Te);var Te,Me,Ee},u.allocUnsafe=function(q){return p(q)},u.allocUnsafeSlow=function(q){return p(q)},u.isBuffer=function(q){return null!=q&&!0===q._isBuffer&&q!==u.prototype},u.compare=function(q,G){if(K(q,Uint8Array)&&(q=u.from(q,q.offset,q.byteLength)),K(G,Uint8Array)&&(G=u.from(G,G.offset,G.byteLength)),!u.isBuffer(q)||!u.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===G)return 0;for(var ue=q.length,Te=G.length,Me=0,Ee=Math.min(ue,Te);Me<Ee;++Me)if(q[Me]!==G[Me]){ue=q[Me],Te=G[Me];break}return ue<Te?-1:Te<ue?1:0},u.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(q,G){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===q.length)return u.alloc(0);var ue;if(void 0===G)for(G=0,ue=0;ue<q.length;++ue)G+=q[ue].length;var Te=u.allocUnsafe(G),Me=0;for(ue=0;ue<q.length;++ue){var Ee=q[ue];if(K(Ee,Uint8Array)&&(Ee=u.from(Ee)),!u.isBuffer(Ee))throw new TypeError('"list" argument must be an Array of Buffers');Ee.copy(Te,Me),Me+=Ee.length}return Te},u.byteLength=E,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<q;G+=2)D(this,G,G+1);return this},u.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<q;G+=4)D(this,G,G+3),D(this,G+1,G+2);return this},u.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<q;G+=8)D(this,G,G+7),D(this,G+1,G+6),D(this,G+2,G+5),D(this,G+3,G+4);return this},u.prototype.toString=function(){var q=this.length;return 0===q?"":0===arguments.length?fe(this,0,q):v.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(q){if(!u.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q||0===u.compare(this,q)},u.prototype.inspect=function(){var q="",G=B.INSPECT_MAX_BYTES;return q=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(q+=" ... "),"<Buffer "+q+">"},u.prototype.compare=function(q,G,ue,Te,Me){if(K(q,Uint8Array)&&(q=u.from(q,q.offset,q.byteLength)),!u.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(void 0===G&&(G=0),void 0===ue&&(ue=q?q.length:0),void 0===Te&&(Te=0),void 0===Me&&(Me=this.length),G<0||ue>q.length||Te<0||Me>this.length)throw new RangeError("out of range index");if(Te>=Me&&G>=ue)return 0;if(Te>=Me)return-1;if(G>=ue)return 1;if(this===q)return 0;for(var Ee=(Me>>>=0)-(Te>>>=0),ke=(ue>>>=0)-(G>>>=0),We=Math.min(Ee,ke),Ve=this.slice(Te,Me),Se=q.slice(G,ue),qe=0;qe<We;++qe)if(Ve[qe]!==Se[qe]){Ee=Ve[qe],ke=Se[qe];break}return Ee<ke?-1:ke<Ee?1:0},u.prototype.includes=function(q,G,ue){return-1!==this.indexOf(q,G,ue)},u.prototype.indexOf=function(q,G,ue){return S(this,q,G,ue,!0)},u.prototype.lastIndexOf=function(q,G,ue){return S(this,q,G,ue,!1)},u.prototype.write=function(q,G,ue,Te){if(void 0===G)Te="utf8",ue=this.length,G=0;else if(void 0===ue&&"string"==typeof G)Te=G,ue=this.length,G=0;else{if(!isFinite(G))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");G>>>=0,isFinite(ue)?(ue>>>=0,void 0===Te&&(Te="utf8")):(Te=ue,ue=void 0)}var Me=this.length-G;if((void 0===ue||ue>Me)&&(ue=Me),q.length>0&&(ue<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");Te||(Te="utf8");for(var Ee=!1;;)switch(Te){case"hex":return L(this,q,G,ue);case"utf8":case"utf-8":return Z(this,q,G,ue);case"ascii":return ee(this,q,G,ue);case"latin1":case"binary":return ne(this,q,G,ue);case"base64":return J(this,q,G,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,q,G,ue);default:if(Ee)throw new TypeError("Unknown encoding: "+Te);Te=(""+Te).toLowerCase(),Ee=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(q,G){var ue=this.length;(q=~~q)<0?(q+=ue)<0&&(q=0):q>ue&&(q=ue),(G=void 0===G?ue:~~G)<0?(G+=ue)<0&&(G=0):G>ue&&(G=ue),G<q&&(G=q);var Te=this.subarray(q,G);return Te.__proto__=u.prototype,Te},u.prototype.readUIntLE=function(q,G,ue){q>>>=0,G>>>=0,ue||T(q,G,this.length);for(var Te=this[q],Me=1,Ee=0;++Ee<G&&(Me*=256);)Te+=this[q+Ee]*Me;return Te},u.prototype.readUIntBE=function(q,G,ue){q>>>=0,G>>>=0,ue||T(q,G,this.length);for(var Te=this[q+--G],Me=1;G>0&&(Me*=256);)Te+=this[q+--G]*Me;return Te},u.prototype.readUInt8=function(q,G){return q>>>=0,G||T(q,1,this.length),this[q]},u.prototype.readUInt16LE=function(q,G){return q>>>=0,G||T(q,2,this.length),this[q]|this[q+1]<<8},u.prototype.readUInt16BE=function(q,G){return q>>>=0,G||T(q,2,this.length),this[q]<<8|this[q+1]},u.prototype.readUInt32LE=function(q,G){return q>>>=0,G||T(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},u.prototype.readUInt32BE=function(q,G){return q>>>=0,G||T(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},u.prototype.readIntLE=function(q,G,ue){q>>>=0,G>>>=0,ue||T(q,G,this.length);for(var Te=this[q],Me=1,Ee=0;++Ee<G&&(Me*=256);)Te+=this[q+Ee]*Me;return Te>=(Me*=128)&&(Te-=Math.pow(2,8*G)),Te},u.prototype.readIntBE=function(q,G,ue){q>>>=0,G>>>=0,ue||T(q,G,this.length);for(var Te=G,Me=1,Ee=this[q+--Te];Te>0&&(Me*=256);)Ee+=this[q+--Te]*Me;return Ee>=(Me*=128)&&(Ee-=Math.pow(2,8*G)),Ee},u.prototype.readInt8=function(q,G){return q>>>=0,G||T(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},u.prototype.readInt16LE=function(q,G){q>>>=0,G||T(q,2,this.length);var ue=this[q]|this[q+1]<<8;return 32768&ue?4294901760|ue:ue},u.prototype.readInt16BE=function(q,G){q>>>=0,G||T(q,2,this.length);var ue=this[q+1]|this[q]<<8;return 32768&ue?4294901760|ue:ue},u.prototype.readInt32LE=function(q,G){return q>>>=0,G||T(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},u.prototype.readInt32BE=function(q,G){return q>>>=0,G||T(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},u.prototype.readFloatLE=function(q,G){return q>>>=0,G||T(q,4,this.length),g.read(this,q,!0,23,4)},u.prototype.readFloatBE=function(q,G){return q>>>=0,G||T(q,4,this.length),g.read(this,q,!1,23,4)},u.prototype.readDoubleLE=function(q,G){return q>>>=0,G||T(q,8,this.length),g.read(this,q,!0,52,8)},u.prototype.readDoubleBE=function(q,G){return q>>>=0,G||T(q,8,this.length),g.read(this,q,!1,52,8)},u.prototype.writeUIntLE=function(q,G,ue,Te){q=+q,G>>>=0,ue>>>=0,Te||I(this,q,G,ue,Math.pow(2,8*ue)-1,0);var Me=1,Ee=0;for(this[G]=255&q;++Ee<ue&&(Me*=256);)this[G+Ee]=q/Me&255;return G+ue},u.prototype.writeUIntBE=function(q,G,ue,Te){q=+q,G>>>=0,ue>>>=0,Te||I(this,q,G,ue,Math.pow(2,8*ue)-1,0);var Me=ue-1,Ee=1;for(this[G+Me]=255&q;--Me>=0&&(Ee*=256);)this[G+Me]=q/Ee&255;return G+ue},u.prototype.writeUInt8=function(q,G,ue){return q=+q,G>>>=0,ue||I(this,q,G,1,255,0),this[G]=255&q,G+1},u.prototype.writeUInt16LE=function(q,G,ue){return q=+q,G>>>=0,ue||I(this,q,G,2,65535,0),this[G]=255&q,this[G+1]=q>>>8,G+2},u.prototype.writeUInt16BE=function(q,G,ue){return q=+q,G>>>=0,ue||I(this,q,G,2,65535,0),this[G]=q>>>8,this[G+1]=255&q,G+2},u.prototype.writeUInt32LE=function(q,G,ue){return q=+q,G>>>=0,ue||I(this,q,G,4,4294967295,0),this[G+3]=q>>>24,this[G+2]=q>>>16,this[G+1]=q>>>8,this[G]=255&q,G+4},u.prototype.writeUInt32BE=function(q,G,ue){return q=+q,G>>>=0,ue||I(this,q,G,4,4294967295,0),this[G]=q>>>24,this[G+1]=q>>>16,this[G+2]=q>>>8,this[G+3]=255&q,G+4},u.prototype.writeIntLE=function(q,G,ue,Te){if(q=+q,G>>>=0,!Te){var Me=Math.pow(2,8*ue-1);I(this,q,G,ue,Me-1,-Me)}var Ee=0,ke=1,We=0;for(this[G]=255&q;++Ee<ue&&(ke*=256);)q<0&&0===We&&0!==this[G+Ee-1]&&(We=1),this[G+Ee]=(q/ke>>0)-We&255;return G+ue},u.prototype.writeIntBE=function(q,G,ue,Te){if(q=+q,G>>>=0,!Te){var Me=Math.pow(2,8*ue-1);I(this,q,G,ue,Me-1,-Me)}var Ee=ue-1,ke=1,We=0;for(this[G+Ee]=255&q;--Ee>=0&&(ke*=256);)q<0&&0===We&&0!==this[G+Ee+1]&&(We=1),this[G+Ee]=(q/ke>>0)-We&255;return G+ue},u.prototype.writeInt8=function(q,G,ue){return q=+q,G>>>=0,ue||I(this,q,G,1,127,-128),q<0&&(q=255+q+1),this[G]=255&q,G+1},u.prototype.writeInt16LE=function(q,G,ue){return q=+q,G>>>=0,ue||I(this,q,G,2,32767,-32768),this[G]=255&q,this[G+1]=q>>>8,G+2},u.prototype.writeInt16BE=function(q,G,ue){return q=+q,G>>>=0,ue||I(this,q,G,2,32767,-32768),this[G]=q>>>8,this[G+1]=255&q,G+2},u.prototype.writeInt32LE=function(q,G,ue){return q=+q,G>>>=0,ue||I(this,q,G,4,2147483647,-2147483648),this[G]=255&q,this[G+1]=q>>>8,this[G+2]=q>>>16,this[G+3]=q>>>24,G+4},u.prototype.writeInt32BE=function(q,G,ue){return q=+q,G>>>=0,ue||I(this,q,G,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[G]=q>>>24,this[G+1]=q>>>16,this[G+2]=q>>>8,this[G+3]=255&q,G+4},u.prototype.writeFloatLE=function(q,G,ue){return N(this,q,G,!0,ue)},u.prototype.writeFloatBE=function(q,G,ue){return N(this,q,G,!1,ue)},u.prototype.writeDoubleLE=function(q,G,ue){return P(this,q,G,!0,ue)},u.prototype.writeDoubleBE=function(q,G,ue){return P(this,q,G,!1,ue)},u.prototype.copy=function(q,G,ue,Te){if(!u.isBuffer(q))throw new TypeError("argument should be a Buffer");if(ue||(ue=0),Te||0===Te||(Te=this.length),G>=q.length&&(G=q.length),G||(G=0),Te>0&&Te<ue&&(Te=ue),Te===ue||0===q.length||0===this.length)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("sourceEnd out of bounds");Te>this.length&&(Te=this.length),q.length-G<Te-ue&&(Te=q.length-G+ue);var Me=Te-ue;if(this===q&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(G,ue,Te);else if(this===q&&ue<G&&G<Te)for(var Ee=Me-1;Ee>=0;--Ee)q[Ee+G]=this[Ee+ue];else Uint8Array.prototype.set.call(q,this.subarray(ue,Te),G);return Me},u.prototype.fill=function(q,G,ue,Te){if("string"==typeof q){if("string"==typeof G?(Te=G,G=0,ue=this.length):"string"==typeof ue&&(Te=ue,ue=this.length),void 0!==Te&&"string"!=typeof Te)throw new TypeError("encoding must be a string");if("string"==typeof Te&&!u.isEncoding(Te))throw new TypeError("Unknown encoding: "+Te);if(1===q.length){var Me=q.charCodeAt(0);("utf8"===Te&&Me<128||"latin1"===Te)&&(q=Me)}}else"number"==typeof q&&(q&=255);if(G<0||this.length<G||this.length<ue)throw new RangeError("Out of range index");if(ue<=G)return this;var Ee;if(G>>>=0,ue=void 0===ue?this.length:ue>>>0,q||(q=0),"number"==typeof q)for(Ee=G;Ee<ue;++Ee)this[Ee]=q;else{var ke=u.isBuffer(q)?q:u.from(q,Te),We=ke.length;if(0===We)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(Ee=0;Ee<ue-G;++Ee)this[Ee+G]=ke[Ee%We]}return this};var U=/[^+/0-9A-Za-z-_]/g;function Y(q){return q<16?"0"+q.toString(16):q.toString(16)}function ce(q,G){var ue;G=G||1/0;for(var Te=q.length,Me=null,Ee=[],ke=0;ke<Te;++ke){if((ue=q.charCodeAt(ke))>55295&&ue<57344){if(!Me){if(ue>56319){(G-=3)>-1&&Ee.push(239,191,189);continue}if(ke+1===Te){(G-=3)>-1&&Ee.push(239,191,189);continue}Me=ue;continue}if(ue<56320){(G-=3)>-1&&Ee.push(239,191,189),Me=ue;continue}ue=65536+(Me-55296<<10|ue-56320)}else Me&&(G-=3)>-1&&Ee.push(239,191,189);if(Me=null,ue<128){if((G-=1)<0)break;Ee.push(ue)}else if(ue<2048){if((G-=2)<0)break;Ee.push(ue>>6|192,63&ue|128)}else if(ue<65536){if((G-=3)<0)break;Ee.push(ue>>12|224,ue>>6&63|128,63&ue|128)}else{if(!(ue<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;Ee.push(ue>>18|240,ue>>12&63|128,ue>>6&63|128,63&ue|128)}}return Ee}function he(q){return y.toByteArray(function(G){if((G=(G=G.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;G.length%4!=0;)G+="=";return G}(q))}function be(q,G,ue,Te){for(var Me=0;Me<Te&&!(Me+ue>=G.length||Me>=q.length);++Me)G[Me+ue]=q[Me];return Me}function K(q,G){return q instanceof G||null!=q&&null!=q.constructor&&null!=q.constructor.name&&q.constructor.name===G.name}function _e(q){return q!=q}}).call(this)}).call(this,_("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer,y=_("stream").Transform,g=_("string_decoder").StringDecoder;function d(u){y.call(this),this.hashMode="string"==typeof u,this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}_("inherits")(d,y),d.prototype.update=function(u,f,b){"string"==typeof u&&(u=A.from(u,f));var p=this._update(u);return this.hashMode?this:(b&&(p=this._toString(p,b)),p)},d.prototype.setAutoPadding=function(){},d.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},d.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},d.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},d.prototype._transform=function(u,f,b){var p;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(m){p=m}finally{b(p)}},d.prototype._flush=function(u){var f;try{this.push(this.__final())}catch(b){f=b}u(f)},d.prototype._finalOrDigest=function(u){var f=this.__final()||A.alloc(0);return u&&(f=this._toString(f,u,!0)),f},d.prototype._toString=function(u,f,b){if(this._decoder||(this._decoder=new g(f),this._encoding=f),this._encoding!==f)throw new Error("can't switch encodings");var p=this._decoder.write(u);return b&&(p+=this._decoder.end()),p},z.exports=d},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(_,z,B){"use strict";var A=_("../internals/is-callable"),y=_("../internals/try-to-string"),g=TypeError;z.exports=function(d){if(A(d))return d;throw new g(y(d)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(_,z,B){"use strict";var A=_("../internals/is-constructor"),y=_("../internals/try-to-string"),g=TypeError;z.exports=function(d){if(A(d))return d;throw new g(y(d)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(_,z,B){"use strict";var A=_("../internals/is-callable"),y=String,g=TypeError;z.exports=function(d){if("object"==typeof d||A(d))return d;throw new g("Can't set "+y(d)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(_,z,B){"use strict";var A=_("../internals/well-known-symbol"),y=_("../internals/object-create"),g=_("../internals/object-define-property").f,d=A("unscopables"),u=Array.prototype;void 0===u[d]&&g(u,d,{configurable:!0,value:y(null)}),z.exports=function(f){u[d][f]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(_,z,B){"use strict";var A=_("../internals/object-is-prototype-of"),y=TypeError;z.exports=function(g,d){if(A(d,g))return g;throw new y("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(_,z,B){"use strict";var A=_("../internals/is-object"),y=String,g=TypeError;z.exports=function(d){if(A(d))return d;throw new g(y(d)+" is not an object")}},{"../internals/is-object":289}],228:[function(_,z,B){"use strict";var A=_("../internals/to-indexed-object"),y=_("../internals/to-absolute-index"),g=_("../internals/length-of-array-like"),d=function(u){return function(f,b,p){var m,C=A(f),E=g(C),v=y(p,E);if(u&&b!=b){for(;E>v;)if((m=C[v++])!=m)return!0}else for(;E>v;v++)if((u||v in C)&&C[v]===b)return u||v||0;return!u&&-1}};z.exports={includes:d(!0),indexOf:d(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(_,z,B){"use strict";var A=_("../internals/function-bind-context"),y=_("../internals/function-uncurry-this"),g=_("../internals/indexed-object"),d=_("../internals/to-object"),u=_("../internals/length-of-array-like"),f=_("../internals/array-species-create"),b=y([].push),p=function(m){var C=1===m,E=2===m,v=3===m,D=4===m,S=6===m,R=7===m,L=5===m||S;return function(Z,ee,ne,J){for(var re,oe,fe=d(Z),ae=g(fe),$=A(ee,ne),W=u(ae),ie=0,T=J||f,I=C?T(Z,W):E||R?T(Z,0):void 0;W>ie;ie++)if((L||ie in ae)&&(oe=$(re=ae[ie],ie,fe),m))if(C)I[ie]=oe;else if(oe)switch(m){case 3:return!0;case 5:return re;case 6:return ie;case 2:b(I,re)}else switch(m){case 4:return!1;case 7:b(I,re)}return S?-1:v||D?D:I}};z.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6),filterReject:p(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(_,z,B){"use strict";var A=_("../internals/to-absolute-index"),y=_("../internals/length-of-array-like"),g=_("../internals/create-property"),d=Array,u=Math.max;z.exports=function(f,b,p){for(var m=y(f),C=A(b,m),E=A(void 0===p?m:p,m),v=d(u(E-C,0)),D=0;C<E;C++,D++)g(v,D,f[C]);return v.length=D,v}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this");z.exports=A([].slice)},{"../internals/function-uncurry-this":268}],232:[function(_,z,B){"use strict";var A=_("../internals/is-array"),y=_("../internals/is-constructor"),g=_("../internals/is-object"),d=_("../internals/well-known-symbol")("species"),u=Array;z.exports=function(f){var b;return A(f)&&(y(b=f.constructor)&&(b===u||A(b.prototype))||g(b)&&null===(b=b[d]))&&(b=void 0),void 0===b?u:b}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(_,z,B){"use strict";var A=_("../internals/array-species-constructor");z.exports=function(y,g){return new(A(y))(0===g?0:g)}},{"../internals/array-species-constructor":232}],234:[function(_,z,B){"use strict";var A=_("../internals/well-known-symbol")("iterator"),y=!1;try{var g=0,d={next:function(){return{done:!!g++}},return:function(){y=!0}};d[A]=function(){return this},Array.from(d,function(){throw 2})}catch{}z.exports=function(u,f){try{if(!f&&!y)return!1}catch{return!1}var b=!1;try{var p={};p[A]=function(){return{next:function(){return{done:b=!0}}}},u(p)}catch{}return b}},{"../internals/well-known-symbol":357}],235:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this"),y=A({}.toString),g=A("".slice);z.exports=function(d){return g(y(d),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(_,z,B){"use strict";var A=_("../internals/to-string-tag-support"),y=_("../internals/is-callable"),g=_("../internals/classof-raw"),d=_("../internals/well-known-symbol")("toStringTag"),u=Object,f="Arguments"===g(function(){return arguments}());z.exports=A?g:function(b){var p,m,C;return void 0===b?"Undefined":null===b?"Null":"string"==typeof(m=function(E,v){try{return E[v]}catch{}}(p=u(b),d))?m:f?g(p):"Object"===(C=g(p))&&y(p.callee)?"Arguments":C}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(_,z,B){"use strict";var A=_("../internals/has-own-property"),y=_("../internals/own-keys"),g=_("../internals/object-get-own-property-descriptor"),d=_("../internals/object-define-property");z.exports=function(u,f,b){for(var p=y(f),m=d.f,C=g.f,E=0;E<p.length;E++){var v=p[E];A(u,v)||b&&A(b,v)||m(u,v,C(f,v))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(_,z,B){"use strict";var A=_("../internals/well-known-symbol")("match");z.exports=function(y){var g=/./;try{"/./"[y](g)}catch{try{return g[A]=!1,"/./"[y](g)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(_,z,B){"use strict";var A=_("../internals/fails");z.exports=!A(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},{"../internals/fails":260}],240:[function(_,z,B){"use strict";z.exports=function(A,y){return{value:A,done:y}}},{}],241:[function(_,z,B){"use strict";var A=_("../internals/descriptors"),y=_("../internals/object-define-property"),g=_("../internals/create-property-descriptor");z.exports=A?function(d,u,f){return y.f(d,u,g(1,f))}:function(d,u,f){return d[u]=f,d}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(_,z,B){"use strict";z.exports=function(A,y){return{enumerable:!(1&A),configurable:!(2&A),writable:!(4&A),value:y}}},{}],243:[function(_,z,B){"use strict";var A=_("../internals/to-property-key"),y=_("../internals/object-define-property"),g=_("../internals/create-property-descriptor");z.exports=function(d,u,f){var b=A(u);b in d?y.f(d,b,g(0,f)):d[b]=f}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(_,z,B){"use strict";var A=_("../internals/make-built-in"),y=_("../internals/object-define-property");z.exports=function(g,d,u){return u.get&&A(u.get,d,{getter:!0}),u.set&&A(u.set,d,{setter:!0}),y.f(g,d,u)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(_,z,B){"use strict";var A=_("../internals/is-callable"),y=_("../internals/object-define-property"),g=_("../internals/make-built-in"),d=_("../internals/define-global-property");z.exports=function(u,f,b,p){p||(p={});var m=p.enumerable,C=void 0!==p.name?p.name:f;if(A(b)&&g(b,C,p),p.global)m?u[f]=b:d(f,b);else{try{p.unsafe?u[f]&&(m=!0):delete u[f]}catch{}m?u[f]=b:y.f(u,f,{value:b,enumerable:!1,configurable:!p.nonConfigurable,writable:!p.nonWritable})}return u}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(_,z,B){"use strict";var A=_("../internals/global"),y=Object.defineProperty;z.exports=function(g,d){try{y(A,g,{value:d,configurable:!0,writable:!0})}catch{A[g]=d}return d}},{"../internals/global":274}],247:[function(_,z,B){"use strict";var A=_("../internals/fails");z.exports=!A(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":260}],248:[function(_,z,B){"use strict";var A="object"==typeof document&&document.all;z.exports={all:A,IS_HTMLDDA:void 0===A&&void 0!==A}},{}],249:[function(_,z,B){"use strict";var A=_("../internals/global"),y=_("../internals/is-object"),g=A.document,d=y(g)&&y(g.createElement);z.exports=function(u){return d?g.createElement(u):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(_,z,B){"use strict";var A=_("../internals/engine-is-deno"),y=_("../internals/engine-is-node");z.exports=!A&&!y&&"object"==typeof window&&"object"==typeof document},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(_,z,B){"use strict";z.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},{}],252:[function(_,z,B){"use strict";var A=_("../internals/engine-user-agent");z.exports=/ipad|iphone|ipod/i.test(A)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(_,z,B){"use strict";var A=_("../internals/engine-user-agent");z.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(A)},{"../internals/engine-user-agent":256}],254:[function(_,z,B){"use strict";var A=_("../internals/global"),y=_("../internals/classof-raw");z.exports="process"===y(A.process)},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(_,z,B){"use strict";var A=_("../internals/engine-user-agent");z.exports=/web0s(?!.*chrome)/i.test(A)},{"../internals/engine-user-agent":256}],256:[function(_,z,B){"use strict";z.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(_,z,B){"use strict";var A,y,g=_("../internals/global"),d=_("../internals/engine-user-agent"),u=g.process,f=g.Deno,b=u&&u.versions||f&&f.version,p=b&&b.v8;p&&(y=(A=p.split("."))[0]>0&&A[0]<4?1:+(A[0]+A[1])),!y&&d&&(!(A=d.match(/Edge\/(\d+)/))||A[1]>=74)&&(A=d.match(/Chrome\/(\d+)/))&&(y=+A[1]),z.exports=y},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(_,z,B){"use strict";z.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(_,z,B){"use strict";var A=_("../internals/global"),y=_("../internals/object-get-own-property-descriptor").f,g=_("../internals/create-non-enumerable-property"),d=_("../internals/define-built-in"),u=_("../internals/define-global-property"),f=_("../internals/copy-constructor-properties"),b=_("../internals/is-forced");z.exports=function(p,m){var C,E,v,D,S,R=p.target,L=p.global,Z=p.stat;if(C=L?A:Z?A[R]||u(R,{}):(A[R]||{}).prototype)for(E in m){if(D=m[E],v=p.dontCallGetSet?(S=y(C,E))&&S.value:C[E],!b(L?E:R+(Z?".":"#")+E,p.forced)&&void 0!==v){if(typeof D==typeof v)continue;f(D,v)}(p.sham||v&&v.sham)&&g(D,"sham",!0),d(C,E,D,p)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(_,z,B){"use strict";z.exports=function(A){try{return!!A()}catch{return!0}}},{}],261:[function(_,z,B){"use strict";var A=_("../internals/function-bind-native"),y=Function.prototype,g=y.apply,d=y.call;z.exports="object"==typeof Reflect&&Reflect.apply||(A?d.bind(g):function(){return d.apply(g,arguments)})},{"../internals/function-bind-native":263}],262:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this-clause"),y=_("../internals/a-callable"),g=_("../internals/function-bind-native"),d=A(A.bind);z.exports=function(u,f){return y(u),void 0===f?u:g?d(u,f):function(){return u.apply(f,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(_,z,B){"use strict";var A=_("../internals/fails");z.exports=!A(function(){var y=function(){}.bind();return"function"!=typeof y||y.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(_,z,B){"use strict";var A=_("../internals/function-bind-native"),y=Function.prototype.call;z.exports=A?y.bind(y):function(){return y.apply(y,arguments)}},{"../internals/function-bind-native":263}],265:[function(_,z,B){"use strict";var A=_("../internals/descriptors"),y=_("../internals/has-own-property"),g=Function.prototype,d=A&&Object.getOwnPropertyDescriptor,u=y(g,"name"),f=u&&"something"===function(){}.name,b=u&&(!A||A&&d(g,"name").configurable);z.exports={EXISTS:u,PROPER:f,CONFIGURABLE:b}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this"),y=_("../internals/a-callable");z.exports=function(g,d,u){try{return A(y(Object.getOwnPropertyDescriptor(g,d)[u]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(_,z,B){"use strict";var A=_("../internals/classof-raw"),y=_("../internals/function-uncurry-this");z.exports=function(g){if("Function"===A(g))return y(g)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(_,z,B){"use strict";var A=_("../internals/function-bind-native"),y=Function.prototype,g=y.call,d=A&&y.bind.bind(g,g);z.exports=A?d:function(u){return function(){return g.apply(u,arguments)}}},{"../internals/function-bind-native":263}],269:[function(_,z,B){"use strict";var A=_("../internals/global"),y=_("../internals/is-callable"),g=function(d){return y(d)?d:void 0};z.exports=function(d,u){return arguments.length<2?g(A[d]):A[d]&&A[d][u]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(_,z,B){"use strict";var A=_("../internals/classof"),y=_("../internals/get-method"),g=_("../internals/is-null-or-undefined"),d=_("../internals/iterators"),u=_("../internals/well-known-symbol")("iterator");z.exports=function(f){if(!g(f))return y(f,u)||y(f,"@@iterator")||d[A(f)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(_,z,B){"use strict";var A=_("../internals/function-call"),y=_("../internals/a-callable"),g=_("../internals/an-object"),d=_("../internals/try-to-string"),u=_("../internals/get-iterator-method"),f=TypeError;z.exports=function(b,p){var m=arguments.length<2?u(b):p;if(y(m))return g(A(m,b));throw new f(d(b)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this"),y=_("../internals/is-array"),g=_("../internals/is-callable"),d=_("../internals/classof-raw"),u=_("../internals/to-string"),f=A([].push);z.exports=function(b){if(g(b))return b;if(y(b)){for(var p=b.length,m=[],C=0;C<p;C++){var E=b[C];"string"==typeof E?f(m,E):"number"!=typeof E&&"Number"!==d(E)&&"String"!==d(E)||f(m,u(E))}var v=m.length,D=!0;return function(S,R){if(D)return D=!1,R;if(y(this))return R;for(var L=0;L<v;L++)if(m[L]===S)return R}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(_,z,B){"use strict";var A=_("../internals/a-callable"),y=_("../internals/is-null-or-undefined");z.exports=function(g,d){var u=g[d];return y(u)?void 0:A(u)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(_,z,B){(function(A){(function(){"use strict";var y=function(g){return g&&g.Math===Math&&g};z.exports=y("object"==typeof globalThis&&globalThis)||y("object"==typeof window&&window)||y("object"==typeof self&&self)||y("object"==typeof A&&A)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this"),y=_("../internals/to-object"),g=A({}.hasOwnProperty);z.exports=Object.hasOwn||function(d,u){return g(y(d),u)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(_,z,B){"use strict";z.exports={}},{}],277:[function(_,z,B){"use strict";z.exports=function(A,y){try{1===arguments.length?console.error(A):console.error(A,y)}catch{}}},{}],278:[function(_,z,B){"use strict";var A=_("../internals/get-built-in");z.exports=A("document","documentElement")},{"../internals/get-built-in":269}],279:[function(_,z,B){"use strict";var A=_("../internals/descriptors"),y=_("../internals/fails"),g=_("../internals/document-create-element");z.exports=!A&&!y(function(){return 7!==Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this"),y=_("../internals/fails"),g=_("../internals/classof-raw"),d=Object,u=A("".split);z.exports=y(function(){return!d("z").propertyIsEnumerable(0)})?function(f){return"String"===g(f)?u(f,""):d(f)}:d},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this"),y=_("../internals/is-callable"),g=_("../internals/shared-store"),d=A(Function.toString);y(g.inspectSource)||(g.inspectSource=function(u){return d(u)}),z.exports=g.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(_,z,B){"use strict";var A,y,g,d=_("../internals/weak-map-basic-detection"),u=_("../internals/global"),f=_("../internals/is-object"),b=_("../internals/create-non-enumerable-property"),p=_("../internals/has-own-property"),m=_("../internals/shared-store"),C=_("../internals/shared-key"),E=_("../internals/hidden-keys"),v=u.TypeError;if(d||m.state){var S=m.state||(m.state=new(0,u.WeakMap));S.get=S.get,S.has=S.has,S.set=S.set,A=function(L,Z){if(S.has(L))throw new v("Object already initialized");return Z.facade=L,S.set(L,Z),Z},y=function(L){return S.get(L)||{}},g=function(L){return S.has(L)}}else{var R=C("state");E[R]=!0,A=function(L,Z){if(p(L,R))throw new v("Object already initialized");return Z.facade=L,b(L,R,Z),Z},y=function(L){return p(L,R)?L[R]:{}},g=function(L){return p(L,R)}}z.exports={set:A,get:y,has:g,enforce:function(L){return g(L)?y(L):A(L,{})},getterFor:function(L){return function(Z){var ee;if(!f(Z)||(ee=y(Z)).type!==L)throw new v("Incompatible receiver, "+L+" required");return ee}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(_,z,B){"use strict";var A=_("../internals/well-known-symbol"),y=_("../internals/iterators"),g=A("iterator"),d=Array.prototype;z.exports=function(u){return void 0!==u&&(y.Array===u||d[g]===u)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(_,z,B){"use strict";var A=_("../internals/classof-raw");z.exports=Array.isArray||function(y){return"Array"===A(y)}},{"../internals/classof-raw":235}],285:[function(_,z,B){"use strict";var A=_("../internals/document-all"),y=A.all;z.exports=A.IS_HTMLDDA?function(g){return"function"==typeof g||g===y}:function(g){return"function"==typeof g}},{"../internals/document-all":248}],286:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this"),y=_("../internals/fails"),g=_("../internals/is-callable"),d=_("../internals/classof"),u=_("../internals/get-built-in"),f=_("../internals/inspect-source"),b=function(){},p=[],m=u("Reflect","construct"),C=/^\s*(?:class|function)\b/,E=A(C.exec),v=!C.test(b),D=function(R){if(!g(R))return!1;try{return m(b,p,R),!0}catch{return!1}},S=function(R){if(!g(R))return!1;switch(d(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!E(C,f(R))}catch{return!0}};S.sham=!0,z.exports=!m||y(function(){var R;return D(D.call)||!D(Object)||!D(function(){R=!0})||R})?S:D},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(_,z,B){"use strict";var A=_("../internals/fails"),y=_("../internals/is-callable"),g=/#|\.prototype\./,d=function(m,C){var E=f[u(m)];return E===p||E!==b&&(y(C)?A(C):!!C)},u=d.normalize=function(m){return String(m).replace(g,".").toLowerCase()},f=d.data={},b=d.NATIVE="N",p=d.POLYFILL="P";z.exports=d},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(_,z,B){"use strict";z.exports=function(A){return null==A}},{}],289:[function(_,z,B){"use strict";var A=_("../internals/is-callable"),y=_("../internals/document-all"),g=y.all;z.exports=y.IS_HTMLDDA?function(d){return"object"==typeof d?null!==d:A(d)||d===g}:function(d){return"object"==typeof d?null!==d:A(d)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(_,z,B){"use strict";z.exports=!1},{}],291:[function(_,z,B){"use strict";var A=_("../internals/is-object"),y=_("../internals/classof-raw"),g=_("../internals/well-known-symbol")("match");z.exports=function(d){var u;return A(d)&&(void 0!==(u=d[g])?!!u:"RegExp"===y(d))}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(_,z,B){"use strict";var A=_("../internals/get-built-in"),y=_("../internals/is-callable"),g=_("../internals/object-is-prototype-of"),d=_("../internals/use-symbol-as-uid"),u=Object;z.exports=d?function(f){return"symbol"==typeof f}:function(f){var b=A("Symbol");return y(b)&&g(b.prototype,u(f))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(_,z,B){"use strict";var A=_("../internals/function-bind-context"),y=_("../internals/function-call"),g=_("../internals/an-object"),d=_("../internals/try-to-string"),u=_("../internals/is-array-iterator-method"),f=_("../internals/length-of-array-like"),b=_("../internals/object-is-prototype-of"),p=_("../internals/get-iterator"),m=_("../internals/get-iterator-method"),C=_("../internals/iterator-close"),E=TypeError,v=function(S,R){this.stopped=S,this.result=R},D=v.prototype;z.exports=function(S,R,L){var Z,ee,ne,J,re,oe,fe,$=!(!L||!L.AS_ENTRIES),W=!(!L||!L.IS_RECORD),ie=!(!L||!L.IS_ITERATOR),T=!(!L||!L.INTERRUPTED),I=A(R,L&&L.that),k=function(P){return Z&&C(Z,"normal",P),new v(!0,P)},N=function(P){return $?(g(P),T?I(P[0],P[1],k):I(P[0],P[1])):T?I(P,k):I(P)};if(W)Z=S.iterator;else if(ie)Z=S;else{if(!(ee=m(S)))throw new E(d(S)+" is not iterable");if(u(ee)){for(ne=0,J=f(S);J>ne;ne++)if((re=N(S[ne]))&&b(D,re))return re;return new v(!1)}Z=p(S,ee)}for(oe=W?S.next:Z.next;!(fe=y(oe,Z)).done;){try{re=N(fe.value)}catch(P){C(Z,"throw",P)}if("object"==typeof re&&re&&b(D,re))return re}return new v(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(_,z,B){"use strict";var A=_("../internals/function-call"),y=_("../internals/an-object"),g=_("../internals/get-method");z.exports=function(d,u,f){var b,p;y(d);try{if(!(b=g(d,"return"))){if("throw"===u)throw f;return f}b=A(b,d)}catch(m){p=!0,b=m}if("throw"===u)throw f;if(p)throw b;return y(b),f}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(_,z,B){"use strict";var A=_("../internals/iterators-core").IteratorPrototype,y=_("../internals/object-create"),g=_("../internals/create-property-descriptor"),d=_("../internals/set-to-string-tag"),u=_("../internals/iterators"),f=function(){return this};z.exports=function(b,p,m,C){var E=p+" Iterator";return b.prototype=y(A,{next:g(+!C,m)}),d(b,E,!1,!0),u[E]=f,b}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/function-call"),g=_("../internals/is-pure"),d=_("../internals/function-name"),u=_("../internals/is-callable"),f=_("../internals/iterator-create-constructor"),b=_("../internals/object-get-prototype-of"),p=_("../internals/object-set-prototype-of"),m=_("../internals/set-to-string-tag"),C=_("../internals/create-non-enumerable-property"),E=_("../internals/define-built-in"),v=_("../internals/well-known-symbol"),D=_("../internals/iterators"),S=_("../internals/iterators-core"),R=d.PROPER,L=d.CONFIGURABLE,Z=S.IteratorPrototype,ee=S.BUGGY_SAFARI_ITERATORS,ne=v("iterator"),J=function(){return this};z.exports=function(re,oe,fe,ae,$,W,ie){f(fe,oe,ae);var T,I,k,N=function(K){if(K===$&&he)return he;if(!ee&&K&&K in Y)return Y[K];switch(K){case"keys":case"values":case"entries":return function(){return new fe(this,K)}}return function(){return new fe(this)}},P=oe+" Iterator",U=!1,Y=re.prototype,ce=Y[ne]||Y["@@iterator"]||$&&Y[$],he=!ee&&ce||N($),be="Array"===oe&&Y.entries||ce;if(be&&(T=b(be.call(new re)))!==Object.prototype&&T.next&&(g||b(T)===Z||(p?p(T,Z):u(T[ne])||E(T,ne,J)),m(T,P,!0,!0),g&&(D[P]=J)),R&&"values"===$&&ce&&"values"!==ce.name&&(!g&&L?C(Y,"name","values"):(U=!0,he=function(){return y(ce,this)})),$)if(I={values:N("values"),keys:W?he:N("keys"),entries:N("entries")},ie)for(k in I)(ee||U||!(k in Y))&&E(Y,k,I[k]);else A({target:oe,proto:!0,forced:ee||U},I);return g&&!ie||Y[ne]===he||E(Y,ne,he,{name:$}),D[oe]=he,I}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(_,z,B){"use strict";var A,y,g,d=_("../internals/fails"),u=_("../internals/is-callable"),f=_("../internals/is-object"),b=_("../internals/object-create"),p=_("../internals/object-get-prototype-of"),m=_("../internals/define-built-in"),C=_("../internals/well-known-symbol"),E=_("../internals/is-pure"),v=C("iterator"),D=!1;[].keys&&("next"in(g=[].keys())?(y=p(p(g)))!==Object.prototype&&(A=y):D=!0),!f(A)||d(function(){var S={};return A[v].call(S)!==S})?A={}:E&&(A=b(A)),u(A[v])||m(A,v,function(){return this}),z.exports={IteratorPrototype:A,BUGGY_SAFARI_ITERATORS:D}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(_,z,B){arguments[4][276][0].apply(B,arguments)},{dup:276}],299:[function(_,z,B){"use strict";var A=_("../internals/to-length");z.exports=function(y){return A(y.length)}},{"../internals/to-length":343}],300:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this"),y=_("../internals/fails"),g=_("../internals/is-callable"),d=_("../internals/has-own-property"),u=_("../internals/descriptors"),f=_("../internals/function-name").CONFIGURABLE,b=_("../internals/inspect-source"),p=_("../internals/internal-state"),m=p.enforce,C=p.get,E=String,v=Object.defineProperty,D=A("".slice),S=A("".replace),R=A([].join),L=u&&!y(function(){return 8!==v(function(){},"length",{value:8}).length}),Z=String(String).split("String"),ee=z.exports=function(ne,J,re){"Symbol("===D(E(J),0,7)&&(J="["+S(E(J),/^Symbol\(([^)]*)\)/,"$1")+"]"),re&&re.getter&&(J="get "+J),re&&re.setter&&(J="set "+J),(!d(ne,"name")||f&&ne.name!==J)&&(u?v(ne,"name",{value:J,configurable:!0}):ne.name=J),L&&re&&d(re,"arity")&&ne.length!==re.arity&&v(ne,"length",{value:re.arity});try{re&&d(re,"constructor")&&re.constructor?u&&v(ne,"prototype",{writable:!1}):ne.prototype&&(ne.prototype=void 0)}catch{}var oe=m(ne);return d(oe,"source")||(oe.source=R(Z,"string"==typeof J?J:"")),ne};Function.prototype.toString=ee(function(){return g(this)&&C(this).source||b(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(_,z,B){"use strict";var A=Math.ceil,y=Math.floor;z.exports=Math.trunc||function(g){var d=+g;return(d>0?y:A)(d)}},{}],302:[function(_,z,B){"use strict";var A,y,g,d,u,f=_("../internals/global"),b=_("../internals/function-bind-context"),p=_("../internals/object-get-own-property-descriptor").f,m=_("../internals/task").set,C=_("../internals/queue"),E=_("../internals/engine-is-ios"),v=_("../internals/engine-is-ios-pebble"),D=_("../internals/engine-is-webos-webkit"),S=_("../internals/engine-is-node"),R=f.MutationObserver||f.WebKitMutationObserver,L=f.document,Z=f.process,ee=f.Promise,ne=p(f,"queueMicrotask"),J=ne&&ne.value;if(!J){var re=new C,oe=function(){var fe,ae;for(S&&(fe=Z.domain)&&fe.exit();ae=re.get();)try{ae()}catch($){throw re.head&&A(),$}fe&&fe.enter()};E||S||D||!R||!L?!v&&ee&&ee.resolve?((d=ee.resolve(void 0)).constructor=ee,u=b(d.then,d),A=function(){u(oe)}):S?A=function(){Z.nextTick(oe)}:(m=b(m,f),A=function(){m(oe)}):(y=!0,g=L.createTextNode(""),new R(oe).observe(g,{characterData:!0}),A=function(){g.data=y=!y}),J=function(fe){re.head||A(),re.add(fe)}}z.exports=J},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(_,z,B){"use strict";var A=_("../internals/a-callable"),y=TypeError,g=function(d){var u,f;this.promise=new d(function(b,p){if(void 0!==u||void 0!==f)throw new y("Bad Promise constructor");u=b,f=p}),this.resolve=A(u),this.reject=A(f)};z.exports.f=function(d){return new g(d)}},{"../internals/a-callable":222}],304:[function(_,z,B){"use strict";var A=_("../internals/is-regexp"),y=TypeError;z.exports=function(g){if(A(g))throw new y("The method doesn't accept regular expressions");return g}},{"../internals/is-regexp":291}],305:[function(_,z,B){"use strict";var A=_("../internals/descriptors"),y=_("../internals/function-uncurry-this"),g=_("../internals/function-call"),d=_("../internals/fails"),u=_("../internals/object-keys"),f=_("../internals/object-get-own-property-symbols"),b=_("../internals/object-property-is-enumerable"),p=_("../internals/to-object"),m=_("../internals/indexed-object"),C=Object.assign,E=Object.defineProperty,v=y([].concat);z.exports=!C||d(function(){if(A&&1!==C({b:1},C(E({},"a",{enumerable:!0,get:function(){E(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var D={},S={},R=Symbol("assign detection");return D[R]=7,"abcdefghijklmnopqrst".split("").forEach(function(L){S[L]=L}),7!==C({},D)[R]||"abcdefghijklmnopqrst"!==u(C({},S)).join("")})?function(D,S){for(var R=p(D),L=arguments.length,Z=1,ee=f.f,ne=b.f;L>Z;)for(var J,re=m(arguments[Z++]),oe=ee?v(u(re),ee(re)):u(re),fe=oe.length,ae=0;fe>ae;)J=oe[ae++],A&&!g(ne,re,J)||(R[J]=re[J]);return R}:C},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(_,z,B){"use strict";var A,y=_("../internals/an-object"),g=_("../internals/object-define-properties"),d=_("../internals/enum-bug-keys"),u=_("../internals/hidden-keys"),f=_("../internals/html"),b=_("../internals/document-create-element"),m=_("../internals/shared-key")("IE_PROTO"),C=function(){},E=function(S){return"<script>"+S+"<\/script>"},v=function(S){S.write(E("")),S.close();var R=S.parentWindow.Object;return S=null,R},D=function(){try{A=new ActiveXObject("htmlfile")}catch{}var S,R;D=typeof document<"u"?document.domain&&A?v(A):((R=b("iframe")).style.display="none",f.appendChild(R),R.src=String("javascript:"),(S=R.contentWindow.document).open(),S.write(E("document.F=Object")),S.close(),S.F):v(A);for(var L=d.length;L--;)delete D.prototype[d[L]];return D()};u[m]=!0,z.exports=Object.create||function(S,R){var L;return null!==S?(C.prototype=y(S),L=new C,C.prototype=null,L[m]=S):L=D(),void 0===R?L:g.f(L,R)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(_,z,B){"use strict";var A=_("../internals/descriptors"),y=_("../internals/v8-prototype-define-bug"),g=_("../internals/object-define-property"),d=_("../internals/an-object"),u=_("../internals/to-indexed-object"),f=_("../internals/object-keys");B.f=A&&!y?Object.defineProperties:function(b,p){d(b);for(var m,C=u(p),E=f(p),v=E.length,D=0;v>D;)g.f(b,m=E[D++],C[m]);return b}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(_,z,B){"use strict";var A=_("../internals/descriptors"),y=_("../internals/ie8-dom-define"),g=_("../internals/v8-prototype-define-bug"),d=_("../internals/an-object"),u=_("../internals/to-property-key"),f=TypeError,b=Object.defineProperty,p=Object.getOwnPropertyDescriptor;B.f=A?g?function(m,C,E){if(d(m),C=u(C),d(E),"function"==typeof m&&"prototype"===C&&"value"in E&&"writable"in E&&!E.writable){var v=p(m,C);v&&v.writable&&(m[C]=E.value,E={configurable:"configurable"in E?E.configurable:v.configurable,enumerable:"enumerable"in E?E.enumerable:v.enumerable,writable:!1})}return b(m,C,E)}:b:function(m,C,E){if(d(m),C=u(C),d(E),y)try{return b(m,C,E)}catch{}if("get"in E||"set"in E)throw new f("Accessors not supported");return"value"in E&&(m[C]=E.value),m}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(_,z,B){"use strict";var A=_("../internals/descriptors"),y=_("../internals/function-call"),g=_("../internals/object-property-is-enumerable"),d=_("../internals/create-property-descriptor"),u=_("../internals/to-indexed-object"),f=_("../internals/to-property-key"),b=_("../internals/has-own-property"),p=_("../internals/ie8-dom-define"),m=Object.getOwnPropertyDescriptor;B.f=A?m:function(C,E){if(C=u(C),E=f(E),p)try{return m(C,E)}catch{}if(b(C,E))return d(!y(g.f,C,E),C[E])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(_,z,B){"use strict";var A=_("../internals/classof-raw"),y=_("../internals/to-indexed-object"),g=_("../internals/object-get-own-property-names").f,d=_("../internals/array-slice-simple"),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];z.exports.f=function(f){return u&&"Window"===A(f)?function(b){try{return g(b)}catch{return d(u)}}(f):g(y(f))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(_,z,B){"use strict";var A=_("../internals/object-keys-internal"),y=_("../internals/enum-bug-keys").concat("length","prototype");B.f=Object.getOwnPropertyNames||function(g){return A(g,y)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(_,z,B){"use strict";B.f=Object.getOwnPropertySymbols},{}],313:[function(_,z,B){"use strict";var A=_("../internals/has-own-property"),y=_("../internals/is-callable"),g=_("../internals/to-object"),d=_("../internals/shared-key"),u=_("../internals/correct-prototype-getter"),f=d("IE_PROTO"),b=Object,p=b.prototype;z.exports=u?b.getPrototypeOf:function(m){var C=g(m);if(A(C,f))return C[f];var E=C.constructor;return y(E)&&C instanceof E?E.prototype:C instanceof b?p:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this");z.exports=A({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this"),y=_("../internals/has-own-property"),g=_("../internals/to-indexed-object"),d=_("../internals/array-includes").indexOf,u=_("../internals/hidden-keys"),f=A([].push);z.exports=function(b,p){var m,C=g(b),E=0,v=[];for(m in C)!y(u,m)&&y(C,m)&&f(v,m);for(;p.length>E;)y(C,m=p[E++])&&(~d(v,m)||f(v,m));return v}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(_,z,B){"use strict";var A=_("../internals/object-keys-internal"),y=_("../internals/enum-bug-keys");z.exports=Object.keys||function(g){return A(g,y)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(_,z,B){"use strict";var A={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,g=y&&!A.call({1:2},1);B.f=g?function(d){var u=y(this,d);return!!u&&u.enumerable}:A},{}],318:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this-accessor"),y=_("../internals/an-object"),g=_("../internals/a-possible-prototype");z.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d,u=!1,f={};try{(d=A(Object.prototype,"__proto__","set"))(f,[]),u=f instanceof Array}catch{}return function(b,p){return y(b),g(p),u?d(b,p):b.__proto__=p,b}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(_,z,B){"use strict";var A=_("../internals/descriptors"),y=_("../internals/fails"),g=_("../internals/function-uncurry-this"),d=_("../internals/object-get-prototype-of"),u=_("../internals/object-keys"),f=_("../internals/to-indexed-object"),b=g(_("../internals/object-property-is-enumerable").f),p=g([].push),m=A&&y(function(){var E=Object.create(null);return E[2]=2,!b(E,2)}),C=function(E){return function(v){for(var D,S=f(v),R=u(S),L=m&&null===d(S),Z=R.length,ee=0,ne=[];Z>ee;)D=R[ee++],A&&!(L?D in S:b(S,D))||p(ne,E?[D,S[D]]:S[D]);return ne}};z.exports={entries:C(!0),values:C(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(_,z,B){"use strict";var A=_("../internals/function-call"),y=_("../internals/is-callable"),g=_("../internals/is-object"),d=TypeError;z.exports=function(u,f){var b,p;if("string"===f&&y(b=u.toString)&&!g(p=A(b,u))||y(b=u.valueOf)&&!g(p=A(b,u))||"string"!==f&&y(b=u.toString)&&!g(p=A(b,u)))return p;throw new d("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(_,z,B){"use strict";var A=_("../internals/get-built-in"),y=_("../internals/function-uncurry-this"),g=_("../internals/object-get-own-property-names"),d=_("../internals/object-get-own-property-symbols"),u=_("../internals/an-object"),f=y([].concat);z.exports=A("Reflect","ownKeys")||function(b){var p=g.f(u(b)),m=d.f;return m?f(p,m(b)):p}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(_,z,B){"use strict";var A=_("../internals/global");z.exports=A},{"../internals/global":274}],323:[function(_,z,B){"use strict";z.exports=function(A){try{return{error:!1,value:A()}}catch(y){return{error:!0,value:y}}}},{}],324:[function(_,z,B){"use strict";var A=_("../internals/global"),y=_("../internals/promise-native-constructor"),g=_("../internals/is-callable"),d=_("../internals/is-forced"),u=_("../internals/inspect-source"),f=_("../internals/well-known-symbol"),b=_("../internals/engine-is-browser"),p=_("../internals/engine-is-deno"),m=_("../internals/is-pure"),C=_("../internals/engine-v8-version"),E=y&&y.prototype,v=f("species"),D=!1,S=g(A.PromiseRejectionEvent),R=d("Promise",function(){var L=u(y),Z=L!==String(y);if(!Z&&66===C||m&&(!E.catch||!E.finally))return!0;if(!C||C<51||!/native code/.test(L)){var ee=new y(function(J){J(1)}),ne=function(J){J(function(){},function(){})};if((ee.constructor={})[v]=ne,!(D=ee.then(function(){})instanceof ne))return!0}return!Z&&(b||p)&&!S});z.exports={CONSTRUCTOR:R,REJECTION_EVENT:S,SUBCLASSING:D}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(_,z,B){"use strict";var A=_("../internals/global");z.exports=A.Promise},{"../internals/global":274}],326:[function(_,z,B){"use strict";var A=_("../internals/an-object"),y=_("../internals/is-object"),g=_("../internals/new-promise-capability");z.exports=function(d,u){if(A(d),y(u)&&u.constructor===d)return u;var f=g.f(d);return(0,f.resolve)(u),f.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(_,z,B){"use strict";var A=_("../internals/promise-native-constructor"),y=_("../internals/check-correctness-of-iteration"),g=_("../internals/promise-constructor-detection").CONSTRUCTOR;z.exports=g||!y(function(d){A.all(d).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(_,z,B){"use strict";var A=function(){this.head=null,this.tail=null};A.prototype={add:function(y){var g={item:y,next:null},d=this.tail;d?d.next=g:this.head=g,this.tail=g},get:function(){var y=this.head;if(y)return null===(this.head=y.next)&&(this.tail=null),y.item}},z.exports=A},{}],329:[function(_,z,B){"use strict";var A=_("../internals/is-null-or-undefined"),y=TypeError;z.exports=function(g){if(A(g))throw new y("Can't call method on "+g);return g}},{"../internals/is-null-or-undefined":288}],330:[function(_,z,B){"use strict";var A=_("../internals/get-built-in"),y=_("../internals/define-built-in-accessor"),g=_("../internals/well-known-symbol"),d=_("../internals/descriptors"),u=g("species");z.exports=function(f){var b=A(f);d&&b&&!b[u]&&y(b,u,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(_,z,B){"use strict";var A=_("../internals/object-define-property").f,y=_("../internals/has-own-property"),g=_("../internals/well-known-symbol")("toStringTag");z.exports=function(d,u,f){d&&!f&&(d=d.prototype),d&&!y(d,g)&&A(d,g,{configurable:!0,value:u})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(_,z,B){"use strict";var A=_("../internals/shared"),y=_("../internals/uid"),g=A("keys");z.exports=function(d){return g[d]||(g[d]=y(d))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(_,z,B){"use strict";var A=_("../internals/global"),y=_("../internals/define-global-property"),g=A["__core-js_shared__"]||y("__core-js_shared__",{});z.exports=g},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(_,z,B){"use strict";var A=_("../internals/is-pure"),y=_("../internals/shared-store");(z.exports=function(g,d){return y[g]||(y[g]=void 0!==d?d:{})})("versions",[]).push({version:"3.33.0",mode:A?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(_,z,B){"use strict";var A=_("../internals/an-object"),y=_("../internals/a-constructor"),g=_("../internals/is-null-or-undefined"),d=_("../internals/well-known-symbol")("species");z.exports=function(u,f){var b,p=A(u).constructor;return void 0===p||g(b=A(p)[d])?f:y(b)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(_,z,B){"use strict";var A=_("../internals/engine-v8-version"),y=_("../internals/fails"),g=_("../internals/global").String;z.exports=!!Object.getOwnPropertySymbols&&!y(function(){var d=Symbol("symbol detection");return!g(d)||!(Object(d)instanceof Symbol)||!Symbol.sham&&A&&A<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(_,z,B){"use strict";var A=_("../internals/function-call"),y=_("../internals/get-built-in"),g=_("../internals/well-known-symbol"),d=_("../internals/define-built-in");z.exports=function(){var u=y("Symbol"),f=u&&u.prototype,b=f&&f.valueOf,p=g("toPrimitive");f&&!f[p]&&d(f,p,function(m){return A(b,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(_,z,B){"use strict";var A=_("../internals/symbol-constructor-detection");z.exports=A&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(_,z,B){"use strict";var A,y,g,d,u=_("../internals/global"),f=_("../internals/function-apply"),b=_("../internals/function-bind-context"),p=_("../internals/is-callable"),m=_("../internals/has-own-property"),C=_("../internals/fails"),E=_("../internals/html"),v=_("../internals/array-slice"),D=_("../internals/document-create-element"),S=_("../internals/validate-arguments-length"),R=_("../internals/engine-is-ios"),L=_("../internals/engine-is-node"),Z=u.setImmediate,ee=u.clearImmediate,ne=u.process,J=u.Dispatch,re=u.Function,oe=u.MessageChannel,fe=u.String,ae=0,$={};C(function(){A=u.location});var W=function(k){if(m($,k)){var N=$[k];delete $[k],N()}},ie=function(k){return function(){W(k)}},T=function(k){W(k.data)},I=function(k){u.postMessage(fe(k),A.protocol+"//"+A.host)};Z&&ee||(Z=function(k){S(arguments.length,1);var N=p(k)?k:re(k),P=v(arguments,1);return $[++ae]=function(){f(N,void 0,P)},y(ae),ae},ee=function(k){delete $[k]},L?y=function(k){ne.nextTick(ie(k))}:J&&J.now?y=function(k){J.now(ie(k))}:oe&&!R?(d=(g=new oe).port2,g.port1.onmessage=T,y=b(d.postMessage,d)):u.addEventListener&&p(u.postMessage)&&!u.importScripts&&A&&"file:"!==A.protocol&&!C(I)?(y=I,u.addEventListener("message",T,!1)):y="onreadystatechange"in D("script")?function(k){E.appendChild(D("script")).onreadystatechange=function(){E.removeChild(this),W(k)}}:function(k){setTimeout(ie(k),0)}),z.exports={set:Z,clear:ee}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(_,z,B){"use strict";var A=_("../internals/to-integer-or-infinity"),y=Math.max,g=Math.min;z.exports=function(d,u){var f=A(d);return f<0?y(f+u,0):g(f,u)}},{"../internals/to-integer-or-infinity":342}],341:[function(_,z,B){"use strict";var A=_("../internals/indexed-object"),y=_("../internals/require-object-coercible");z.exports=function(g){return A(y(g))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(_,z,B){"use strict";var A=_("../internals/math-trunc");z.exports=function(y){var g=+y;return g!=g||0===g?0:A(g)}},{"../internals/math-trunc":301}],343:[function(_,z,B){"use strict";var A=_("../internals/to-integer-or-infinity"),y=Math.min;z.exports=function(g){return g>0?y(A(g),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(_,z,B){"use strict";var A=_("../internals/require-object-coercible"),y=Object;z.exports=function(g){return y(A(g))}},{"../internals/require-object-coercible":329}],345:[function(_,z,B){"use strict";var A=_("../internals/function-call"),y=_("../internals/is-object"),g=_("../internals/is-symbol"),d=_("../internals/get-method"),u=_("../internals/ordinary-to-primitive"),f=_("../internals/well-known-symbol"),b=TypeError,p=f("toPrimitive");z.exports=function(m,C){if(!y(m)||g(m))return m;var E,v=d(m,p);if(v){if(void 0===C&&(C="default"),E=A(v,m,C),!y(E)||g(E))return E;throw new b("Can't convert object to primitive value")}return void 0===C&&(C="number"),u(m,C)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(_,z,B){"use strict";var A=_("../internals/to-primitive"),y=_("../internals/is-symbol");z.exports=function(g){var d=A(g,"string");return y(d)?d:d+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(_,z,B){"use strict";var A={};A[_("../internals/well-known-symbol")("toStringTag")]="z",z.exports="[object z]"===String(A)},{"../internals/well-known-symbol":357}],348:[function(_,z,B){"use strict";var A=_("../internals/classof"),y=String;z.exports=function(g){if("Symbol"===A(g))throw new TypeError("Cannot convert a Symbol value to a string");return y(g)}},{"../internals/classof":236}],349:[function(_,z,B){"use strict";var A=String;z.exports=function(y){try{return A(y)}catch{return"Object"}}},{}],350:[function(_,z,B){"use strict";var A=_("../internals/function-uncurry-this"),y=0,g=Math.random(),d=A(1..toString);z.exports=function(u){return"Symbol("+(void 0===u?"":u)+")_"+d(++y+g,36)}},{"../internals/function-uncurry-this":268}],351:[function(_,z,B){"use strict";var A=_("../internals/symbol-constructor-detection");z.exports=A&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/symbol-constructor-detection":336}],352:[function(_,z,B){"use strict";var A=_("../internals/descriptors"),y=_("../internals/fails");z.exports=A&&y(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(_,z,B){"use strict";var A=TypeError;z.exports=function(y,g){if(y<g)throw new A("Not enough arguments");return y}},{}],354:[function(_,z,B){"use strict";var A=_("../internals/global"),y=_("../internals/is-callable"),g=A.WeakMap;z.exports=y(g)&&/native code/.test(String(g))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(_,z,B){"use strict";var A=_("../internals/path"),y=_("../internals/has-own-property"),g=_("../internals/well-known-symbol-wrapped"),d=_("../internals/object-define-property").f;z.exports=function(u){var f=A.Symbol||(A.Symbol={});y(f,u)||d(f,u,{value:g.f(u)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(_,z,B){"use strict";var A=_("../internals/well-known-symbol");B.f=A},{"../internals/well-known-symbol":357}],357:[function(_,z,B){"use strict";var A=_("../internals/global"),y=_("../internals/shared"),g=_("../internals/has-own-property"),d=_("../internals/uid"),u=_("../internals/symbol-constructor-detection"),f=_("../internals/use-symbol-as-uid"),b=A.Symbol,p=y("wks"),m=f?b.for||b:b&&b.withoutSetter||d;z.exports=function(C){return g(p,C)||(p[C]=u&&g(b,C)?b[C]:m("Symbol."+C)),p[C]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/array-iteration").findIndex,g=_("../internals/add-to-unscopables"),d=!0;"findIndex"in[]&&Array(1).findIndex(function(){d=!1}),A({target:"Array",proto:!0,forced:d},{findIndex:function(u){return y(this,u,arguments.length>1?arguments[1]:void 0)}}),g("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/array-iteration").find,g=_("../internals/add-to-unscopables"),d=!0;"find"in[]&&Array(1).find(function(){d=!1}),A({target:"Array",proto:!0,forced:d},{find:function(u){return y(this,u,arguments.length>1?arguments[1]:void 0)}}),g("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/array-includes").includes,g=_("../internals/fails"),d=_("../internals/add-to-unscopables");A({target:"Array",proto:!0,forced:g(function(){return!Array(1).includes()})},{includes:function(u){return y(this,u,arguments.length>1?arguments[1]:void 0)}}),d("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(_,z,B){"use strict";var A=_("../internals/to-indexed-object"),y=_("../internals/add-to-unscopables"),g=_("../internals/iterators"),d=_("../internals/internal-state"),u=_("../internals/object-define-property").f,f=_("../internals/iterator-define"),b=_("../internals/create-iter-result-object"),p=_("../internals/is-pure"),m=_("../internals/descriptors"),C=d.set,E=d.getterFor("Array Iterator");z.exports=f(Array,"Array",function(D,S){C(this,{type:"Array Iterator",target:A(D),index:0,kind:S})},function(){var D=E(this),S=D.target,R=D.kind,L=D.index++;if(!S||L>=S.length)return D.target=void 0,b(void 0,!0);switch(R){case"keys":return b(L,!1);case"values":return b(S[L],!1)}return b([L,S[L]],!1)},"values");var v=g.Arguments=g.Array;if(y("keys"),y("values"),y("entries"),!p&&m&&"values"!==v.name)try{u(v,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/get-built-in"),g=_("../internals/function-apply"),d=_("../internals/function-call"),u=_("../internals/function-uncurry-this"),f=_("../internals/fails"),b=_("../internals/is-callable"),p=_("../internals/is-symbol"),m=_("../internals/array-slice"),C=_("../internals/get-json-replacer-function"),E=_("../internals/symbol-constructor-detection"),v=String,D=y("JSON","stringify"),S=u(/./.exec),R=u("".charAt),L=u("".charCodeAt),Z=u("".replace),ee=u(1..toString),ne=/[\uD800-\uDFFF]/g,J=/^[\uD800-\uDBFF]$/,re=/^[\uDC00-\uDFFF]$/,oe=!E||f(function(){var W=y("Symbol")("stringify detection");return"[null]"!==D([W])||"{}"!==D({a:W})||"{}"!==D(Object(W))}),fe=f(function(){return'"\\udf06\\ud834"'!==D("\udf06\ud834")||'"\\udead"'!==D("\udead")}),ae=function(W,ie){var T=m(arguments),I=C(ie);if(b(I)||void 0!==W&&!p(W))return T[1]=function(k,N){if(b(I)&&(N=d(I,this,v(k),N)),!p(N))return N},g(D,null,T)},$=function(W,ie,T){var I=R(T,ie-1),k=R(T,ie+1);return S(J,W)&&!S(re,k)||S(re,W)&&!S(J,I)?"\\u"+ee(L(W,0),16):W};D&&A({target:"JSON",stat:!0,arity:3,forced:oe||fe},{stringify:function(W,ie,T){var I=m(arguments),k=g(oe?ae:D,null,I);return fe&&"string"==typeof k?Z(k,ne,$):k}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(_,z,B){"use strict";_("../internals/export")({target:"Number",stat:!0},{isNaN:function(A){return A!=A}})},{"../internals/export":259}],364:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/object-assign");A({target:"Object",stat:!0,arity:2,forced:Object.assign!==y},{assign:y})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/symbol-constructor-detection"),g=_("../internals/fails"),d=_("../internals/object-get-own-property-symbols"),u=_("../internals/to-object");A({target:"Object",stat:!0,forced:!y||g(function(){d.f(1)})},{getOwnPropertySymbols:function(f){var b=d.f;return b?b(u(f)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/to-object"),g=_("../internals/object-keys");A({target:"Object",stat:!0,forced:_("../internals/fails")(function(){g(1)})},{keys:function(d){return g(y(d))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/object-to-array").values;A({target:"Object",stat:!0},{values:function(g){return y(g)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/function-call"),g=_("../internals/a-callable"),d=_("../internals/new-promise-capability"),u=_("../internals/perform"),f=_("../internals/iterate");A({target:"Promise",stat:!0,forced:_("../internals/promise-statics-incorrect-iteration")},{all:function(b){var p=this,m=d.f(p),C=m.resolve,E=m.reject,v=u(function(){var D=g(p.resolve),S=[],R=0,L=1;f(b,function(Z){var ee=R++,ne=!1;L++,y(D,p,Z).then(function(J){ne||(ne=!0,S[ee]=J,--L||C(S))},E)}),--L||C(S)});return v.error&&E(v.value),m.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/is-pure"),g=_("../internals/promise-constructor-detection").CONSTRUCTOR,d=_("../internals/promise-native-constructor"),u=_("../internals/get-built-in"),f=_("../internals/is-callable"),b=_("../internals/define-built-in"),p=d&&d.prototype;if(A({target:"Promise",proto:!0,forced:g,real:!0},{catch:function(C){return this.then(void 0,C)}}),!y&&f(d)){var m=u("Promise").prototype.catch;p.catch!==m&&b(p,"catch",m,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(_,z,B){"use strict";var A,y,g,d=_("../internals/export"),u=_("../internals/is-pure"),f=_("../internals/engine-is-node"),b=_("../internals/global"),p=_("../internals/function-call"),m=_("../internals/define-built-in"),C=_("../internals/object-set-prototype-of"),E=_("../internals/set-to-string-tag"),v=_("../internals/set-species"),D=_("../internals/a-callable"),S=_("../internals/is-callable"),R=_("../internals/is-object"),L=_("../internals/an-instance"),Z=_("../internals/species-constructor"),ee=_("../internals/task").set,ne=_("../internals/microtask"),J=_("../internals/host-report-errors"),re=_("../internals/perform"),oe=_("../internals/queue"),fe=_("../internals/internal-state"),ae=_("../internals/promise-native-constructor"),$=_("../internals/promise-constructor-detection"),W=_("../internals/new-promise-capability"),ie=$.CONSTRUCTOR,T=$.REJECTION_EVENT,I=$.SUBCLASSING,k=fe.getterFor("Promise"),N=fe.set,P=ae&&ae.prototype,U=ae,Y=P,ce=b.TypeError,he=b.document,be=b.process,K=W.f,_e=K,q=!!(he&&he.createEvent&&b.dispatchEvent),G=function(ze){var Ye;return!(!R(ze)||!S(Ye=ze.then))&&Ye},ue=function(ze,Ye){var st,tt,it,lt=Ye.value,ht=1===Ye.state,kt=ht?ze.ok:ze.fail,Wt=ze.resolve,Nt=ze.reject,qt=ze.domain;try{kt?(ht||(2===Ye.rejection&&We(Ye),Ye.rejection=1),!0===kt?st=lt:(qt&&qt.enter(),st=kt(lt),qt&&(qt.exit(),it=!0)),st===ze.promise?Nt(new ce("Promise-chain cycle")):(tt=G(st))?p(tt,st,Wt,Nt):Wt(st)):Nt(lt)}catch(Dn){qt&&!it&&qt.exit(),Nt(Dn)}},Te=function(ze,Ye){ze.notified||(ze.notified=!0,ne(function(){for(var st,tt=ze.reactions;st=tt.get();)ue(st,ze);ze.notified=!1,Ye&&!ze.rejection&&Ee(ze)}))},Me=function(ze,Ye,st){var tt,it;q?((tt=he.createEvent("Event")).promise=Ye,tt.reason=st,tt.initEvent(ze,!1,!0),b.dispatchEvent(tt)):tt={promise:Ye,reason:st},!T&&(it=b["on"+ze])?it(tt):"unhandledrejection"===ze&&J("Unhandled promise rejection",st)},Ee=function(ze){p(ee,b,function(){var Ye,st=ze.facade,tt=ze.value;if(ke(ze)&&(Ye=re(function(){f?be.emit("unhandledRejection",tt,st):Me("unhandledrejection",st,tt)}),ze.rejection=f||ke(ze)?2:1,Ye.error))throw Ye.value})},ke=function(ze){return 1!==ze.rejection&&!ze.parent},We=function(ze){p(ee,b,function(){var Ye=ze.facade;f?be.emit("rejectionHandled",Ye):Me("rejectionhandled",Ye,ze.value)})},Ve=function(ze,Ye,st){return function(tt){ze(Ye,tt,st)}},Se=function(ze,Ye,st){ze.done||(ze.done=!0,st&&(ze=st),ze.value=Ye,ze.state=2,Te(ze,!0))},qe=function(ze,Ye,st){if(!ze.done){ze.done=!0,st&&(ze=st);try{if(ze.facade===Ye)throw new ce("Promise can't be resolved itself");var tt=G(Ye);tt?ne(function(){var it={done:!1};try{p(tt,Ye,Ve(qe,it,ze),Ve(Se,it,ze))}catch(lt){Se(it,lt,ze)}}):(ze.value=Ye,ze.state=1,Te(ze,!1))}catch(it){Se({done:!1},it,ze)}}};if(ie&&(Y=(U=function(ze){L(this,Y),D(ze),p(A,this);var Ye=k(this);try{ze(Ve(qe,Ye),Ve(Se,Ye))}catch(st){Se(Ye,st)}}).prototype,(A=function(ze){N(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new oe,rejection:!1,state:0,value:void 0})}).prototype=m(Y,"then",function(ze,Ye){var st=k(this),tt=K(Z(this,U));return st.parent=!0,tt.ok=!S(ze)||ze,tt.fail=S(Ye)&&Ye,tt.domain=f?be.domain:void 0,0===st.state?st.reactions.add(tt):ne(function(){ue(tt,st)}),tt.promise}),y=function(){var ze=new A,Ye=k(ze);this.promise=ze,this.resolve=Ve(qe,Ye),this.reject=Ve(Se,Ye)},W.f=K=function(ze){return ze===U||void 0===ze?new y(ze):_e(ze)},!u&&S(ae)&&P!==Object.prototype)){g=P.then,I||m(P,"then",function(ze,Ye){var st=this;return new U(function(tt,it){p(g,st,tt,it)}).then(ze,Ye)},{unsafe:!0});try{delete P.constructor}catch{}C&&C(P,Y)}d({global:!0,constructor:!0,wrap:!0,forced:ie},{Promise:U}),E(U,"Promise",!1,!0),v("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/is-pure"),g=_("../internals/promise-native-constructor"),d=_("../internals/fails"),u=_("../internals/get-built-in"),f=_("../internals/is-callable"),b=_("../internals/species-constructor"),p=_("../internals/promise-resolve"),m=_("../internals/define-built-in"),C=g&&g.prototype;if(A({target:"Promise",proto:!0,real:!0,forced:!!g&&d(function(){C.finally.call({then:function(){}},function(){})})},{finally:function(v){var D=b(this,u("Promise")),S=f(v);return this.then(S?function(R){return p(D,v()).then(function(){return R})}:v,S?function(R){return p(D,v()).then(function(){throw R})}:v)}}),!y&&f(g)){var E=u("Promise").prototype.finally;C.finally!==E&&m(C,"finally",E,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(_,z,B){"use strict";_("../modules/es.promise.constructor"),_("../modules/es.promise.all"),_("../modules/es.promise.catch"),_("../modules/es.promise.race"),_("../modules/es.promise.reject"),_("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/function-call"),g=_("../internals/a-callable"),d=_("../internals/new-promise-capability"),u=_("../internals/perform"),f=_("../internals/iterate");A({target:"Promise",stat:!0,forced:_("../internals/promise-statics-incorrect-iteration")},{race:function(b){var p=this,m=d.f(p),C=m.reject,E=u(function(){var v=g(p.resolve);f(b,function(D){y(v,p,D).then(m.resolve,C)})});return E.error&&C(E.value),m.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/function-call"),g=_("../internals/new-promise-capability");A({target:"Promise",stat:!0,forced:_("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(d){var u=g.f(this);return y(u.reject,void 0,d),u.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/get-built-in"),g=_("../internals/is-pure"),d=_("../internals/promise-native-constructor"),u=_("../internals/promise-constructor-detection").CONSTRUCTOR,f=_("../internals/promise-resolve"),b=y("Promise"),p=g&&!u;A({target:"Promise",stat:!0,forced:g||u},{resolve:function(m){return f(p&&this===b?d:this,m)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/function-uncurry-this"),g=_("../internals/to-absolute-index"),d=RangeError,u=String.fromCharCode,f=String.fromCodePoint,b=y([].join);A({target:"String",stat:!0,arity:1,forced:!!f&&1!==f.length},{fromCodePoint:function(p){for(var m,C=[],E=arguments.length,v=0;E>v;){if(m=+arguments[v++],g(m,1114111)!==m)throw new d(m+" is not a valid code point");C[v]=m<65536?u(m):u(55296+((m-=65536)>>10),m%1024+56320)}return b(C,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/function-uncurry-this"),g=_("../internals/not-a-regexp"),d=_("../internals/require-object-coercible"),u=_("../internals/to-string"),f=_("../internals/correct-is-regexp-logic"),b=y("".indexOf);A({target:"String",proto:!0,forced:!f("includes")},{includes:function(p){return!!~b(u(d(this)),u(g(p)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(_,z,B){"use strict";_("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/global"),g=_("../internals/function-call"),d=_("../internals/function-uncurry-this"),u=_("../internals/is-pure"),f=_("../internals/descriptors"),b=_("../internals/symbol-constructor-detection"),p=_("../internals/fails"),m=_("../internals/has-own-property"),C=_("../internals/object-is-prototype-of"),E=_("../internals/an-object"),v=_("../internals/to-indexed-object"),D=_("../internals/to-property-key"),S=_("../internals/to-string"),R=_("../internals/create-property-descriptor"),L=_("../internals/object-create"),Z=_("../internals/object-keys"),ee=_("../internals/object-get-own-property-names"),ne=_("../internals/object-get-own-property-names-external"),J=_("../internals/object-get-own-property-symbols"),re=_("../internals/object-get-own-property-descriptor"),oe=_("../internals/object-define-property"),fe=_("../internals/object-define-properties"),ae=_("../internals/object-property-is-enumerable"),$=_("../internals/define-built-in"),W=_("../internals/define-built-in-accessor"),ie=_("../internals/shared"),T=_("../internals/shared-key"),I=_("../internals/hidden-keys"),k=_("../internals/uid"),N=_("../internals/well-known-symbol"),P=_("../internals/well-known-symbol-wrapped"),U=_("../internals/well-known-symbol-define"),Y=_("../internals/symbol-define-to-primitive"),ce=_("../internals/set-to-string-tag"),he=_("../internals/internal-state"),be=_("../internals/array-iteration").forEach,K=T("hidden"),_e=he.set,q=he.getterFor("Symbol"),G=Object.prototype,ue=y.Symbol,Te=ue&&ue.prototype,Me=y.RangeError,Ee=y.TypeError,ke=y.QObject,We=re.f,Ve=oe.f,Se=ne.f,qe=ae.f,ze=d([].push),Ye=ie("symbols"),st=ie("op-symbols"),tt=ie("wks"),it=!ke||!ke.prototype||!ke.prototype.findChild,lt=function(sn,Dt,Fe){var Be=We(G,Dt);Be&&delete G[Dt],Ve(sn,Dt,Fe),Be&&sn!==G&&Ve(G,Dt,Be)},ht=f&&p(function(){return 7!==L(Ve({},"a",{get:function(){return Ve(this,"a",{value:7}).a}})).a})?lt:Ve,kt=function(sn,Dt){var Fe=Ye[sn]=L(Te);return _e(Fe,{type:"Symbol",tag:sn,description:Dt}),f||(Fe.description=Dt),Fe},Wt=function(sn,Dt,Fe){sn===G&&Wt(st,Dt,Fe),E(sn);var Be=D(Dt);return E(Fe),m(Ye,Be)?(Fe.enumerable?(m(sn,K)&&sn[K][Be]&&(sn[K][Be]=!1),Fe=L(Fe,{enumerable:R(0,!1)})):(m(sn,K)||Ve(sn,K,R(1,{})),sn[K][Be]=!0),ht(sn,Be,Fe)):Ve(sn,Be,Fe)},Nt=function(sn,Dt){E(sn);var Fe=v(Dt),Be=Z(Fe).concat(Mt(Fe));return be(Be,function(Pe){f&&!g(qt,Fe,Pe)||Wt(sn,Pe,Fe[Pe])}),sn},qt=function(sn){var Dt=D(sn),Fe=g(qe,this,Dt);return!(this===G&&m(Ye,Dt)&&!m(st,Dt))&&(!(Fe||!m(this,Dt)||!m(Ye,Dt)||m(this,K)&&this[K][Dt])||Fe)},Dn=function(sn,Dt){var Fe=v(sn),Be=D(Dt);if(Fe!==G||!m(Ye,Be)||m(st,Be)){var Pe=We(Fe,Be);return!Pe||!m(Ye,Be)||m(Fe,K)&&Fe[K][Be]||(Pe.enumerable=!0),Pe}},gn=function(sn){var Dt=Se(v(sn)),Fe=[];return be(Dt,function(Be){m(Ye,Be)||m(I,Be)||ze(Fe,Be)}),Fe},Mt=function(sn){var Dt=sn===G,Fe=Se(Dt?st:v(sn)),Be=[];return be(Fe,function(Pe){!m(Ye,Pe)||Dt&&!m(G,Pe)||ze(Be,Ye[Pe])}),Be};b||($(Te=(ue=function(){if(C(Te,this))throw new Ee("Symbol is not a constructor");var sn=arguments.length&&void 0!==arguments[0]?S(arguments[0]):void 0,Dt=k(sn),Fe=function(Be){this===G&&g(Fe,st,Be),m(this,K)&&m(this[K],Dt)&&(this[K][Dt]=!1);var Pe=R(1,Be);try{ht(this,Dt,Pe)}catch(Ue){if(!(Ue instanceof Me))throw Ue;lt(this,Dt,Pe)}};return f&&it&&ht(G,Dt,{configurable:!0,set:Fe}),kt(Dt,sn)}).prototype,"toString",function(){return q(this).tag}),$(ue,"withoutSetter",function(sn){return kt(k(sn),sn)}),ae.f=qt,oe.f=Wt,fe.f=Nt,re.f=Dn,ee.f=ne.f=gn,J.f=Mt,P.f=function(sn){return kt(N(sn),sn)},f&&(W(Te,"description",{configurable:!0,get:function(){return q(this).description}}),u||$(G,"propertyIsEnumerable",qt,{unsafe:!0}))),A({global:!0,constructor:!0,wrap:!0,forced:!b,sham:!b},{Symbol:ue}),be(Z(tt),function(sn){U(sn)}),A({target:"Symbol",stat:!0,forced:!b},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),A({target:"Object",stat:!0,forced:!b,sham:!f},{create:function(sn,Dt){return void 0===Dt?L(sn):Nt(L(sn),Dt)},defineProperty:Wt,defineProperties:Nt,getOwnPropertyDescriptor:Dn}),A({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:gn}),Y(),ce(ue,"Symbol"),I[K]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/get-built-in"),g=_("../internals/has-own-property"),d=_("../internals/to-string"),u=_("../internals/shared"),f=_("../internals/symbol-registry-detection"),b=u("string-to-symbol-registry"),p=u("symbol-to-string-registry");A({target:"Symbol",stat:!0,forced:!f},{for:function(m){var C=d(m);if(g(b,C))return b[C];var E=y("Symbol")(C);return b[C]=E,p[E]=C,E}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(_,z,B){"use strict";_("../modules/es.symbol.constructor"),_("../modules/es.symbol.for"),_("../modules/es.symbol.key-for"),_("../modules/es.json.stringify"),_("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(_,z,B){"use strict";var A=_("../internals/export"),y=_("../internals/has-own-property"),g=_("../internals/is-symbol"),d=_("../internals/try-to-string"),u=_("../internals/shared"),f=_("../internals/symbol-registry-detection"),b=u("symbol-to-string-registry");A({target:"Symbol",stat:!0,forced:!f},{keyFor:function(p){if(!g(p))throw new TypeError(d(p)+" is not a symbol");if(y(b,p))return b[p]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(_,z,B){"use strict";function A(y){return Object.prototype.toString.call(y)}B.isArray=function(y){return Array.isArray?Array.isArray(y):"[object Array]"===A(y)},B.isBoolean=function(y){return"boolean"==typeof y},B.isNull=function(y){return null===y},B.isNullOrUndefined=function(y){return null==y},B.isNumber=function(y){return"number"==typeof y},B.isString=function(y){return"string"==typeof y},B.isSymbol=function(y){return"symbol"==typeof y},B.isUndefined=function(y){return void 0===y},B.isRegExp=function(y){return"[object RegExp]"===A(y)},B.isObject=function(y){return"object"==typeof y&&null!==y},B.isDate=function(y){return"[object Date]"===A(y)},B.isError=function(y){return"[object Error]"===A(y)||y instanceof Error},B.isFunction=function(y){return"function"==typeof y},B.isPrimitive=function(y){return null===y||"boolean"==typeof y||"number"==typeof y||"string"==typeof y||"symbol"==typeof y||void 0===y},B.isBuffer=_("buffer").Buffer.isBuffer},{buffer:220}],384:[function(_,z,B){(function(A){(function(){"use strict";var y=_("elliptic"),g=_("bn.js");z.exports=function(b){return new u(b)};var d={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function u(b){this.curveType=d[b],this.curveType||(this.curveType={name:b}),this.curve=new y.ec(this.curveType.name),this.keys=void 0}function f(b,p,m){Array.isArray(b)||(b=b.toArray());var C=new A(b);if(m&&C.length<m){var E=new A(m-C.length);E.fill(0),C=A.concat([E,C])}return p?C.toString(p):C}d.p224=d.secp224r1,d.p256=d.secp256r1=d.prime256v1,d.p192=d.secp192r1=d.prime192v1,d.p384=d.secp384r1,d.p521=d.secp521r1,u.prototype.generateKeys=function(b,p){return this.keys=this.curve.genKeyPair(),this.getPublicKey(b,p)},u.prototype.computeSecret=function(b,p,m){return p=p||"utf8",A.isBuffer(b)||(b=new A(b,p)),f(this.curve.keyFromPublic(b).getPublic().mul(this.keys.getPrivate()).getX(),m,this.curveType.byteLength)},u.prototype.getPublicKey=function(b,p){var m=this.keys.getPublic("compressed"===p,!0);return"hybrid"===p&&(m[0]=m[m.length-1]%2?7:6),f(m,b)},u.prototype.getPrivateKey=function(b){return f(this.keys.getPrivate(),b)},u.prototype.setPublicKey=function(b,p){return p=p||"utf8",A.isBuffer(b)||(b=new A(b,p)),this.keys._importPublic(b),this},u.prototype.setPrivateKey=function(b,p){p=p||"utf8",A.isBuffer(b)||(b=new A(b,p));var m=new g(b);return m=m.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(m),this}}).call(this)}).call(this,_("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(_,z,B){arguments[4][184][0].apply(B,arguments)},{buffer:188,dup:184}],386:[function(_,z,B){"use strict";var A=_("inherits"),y=_("md5.js"),g=_("ripemd160"),d=_("sha.js"),u=_("cipher-base");function f(b){u.call(this,"digest"),this._hash=b}A(f,u),f.prototype._update=function(b){this._hash.update(b)},f.prototype._final=function(){return this._hash.digest()},z.exports=function(b){return"md5"===(b=b.toLowerCase())?new y:"rmd160"===b||"ripemd160"===b?new g:new f(d(b))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(_,z,B){"use strict";var A=_("md5.js");z.exports=function(y){return(new A).update(y).digest()}},{"md5.js":450}],388:[function(_,z,B){"use strict";var A=_("inherits"),y=_("./legacy"),g=_("cipher-base"),d=_("safe-buffer").Buffer,u=_("create-hash/md5"),f=_("ripemd160"),b=_("sha.js"),p=d.alloc(128);function m(C,E){g.call(this,"digest"),"string"==typeof E&&(E=d.from(E));var v="sha512"===C||"sha384"===C?128:64;this._alg=C,this._key=E,E.length>v?E=("rmd160"===C?new f:b(C)).update(E).digest():E.length<v&&(E=d.concat([E,p],v));for(var D=this._ipad=d.allocUnsafe(v),S=this._opad=d.allocUnsafe(v),R=0;R<v;R++)D[R]=54^E[R],S[R]=92^E[R];this._hash="rmd160"===C?new f:b(C),this._hash.update(D)}A(m,g),m.prototype._update=function(C){this._hash.update(C)},m.prototype._final=function(){var C=this._hash.digest();return("rmd160"===this._alg?new f:b(this._alg)).update(this._opad).update(C).digest()},z.exports=function(C,E){return"rmd160"===(C=C.toLowerCase())||"ripemd160"===C?new m("rmd160",E):"md5"===C?new y(u,E):new m(C,E)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(_,z,B){"use strict";var A=_("inherits"),y=_("safe-buffer").Buffer,g=_("cipher-base"),d=y.alloc(128);function u(f,b){g.call(this,"digest"),"string"==typeof b&&(b=y.from(b)),this._alg=f,this._key=b,b.length>64?b=f(b):b.length<64&&(b=y.concat([b,d],64));for(var p=this._ipad=y.allocUnsafe(64),m=this._opad=y.allocUnsafe(64),C=0;C<64;C++)p[C]=54^b[C],m[C]=92^b[C];this._hash=[p]}A(u,g),u.prototype._update=function(f){this._hash.push(f)},u.prototype._final=function(){var f=this._alg(y.concat(this._hash));return this._alg(y.concat([this._opad,f]))},z.exports=u},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(_,z,B){"use strict";B.randomBytes=B.rng=B.pseudoRandomBytes=B.prng=_("randombytes"),B.createHash=B.Hash=_("create-hash"),B.createHmac=B.Hmac=_("create-hmac");var A=_("browserify-sign/algos"),y=Object.keys(A),g=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(y);B.getHashes=function(){return g};var d=_("pbkdf2");B.pbkdf2=d.pbkdf2,B.pbkdf2Sync=d.pbkdf2Sync;var u=_("browserify-cipher");B.Cipher=u.Cipher,B.createCipher=u.createCipher,B.Cipheriv=u.Cipheriv,B.createCipheriv=u.createCipheriv,B.Decipher=u.Decipher,B.createDecipher=u.createDecipher,B.Decipheriv=u.Decipheriv,B.createDecipheriv=u.createDecipheriv,B.getCiphers=u.getCiphers,B.listCiphers=u.listCiphers;var f=_("diffie-hellman");B.DiffieHellmanGroup=f.DiffieHellmanGroup,B.createDiffieHellmanGroup=f.createDiffieHellmanGroup,B.getDiffieHellman=f.getDiffieHellman,B.createDiffieHellman=f.createDiffieHellman,B.DiffieHellman=f.DiffieHellman;var b=_("browserify-sign");B.createSign=b.createSign,B.Sign=b.Sign,B.createVerify=b.createVerify,B.Verify=b.Verify,B.createECDH=_("create-ecdh");var p=_("public-encrypt");B.publicEncrypt=p.publicEncrypt,B.privateEncrypt=p.privateEncrypt,B.publicDecrypt=p.publicDecrypt,B.privateDecrypt=p.privateDecrypt;var m=_("randomfill");B.randomFill=m.randomFill,B.randomFillSync=m.randomFillSync,B.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},B.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(_,z,B){"use strict";var A,y;A=void 0,y=function(){var A=6e4,y=36e5,g="millisecond",d="second",u="minute",f="hour",b="day",p="week",m="month",C="quarter",E="year",v="date",D="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(T){var I=["th","st","nd","rd"],k=T%100;return"["+T+(I[(k-20)%10]||I[k]||I[0])+"]"}},Z=function(T,I,k){var N=String(T);return!N||N.length>=I?T:""+Array(I+1-N.length).join(k)+T},ee={s:Z,z:function(T){var I=-T.utcOffset(),k=Math.abs(I),N=Math.floor(k/60),P=k%60;return(I<=0?"+":"-")+Z(N,2,"0")+":"+Z(P,2,"0")},m:function T(I,k){if(I.date()<k.date())return-T(k,I);var N=12*(k.year()-I.year())+(k.month()-I.month()),P=I.clone().add(N,m),U=k-P<0,Y=I.clone().add(N+(U?-1:1),m);return+(-(N+(k-P)/(U?P-Y:Y-P))||0)},a:function(T){return T<0?Math.ceil(T)||0:Math.floor(T)},p:function(T){return{M:m,y:E,w:p,d:b,D:v,h:f,m:u,s:d,ms:g,Q:C}[T]||String(T||"").toLowerCase().replace(/s$/,"")},u:function(T){return void 0===T}},ne="en",J={};J[ne]=L;var re="$isDayjsObject",oe=function(T){return T instanceof W||!(!T||!T[re])},fe=function T(I,k,N){var P;if(!I)return ne;if("string"==typeof I){var U=I.toLowerCase();J[U]&&(P=U),k&&(J[U]=k,P=U);var Y=I.split("-");if(!P&&Y.length>1)return T(Y[0])}else{var ce=I.name;J[ce]=I,P=ce}return!N&&P&&(ne=P),P||!N&&ne},ae=function(T,I){if(oe(T))return T.clone();var k="object"==typeof I?I:{};return k.date=T,k.args=arguments,new W(k)},$=ee;$.l=fe,$.i=oe,$.w=function(T,I){return ae(T,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var W=function(){function T(k){this.$L=fe(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[re]=!0}var I=T.prototype;return I.parse=function(k){this.$d=function(N){var P=N.date,U=N.utc;if(null===P)return new Date(NaN);if($.u(P))return new Date;if(P instanceof Date)return new Date(P);if("string"==typeof P&&!/Z$/i.test(P)){var Y=P.match(S);if(Y){var ce=Y[2]-1||0,he=(Y[7]||"0").substring(0,3);return U?new Date(Date.UTC(Y[1],ce,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,he)):new Date(Y[1],ce,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,he)}}return new Date(P)}(k),this.init()},I.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},I.$utils=function(){return $},I.isValid=function(){return this.$d.toString()!==D},I.isSame=function(k,N){var P=ae(k);return this.startOf(N)<=P&&P<=this.endOf(N)},I.isAfter=function(k,N){return ae(k)<this.startOf(N)},I.isBefore=function(k,N){return this.endOf(N)<ae(k)},I.$g=function(k,N,P){return $.u(k)?this[N]:this.set(P,k)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(k,N){var P=this,U=!!$.u(N)||N,Y=$.p(k),ce=function(Te,Me){var Ee=$.w(P.$u?Date.UTC(P.$y,Me,Te):new Date(P.$y,Me,Te),P);return U?Ee:Ee.endOf(b)},he=function(Te,Me){return $.w(P.toDate()[Te].apply(P.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(Me)),P)},be=this.$W,K=this.$M,_e=this.$D,q="set"+(this.$u?"UTC":"");switch(Y){case E:return U?ce(1,0):ce(31,11);case m:return U?ce(1,K):ce(0,K+1);case p:var G=this.$locale().weekStart||0,ue=(be<G?be+7:be)-G;return ce(U?_e-ue:_e+(6-ue),K);case b:case v:return he(q+"Hours",0);case f:return he(q+"Minutes",1);case u:return he(q+"Seconds",2);case d:return he(q+"Milliseconds",3);default:return this.clone()}},I.endOf=function(k){return this.startOf(k,!1)},I.$set=function(k,N){var P,U=$.p(k),Y="set"+(this.$u?"UTC":""),ce=(P={},P[b]=Y+"Date",P[v]=Y+"Date",P[m]=Y+"Month",P[E]=Y+"FullYear",P[f]=Y+"Hours",P[u]=Y+"Minutes",P[d]=Y+"Seconds",P[g]=Y+"Milliseconds",P)[U],he=U===b?this.$D+(N-this.$W):N;if(U===m||U===E){var be=this.clone().set(v,1);be.$d[ce](he),be.init(),this.$d=be.set(v,Math.min(this.$D,be.daysInMonth())).$d}else ce&&this.$d[ce](he);return this.init(),this},I.set=function(k,N){return this.clone().$set(k,N)},I.get=function(k){return this[$.p(k)]()},I.add=function(k,N){var P,U=this;k=Number(k);var Y=$.p(N),ce=function(K){var _e=ae(U);return $.w(_e.date(_e.date()+Math.round(K*k)),U)};if(Y===m)return this.set(m,this.$M+k);if(Y===E)return this.set(E,this.$y+k);if(Y===b)return ce(1);if(Y===p)return ce(7);var he=(P={},P[u]=A,P[f]=y,P[d]=1e3,P)[Y]||1,be=this.$d.getTime()+k*he;return $.w(be,this)},I.subtract=function(k,N){return this.add(-1*k,N)},I.format=function(k){var N=this,P=this.$locale();if(!this.isValid())return P.invalidDate||D;var U=k||"YYYY-MM-DDTHH:mm:ssZ",Y=$.z(this),ce=this.$H,he=this.$m,be=this.$M,K=P.weekdays,_e=P.months,G=function(Me,Ee,ke,We){return Me&&(Me[Ee]||Me(N,U))||ke[Ee].slice(0,We)},ue=function(Me){return $.s(ce%12||12,Me,"0")},Te=P.meridiem||function(Me,Ee,ke){var We=Me<12?"AM":"PM";return ke?We.toLowerCase():We};return U.replace(R,function(Me,Ee){return Ee||function(ke){switch(ke){case"YY":return String(N.$y).slice(-2);case"YYYY":return $.s(N.$y,4,"0");case"M":return be+1;case"MM":return $.s(be+1,2,"0");case"MMM":return G(P.monthsShort,be,_e,3);case"MMMM":return G(_e,be);case"D":return N.$D;case"DD":return $.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return G(P.weekdaysMin,N.$W,K,2);case"ddd":return G(P.weekdaysShort,N.$W,K,3);case"dddd":return K[N.$W];case"H":return String(ce);case"HH":return $.s(ce,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return Te(ce,he,!0);case"A":return Te(ce,he,!1);case"m":return String(he);case"mm":return $.s(he,2,"0");case"s":return String(N.$s);case"ss":return $.s(N.$s,2,"0");case"SSS":return $.s(N.$ms,3,"0");case"Z":return Y}return null}(Me)||Y.replace(":","")})},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(k,N,P){var U,Y=this,ce=$.p(N),he=ae(k),be=(he.utcOffset()-this.utcOffset())*A,K=this-he,_e=function(){return $.m(Y,he)};switch(ce){case E:U=_e()/12;break;case m:U=_e();break;case C:U=_e()/3;break;case p:U=(K-be)/6048e5;break;case b:U=(K-be)/864e5;break;case f:U=K/y;break;case u:U=K/A;break;case d:U=K/1e3;break;default:U=K}return P?U:$.a(U)},I.daysInMonth=function(){return this.endOf(m).$D},I.$locale=function(){return J[this.$L]},I.locale=function(k,N){if(!k)return this.$L;var P=this.clone(),U=fe(k,N,!0);return U&&(P.$L=U),P},I.clone=function(){return $.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},T}(),ie=W.prototype;return ae.prototype=ie,[["$ms",g],["$s",d],["$m",u],["$H",f],["$W",b],["$M",m],["$y",E],["$D",v]].forEach(function(T){ie[T[1]]=function(I){return this.$g(I,T[0],T[1])}}),ae.extend=function(T,I){return T.$i||(T(I,W,ae),T.$i=!0),ae},ae.locale=fe,ae.isDayjs=oe,ae.unix=function(T){return ae(1e3*T)},ae.en=J[ne],ae.Ls=J,ae.p={},ae},"object"==typeof B&&void 0!==z?z.exports=y():(A=typeof globalThis<"u"?globalThis:A||self).dayjs=y()},{}],392:[function(_,z,B){"use strict";var A,y;A=void 0,y=function(){var A={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},y=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,g=/\d\d/,d=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,f={},b=function(S){return(S=+S)+(S>68?1900:2e3)},p=function(S){return function(R){this[S]=+R}},m=[/[+-]\d\d:?(\d\d)?|Z/,function(S){(this.zone||(this.zone={})).offset=function(R){if(!R||"Z"===R)return 0;var L=R.match(/([+-]|\d\d)/g),Z=60*L[1]+(+L[2]||0);return 0===Z?0:"+"===L[0]?-Z:Z}(S)}],C=function(S){var R=f[S];return R&&(R.indexOf?R:R.s.concat(R.f))},E=function(S,R){var L,Z=f.meridiem;if(Z){for(var ee=1;ee<=24;ee+=1)if(S.indexOf(Z(ee,0,R))>-1){L=ee>12;break}}else L=S===(R?"pm":"PM");return L},v={A:[u,function(S){this.afternoon=E(S,!1)}],a:[u,function(S){this.afternoon=E(S,!0)}],S:[/\d/,function(S){this.milliseconds=100*+S}],SS:[g,function(S){this.milliseconds=10*+S}],SSS:[/\d{3}/,function(S){this.milliseconds=+S}],s:[d,p("seconds")],ss:[d,p("seconds")],m:[d,p("minutes")],mm:[d,p("minutes")],H:[d,p("hours")],h:[d,p("hours")],HH:[d,p("hours")],hh:[d,p("hours")],D:[d,p("day")],DD:[g,p("day")],Do:[u,function(S){var R=f.ordinal,L=S.match(/\d+/);if(this.day=L[0],R)for(var Z=1;Z<=31;Z+=1)R(Z).replace(/\[|\]/g,"")===S&&(this.day=Z)}],M:[d,p("month")],MM:[g,p("month")],MMM:[u,function(S){var R=C("months"),L=(C("monthsShort")||R.map(function(Z){return Z.slice(0,3)})).indexOf(S)+1;if(L<1)throw new Error;this.month=L%12||L}],MMMM:[u,function(S){var R=C("months").indexOf(S)+1;if(R<1)throw new Error;this.month=R%12||R}],Y:[/[+-]?\d+/,p("year")],YY:[g,function(S){this.year=b(S)}],YYYY:[/\d{4}/,p("year")],Z:m,ZZ:m};return function(S,R,L){L.p.customParseFormat=!0,S&&S.parseTwoDigitYear&&(b=S.parseTwoDigitYear);var Z=R.prototype,ee=Z.parse;Z.parse=function(ne){var J=ne.date,re=ne.utc,oe=ne.args;this.$u=re;var fe=oe[1];if("string"==typeof fe){var ae=!0===oe[2],$=!0===oe[3],W=ae||$,ie=oe[2];$&&(ie=oe[2]),f=this.$locale(),!ae&&ie&&(f=L.Ls[ie]),this.$d=function(N,P,U){try{if(["x","X"].indexOf(P)>-1)return new Date(("X"===P?1e3:1)*N);var Y=function D(S){var L;L=f&&f.formats;for(var Z=(S=S.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ae,$,W){var ie=W&&W.toUpperCase();return $||L[W]||A[W]||L[ie].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,I,k){return I||k.slice(1)})})).match(y),ee=Z.length,ne=0;ne<ee;ne+=1){var J=Z[ne],re=v[J],fe=re&&re[1];Z[ne]=fe?{regex:re&&re[0],parser:fe}:J.replace(/^\[|\]$/g,"")}return function(ae){for(var $={},W=0,ie=0;W<ee;W+=1){var T=Z[W];if("string"==typeof T)ie+=T.length;else{var I=T.regex,k=T.parser,N=ae.slice(ie),P=I.exec(N)[0];k.call($,P),ae=ae.replace(P,"")}}return function(U){var Y=U.afternoon;if(void 0!==Y){var ce=U.hours;Y?ce<12&&(U.hours+=12):12===ce&&(U.hours=0),delete U.afternoon}}($),$}}(P)(N),ce=Y.year,he=Y.month,be=Y.day,K=Y.hours,_e=Y.minutes,q=Y.seconds,G=Y.milliseconds,ue=Y.zone,Te=new Date,Me=be||(ce||he?1:Te.getDate()),Ee=ce||Te.getFullYear(),ke=0;ce&&!he||(ke=he>0?he-1:Te.getMonth());var We=K||0,Ve=_e||0,Se=q||0,qe=G||0;return ue?new Date(Date.UTC(Ee,ke,Me,We,Ve,Se,qe+60*ue.offset*1e3)):U?new Date(Date.UTC(Ee,ke,Me,We,Ve,Se,qe)):new Date(Ee,ke,Me,We,Ve,Se,qe)}catch{return new Date("")}}(J,fe,re),this.init(),ie&&!0!==ie&&(this.$L=this.locale(ie).$L),W&&J!=this.format(fe)&&(this.$d=new Date("")),f={}}else if(fe instanceof Array)for(var T=fe.length,I=1;I<=T;I+=1){oe[1]=fe[I-1];var k=L.apply(this,oe);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}I===T&&(this.$d=new Date(""))}else ee.call(this,ne)}}},"object"==typeof B&&void 0!==z?z.exports=y():(A=typeof globalThis<"u"?globalThis:A||self).dayjs_plugin_customParseFormat=y()},{}],393:[function(_,z,B){"use strict";var A,y;A=void 0,y=function(){var A="minute",y=/[+-]\d\d(?::?\d\d)?/g,g=/([+-]|\d\d)/g;return function(d,u,f){var b=u.prototype;f.utc=function(S){return new u({date:S,utc:!0,args:arguments})},b.utc=function(S){var R=f(this.toDate(),{locale:this.$L,utc:!0});return S?R.add(this.utcOffset(),A):R},b.local=function(){return f(this.toDate(),{locale:this.$L,utc:!1})};var p=b.parse;b.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),p.call(this,S)};var m=b.init;b.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else m.call(this)};var C=b.utcOffset;b.utcOffset=function(S,R){var L=this.$utils().u;if(L(S))return this.$u?0:L(this.$offset)?C.call(this):this.$offset;if("string"==typeof S&&null===(S=function(J){void 0===J&&(J="");var re=J.match(y);if(!re)return null;var oe=(""+re[0]).match(g)||["-",0,0],ae=60*+oe[1]+ +oe[2];return 0===ae?0:"+"===oe[0]?ae:-ae}(S)))return this;var Z=Math.abs(S)<=16?60*S:S,ee=this;if(R)return ee.$offset=Z,ee.$u=0===S,ee;if(0!==S){var ne=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(ee=this.local().add(Z+ne,A)).$offset=Z,ee.$x.$localOffset=ne}else ee=this.utc();return ee};var E=b.format;b.format=function(S){return E.call(this,S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},b.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},b.isUTC=function(){return!!this.$u},b.toISOString=function(){return this.toDate().toISOString()},b.toString=function(){return this.toDate().toUTCString()};var v=b.toDate;b.toDate=function(S){return"s"===S&&this.$offset?f(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():v.call(this)};var D=b.diff;b.diff=function(S,R,L){if(S&&this.$u===S.$u)return D.call(this,S,R,L);var Z=this.local(),ee=f(S).local();return D.call(Z,ee,R,L)}}},"object"==typeof B&&void 0!==z?z.exports=y():(A=typeof globalThis<"u"?globalThis:A||self).dayjs_plugin_utc=y()},{}],394:[function(_,z,B){"use strict";B.utils=_("./des/utils"),B.Cipher=_("./des/cipher"),B.DES=_("./des/des"),B.CBC=_("./des/cbc"),B.EDE=_("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(_,z,B){"use strict";var A=_("minimalistic-assert"),y=_("inherits"),g={};function d(u){A.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var f=0;f<this.iv.length;f++)this.iv[f]=u[f]}B.instantiate=function(u){function f(C){u.call(this,C),this._cbcInit()}y(f,u);for(var b=Object.keys(g),p=0;p<b.length;p++){var m=b[p];f.prototype[m]=g[m]}return f.create=function(C){return new f(C)},f},g._cbcInit=function(){var u=new d(this.options.iv);this._cbcState=u},g._update=function(u,f,b,p){var C=this.constructor.super_.prototype,E=this._cbcState.iv;if("encrypt"===this.type){for(var v=0;v<this.blockSize;v++)E[v]^=u[f+v];for(C._update.call(this,E,0,b,p),v=0;v<this.blockSize;v++)E[v]=b[p+v]}else{for(C._update.call(this,u,f,b,p),v=0;v<this.blockSize;v++)b[p+v]^=E[v];for(v=0;v<this.blockSize;v++)E[v]=u[f+v]}}},{inherits:440,"minimalistic-assert":453}],396:[function(_,z,B){"use strict";var A=_("minimalistic-assert");function y(g){this.options=g,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==g.padding}z.exports=y,y.prototype._init=function(){},y.prototype.update=function(g){return 0===g.length?[]:"decrypt"===this.type?this._updateDecrypt(g):this._updateEncrypt(g)},y.prototype._buffer=function(g,d){for(var u=Math.min(this.buffer.length-this.bufferOff,g.length-d),f=0;f<u;f++)this.buffer[this.bufferOff+f]=g[d+f];return this.bufferOff+=u,u},y.prototype._flushBuffer=function(g,d){return this._update(this.buffer,0,g,d),this.bufferOff=0,this.blockSize},y.prototype._updateEncrypt=function(g){var d=0,u=0,b=new Array(((this.bufferOff+g.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(d+=this._buffer(g,d),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(b,u)));for(var p=g.length-(g.length-d)%this.blockSize;d<p;d+=this.blockSize)this._update(g,d,b,u),u+=this.blockSize;for(;d<g.length;d++,this.bufferOff++)this.buffer[this.bufferOff]=g[d];return b},y.prototype._updateDecrypt=function(g){for(var d=0,u=0,f=Math.ceil((this.bufferOff+g.length)/this.blockSize)-1,b=new Array(f*this.blockSize);f>0;f--)d+=this._buffer(g,d),u+=this._flushBuffer(b,u);return d+=this._buffer(g,d),b},y.prototype.final=function(g){var d,u;return g&&(d=this.update(g)),u="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),d?d.concat(u):u},y.prototype._pad=function(g,d){if(0===d)return!1;for(;d<g.length;)g[d++]=0;return!0},y.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var g=new Array(this.blockSize);return this._update(this.buffer,0,g,0),g},y.prototype._unpad=function(g){return g},y.prototype._finalDecrypt=function(){A.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var g=new Array(this.blockSize);return this._flushBuffer(g,0),this._unpad(g)}},{"minimalistic-assert":453}],397:[function(_,z,B){"use strict";var A=_("minimalistic-assert"),y=_("inherits"),g=_("./utils"),d=_("./cipher");function u(){this.tmp=new Array(2),this.keys=null}function f(p){d.call(this,p);var m=new u;this._desState=m,this.deriveKeys(m,p.key)}y(f,d),z.exports=f,f.create=function(p){return new f(p)};var b=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];f.prototype.deriveKeys=function(p,m){p.keys=new Array(32),A.equal(m.length,this.blockSize,"Invalid key length");var C=g.readUInt32BE(m,0),E=g.readUInt32BE(m,4);g.pc1(C,E,p.tmp,0),C=p.tmp[0],E=p.tmp[1];for(var v=0;v<p.keys.length;v+=2){var D=b[v>>>1];C=g.r28shl(C,D),E=g.r28shl(E,D),g.pc2(C,E,p.keys,v)}},f.prototype._update=function(p,m,C,E){var v=this._desState,D=g.readUInt32BE(p,m),S=g.readUInt32BE(p,m+4);g.ip(D,S,v.tmp,0),D=v.tmp[0],S=v.tmp[1],"encrypt"===this.type?this._encrypt(v,D,S,v.tmp,0):this._decrypt(v,D,S,v.tmp,0),S=v.tmp[1],g.writeUInt32BE(C,D=v.tmp[0],E),g.writeUInt32BE(C,S,E+4)},f.prototype._pad=function(p,m){if(!1===this.padding)return!1;for(var C=p.length-m,E=m;E<p.length;E++)p[E]=C;return!0},f.prototype._unpad=function(p){if(!1===this.padding)return p;for(var m=p[p.length-1],C=p.length-m;C<p.length;C++)A.equal(p[C],m);return p.slice(0,p.length-m)},f.prototype._encrypt=function(p,m,C,E,v){for(var D=m,S=C,R=0;R<p.keys.length;R+=2){var L=p.keys[R],Z=p.keys[R+1];g.expand(S,p.tmp,0);var ee=g.substitute(L^=p.tmp[0],Z^=p.tmp[1]),ne=S;S=(D^g.permute(ee))>>>0,D=ne}g.rip(S,D,E,v)},f.prototype._decrypt=function(p,m,C,E,v){for(var D=C,S=m,R=p.keys.length-2;R>=0;R-=2){var L=p.keys[R],Z=p.keys[R+1];g.expand(D,p.tmp,0);var ee=g.substitute(L^=p.tmp[0],Z^=p.tmp[1]),ne=D;D=(S^g.permute(ee))>>>0,S=ne}g.rip(D,S,E,v)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(_,z,B){"use strict";var A=_("minimalistic-assert"),y=_("inherits"),g=_("./cipher"),d=_("./des");function u(b,p){A.equal(p.length,24,"Invalid key length");var m=p.slice(0,8),C=p.slice(8,16),E=p.slice(16,24);this.ciphers="encrypt"===b?[d.create({type:"encrypt",key:m}),d.create({type:"decrypt",key:C}),d.create({type:"encrypt",key:E})]:[d.create({type:"decrypt",key:E}),d.create({type:"encrypt",key:C}),d.create({type:"decrypt",key:m})]}function f(b){g.call(this,b);var p=new u(this.type,this.options.key);this._edeState=p}y(f,g),z.exports=f,f.create=function(b){return new f(b)},f.prototype._update=function(b,p,m,C){var E=this._edeState;E.ciphers[0]._update(b,p,m,C),E.ciphers[1]._update(m,C,m,C),E.ciphers[2]._update(m,C,m,C)},f.prototype._pad=d.prototype._pad,f.prototype._unpad=d.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(_,z,B){"use strict";B.readUInt32BE=function(d,u){return(d[0+u]<<24|d[1+u]<<16|d[2+u]<<8|d[3+u])>>>0},B.writeUInt32BE=function(d,u,f){d[0+f]=u>>>24,d[1+f]=u>>>16&255,d[2+f]=u>>>8&255,d[3+f]=255&u},B.ip=function(d,u,f,b){for(var p=0,m=0,C=6;C>=0;C-=2){for(var E=0;E<=24;E+=8)p<<=1,p|=u>>>E+C&1;for(E=0;E<=24;E+=8)p<<=1,p|=d>>>E+C&1}for(C=6;C>=0;C-=2){for(E=1;E<=25;E+=8)m<<=1,m|=u>>>E+C&1;for(E=1;E<=25;E+=8)m<<=1,m|=d>>>E+C&1}f[b+0]=p>>>0,f[b+1]=m>>>0},B.rip=function(d,u,f,b){for(var p=0,m=0,C=0;C<4;C++)for(var E=24;E>=0;E-=8)p<<=1,p|=u>>>E+C&1,p<<=1,p|=d>>>E+C&1;for(C=4;C<8;C++)for(E=24;E>=0;E-=8)m<<=1,m|=u>>>E+C&1,m<<=1,m|=d>>>E+C&1;f[b+0]=p>>>0,f[b+1]=m>>>0},B.pc1=function(d,u,f,b){for(var p=0,m=0,C=7;C>=5;C--){for(var E=0;E<=24;E+=8)p<<=1,p|=u>>E+C&1;for(E=0;E<=24;E+=8)p<<=1,p|=d>>E+C&1}for(E=0;E<=24;E+=8)p<<=1,p|=u>>E+C&1;for(C=1;C<=3;C++){for(E=0;E<=24;E+=8)m<<=1,m|=u>>E+C&1;for(E=0;E<=24;E+=8)m<<=1,m|=d>>E+C&1}for(E=0;E<=24;E+=8)m<<=1,m|=d>>E+C&1;f[b+0]=p>>>0,f[b+1]=m>>>0},B.r28shl=function(d,u){return d<<u&268435455|d>>>28-u};var A=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];B.pc2=function(d,u,f,b){for(var p=0,m=0,C=A.length>>>1,E=0;E<C;E++)p<<=1,p|=d>>>A[E]&1;for(E=C;E<A.length;E++)m<<=1,m|=u>>>A[E]&1;f[b+0]=p>>>0,f[b+1]=m>>>0},B.expand=function(d,u,f){var b=0,p=0;b=(1&d)<<5|d>>>27;for(var m=23;m>=15;m-=4)b<<=6,b|=d>>>m&63;for(m=11;m>=3;m-=4)p|=d>>>m&63,p<<=6;p|=(31&d)<<1|d>>>31,u[f+0]=b>>>0,u[f+1]=p>>>0};var y=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];B.substitute=function(d,u){for(var f=0,b=0;b<4;b++)f<<=4,f|=y[64*b+(d>>>18-6*b&63)];for(b=0;b<4;b++)f<<=4,f|=y[256+64*b+(u>>>18-6*b&63)];return f>>>0};var g=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];B.permute=function(d){for(var u=0,f=0;f<g.length;f++)u<<=1,u|=d>>>g[f]&1;return u>>>0},B.padSplit=function(d,u,f){for(var b=d.toString(2);b.length<u;)b="0"+b;for(var p=[],m=0;m<u;m+=f)p.push(b.slice(m,m+f));return p.join(" ")}},{}],400:[function(_,z,B){(function(A){(function(){"use strict";var y=_("./lib/generatePrime"),g=_("./lib/primes.json"),d=_("./lib/dh"),u={binary:!0,hex:!0,base64:!0};B.DiffieHellmanGroup=B.createDiffieHellmanGroup=B.getDiffieHellman=function(f){var b=new A(g[f].prime,"hex"),p=new A(g[f].gen,"hex");return new d(b,p)},B.createDiffieHellman=B.DiffieHellman=function f(b,p,m,C){return A.isBuffer(p)||void 0===u[p]?f(b,"binary",p,m):(p=p||"binary",C=C||"binary",m=m||new A([2]),A.isBuffer(m)||(m=new A(m,C)),"number"==typeof b?new d(y(b,m),m,!0):(A.isBuffer(b)||(b=new A(b,p)),new d(b,m,!0)))}}).call(this)}).call(this,_("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(_,z,B){(function(A){(function(){"use strict";var y=_("bn.js"),g=new(_("miller-rabin")),d=new y(24),u=new y(11),f=new y(10),b=new y(3),p=new y(7),m=_("./generatePrime"),C=_("randombytes");function E(L,Z){return Z=Z||"utf8",A.isBuffer(L)||(L=new A(L,Z)),this._pub=new y(L),this}function v(L,Z){return Z=Z||"utf8",A.isBuffer(L)||(L=new A(L,Z)),this._priv=new y(L),this}z.exports=S;var D={};function S(L,Z,ee){this.setGenerator(Z),this.__prime=new y(L),this._prime=y.mont(this.__prime),this._primeLen=L.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,ee?(this.setPublicKey=E,this.setPrivateKey=v):this._primeCode=8}function R(L,Z){var ee=new A(L.toArray());return Z?ee.toString(Z):ee}Object.defineProperty(S.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(L,Z){var ee=Z.toString("hex"),ne=[ee,L.toString(16)].join("_");if(ne in D)return D[ne];var J,re=0;if(L.isEven()||!m.simpleSieve||!m.fermatTest(L)||!g.test(L))return re+=1,D[ne]=re+="02"===ee||"05"===ee?8:4,re;switch(g.test(L.shrn(1))||(re+=2),ee){case"02":L.mod(d).cmp(u)&&(re+=8);break;case"05":(J=L.mod(f)).cmp(b)&&J.cmp(p)&&(re+=8);break;default:re+=4}return D[ne]=re,re}(this.__prime,this.__gen)),this._primeCode}}),S.prototype.generateKeys=function(){return this._priv||(this._priv=new y(C(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},S.prototype.computeSecret=function(L){var Z=(L=(L=new y(L)).toRed(this._prime)).redPow(this._priv).fromRed(),ee=new A(Z.toArray()),ne=this.getPrime();if(ee.length<ne.length){var J=new A(ne.length-ee.length);J.fill(0),ee=A.concat([J,ee])}return ee},S.prototype.getPublicKey=function(L){return R(this._pub,L)},S.prototype.getPrivateKey=function(L){return R(this._priv,L)},S.prototype.getPrime=function(L){return R(this.__prime,L)},S.prototype.getGenerator=function(L){return R(this._gen,L)},S.prototype.setGenerator=function(L,Z){return Z=Z||"utf8",A.isBuffer(L)||(L=new A(L,Z)),this.__gen=L,this._gen=new y(L),this}}).call(this)}).call(this,_("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(_,z,B){"use strict";var A=_("randombytes");z.exports=L,L.simpleSieve=S,L.fermatTest=R;var y=_("bn.js"),g=new y(24),d=new(_("miller-rabin")),u=new y(1),f=new y(2),b=new y(5),p=(new y(16),new y(8),new y(10)),m=new y(3),C=(new y(7),new y(11)),E=new y(4),v=(new y(12),null);function S(Z){for(var ee=function D(){if(null!==v)return v;var Z=[];Z[0]=2;for(var ee=1,ne=3;ne<1048576;ne+=2){for(var J=Math.ceil(Math.sqrt(ne)),re=0;re<ee&&Z[re]<=J&&ne%Z[re]!=0;re++);ee!==re&&Z[re]<=J||(Z[ee++]=ne)}return v=Z,Z}(),ne=0;ne<ee.length;ne++)if(0===Z.modn(ee[ne]))return 0===Z.cmpn(ee[ne]);return!0}function R(Z){var ee=y.mont(Z);return 0===f.toRed(ee).redPow(Z.subn(1)).fromRed().cmpn(1)}function L(Z,ee){if(Z<16)return new y(2===ee||5===ee?[140,123]:[140,39]);var ne,J;for(ee=new y(ee);;){for(ne=new y(A(Math.ceil(Z/8)));ne.bitLength()>Z;)ne.ishrn(1);if(ne.isEven()&&ne.iadd(u),ne.testn(1)||ne.iadd(f),ee.cmp(f)){if(!ee.cmp(b))for(;ne.mod(p).cmp(m);)ne.iadd(E)}else for(;ne.mod(g).cmp(C);)ne.iadd(E);if(S(J=ne.shrn(1))&&S(ne)&&R(J)&&R(ne)&&d.test(J)&&d.test(ne))return ne}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(_,z,B){z.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(_,z,B){arguments[4][184][0].apply(B,arguments)},{buffer:188,dup:184}],405:[function(_,z,B){"use strict";var A=B;A.version=_("../package.json").version,A.utils=_("./elliptic/utils"),A.rand=_("brorand"),A.curve=_("./elliptic/curve"),A.curves=_("./elliptic/curves"),A.ec=_("./elliptic/ec"),A.eddsa=_("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(_,z,B){"use strict";var A=_("bn.js"),y=_("../utils"),g=y.getNAF,d=y.getJSF,u=y.assert;function f(p,m){this.type=p,this.p=new A(m.p,16),this.red=m.prime?A.red(m.prime):A.mont(this.p),this.zero=new A(0).toRed(this.red),this.one=new A(1).toRed(this.red),this.two=new A(2).toRed(this.red),this.n=m.n&&new A(m.n,16),this.g=m.g&&this.pointFromJSON(m.g,m.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var C=this.n&&this.p.div(this.n);!C||C.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function b(p,m){this.curve=p,this.type=m,this.precomputed=null}z.exports=f,f.prototype.point=function(){throw new Error("Not implemented")},f.prototype.validate=function(){throw new Error("Not implemented")},f.prototype._fixedNafMul=function(p,m){u(p.precomputed);var C=p._getDoubles(),E=g(m,1,this._bitLength),v=(1<<C.step+1)-(C.step%2==0?2:1);v/=3;var D,S,R=[];for(D=0;D<E.length;D+=C.step){S=0;for(var L=D+C.step-1;L>=D;L--)S=(S<<1)+E[L];R.push(S)}for(var Z=this.jpoint(null,null,null),ee=this.jpoint(null,null,null),ne=v;ne>0;ne--){for(D=0;D<R.length;D++)(S=R[D])===ne?ee=ee.mixedAdd(C.points[D]):S===-ne&&(ee=ee.mixedAdd(C.points[D].neg()));Z=Z.add(ee)}return Z.toP()},f.prototype._wnafMul=function(p,m){for(var C=4,E=p._getNAFPoints(C),v=E.points,D=g(m,C=E.wnd,this._bitLength),S=this.jpoint(null,null,null),R=D.length-1;R>=0;R--){for(var L=0;R>=0&&0===D[R];R--)L++;if(R>=0&&L++,S=S.dblp(L),R<0)break;var Z=D[R];u(0!==Z),S="affine"===p.type?S.mixedAdd(Z>0?v[Z-1>>1]:v[-Z-1>>1].neg()):S.add(Z>0?v[Z-1>>1]:v[-Z-1>>1].neg())}return"affine"===p.type?S.toP():S},f.prototype._wnafMulAdd=function(p,m,C,E,v){var D,S,R,L=this._wnafT1,Z=this._wnafT2,ee=this._wnafT3,ne=0;for(D=0;D<E;D++){var J=(R=m[D])._getNAFPoints(p);L[D]=J.wnd,Z[D]=J.points}for(D=E-1;D>=1;D-=2){var re=D-1,oe=D;if(1===L[re]&&1===L[oe]){var fe=[m[re],null,null,m[oe]];0===m[re].y.cmp(m[oe].y)?(fe[1]=m[re].add(m[oe]),fe[2]=m[re].toJ().mixedAdd(m[oe].neg())):0===m[re].y.cmp(m[oe].y.redNeg())?(fe[1]=m[re].toJ().mixedAdd(m[oe]),fe[2]=m[re].add(m[oe].neg())):(fe[1]=m[re].toJ().mixedAdd(m[oe]),fe[2]=m[re].toJ().mixedAdd(m[oe].neg()));var ae=[-3,-1,-5,-7,0,7,5,1,3],$=d(C[re],C[oe]);for(ne=Math.max($[0].length,ne),ee[re]=new Array(ne),ee[oe]=new Array(ne),S=0;S<ne;S++)ee[re][S]=ae[3*(1+(0|$[0][S]))+(1+(0|$[1][S]))],ee[oe][S]=0,Z[re]=fe}else ee[re]=g(C[re],L[re],this._bitLength),ee[oe]=g(C[oe],L[oe],this._bitLength),ne=Math.max(ee[re].length,ne),ne=Math.max(ee[oe].length,ne)}var T=this.jpoint(null,null,null),I=this._wnafT4;for(D=ne;D>=0;D--){for(var k=0;D>=0;){var N=!0;for(S=0;S<E;S++)I[S]=0|ee[S][D],0!==I[S]&&(N=!1);if(!N)break;k++,D--}if(D>=0&&k++,T=T.dblp(k),D<0)break;for(S=0;S<E;S++){var P=I[S];0!==P&&(P>0?R=Z[S][P-1>>1]:P<0&&(R=Z[S][-P-1>>1].neg()),T="affine"===R.type?T.mixedAdd(R):T.add(R))}}for(D=0;D<E;D++)Z[D]=null;return v?T:T.toP()},f.BasePoint=b,b.prototype.eq=function(){throw new Error("Not implemented")},b.prototype.validate=function(){return this.curve.validate(this)},f.prototype.decodePoint=function(p,m){p=y.toArray(p,m);var C=this.p.byteLength();if((4===p[0]||6===p[0]||7===p[0])&&p.length-1==2*C)return 6===p[0]?u(p[p.length-1]%2==0):7===p[0]&&u(p[p.length-1]%2==1),this.point(p.slice(1,1+C),p.slice(1+C,1+2*C));if((2===p[0]||3===p[0])&&p.length-1===C)return this.pointFromX(p.slice(1,1+C),3===p[0]);throw new Error("Unknown point format")},b.prototype.encodeCompressed=function(p){return this.encode(p,!0)},b.prototype._encode=function(p){var m=this.curve.p.byteLength(),C=this.getX().toArray("be",m);return p?[this.getY().isEven()?2:3].concat(C):[4].concat(C,this.getY().toArray("be",m))},b.prototype.encode=function(p,m){return y.encode(this._encode(m),p)},b.prototype.precompute=function(p){if(this.precomputed)return this;var m={doubles:null,naf:null,beta:null};return m.naf=this._getNAFPoints(8),m.doubles=this._getDoubles(4,p),m.beta=this._getBeta(),this.precomputed=m,this},b.prototype._hasDoubles=function(p){if(!this.precomputed)return!1;var m=this.precomputed.doubles;return!!m&&m.points.length>=Math.ceil((p.bitLength()+1)/m.step)},b.prototype._getDoubles=function(p,m){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var C=[this],E=this,v=0;v<m;v+=p){for(var D=0;D<p;D++)E=E.dbl();C.push(E)}return{step:p,points:C}},b.prototype._getNAFPoints=function(p){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var m=[this],C=(1<<p)-1,E=1===C?null:this.dbl(),v=1;v<C;v++)m[v]=m[v-1].add(E);return{wnd:p,points:m}},b.prototype._getBeta=function(){return null},b.prototype.dblp=function(p){for(var m=this,C=0;C<p;C++)m=m.dbl();return m}},{"../utils":419,"bn.js":420}],407:[function(_,z,B){"use strict";var A=_("../utils"),y=_("bn.js"),g=_("inherits"),d=_("./base"),u=A.assert;function f(p){this.twisted=1!=(0|p.a),this.mOneA=this.twisted&&-1==(0|p.a),this.extended=this.mOneA,d.call(this,"edwards",p),this.a=new y(p.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new y(p.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new y(p.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|p.c)}function b(p,m,C,E,v){d.BasePoint.call(this,p,"projective"),null===m&&null===C&&null===E?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new y(m,16),this.y=new y(C,16),this.z=E?new y(E,16):this.curve.one,this.t=v&&new y(v,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}g(f,d),z.exports=f,f.prototype._mulA=function(p){return this.mOneA?p.redNeg():this.a.redMul(p)},f.prototype._mulC=function(p){return this.oneC?p:this.c.redMul(p)},f.prototype.jpoint=function(p,m,C,E){return this.point(p,m,C,E)},f.prototype.pointFromX=function(p,m){(p=new y(p,16)).red||(p=p.toRed(this.red));var C=p.redSqr(),E=this.c2.redSub(this.a.redMul(C)),v=this.one.redSub(this.c2.redMul(this.d).redMul(C)),D=E.redMul(v.redInvm()),S=D.redSqrt();if(0!==S.redSqr().redSub(D).cmp(this.zero))throw new Error("invalid point");var R=S.fromRed().isOdd();return(m&&!R||!m&&R)&&(S=S.redNeg()),this.point(p,S)},f.prototype.pointFromY=function(p,m){(p=new y(p,16)).red||(p=p.toRed(this.red));var C=p.redSqr(),E=C.redSub(this.c2),v=C.redMul(this.d).redMul(this.c2).redSub(this.a),D=E.redMul(v.redInvm());if(0===D.cmp(this.zero)){if(m)throw new Error("invalid point");return this.point(this.zero,p)}var S=D.redSqrt();if(0!==S.redSqr().redSub(D).cmp(this.zero))throw new Error("invalid point");return S.fromRed().isOdd()!==m&&(S=S.redNeg()),this.point(S,p)},f.prototype.validate=function(p){if(p.isInfinity())return!0;p.normalize();var m=p.x.redSqr(),C=p.y.redSqr(),E=m.redMul(this.a).redAdd(C),v=this.c2.redMul(this.one.redAdd(this.d.redMul(m).redMul(C)));return 0===E.cmp(v)},g(b,d.BasePoint),f.prototype.pointFromJSON=function(p){return b.fromJSON(this,p)},f.prototype.point=function(p,m,C,E){return new b(this,p,m,C,E)},b.fromJSON=function(p,m){return new b(p,m[0],m[1],m[2])},b.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},b.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},b.prototype._extDbl=function(){var p=this.x.redSqr(),m=this.y.redSqr(),C=this.z.redSqr();C=C.redIAdd(C);var E=this.curve._mulA(p),v=this.x.redAdd(this.y).redSqr().redISub(p).redISub(m),D=E.redAdd(m),S=D.redSub(C),R=E.redSub(m),L=v.redMul(S),Z=D.redMul(R),ee=v.redMul(R),ne=S.redMul(D);return this.curve.point(L,Z,ne,ee)},b.prototype._projDbl=function(){var p,m,C,E,v,D,S=this.x.redAdd(this.y).redSqr(),R=this.x.redSqr(),L=this.y.redSqr();if(this.curve.twisted){var Z=(E=this.curve._mulA(R)).redAdd(L);this.zOne?(p=S.redSub(R).redSub(L).redMul(Z.redSub(this.curve.two)),m=Z.redMul(E.redSub(L)),C=Z.redSqr().redSub(Z).redSub(Z)):(v=this.z.redSqr(),D=Z.redSub(v).redISub(v),p=S.redSub(R).redISub(L).redMul(D),m=Z.redMul(E.redSub(L)),C=Z.redMul(D))}else E=R.redAdd(L),v=this.curve._mulC(this.z).redSqr(),D=E.redSub(v).redSub(v),p=this.curve._mulC(S.redISub(E)).redMul(D),m=this.curve._mulC(E).redMul(R.redISub(L)),C=E.redMul(D);return this.curve.point(p,m,C)},b.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},b.prototype._extAdd=function(p){var m=this.y.redSub(this.x).redMul(p.y.redSub(p.x)),C=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x)),E=this.t.redMul(this.curve.dd).redMul(p.t),v=this.z.redMul(p.z.redAdd(p.z)),D=C.redSub(m),S=v.redSub(E),R=v.redAdd(E),L=C.redAdd(m),Z=D.redMul(S),ee=R.redMul(L),ne=D.redMul(L),J=S.redMul(R);return this.curve.point(Z,ee,J,ne)},b.prototype._projAdd=function(p){var m,C,E=this.z.redMul(p.z),v=E.redSqr(),D=this.x.redMul(p.x),S=this.y.redMul(p.y),R=this.curve.d.redMul(D).redMul(S),L=v.redSub(R),Z=v.redAdd(R),ee=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(D).redISub(S),ne=E.redMul(L).redMul(ee);return this.curve.twisted?(m=E.redMul(Z).redMul(S.redSub(this.curve._mulA(D))),C=L.redMul(Z)):(m=E.redMul(Z).redMul(S.redSub(D)),C=this.curve._mulC(L).redMul(Z)),this.curve.point(ne,m,C)},b.prototype.add=function(p){return this.isInfinity()?p:p.isInfinity()?this:this.curve.extended?this._extAdd(p):this._projAdd(p)},b.prototype.mul=function(p){return this._hasDoubles(p)?this.curve._fixedNafMul(this,p):this.curve._wnafMul(this,p)},b.prototype.mulAdd=function(p,m,C){return this.curve._wnafMulAdd(1,[this,m],[p,C],2,!1)},b.prototype.jmulAdd=function(p,m,C){return this.curve._wnafMulAdd(1,[this,m],[p,C],2,!0)},b.prototype.normalize=function(){if(this.zOne)return this;var p=this.z.redInvm();return this.x=this.x.redMul(p),this.y=this.y.redMul(p),this.t&&(this.t=this.t.redMul(p)),this.z=this.curve.one,this.zOne=!0,this},b.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},b.prototype.getX=function(){return this.normalize(),this.x.fromRed()},b.prototype.getY=function(){return this.normalize(),this.y.fromRed()},b.prototype.eq=function(p){return this===p||0===this.getX().cmp(p.getX())&&0===this.getY().cmp(p.getY())},b.prototype.eqXToP=function(p){var m=p.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(m))return!0;for(var C=p.clone(),E=this.curve.redN.redMul(this.z);;){if(C.iadd(this.curve.n),C.cmp(this.curve.p)>=0)return!1;if(m.redIAdd(E),0===this.x.cmp(m))return!0}},b.prototype.toP=b.prototype.normalize,b.prototype.mixedAdd=b.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(_,z,B){"use strict";var A=B;A.base=_("./base"),A.short=_("./short"),A.mont=_("./mont"),A.edwards=_("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(_,z,B){"use strict";var A=_("bn.js"),y=_("inherits"),g=_("./base"),d=_("../utils");function u(b){g.call(this,"mont",b),this.a=new A(b.a,16).toRed(this.red),this.b=new A(b.b,16).toRed(this.red),this.i4=new A(4).toRed(this.red).redInvm(),this.two=new A(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function f(b,p,m){g.BasePoint.call(this,b,"projective"),null===p&&null===m?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new A(p,16),this.z=new A(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}y(u,g),z.exports=u,u.prototype.validate=function(b){var p=b.normalize().x,m=p.redSqr(),C=m.redMul(p).redAdd(m.redMul(this.a)).redAdd(p);return 0===C.redSqrt().redSqr().cmp(C)},y(f,g.BasePoint),u.prototype.decodePoint=function(b,p){return this.point(d.toArray(b,p),1)},u.prototype.point=function(b,p){return new f(this,b,p)},u.prototype.pointFromJSON=function(b){return f.fromJSON(this,b)},f.prototype.precompute=function(){},f.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},f.fromJSON=function(b,p){return new f(b,p[0],p[1]||b.one)},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},f.prototype.dbl=function(){var b=this.x.redAdd(this.z).redSqr(),p=this.x.redSub(this.z).redSqr(),m=b.redSub(p),C=b.redMul(p),E=m.redMul(p.redAdd(this.curve.a24.redMul(m)));return this.curve.point(C,E)},f.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},f.prototype.diffAdd=function(b,p){var m=this.x.redAdd(this.z),C=this.x.redSub(this.z),E=b.x.redAdd(b.z),v=b.x.redSub(b.z).redMul(m),D=E.redMul(C),S=p.z.redMul(v.redAdd(D).redSqr()),R=p.x.redMul(v.redISub(D).redSqr());return this.curve.point(S,R)},f.prototype.mul=function(b){for(var p=b.clone(),m=this,C=this.curve.point(null,null),E=[];0!==p.cmpn(0);p.iushrn(1))E.push(p.andln(1));for(var v=E.length-1;v>=0;v--)0===E[v]?(m=m.diffAdd(C,this),C=C.dbl()):(C=m.diffAdd(C,this),m=m.dbl());return C},f.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},f.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},f.prototype.eq=function(b){return 0===this.getX().cmp(b.getX())},f.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(_,z,B){"use strict";var A=_("../utils"),y=_("bn.js"),g=_("inherits"),d=_("./base"),u=A.assert;function f(m){d.call(this,"short",m),this.a=new y(m.a,16).toRed(this.red),this.b=new y(m.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(m),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function b(m,C,E,v){d.BasePoint.call(this,m,"affine"),null===C&&null===E?(this.x=null,this.y=null,this.inf=!0):(this.x=new y(C,16),this.y=new y(E,16),v&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function p(m,C,E,v){d.BasePoint.call(this,m,"jacobian"),null===C&&null===E&&null===v?(this.x=this.curve.one,this.y=this.curve.one,this.z=new y(0)):(this.x=new y(C,16),this.y=new y(E,16),this.z=new y(v,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}g(f,d),z.exports=f,f.prototype._getEndomorphism=function(m){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var C,E;if(m.beta)C=new y(m.beta,16).toRed(this.red);else{var v=this._getEndoRoots(this.p);C=(C=v[0].cmp(v[1])<0?v[0]:v[1]).toRed(this.red)}if(m.lambda)E=new y(m.lambda,16);else{var D=this._getEndoRoots(this.n);0===this.g.mul(D[0]).x.cmp(this.g.x.redMul(C))?E=D[0]:u(0===this.g.mul(E=D[1]).x.cmp(this.g.x.redMul(C)))}return{beta:C,lambda:E,basis:m.basis?m.basis.map(function(S){return{a:new y(S.a,16),b:new y(S.b,16)}}):this._getEndoBasis(E)}}},f.prototype._getEndoRoots=function(m){var C=m===this.p?this.red:y.mont(m),E=new y(2).toRed(C).redInvm(),v=E.redNeg(),D=new y(3).toRed(C).redNeg().redSqrt().redMul(E);return[v.redAdd(D).fromRed(),v.redSub(D).fromRed()]},f.prototype._getEndoBasis=function(m){for(var C,E,v,D,S,R,L,Z,ee,ne=this.n.ushrn(Math.floor(this.n.bitLength()/2)),J=m,re=this.n.clone(),oe=new y(1),fe=new y(0),ae=new y(0),$=new y(1),W=0;0!==J.cmpn(0);){var ie=re.div(J);Z=re.sub(ie.mul(J)),ee=ae.sub(ie.mul(oe));var T=$.sub(ie.mul(fe));if(!v&&Z.cmp(ne)<0)C=L.neg(),E=oe,v=Z.neg(),D=ee;else if(v&&2==++W)break;L=Z,re=J,J=Z,ae=oe,oe=ee,$=fe,fe=T}S=Z.neg(),R=ee;var I=v.sqr().add(D.sqr());return S.sqr().add(R.sqr()).cmp(I)>=0&&(S=C,R=E),v.negative&&(v=v.neg(),D=D.neg()),S.negative&&(S=S.neg(),R=R.neg()),[{a:v,b:D},{a:S,b:R}]},f.prototype._endoSplit=function(m){var C=this.endo.basis,E=C[0],v=C[1],D=v.b.mul(m).divRound(this.n),S=E.b.neg().mul(m).divRound(this.n),R=D.mul(E.a),L=S.mul(v.a),Z=D.mul(E.b),ee=S.mul(v.b);return{k1:m.sub(R).sub(L),k2:Z.add(ee).neg()}},f.prototype.pointFromX=function(m,C){(m=new y(m,16)).red||(m=m.toRed(this.red));var E=m.redSqr().redMul(m).redIAdd(m.redMul(this.a)).redIAdd(this.b),v=E.redSqrt();if(0!==v.redSqr().redSub(E).cmp(this.zero))throw new Error("invalid point");var D=v.fromRed().isOdd();return(C&&!D||!C&&D)&&(v=v.redNeg()),this.point(m,v)},f.prototype.validate=function(m){if(m.inf)return!0;var C=m.x,E=m.y,v=this.a.redMul(C),D=C.redSqr().redMul(C).redIAdd(v).redIAdd(this.b);return 0===E.redSqr().redISub(D).cmpn(0)},f.prototype._endoWnafMulAdd=function(m,C,E){for(var v=this._endoWnafT1,D=this._endoWnafT2,S=0;S<m.length;S++){var R=this._endoSplit(C[S]),L=m[S],Z=L._getBeta();R.k1.negative&&(R.k1.ineg(),L=L.neg(!0)),R.k2.negative&&(R.k2.ineg(),Z=Z.neg(!0)),v[2*S]=L,v[2*S+1]=Z,D[2*S]=R.k1,D[2*S+1]=R.k2}for(var ee=this._wnafMulAdd(1,v,D,2*S,E),ne=0;ne<2*S;ne++)v[ne]=null,D[ne]=null;return ee},g(b,d.BasePoint),f.prototype.point=function(m,C,E){return new b(this,m,C,E)},f.prototype.pointFromJSON=function(m,C){return b.fromJSON(this,m,C)},b.prototype._getBeta=function(){if(this.curve.endo){var m=this.precomputed;if(m&&m.beta)return m.beta;var C=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(m){var E=this.curve,v=function(D){return E.point(D.x.redMul(E.endo.beta),D.y)};m.beta=C,C.precomputed={beta:null,naf:m.naf&&{wnd:m.naf.wnd,points:m.naf.points.map(v)},doubles:m.doubles&&{step:m.doubles.step,points:m.doubles.points.map(v)}}}return C}},b.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},b.fromJSON=function(m,C,E){"string"==typeof C&&(C=JSON.parse(C));var v=m.point(C[0],C[1],E);if(!C[2])return v;function D(R){return m.point(R[0],R[1],E)}var S=C[2];return v.precomputed={beta:null,doubles:S.doubles&&{step:S.doubles.step,points:[v].concat(S.doubles.points.map(D))},naf:S.naf&&{wnd:S.naf.wnd,points:[v].concat(S.naf.points.map(D))}},v},b.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},b.prototype.isInfinity=function(){return this.inf},b.prototype.add=function(m){if(this.inf)return m;if(m.inf)return this;if(this.eq(m))return this.dbl();if(this.neg().eq(m))return this.curve.point(null,null);if(0===this.x.cmp(m.x))return this.curve.point(null,null);var C=this.y.redSub(m.y);0!==C.cmpn(0)&&(C=C.redMul(this.x.redSub(m.x).redInvm()));var E=C.redSqr().redISub(this.x).redISub(m.x),v=C.redMul(this.x.redSub(E)).redISub(this.y);return this.curve.point(E,v)},b.prototype.dbl=function(){if(this.inf)return this;var m=this.y.redAdd(this.y);if(0===m.cmpn(0))return this.curve.point(null,null);var C=this.curve.a,E=this.x.redSqr(),v=m.redInvm(),D=E.redAdd(E).redIAdd(E).redIAdd(C).redMul(v),S=D.redSqr().redISub(this.x.redAdd(this.x)),R=D.redMul(this.x.redSub(S)).redISub(this.y);return this.curve.point(S,R)},b.prototype.getX=function(){return this.x.fromRed()},b.prototype.getY=function(){return this.y.fromRed()},b.prototype.mul=function(m){return m=new y(m,16),this.isInfinity()?this:this._hasDoubles(m)?this.curve._fixedNafMul(this,m):this.curve.endo?this.curve._endoWnafMulAdd([this],[m]):this.curve._wnafMul(this,m)},b.prototype.mulAdd=function(m,C,E){var v=[this,C],D=[m,E];return this.curve.endo?this.curve._endoWnafMulAdd(v,D):this.curve._wnafMulAdd(1,v,D,2)},b.prototype.jmulAdd=function(m,C,E){var v=[this,C],D=[m,E];return this.curve.endo?this.curve._endoWnafMulAdd(v,D,!0):this.curve._wnafMulAdd(1,v,D,2,!0)},b.prototype.eq=function(m){return this===m||this.inf===m.inf&&(this.inf||0===this.x.cmp(m.x)&&0===this.y.cmp(m.y))},b.prototype.neg=function(m){if(this.inf)return this;var C=this.curve.point(this.x,this.y.redNeg());if(m&&this.precomputed){var E=this.precomputed,v=function(D){return D.neg()};C.precomputed={naf:E.naf&&{wnd:E.naf.wnd,points:E.naf.points.map(v)},doubles:E.doubles&&{step:E.doubles.step,points:E.doubles.points.map(v)}}}return C},b.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},g(p,d.BasePoint),f.prototype.jpoint=function(m,C,E){return new p(this,m,C,E)},p.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var m=this.z.redInvm(),C=m.redSqr(),E=this.x.redMul(C),v=this.y.redMul(C).redMul(m);return this.curve.point(E,v)},p.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},p.prototype.add=function(m){if(this.isInfinity())return m;if(m.isInfinity())return this;var C=m.z.redSqr(),E=this.z.redSqr(),v=this.x.redMul(C),D=m.x.redMul(E),S=this.y.redMul(C.redMul(m.z)),R=m.y.redMul(E.redMul(this.z)),L=v.redSub(D),Z=S.redSub(R);if(0===L.cmpn(0))return 0!==Z.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var ee=L.redSqr(),ne=ee.redMul(L),J=v.redMul(ee),re=Z.redSqr().redIAdd(ne).redISub(J).redISub(J),oe=Z.redMul(J.redISub(re)).redISub(S.redMul(ne)),fe=this.z.redMul(m.z).redMul(L);return this.curve.jpoint(re,oe,fe)},p.prototype.mixedAdd=function(m){if(this.isInfinity())return m.toJ();if(m.isInfinity())return this;var C=this.z.redSqr(),E=this.x,v=m.x.redMul(C),D=this.y,S=m.y.redMul(C).redMul(this.z),R=E.redSub(v),L=D.redSub(S);if(0===R.cmpn(0))return 0!==L.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var Z=R.redSqr(),ee=Z.redMul(R),ne=E.redMul(Z),J=L.redSqr().redIAdd(ee).redISub(ne).redISub(ne),re=L.redMul(ne.redISub(J)).redISub(D.redMul(ee)),oe=this.z.redMul(R);return this.curve.jpoint(J,re,oe)},p.prototype.dblp=function(m){if(0===m)return this;if(this.isInfinity())return this;if(!m)return this.dbl();var C;if(this.curve.zeroA||this.curve.threeA){var E=this;for(C=0;C<m;C++)E=E.dbl();return E}var v=this.curve.a,D=this.curve.tinv,S=this.x,R=this.y,L=this.z,Z=L.redSqr().redSqr(),ee=R.redAdd(R);for(C=0;C<m;C++){var ne=S.redSqr(),J=ee.redSqr(),re=J.redSqr(),oe=ne.redAdd(ne).redIAdd(ne).redIAdd(v.redMul(Z)),fe=S.redMul(J),ae=oe.redSqr().redISub(fe.redAdd(fe)),$=fe.redISub(ae),W=oe.redMul($);W=W.redIAdd(W).redISub(re);var ie=ee.redMul(L);C+1<m&&(Z=Z.redMul(re)),S=ae,L=ie,ee=W}return this.curve.jpoint(S,ee.redMul(D),L)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},p.prototype._zeroDbl=function(){var m,C,E;if(this.zOne){var v=this.x.redSqr(),D=this.y.redSqr(),S=D.redSqr(),R=this.x.redAdd(D).redSqr().redISub(v).redISub(S);R=R.redIAdd(R);var L=v.redAdd(v).redIAdd(v),Z=L.redSqr().redISub(R).redISub(R),ee=S.redIAdd(S);ee=(ee=ee.redIAdd(ee)).redIAdd(ee),m=Z,C=L.redMul(R.redISub(Z)).redISub(ee),E=this.y.redAdd(this.y)}else{var ne=this.x.redSqr(),J=this.y.redSqr(),re=J.redSqr(),oe=this.x.redAdd(J).redSqr().redISub(ne).redISub(re);oe=oe.redIAdd(oe);var fe=ne.redAdd(ne).redIAdd(ne),ae=fe.redSqr(),$=re.redIAdd(re);$=($=$.redIAdd($)).redIAdd($),m=ae.redISub(oe).redISub(oe),C=fe.redMul(oe.redISub(m)).redISub($),E=(E=this.y.redMul(this.z)).redIAdd(E)}return this.curve.jpoint(m,C,E)},p.prototype._threeDbl=function(){var m,C,E;if(this.zOne){var v=this.x.redSqr(),D=this.y.redSqr(),S=D.redSqr(),R=this.x.redAdd(D).redSqr().redISub(v).redISub(S);R=R.redIAdd(R);var L=v.redAdd(v).redIAdd(v).redIAdd(this.curve.a),Z=L.redSqr().redISub(R).redISub(R);m=Z;var ee=S.redIAdd(S);ee=(ee=ee.redIAdd(ee)).redIAdd(ee),C=L.redMul(R.redISub(Z)).redISub(ee),E=this.y.redAdd(this.y)}else{var ne=this.z.redSqr(),J=this.y.redSqr(),re=this.x.redMul(J),oe=this.x.redSub(ne).redMul(this.x.redAdd(ne));oe=oe.redAdd(oe).redIAdd(oe);var fe=re.redIAdd(re),ae=(fe=fe.redIAdd(fe)).redAdd(fe);m=oe.redSqr().redISub(ae),E=this.y.redAdd(this.z).redSqr().redISub(J).redISub(ne);var $=J.redSqr();$=($=($=$.redIAdd($)).redIAdd($)).redIAdd($),C=oe.redMul(fe.redISub(m)).redISub($)}return this.curve.jpoint(m,C,E)},p.prototype._dbl=function(){var m=this.curve.a,C=this.x,E=this.y,v=this.z,D=v.redSqr().redSqr(),S=C.redSqr(),R=E.redSqr(),L=S.redAdd(S).redIAdd(S).redIAdd(m.redMul(D)),Z=C.redAdd(C),ee=(Z=Z.redIAdd(Z)).redMul(R),ne=L.redSqr().redISub(ee.redAdd(ee)),J=ee.redISub(ne),re=R.redSqr();re=(re=(re=re.redIAdd(re)).redIAdd(re)).redIAdd(re);var oe=L.redMul(J).redISub(re),fe=E.redAdd(E).redMul(v);return this.curve.jpoint(ne,oe,fe)},p.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var m=this.x.redSqr(),C=this.y.redSqr(),E=this.z.redSqr(),v=C.redSqr(),D=m.redAdd(m).redIAdd(m),S=D.redSqr(),R=this.x.redAdd(C).redSqr().redISub(m).redISub(v),L=(R=(R=(R=R.redIAdd(R)).redAdd(R).redIAdd(R)).redISub(S)).redSqr(),Z=v.redIAdd(v);Z=(Z=(Z=Z.redIAdd(Z)).redIAdd(Z)).redIAdd(Z);var ee=D.redIAdd(R).redSqr().redISub(S).redISub(L).redISub(Z),ne=C.redMul(ee);ne=(ne=ne.redIAdd(ne)).redIAdd(ne);var J=this.x.redMul(L).redISub(ne);J=(J=J.redIAdd(J)).redIAdd(J);var re=this.y.redMul(ee.redMul(Z.redISub(ee)).redISub(R.redMul(L)));re=(re=(re=re.redIAdd(re)).redIAdd(re)).redIAdd(re);var oe=this.z.redAdd(R).redSqr().redISub(E).redISub(L);return this.curve.jpoint(J,re,oe)},p.prototype.mul=function(m,C){return m=new y(m,C),this.curve._wnafMul(this,m)},p.prototype.eq=function(m){if("affine"===m.type)return this.eq(m.toJ());if(this===m)return!0;var C=this.z.redSqr(),E=m.z.redSqr();if(0!==this.x.redMul(E).redISub(m.x.redMul(C)).cmpn(0))return!1;var v=C.redMul(this.z),D=E.redMul(m.z);return 0===this.y.redMul(D).redISub(m.y.redMul(v)).cmpn(0)},p.prototype.eqXToP=function(m){var C=this.z.redSqr(),E=m.toRed(this.curve.red).redMul(C);if(0===this.x.cmp(E))return!0;for(var v=m.clone(),D=this.curve.redN.redMul(C);;){if(v.iadd(this.curve.n),v.cmp(this.curve.p)>=0)return!1;if(E.redIAdd(D),0===this.x.cmp(E))return!0}},p.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},p.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(_,z,B){"use strict";var A,y=B,g=_("hash.js"),d=_("./curve"),u=_("./utils").assert;function f(p){this.curve="short"===p.type?new d.short(p):"edwards"===p.type?new d.edwards(p):new d.mont(p),this.g=this.curve.g,this.n=this.curve.n,this.hash=p.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function b(p,m){Object.defineProperty(y,p,{configurable:!0,enumerable:!0,get:function(){var C=new f(m);return Object.defineProperty(y,p,{configurable:!0,enumerable:!0,value:C}),C}})}y.PresetCurve=f,b("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:g.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),b("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:g.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),b("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:g.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),b("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:g.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),b("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:g.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),b("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:g.sha256,gRed:!1,g:["9"]}),b("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:g.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{A=_("./precomputed/secp256k1")}catch{A=void 0}b("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:g.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",A]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(_,z,B){"use strict";var A=_("bn.js"),y=_("hmac-drbg"),g=_("../utils"),d=_("../curves"),u=_("brorand"),f=g.assert,b=_("./key"),p=_("./signature");function m(C){if(!(this instanceof m))return new m(C);"string"==typeof C&&(f(Object.prototype.hasOwnProperty.call(d,C),"Unknown curve "+C),C=d[C]),C instanceof d.PresetCurve&&(C={curve:C}),this.curve=C.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=C.curve.g,this.g.precompute(C.curve.n.bitLength()+1),this.hash=C.hash||C.curve.hash}z.exports=m,m.prototype.keyPair=function(C){return new b(this,C)},m.prototype.keyFromPrivate=function(C,E){return b.fromPrivate(this,C,E)},m.prototype.keyFromPublic=function(C,E){return b.fromPublic(this,C,E)},m.prototype.genKeyPair=function(C){C||(C={});for(var E=new y({hash:this.hash,pers:C.pers,persEnc:C.persEnc||"utf8",entropy:C.entropy||u(this.hash.hmacStrength),entropyEnc:C.entropy&&C.entropyEnc||"utf8",nonce:this.n.toArray()}),v=this.n.byteLength(),D=this.n.sub(new A(2));;){var S=new A(E.generate(v));if(!(S.cmp(D)>0))return S.iaddn(1),this.keyFromPrivate(S)}},m.prototype._truncateToN=function(C,E){var v=8*C.byteLength()-this.n.bitLength();return v>0&&(C=C.ushrn(v)),!E&&C.cmp(this.n)>=0?C.sub(this.n):C},m.prototype.sign=function(C,E,v,D){"object"==typeof v&&(D=v,v=null),D||(D={}),E=this.keyFromPrivate(E,v),C=this._truncateToN(new A(C,16));for(var S=this.n.byteLength(),R=E.getPrivate().toArray("be",S),L=C.toArray("be",S),Z=new y({hash:this.hash,entropy:R,nonce:L,pers:D.pers,persEnc:D.persEnc||"utf8"}),ee=this.n.sub(new A(1)),ne=0;;ne++){var J=D.k?D.k(ne):new A(Z.generate(this.n.byteLength()));if(!((J=this._truncateToN(J,!0)).cmpn(1)<=0||J.cmp(ee)>=0)){var re=this.g.mul(J);if(!re.isInfinity()){var oe=re.getX(),fe=oe.umod(this.n);if(0!==fe.cmpn(0)){var ae=J.invm(this.n).mul(fe.mul(E.getPrivate()).iadd(C));if(0!==(ae=ae.umod(this.n)).cmpn(0)){var $=(re.getY().isOdd()?1:0)|(0!==oe.cmp(fe)?2:0);return D.canonical&&ae.cmp(this.nh)>0&&(ae=this.n.sub(ae),$^=1),new p({r:fe,s:ae,recoveryParam:$})}}}}}},m.prototype.verify=function(C,E,v,D){C=this._truncateToN(new A(C,16)),v=this.keyFromPublic(v,D);var S=(E=new p(E,"hex")).r,R=E.s;if(S.cmpn(1)<0||S.cmp(this.n)>=0||R.cmpn(1)<0||R.cmp(this.n)>=0)return!1;var L,Z=R.invm(this.n),ee=Z.mul(C).umod(this.n),ne=Z.mul(S).umod(this.n);return this.curve._maxwellTrick?!(L=this.g.jmulAdd(ee,v.getPublic(),ne)).isInfinity()&&L.eqXToP(S):!(L=this.g.mulAdd(ee,v.getPublic(),ne)).isInfinity()&&0===L.getX().umod(this.n).cmp(S)},m.prototype.recoverPubKey=function(C,E,v,D){f((3&v)===v,"The recovery param is more than two bits"),E=new p(E,D);var S=this.n,R=new A(C),L=E.r,Z=E.s,ee=1&v,ne=v>>1;if(L.cmp(this.curve.p.umod(this.curve.n))>=0&&ne)throw new Error("Unable to find sencond key candinate");L=this.curve.pointFromX(ne?L.add(this.curve.n):L,ee);var J=E.r.invm(S),re=S.sub(R).mul(J).umod(S),oe=Z.mul(J).umod(S);return this.g.mulAdd(re,L,oe)},m.prototype.getKeyRecoveryParam=function(C,E,v,D){if(null!==(E=new p(E,D)).recoveryParam)return E.recoveryParam;for(var S=0;S<4;S++){var R;try{R=this.recoverPubKey(C,E,S)}catch{continue}if(R.eq(v))return S}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(_,z,B){"use strict";var A=_("bn.js"),y=_("../utils").assert;function g(d,u){this.ec=d,this.priv=null,this.pub=null,u.priv&&this._importPrivate(u.priv,u.privEnc),u.pub&&this._importPublic(u.pub,u.pubEnc)}z.exports=g,g.fromPublic=function(d,u,f){return u instanceof g?u:new g(d,{pub:u,pubEnc:f})},g.fromPrivate=function(d,u,f){return u instanceof g?u:new g(d,{priv:u,privEnc:f})},g.prototype.validate=function(){var d=this.getPublic();return d.isInfinity()?{result:!1,reason:"Invalid public key"}:d.validate()?d.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},g.prototype.getPublic=function(d,u){return"string"==typeof d&&(u=d,d=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),u?this.pub.encode(u,d):this.pub},g.prototype.getPrivate=function(d){return"hex"===d?this.priv.toString(16,2):this.priv},g.prototype._importPrivate=function(d,u){this.priv=new A(d,u||16),this.priv=this.priv.umod(this.ec.curve.n)},g.prototype._importPublic=function(d,u){if(d.x||d.y)return"mont"===this.ec.curve.type?y(d.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||y(d.x&&d.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(d.x,d.y));this.pub=this.ec.curve.decodePoint(d,u)},g.prototype.derive=function(d){return d.validate()||y(d.validate(),"public point not validated"),d.mul(this.priv).getX()},g.prototype.sign=function(d,u,f){return this.ec.sign(d,this,u,f)},g.prototype.verify=function(d,u){return this.ec.verify(d,u,this)},g.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(_,z,B){"use strict";var A=_("bn.js"),y=_("../utils"),g=y.assert;function d(m,C){if(m instanceof d)return m;this._importDER(m,C)||(g(m.r&&m.s,"Signature without r or s"),this.r=new A(m.r,16),this.s=new A(m.s,16),this.recoveryParam=void 0===m.recoveryParam?null:m.recoveryParam)}function u(){this.place=0}function f(m,C){var E=m[C.place++];if(!(128&E))return E;var v=15&E;if(0===v||v>4)return!1;for(var D=0,S=0,R=C.place;S<v;S++,R++)D<<=8,D|=m[R],D>>>=0;return!(D<=127)&&(C.place=R,D)}function b(m){for(var C=0,E=m.length-1;!m[C]&&!(128&m[C+1])&&C<E;)C++;return 0===C?m:m.slice(C)}function p(m,C){if(C<128)m.push(C);else{var E=1+(Math.log(C)/Math.LN2>>>3);for(m.push(128|E);--E;)m.push(C>>>(E<<3)&255);m.push(C)}}z.exports=d,d.prototype._importDER=function(m,C){m=y.toArray(m,C);var E=new u;if(48!==m[E.place++])return!1;var v=f(m,E);if(!1===v||v+E.place!==m.length||2!==m[E.place++])return!1;var D=f(m,E);if(!1===D)return!1;var S=m.slice(E.place,D+E.place);if(E.place+=D,2!==m[E.place++])return!1;var R=f(m,E);if(!1===R||m.length!==R+E.place)return!1;var L=m.slice(E.place,R+E.place);if(0===S[0]){if(!(128&S[1]))return!1;S=S.slice(1)}if(0===L[0]){if(!(128&L[1]))return!1;L=L.slice(1)}return this.r=new A(S),this.s=new A(L),this.recoveryParam=null,!0},d.prototype.toDER=function(m){var C=this.r.toArray(),E=this.s.toArray();for(128&C[0]&&(C=[0].concat(C)),128&E[0]&&(E=[0].concat(E)),C=b(C),E=b(E);!(E[0]||128&E[1]);)E=E.slice(1);var v=[2];p(v,C.length),(v=v.concat(C)).push(2),p(v,E.length);var D=v.concat(E),S=[48];return p(S,D.length),S=S.concat(D),y.encode(S,m)}},{"../utils":419,"bn.js":420}],415:[function(_,z,B){"use strict";var A=_("hash.js"),y=_("../curves"),g=_("../utils"),d=g.assert,u=g.parseBytes,f=_("./key"),b=_("./signature");function p(m){if(d("ed25519"===m,"only tested with ed25519 so far"),!(this instanceof p))return new p(m);this.curve=m=y[m].curve,this.g=m.g,this.g.precompute(m.n.bitLength()+1),this.pointClass=m.point().constructor,this.encodingLength=Math.ceil(m.n.bitLength()/8),this.hash=A.sha512}z.exports=p,p.prototype.sign=function(m,C){m=u(m);var E=this.keyFromSecret(C),v=this.hashInt(E.messagePrefix(),m),D=this.g.mul(v),S=this.encodePoint(D),R=this.hashInt(S,E.pubBytes(),m).mul(E.priv()),L=v.add(R).umod(this.curve.n);return this.makeSignature({R:D,S:L,Rencoded:S})},p.prototype.verify=function(m,C,E){m=u(m),C=this.makeSignature(C);var v=this.keyFromPublic(E),D=this.hashInt(C.Rencoded(),v.pubBytes(),m),S=this.g.mul(C.S());return C.R().add(v.pub().mul(D)).eq(S)},p.prototype.hashInt=function(){for(var m=this.hash(),C=0;C<arguments.length;C++)m.update(arguments[C]);return g.intFromLE(m.digest()).umod(this.curve.n)},p.prototype.keyFromPublic=function(m){return f.fromPublic(this,m)},p.prototype.keyFromSecret=function(m){return f.fromSecret(this,m)},p.prototype.makeSignature=function(m){return m instanceof b?m:new b(this,m)},p.prototype.encodePoint=function(m){var C=m.getY().toArray("le",this.encodingLength);return C[this.encodingLength-1]|=m.getX().isOdd()?128:0,C},p.prototype.decodePoint=function(m){var C=(m=g.parseBytes(m)).length-1,E=m.slice(0,C).concat(-129&m[C]),v=0!=(128&m[C]),D=g.intFromLE(E);return this.curve.pointFromY(D,v)},p.prototype.encodeInt=function(m){return m.toArray("le",this.encodingLength)},p.prototype.decodeInt=function(m){return g.intFromLE(m)},p.prototype.isPoint=function(m){return m instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(_,z,B){"use strict";var A=_("../utils"),y=A.assert,g=A.parseBytes,d=A.cachedProperty;function u(f,b){this.eddsa=f,this._secret=g(b.secret),f.isPoint(b.pub)?this._pub=b.pub:this._pubBytes=g(b.pub)}u.fromPublic=function(f,b){return b instanceof u?b:new u(f,{pub:b})},u.fromSecret=function(f,b){return b instanceof u?b:new u(f,{secret:b})},u.prototype.secret=function(){return this._secret},d(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),d(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),d(u,"privBytes",function(){var f=this.eddsa,b=this.hash(),p=f.encodingLength-1,m=b.slice(0,f.encodingLength);return m[0]&=248,m[p]&=127,m[p]|=64,m}),d(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),d(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),d(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(f){return y(this._secret,"KeyPair can only verify"),this.eddsa.sign(f,this)},u.prototype.verify=function(f,b){return this.eddsa.verify(f,b,this)},u.prototype.getSecret=function(f){return y(this._secret,"KeyPair is public only"),A.encode(this.secret(),f)},u.prototype.getPublic=function(f){return A.encode(this.pubBytes(),f)},z.exports=u},{"../utils":419}],417:[function(_,z,B){"use strict";var A=_("bn.js"),y=_("../utils"),g=y.assert,d=y.cachedProperty,u=y.parseBytes;function f(b,p){this.eddsa=b,"object"!=typeof p&&(p=u(p)),Array.isArray(p)&&(p={R:p.slice(0,b.encodingLength),S:p.slice(b.encodingLength)}),g(p.R&&p.S,"Signature without R or S"),b.isPoint(p.R)&&(this._R=p.R),p.S instanceof A&&(this._S=p.S),this._Rencoded=Array.isArray(p.R)?p.R:p.Rencoded,this._Sencoded=Array.isArray(p.S)?p.S:p.Sencoded}d(f,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),d(f,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),d(f,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),d(f,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),f.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},f.prototype.toHex=function(){return y.encode(this.toBytes(),"hex").toUpperCase()},z.exports=f},{"../utils":419,"bn.js":420}],418:[function(_,z,B){"use strict";z.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(_,z,B){"use strict";var A=B,y=_("bn.js"),g=_("minimalistic-assert"),d=_("minimalistic-crypto-utils");A.assert=g,A.toArray=d.toArray,A.zero2=d.zero2,A.toHex=d.toHex,A.encode=d.encode,A.getNAF=function(u,f,b){var p=new Array(Math.max(u.bitLength(),b)+1);p.fill(0);for(var m=1<<f+1,C=u.clone(),E=0;E<p.length;E++){var v,D=C.andln(m-1);C.isOdd()?C.isubn(v=D>(m>>1)-1?(m>>1)-D:D):v=0,p[E]=v,C.iushrn(1)}return p},A.getJSF=function(u,f){var b=[[],[]];u=u.clone(),f=f.clone();for(var p,m=0,C=0;u.cmpn(-m)>0||f.cmpn(-C)>0;){var E,v,D=u.andln(3)+m&3,S=f.andln(3)+C&3;3===D&&(D=-1),3===S&&(S=-1),E=1&D?3!=(p=u.andln(7)+m&7)&&5!==p||2!==S?D:-D:0,b[0].push(E),v=1&S?3!=(p=f.andln(7)+C&7)&&5!==p||2!==D?S:-S:0,b[1].push(v),2*m===E+1&&(m=1-m),2*C===v+1&&(C=1-C),u.iushrn(1),f.iushrn(1)}return b},A.cachedProperty=function(u,f,b){var p="_"+f;u.prototype[f]=function(){return void 0!==this[p]?this[p]:this[p]=b.call(this)}},A.parseBytes=function(u){return"string"==typeof u?A.toArray(u,"hex"):u},A.intFromLE=function(u){return new y(u,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(_,z,B){arguments[4][184][0].apply(B,arguments)},{buffer:188,dup:184}],421:[function(_,z,B){z.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(_,z,B){"use strict";var A=Object.create||function(J){var re=function(){};return re.prototype=J,new re},y=Object.keys||function(J){var re=[];for(var oe in J)Object.prototype.hasOwnProperty.call(J,oe)&&re.push(oe);return oe},g=Function.prototype.bind||function(J){var re=this;return function(){return re.apply(J,arguments)}};function d(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=A(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}z.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0;var u,f=10;try{var b={};Object.defineProperty&&Object.defineProperty(b,"x",{value:0}),u=0===b.x}catch{u=!1}function p(J){return void 0===J._maxListeners?d.defaultMaxListeners:J._maxListeners}function S(J,re,oe,fe){var ae,$,W;if("function"!=typeof oe)throw new TypeError('"listener" argument must be a function');if(($=J._events)?($.newListener&&(J.emit("newListener",re,oe.listener?oe.listener:oe),$=J._events),W=$[re]):($=J._events=A(null),J._eventsCount=0),W){if("function"==typeof W?W=$[re]=fe?[oe,W]:[W,oe]:fe?W.unshift(oe):W.push(oe),!W.warned&&(ae=p(J))&&ae>0&&W.length>ae){W.warned=!0;var ie=new Error("Possible EventEmitter memory leak detected. "+W.length+' "'+String(re)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');ie.name="MaxListenersExceededWarning",ie.emitter=J,ie.type=re,ie.count=W.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",ie.name,ie.message)}}else W=$[re]=oe,++J._eventsCount;return J}function R(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var J=new Array(arguments.length),re=0;re<J.length;++re)J[re]=arguments[re];this.listener.apply(this.target,J)}}function L(J,re,oe){var fe={fired:!1,wrapFn:void 0,target:J,type:re,listener:oe},ae=g.call(R,fe);return ae.listener=oe,fe.wrapFn=ae,ae}function Z(J,re,oe){var fe=J._events;if(!fe)return[];var ae=fe[re];return ae?"function"==typeof ae?oe?[ae.listener||ae]:[ae]:oe?function($){for(var W=new Array($.length),ie=0;ie<W.length;++ie)W[ie]=$[ie].listener||$[ie];return W}(ae):ne(ae,ae.length):[]}function ee(J){var re=this._events;if(re){var oe=re[J];if("function"==typeof oe)return 1;if(oe)return oe.length}return 0}function ne(J,re){for(var oe=new Array(re),fe=0;fe<re;++fe)oe[fe]=J[fe];return oe}u?Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(J){if("number"!=typeof J||J<0||J!=J)throw new TypeError('"defaultMaxListeners" must be a positive number');f=J}}):d.defaultMaxListeners=f,d.prototype.setMaxListeners=function(J){if("number"!=typeof J||J<0||isNaN(J))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=J,this},d.prototype.getMaxListeners=function(){return p(this)},d.prototype.emit=function(J){var re,oe,fe,ae,$,W,ie="error"===J;if(W=this._events)ie=ie&&null==W.error;else if(!ie)return!1;if(ie){if(arguments.length>1&&(re=arguments[1]),re instanceof Error)throw re;var T=new Error('Unhandled "error" event. ('+re+")");throw T.context=re,T}if(!(oe=W[J]))return!1;var I="function"==typeof oe;switch(fe=arguments.length){case 1:!function m(J,re,oe){if(re)J.call(oe);else for(var fe=J.length,ae=ne(J,fe),$=0;$<fe;++$)ae[$].call(oe)}(oe,I,this);break;case 2:!function C(J,re,oe,fe){if(re)J.call(oe,fe);else for(var ae=J.length,$=ne(J,ae),W=0;W<ae;++W)$[W].call(oe,fe)}(oe,I,this,arguments[1]);break;case 3:!function E(J,re,oe,fe,ae){if(re)J.call(oe,fe,ae);else for(var $=J.length,W=ne(J,$),ie=0;ie<$;++ie)W[ie].call(oe,fe,ae)}(oe,I,this,arguments[1],arguments[2]);break;case 4:!function v(J,re,oe,fe,ae,$){if(re)J.call(oe,fe,ae,$);else for(var W=J.length,ie=ne(J,W),T=0;T<W;++T)ie[T].call(oe,fe,ae,$)}(oe,I,this,arguments[1],arguments[2],arguments[3]);break;default:for(ae=new Array(fe-1),$=1;$<fe;$++)ae[$-1]=arguments[$];!function D(J,re,oe,fe){if(re)J.apply(oe,fe);else for(var ae=J.length,$=ne(J,ae),W=0;W<ae;++W)$[W].apply(oe,fe)}(oe,I,this,ae)}return!0},d.prototype.on=d.prototype.addListener=function(J,re){return S(this,J,re,!1)},d.prototype.prependListener=function(J,re){return S(this,J,re,!0)},d.prototype.once=function(J,re){if("function"!=typeof re)throw new TypeError('"listener" argument must be a function');return this.on(J,L(this,J,re)),this},d.prototype.prependOnceListener=function(J,re){if("function"!=typeof re)throw new TypeError('"listener" argument must be a function');return this.prependListener(J,L(this,J,re)),this},d.prototype.removeListener=function(J,re){var oe,fe,ae,$,W;if("function"!=typeof re)throw new TypeError('"listener" argument must be a function');if(!(fe=this._events))return this;if(!(oe=fe[J]))return this;if(oe===re||oe.listener===re)0==--this._eventsCount?this._events=A(null):(delete fe[J],fe.removeListener&&this.emit("removeListener",J,oe.listener||re));else if("function"!=typeof oe){for(ae=-1,$=oe.length-1;$>=0;$--)if(oe[$]===re||oe[$].listener===re){W=oe[$].listener,ae=$;break}if(ae<0)return this;0===ae?oe.shift():function(ie,T){for(var I=T,k=I+1,N=ie.length;k<N;I+=1,k+=1)ie[I]=ie[k];ie.pop()}(oe,ae),1===oe.length&&(fe[J]=oe[0]),fe.removeListener&&this.emit("removeListener",J,W||re)}return this},d.prototype.removeAllListeners=function(J){var re,oe,fe;if(!(oe=this._events))return this;if(!oe.removeListener)return 0===arguments.length?(this._events=A(null),this._eventsCount=0):oe[J]&&(0==--this._eventsCount?this._events=A(null):delete oe[J]),this;if(0===arguments.length){var ae,$=y(oe);for(fe=0;fe<$.length;++fe)"removeListener"!==(ae=$[fe])&&this.removeAllListeners(ae);return this.removeAllListeners("removeListener"),this._events=A(null),this._eventsCount=0,this}if("function"==typeof(re=oe[J]))this.removeListener(J,re);else if(re)for(fe=re.length-1;fe>=0;fe--)this.removeListener(J,re[fe]);return this},d.prototype.listeners=function(J){return Z(this,J,!0)},d.prototype.rawListeners=function(J){return Z(this,J,!1)},d.listenerCount=function(J,re){return"function"==typeof J.listenerCount?J.listenerCount(re):ee.call(J,re)},d.prototype.listenerCount=ee,d.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer,y=_("md5.js");z.exports=function(g,d,u,f){if(A.isBuffer(g)||(g=A.from(g,"binary")),d&&(A.isBuffer(d)||(d=A.from(d,"binary")),8!==d.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var b=u/8,p=A.alloc(b),m=A.alloc(f||0),C=A.alloc(0);b>0||f>0;){var E=new y;E.update(C),E.update(g),d&&E.update(d),C=E.digest();var v=0;if(b>0){var D=p.length-b;v=Math.min(b,C.length),C.copy(p,D,0,v),b-=v}if(v<C.length&&f>0){var S=m.length-f,R=Math.min(f,C.length-v);C.copy(m,S,v,v+R),f-=R}}return C.fill(0),{key:p,iv:m}}},{"md5.js":450,"safe-buffer":494}],424:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.CsvParserStream=B.ParserOptions=B.parseFile=B.parseStream=B.parseString=B.parse=B.FormatterOptions=B.CsvFormatterStream=B.writeToPath=B.writeToString=B.writeToBuffer=B.writeToStream=B.write=B.format=void 0;var A=_("@fast-csv/format");Object.defineProperty(B,"format",{enumerable:!0,get:function(){return A.format}}),Object.defineProperty(B,"write",{enumerable:!0,get:function(){return A.write}}),Object.defineProperty(B,"writeToStream",{enumerable:!0,get:function(){return A.writeToStream}}),Object.defineProperty(B,"writeToBuffer",{enumerable:!0,get:function(){return A.writeToBuffer}}),Object.defineProperty(B,"writeToString",{enumerable:!0,get:function(){return A.writeToString}}),Object.defineProperty(B,"writeToPath",{enumerable:!0,get:function(){return A.writeToPath}}),Object.defineProperty(B,"CsvFormatterStream",{enumerable:!0,get:function(){return A.CsvFormatterStream}}),Object.defineProperty(B,"FormatterOptions",{enumerable:!0,get:function(){return A.FormatterOptions}});var y=_("@fast-csv/parse");Object.defineProperty(B,"parse",{enumerable:!0,get:function(){return y.parse}}),Object.defineProperty(B,"parseString",{enumerable:!0,get:function(){return y.parseString}}),Object.defineProperty(B,"parseStream",{enumerable:!0,get:function(){return y.parseStream}}),Object.defineProperty(B,"parseFile",{enumerable:!0,get:function(){return y.parseFile}}),Object.defineProperty(B,"ParserOptions",{enumerable:!0,get:function(){return y.ParserOptions}}),Object.defineProperty(B,"CsvParserStream",{enumerable:!0,get:function(){return y.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer,y=_("readable-stream").Transform;function g(d){y.call(this),this._block=A.allocUnsafe(d),this._blockSize=d,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}_("inherits")(g,y),g.prototype._transform=function(d,u,f){var b=null;try{this.update(d,u)}catch(p){b=p}f(b)},g.prototype._flush=function(d){var u=null;try{this.push(this.digest())}catch(f){u=f}d(u)},g.prototype.update=function(d,u){if(function(E,v){if(!A.isBuffer(E)&&"string"!=typeof E)throw new TypeError("Data must be a string or a buffer")}(d),this._finalized)throw new Error("Digest already called");A.isBuffer(d)||(d=A.from(d,u));for(var f=this._block,b=0;this._blockOffset+d.length-b>=this._blockSize;){for(var p=this._blockOffset;p<this._blockSize;)f[p++]=d[b++];this._update(),this._blockOffset=0}for(;b<d.length;)f[this._blockOffset++]=d[b++];for(var m=0,C=8*d.length;C>0;++m)this._length[m]+=C,(C=this._length[m]/4294967296|0)>0&&(this._length[m]-=4294967296*C);return this},g.prototype._update=function(){throw new Error("_update is not implemented")},g.prototype.digest=function(d){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();void 0!==d&&(u=u.toString(d)),this._block.fill(0),this._blockOffset=0;for(var f=0;f<4;++f)this._length[f]=0;return u},g.prototype._digest=function(){throw new Error("_digest is not implemented")},z.exports=g},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(_,z,B){"use strict";var A=B;A.utils=_("./hash/utils"),A.common=_("./hash/common"),A.sha=_("./hash/sha"),A.ripemd=_("./hash/ripemd"),A.hmac=_("./hash/hmac"),A.sha1=A.sha.sha1,A.sha256=A.sha.sha256,A.sha224=A.sha.sha224,A.sha384=A.sha.sha384,A.sha512=A.sha.sha512,A.ripemd160=A.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(_,z,B){"use strict";var A=_("./utils"),y=_("minimalistic-assert");function g(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}B.BlockHash=g,g.prototype.update=function(d,u){if(d=A.toArray(d,u),this.pending=this.pending?this.pending.concat(d):d,this.pendingTotal+=d.length,this.pending.length>=this._delta8){var f=(d=this.pending).length%this._delta8;this.pending=d.slice(d.length-f,d.length),0===this.pending.length&&(this.pending=null),d=A.join32(d,0,d.length-f,this.endian);for(var b=0;b<d.length;b+=this._delta32)this._update(d,b,b+this._delta32)}return this},g.prototype.digest=function(d){return this.update(this._pad()),y(null===this.pending),this._digest(d)},g.prototype._pad=function(){var d=this.pendingTotal,u=this._delta8,f=u-(d+this.padLength)%u,b=new Array(f+this.padLength);b[0]=128;for(var p=1;p<f;p++)b[p]=0;if(d<<=3,"big"===this.endian){for(var m=8;m<this.padLength;m++)b[p++]=0;b[p++]=0,b[p++]=0,b[p++]=0,b[p++]=0,b[p++]=d>>>24&255,b[p++]=d>>>16&255,b[p++]=d>>>8&255,b[p++]=255&d}else for(b[p++]=255&d,b[p++]=d>>>8&255,b[p++]=d>>>16&255,b[p++]=d>>>24&255,b[p++]=0,b[p++]=0,b[p++]=0,b[p++]=0,m=8;m<this.padLength;m++)b[p++]=0;return b}},{"./utils":437,"minimalistic-assert":453}],428:[function(_,z,B){"use strict";var A=_("./utils"),y=_("minimalistic-assert");function g(d,u,f){if(!(this instanceof g))return new g(d,u,f);this.Hash=d,this.blockSize=d.blockSize/8,this.outSize=d.outSize/8,this.inner=null,this.outer=null,this._init(A.toArray(u,f))}z.exports=g,g.prototype._init=function(d){d.length>this.blockSize&&(d=(new this.Hash).update(d).digest()),y(d.length<=this.blockSize);for(var u=d.length;u<this.blockSize;u++)d.push(0);for(u=0;u<d.length;u++)d[u]^=54;for(this.inner=(new this.Hash).update(d),u=0;u<d.length;u++)d[u]^=106;this.outer=(new this.Hash).update(d)},g.prototype.update=function(d,u){return this.inner.update(d,u),this},g.prototype.digest=function(d){return this.outer.update(this.inner.digest()),this.outer.digest(d)}},{"./utils":437,"minimalistic-assert":453}],429:[function(_,z,B){"use strict";var A=_("./utils"),y=_("./common"),g=A.rotl32,d=A.sum32,u=A.sum32_3,f=A.sum32_4,b=y.BlockHash;function p(){if(!(this instanceof p))return new p;b.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function m(L,Z,ee,ne){return L<=15?Z^ee^ne:L<=31?Z&ee|~Z&ne:L<=47?(Z|~ee)^ne:L<=63?Z&ne|ee&~ne:Z^(ee|~ne)}function C(L){return L<=15?0:L<=31?1518500249:L<=47?1859775393:L<=63?2400959708:2840853838}function E(L){return L<=15?1352829926:L<=31?1548603684:L<=47?1836072691:L<=63?2053994217:0}A.inherits(p,b),B.ripemd160=p,p.blockSize=512,p.outSize=160,p.hmacStrength=192,p.padLength=64,p.prototype._update=function(L,Z){for(var ee=this.h[0],ne=this.h[1],J=this.h[2],re=this.h[3],oe=this.h[4],fe=ee,ae=ne,$=J,W=re,ie=oe,T=0;T<80;T++){var I=d(g(f(ee,m(T,ne,J,re),L[v[T]+Z],C(T)),S[T]),oe);ee=oe,oe=re,re=g(J,10),J=ne,ne=I,I=d(g(f(fe,m(79-T,ae,$,W),L[D[T]+Z],E(T)),R[T]),ie),fe=ie,ie=W,W=g($,10),$=ae,ae=I}I=u(this.h[1],J,W),this.h[1]=u(this.h[2],re,ie),this.h[2]=u(this.h[3],oe,fe),this.h[3]=u(this.h[4],ee,ae),this.h[4]=u(this.h[0],ne,$),this.h[0]=I},p.prototype._digest=function(L){return"hex"===L?A.toHex32(this.h,"little"):A.split32(this.h,"little")};var v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],D=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],S=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],R=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(_,z,B){"use strict";B.sha1=_("./sha/1"),B.sha224=_("./sha/224"),B.sha256=_("./sha/256"),B.sha384=_("./sha/384"),B.sha512=_("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(_,z,B){"use strict";var A=_("../utils"),y=_("../common"),g=_("./common"),d=A.rotl32,u=A.sum32,f=A.sum32_5,b=g.ft_1,p=y.BlockHash,m=[1518500249,1859775393,2400959708,3395469782];function C(){if(!(this instanceof C))return new C;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}A.inherits(C,p),z.exports=C,C.blockSize=512,C.outSize=160,C.hmacStrength=80,C.padLength=64,C.prototype._update=function(E,v){for(var D=this.W,S=0;S<16;S++)D[S]=E[v+S];for(;S<D.length;S++)D[S]=d(D[S-3]^D[S-8]^D[S-14]^D[S-16],1);var R=this.h[0],L=this.h[1],Z=this.h[2],ee=this.h[3],ne=this.h[4];for(S=0;S<D.length;S++){var J=~~(S/20),re=f(d(R,5),b(J,L,Z,ee),ne,D[S],m[J]);ne=ee,ee=Z,Z=d(L,30),L=R,R=re}this.h[0]=u(this.h[0],R),this.h[1]=u(this.h[1],L),this.h[2]=u(this.h[2],Z),this.h[3]=u(this.h[3],ee),this.h[4]=u(this.h[4],ne)},C.prototype._digest=function(E){return"hex"===E?A.toHex32(this.h,"big"):A.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(_,z,B){"use strict";var A=_("../utils"),y=_("./256");function g(){if(!(this instanceof g))return new g;y.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}A.inherits(g,y),z.exports=g,g.blockSize=512,g.outSize=224,g.hmacStrength=192,g.padLength=64,g.prototype._digest=function(d){return"hex"===d?A.toHex32(this.h.slice(0,7),"big"):A.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(_,z,B){"use strict";var A=_("../utils"),y=_("../common"),g=_("./common"),d=_("minimalistic-assert"),u=A.sum32,f=A.sum32_4,b=A.sum32_5,p=g.ch32,m=g.maj32,C=g.s0_256,E=g.s1_256,v=g.g0_256,D=g.g1_256,S=y.BlockHash,R=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function L(){if(!(this instanceof L))return new L;S.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=R,this.W=new Array(64)}A.inherits(L,S),z.exports=L,L.blockSize=512,L.outSize=256,L.hmacStrength=192,L.padLength=64,L.prototype._update=function(Z,ee){for(var ne=this.W,J=0;J<16;J++)ne[J]=Z[ee+J];for(;J<ne.length;J++)ne[J]=f(D(ne[J-2]),ne[J-7],v(ne[J-15]),ne[J-16]);var re=this.h[0],oe=this.h[1],fe=this.h[2],ae=this.h[3],$=this.h[4],W=this.h[5],ie=this.h[6],T=this.h[7];for(d(this.k.length===ne.length),J=0;J<ne.length;J++){var I=b(T,E($),p($,W,ie),this.k[J],ne[J]),k=u(C(re),m(re,oe,fe));T=ie,ie=W,W=$,$=u(ae,I),ae=fe,fe=oe,oe=re,re=u(I,k)}this.h[0]=u(this.h[0],re),this.h[1]=u(this.h[1],oe),this.h[2]=u(this.h[2],fe),this.h[3]=u(this.h[3],ae),this.h[4]=u(this.h[4],$),this.h[5]=u(this.h[5],W),this.h[6]=u(this.h[6],ie),this.h[7]=u(this.h[7],T)},L.prototype._digest=function(Z){return"hex"===Z?A.toHex32(this.h,"big"):A.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(_,z,B){"use strict";var A=_("../utils"),y=_("./512");function g(){if(!(this instanceof g))return new g;y.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}A.inherits(g,y),z.exports=g,g.blockSize=1024,g.outSize=384,g.hmacStrength=192,g.padLength=128,g.prototype._digest=function(d){return"hex"===d?A.toHex32(this.h.slice(0,12),"big"):A.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(_,z,B){"use strict";var A=_("../utils"),y=_("../common"),g=_("minimalistic-assert"),d=A.rotr64_hi,u=A.rotr64_lo,f=A.shr64_hi,b=A.shr64_lo,p=A.sum64,m=A.sum64_hi,C=A.sum64_lo,E=A.sum64_4_hi,v=A.sum64_4_lo,D=A.sum64_5_hi,S=A.sum64_5_lo,R=y.BlockHash,L=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(){if(!(this instanceof Z))return new Z;R.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=L,this.W=new Array(160)}function ee(k,N,P,U,Y){var ce=k&P^~k&Y;return ce<0&&(ce+=4294967296),ce}function ne(k,N,P,U,Y,ce){var he=N&U^~N&ce;return he<0&&(he+=4294967296),he}function J(k,N,P,U,Y){var ce=k&P^k&Y^P&Y;return ce<0&&(ce+=4294967296),ce}function re(k,N,P,U,Y,ce){var he=N&U^N&ce^U&ce;return he<0&&(he+=4294967296),he}function oe(k,N){var P=d(k,N,28)^d(N,k,2)^d(N,k,7);return P<0&&(P+=4294967296),P}function fe(k,N){var P=u(k,N,28)^u(N,k,2)^u(N,k,7);return P<0&&(P+=4294967296),P}function ae(k,N){var P=d(k,N,14)^d(k,N,18)^d(N,k,9);return P<0&&(P+=4294967296),P}function $(k,N){var P=u(k,N,14)^u(k,N,18)^u(N,k,9);return P<0&&(P+=4294967296),P}function W(k,N){var P=d(k,N,1)^d(k,N,8)^f(k,N,7);return P<0&&(P+=4294967296),P}function ie(k,N){var P=u(k,N,1)^u(k,N,8)^b(k,N,7);return P<0&&(P+=4294967296),P}function T(k,N){var P=d(k,N,19)^d(N,k,29)^f(k,N,6);return P<0&&(P+=4294967296),P}function I(k,N){var P=u(k,N,19)^u(N,k,29)^b(k,N,6);return P<0&&(P+=4294967296),P}A.inherits(Z,R),z.exports=Z,Z.blockSize=1024,Z.outSize=512,Z.hmacStrength=192,Z.padLength=128,Z.prototype._prepareBlock=function(k,N){for(var P=this.W,U=0;U<32;U++)P[U]=k[N+U];for(;U<P.length;U+=2){var Y=T(P[U-4],P[U-3]),ce=I(P[U-4],P[U-3]),he=P[U-14],be=P[U-13],K=W(P[U-30],P[U-29]),_e=ie(P[U-30],P[U-29]),q=P[U-32],G=P[U-31];P[U]=E(Y,ce,he,be,K,_e,q,G),P[U+1]=v(Y,ce,he,be,K,_e,q,G)}},Z.prototype._update=function(k,N){this._prepareBlock(k,N);var P=this.W,U=this.h[0],Y=this.h[1],ce=this.h[2],he=this.h[3],be=this.h[4],K=this.h[5],_e=this.h[6],q=this.h[7],G=this.h[8],ue=this.h[9],Te=this.h[10],Me=this.h[11],Ee=this.h[12],ke=this.h[13],We=this.h[14],Ve=this.h[15];g(this.k.length===P.length);for(var Se=0;Se<P.length;Se+=2){var qe=We,ze=Ve,Ye=ae(G,ue),st=$(G,ue),tt=ee(G,0,Te,0,Ee),it=ne(0,ue,0,Me,0,ke),lt=this.k[Se],ht=this.k[Se+1],kt=P[Se],Wt=P[Se+1],Nt=D(qe,ze,Ye,st,tt,it,lt,ht,kt,Wt),qt=S(qe,ze,Ye,st,tt,it,lt,ht,kt,Wt);qe=oe(U,Y),ze=fe(U,Y),Ye=J(U,0,ce,0,be),st=re(0,Y,0,he,0,K);var Dn=m(qe,ze,Ye,st),gn=C(qe,ze,Ye,st);We=Ee,Ve=ke,Ee=Te,ke=Me,Te=G,Me=ue,G=m(_e,q,Nt,qt),ue=C(q,q,Nt,qt),_e=be,q=K,be=ce,K=he,ce=U,he=Y,U=m(Nt,qt,Dn,gn),Y=C(Nt,qt,Dn,gn)}p(this.h,0,U,Y),p(this.h,2,ce,he),p(this.h,4,be,K),p(this.h,6,_e,q),p(this.h,8,G,ue),p(this.h,10,Te,Me),p(this.h,12,Ee,ke),p(this.h,14,We,Ve)},Z.prototype._digest=function(k){return"hex"===k?A.toHex32(this.h,"big"):A.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(_,z,B){"use strict";var A=_("../utils").rotr32;function y(u,f,b){return u&f^~u&b}function g(u,f,b){return u&f^u&b^f&b}function d(u,f,b){return u^f^b}B.ft_1=function(u,f,b,p){return 0===u?y(f,b,p):1===u||3===u?d(f,b,p):2===u?g(f,b,p):void 0},B.ch32=y,B.maj32=g,B.p32=d,B.s0_256=function(u){return A(u,2)^A(u,13)^A(u,22)},B.s1_256=function(u){return A(u,6)^A(u,11)^A(u,25)},B.g0_256=function(u){return A(u,7)^A(u,18)^u>>>3},B.g1_256=function(u){return A(u,17)^A(u,19)^u>>>10}},{"../utils":437}],437:[function(_,z,B){"use strict";var A=_("minimalistic-assert"),y=_("inherits");function g(b,p){return 55296==(64512&b.charCodeAt(p))&&!(p<0||p+1>=b.length)&&56320==(64512&b.charCodeAt(p+1))}function d(b){return(b>>>24|b>>>8&65280|b<<8&16711680|(255&b)<<24)>>>0}function u(b){return 1===b.length?"0"+b:b}function f(b){return 7===b.length?"0"+b:6===b.length?"00"+b:5===b.length?"000"+b:4===b.length?"0000"+b:3===b.length?"00000"+b:2===b.length?"000000"+b:1===b.length?"0000000"+b:b}B.inherits=y,B.toArray=function(b,p){if(Array.isArray(b))return b.slice();if(!b)return[];var m=[];if("string"==typeof b)if(p){if("hex"===p)for((b=b.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(b="0"+b),E=0;E<b.length;E+=2)m.push(parseInt(b[E]+b[E+1],16))}else for(var C=0,E=0;E<b.length;E++){var v=b.charCodeAt(E);v<128?m[C++]=v:v<2048?(m[C++]=v>>6|192,m[C++]=63&v|128):g(b,E)?(v=65536+((1023&v)<<10)+(1023&b.charCodeAt(++E)),m[C++]=v>>18|240,m[C++]=v>>12&63|128,m[C++]=v>>6&63|128,m[C++]=63&v|128):(m[C++]=v>>12|224,m[C++]=v>>6&63|128,m[C++]=63&v|128)}else for(E=0;E<b.length;E++)m[E]=0|b[E];return m},B.toHex=function(b){for(var p="",m=0;m<b.length;m++)p+=u(b[m].toString(16));return p},B.htonl=d,B.toHex32=function(b,p){for(var m="",C=0;C<b.length;C++){var E=b[C];"little"===p&&(E=d(E)),m+=f(E.toString(16))}return m},B.zero2=u,B.zero8=f,B.join32=function(b,p,m,C){var E=m-p;A(E%4==0);for(var v=new Array(E/4),D=0,S=p;D<v.length;D++,S+=4)v[D]=("big"===C?b[S]<<24|b[S+1]<<16|b[S+2]<<8|b[S+3]:b[S+3]<<24|b[S+2]<<16|b[S+1]<<8|b[S])>>>0;return v},B.split32=function(b,p){for(var m=new Array(4*b.length),C=0,E=0;C<b.length;C++,E+=4){var v=b[C];"big"===p?(m[E]=v>>>24,m[E+1]=v>>>16&255,m[E+2]=v>>>8&255,m[E+3]=255&v):(m[E+3]=v>>>24,m[E+2]=v>>>16&255,m[E+1]=v>>>8&255,m[E]=255&v)}return m},B.rotr32=function(b,p){return b>>>p|b<<32-p},B.rotl32=function(b,p){return b<<p|b>>>32-p},B.sum32=function(b,p){return b+p>>>0},B.sum32_3=function(b,p,m){return b+p+m>>>0},B.sum32_4=function(b,p,m,C){return b+p+m+C>>>0},B.sum32_5=function(b,p,m,C,E){return b+p+m+C+E>>>0},B.sum64=function(b,p,m,C){var v=C+b[p+1]>>>0;b[p]=(v<C?1:0)+m+b[p]>>>0,b[p+1]=v},B.sum64_hi=function(b,p,m,C){return(p+C>>>0<p?1:0)+b+m>>>0},B.sum64_lo=function(b,p,m,C){return p+C>>>0},B.sum64_4_hi=function(b,p,m,C,E,v,D,S){var R=0,L=p;return R+=(L=L+C>>>0)<p?1:0,R+=(L=L+v>>>0)<v?1:0,b+m+E+D+(R+=(L=L+S>>>0)<S?1:0)>>>0},B.sum64_4_lo=function(b,p,m,C,E,v,D,S){return p+C+v+S>>>0},B.sum64_5_hi=function(b,p,m,C,E,v,D,S,R,L){var Z=0,ee=p;return Z+=(ee=ee+C>>>0)<p?1:0,Z+=(ee=ee+v>>>0)<v?1:0,Z+=(ee=ee+S>>>0)<S?1:0,b+m+E+D+R+(Z+=(ee=ee+L>>>0)<L?1:0)>>>0},B.sum64_5_lo=function(b,p,m,C,E,v,D,S,R,L){return p+C+v+S+L>>>0},B.rotr64_hi=function(b,p,m){return(p<<32-m|b>>>m)>>>0},B.rotr64_lo=function(b,p,m){return(b<<32-m|p>>>m)>>>0},B.shr64_hi=function(b,p,m){return b>>>m},B.shr64_lo=function(b,p,m){return(b<<32-m|p>>>m)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(_,z,B){"use strict";var A=_("hash.js"),y=_("minimalistic-crypto-utils"),g=_("minimalistic-assert");function d(u){if(!(this instanceof d))return new d(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var f=y.toArray(u.entropy,u.entropyEnc||"hex"),b=y.toArray(u.nonce,u.nonceEnc||"hex"),p=y.toArray(u.pers,u.persEnc||"hex");g(f.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(f,b,p)}z.exports=d,d.prototype._init=function(u,f,b){var p=u.concat(f).concat(b);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var m=0;m<this.V.length;m++)this.K[m]=0,this.V[m]=1;this._update(p),this._reseed=1,this.reseedInterval=281474976710656},d.prototype._hmac=function(){return new A.hmac(this.hash,this.K)},d.prototype._update=function(u){var f=this._hmac().update(this.V).update([0]);u&&(f=f.update(u)),this.K=f.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},d.prototype.reseed=function(u,f,b,p){"string"!=typeof f&&(p=b,b=f,f=null),u=y.toArray(u,f),b=y.toArray(b,p),g(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(b||[])),this._reseed=1},d.prototype.generate=function(u,f,b,p){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof f&&(p=b,b=f,f=null),b&&(b=y.toArray(b,p||"hex"),this._update(b));for(var m=[];m.length<u;)this.V=this._hmac().update(this.V).digest(),m=m.concat(this.V);var C=m.slice(0,u);return this._update(b),this._reseed++,y.encode(C,f)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(_,z,B){"use strict";B.read=function(A,y,g,d,u){var f,b,p=8*u-d-1,m=(1<<p)-1,C=m>>1,E=-7,v=g?u-1:0,D=g?-1:1,S=A[y+v];for(v+=D,f=S&(1<<-E)-1,S>>=-E,E+=p;E>0;f=256*f+A[y+v],v+=D,E-=8);for(b=f&(1<<-E)-1,f>>=-E,E+=d;E>0;b=256*b+A[y+v],v+=D,E-=8);if(0===f)f=1-C;else{if(f===m)return b?NaN:1/0*(S?-1:1);b+=Math.pow(2,d),f-=C}return(S?-1:1)*b*Math.pow(2,f-d)},B.write=function(A,y,g,d,u,f){var b,p,m,C=8*f-u-1,E=(1<<C)-1,v=E>>1,D=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,S=d?0:f-1,R=d?1:-1,L=y<0||0===y&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(p=isNaN(y)?1:0,b=E):(b=Math.floor(Math.log(y)/Math.LN2),y*(m=Math.pow(2,-b))<1&&(b--,m*=2),(y+=b+v>=1?D/m:D*Math.pow(2,1-v))*m>=2&&(b++,m/=2),b+v>=E?(p=0,b=E):b+v>=1?(p=(y*m-1)*Math.pow(2,u),b+=v):(p=y*Math.pow(2,v-1)*Math.pow(2,u),b=0));u>=8;A[g+S]=255&p,S+=R,p/=256,u-=8);for(b=b<<u|p,C+=u;C>0;A[g+S]=255&b,S+=R,b/=256,C-=8);A[g+S-R]|=128*L}},{}],440:[function(_,z,B){"use strict";z.exports="function"==typeof Object.create?function(A,y){y&&(A.super_=y,A.prototype=Object.create(y.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}))}:function(A,y){if(y){A.super_=y;var g=function(){};g.prototype=y.prototype,A.prototype=new g,A.prototype.constructor=A}}},{}],441:[function(_,z,B){(function(A,y,g,d,u,f,b,p){(function(){"use strict";!function(m){"object"==typeof B&&void 0!==z?z.exports=m():(typeof window<"u"?window:void 0!==y?y:typeof self<"u"?self:this).JSZip=m()}(function(){return function m(C,E,v){function D(L,Z){if(!E[L]){if(!C[L]){var ee="function"==typeof _&&_;if(!Z&&ee)return ee(L,!0);if(S)return S(L,!0);var ne=new Error("Cannot find module '"+L+"'");throw ne.code="MODULE_NOT_FOUND",ne}var J=E[L]={exports:{}};C[L][0].call(J.exports,function(re){return D(C[L][1][re]||re)},J,J.exports,m,C,E,v)}return E[L].exports}for(var S="function"==typeof _&&_,R=0;R<v.length;R++)D(v[R]);return D}({1:[function(m,C,E){var v=m("./utils"),D=m("./support"),S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";E.encode=function(R){for(var L,Z,ee,J,re,oe,fe=[],ae=0,$=R.length,W=$,ie="string"!==v.getTypeOf(R);ae<R.length;)W=$-ae,ee=ie?(L=R[ae++],Z=ae<$?R[ae++]:0,ae<$?R[ae++]:0):(L=R.charCodeAt(ae++),Z=ae<$?R.charCodeAt(ae++):0,ae<$?R.charCodeAt(ae++):0),J=(3&L)<<4|Z>>4,re=1<W?(15&Z)<<2|ee>>6:64,oe=2<W?63&ee:64,fe.push(S.charAt(L>>2)+S.charAt(J)+S.charAt(re)+S.charAt(oe));return fe.join("")},E.decode=function(R){var L,Z,ee,ne,J,re,oe=0,fe=0;if("data:"===R.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var $,W=3*(R=R.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(R.charAt(R.length-1)===S.charAt(64)&&W--,R.charAt(R.length-2)===S.charAt(64)&&W--,W%1!=0)throw new Error("Invalid base64 input, bad content length.");for($=D.uint8array?new Uint8Array(0|W):new Array(0|W);oe<R.length;)L=S.indexOf(R.charAt(oe++))<<2|(ne=S.indexOf(R.charAt(oe++)))>>4,Z=(15&ne)<<4|(J=S.indexOf(R.charAt(oe++)))>>2,ee=(3&J)<<6|(re=S.indexOf(R.charAt(oe++))),$[fe++]=L,64!==J&&($[fe++]=Z),64!==re&&($[fe++]=ee);return $}},{"./support":30,"./utils":32}],2:[function(m,C,E){var v=m("./external"),D=m("./stream/DataWorker"),S=m("./stream/Crc32Probe"),R=m("./stream/DataLengthProbe");function L(Z,ee,ne,J,re){this.compressedSize=Z,this.uncompressedSize=ee,this.crc32=ne,this.compression=J,this.compressedContent=re}L.prototype={getContentWorker:function(){var Z=new D(v.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new R("data_length")),ee=this;return Z.on("end",function(){if(this.streamInfo.data_length!==ee.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Z},getCompressedWorker:function(){return new D(v.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},L.createWorkerFrom=function(Z,ee,ne){return Z.pipe(new S).pipe(new R("uncompressedSize")).pipe(ee.compressWorker(ne)).pipe(new R("compressedSize")).withStreamInfo("compression",ee)},C.exports=L},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(m,C,E){var v=m("./stream/GenericWorker");E.STORE={magic:"\0\0",compressWorker:function(){return new v("STORE compression")},uncompressWorker:function(){return new v("STORE decompression")}},E.DEFLATE=m("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(m,C,E){var v=m("./utils"),D=function(){for(var S,R=[],L=0;L<256;L++){S=L;for(var Z=0;Z<8;Z++)S=1&S?3988292384^S>>>1:S>>>1;R[L]=S}return R}();C.exports=function(S,R){return void 0!==S&&S.length?"string"!==v.getTypeOf(S)?function(L,Z,ee,ne){var J=D,re=0+ee;L^=-1;for(var oe=0;oe<re;oe++)L=L>>>8^J[255&(L^Z[oe])];return-1^L}(0|R,S,S.length):function(L,Z,ee,ne){var J=D,re=0+ee;L^=-1;for(var oe=0;oe<re;oe++)L=L>>>8^J[255&(L^Z.charCodeAt(oe))];return-1^L}(0|R,S,S.length):0}},{"./utils":32}],5:[function(m,C,E){E.base64=!1,E.binary=!1,E.dir=!1,E.createFolders=!0,E.date=null,E.compression=null,E.compressionOptions=null,E.comment=null,E.unixPermissions=null,E.dosPermissions=null},{}],6:[function(m,C,E){var v;v=typeof Promise<"u"?Promise:m("lie"),C.exports={Promise:v}},{lie:37}],7:[function(m,C,E){var v=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",D=m("pako"),S=m("./utils"),R=m("./stream/GenericWorker"),L=v?"uint8array":"array";function Z(ee,ne){R.call(this,"FlateWorker/"+ee),this._pako=null,this._pakoAction=ee,this._pakoOptions=ne,this.meta={}}E.magic="\b\0",S.inherits(Z,R),Z.prototype.processChunk=function(ee){this.meta=ee.meta,null===this._pako&&this._createPako(),this._pako.push(S.transformTo(L,ee.data),!1)},Z.prototype.flush=function(){R.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},Z.prototype.cleanUp=function(){R.prototype.cleanUp.call(this),this._pako=null},Z.prototype._createPako=function(){this._pako=new D[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ee=this;this._pako.onData=function(ne){ee.push({data:ne,meta:ee.meta})}},E.compressWorker=function(ee){return new Z("Deflate",ee)},E.uncompressWorker=function(){return new Z("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(m,C,E){function v(J,re){var oe,fe="";for(oe=0;oe<re;oe++)fe+=String.fromCharCode(255&J),J>>>=8;return fe}function D(J,re,oe,fe,ae,$){var W,ie,T=J.file,I=J.compression,k=$!==L.utf8encode,N=S.transformTo("string",$(T.name)),P=S.transformTo("string",L.utf8encode(T.name)),U=T.comment,Y=S.transformTo("string",$(U)),ce=S.transformTo("string",L.utf8encode(U)),he=P.length!==T.name.length,be=ce.length!==U.length,K="",_e="",q="",G=T.dir,ue=T.date,Te={crc32:0,compressedSize:0,uncompressedSize:0};re&&!oe||(Te.crc32=J.crc32,Te.compressedSize=J.compressedSize,Te.uncompressedSize=J.uncompressedSize);var Me=0;re&&(Me|=8),k||!he&&!be||(Me|=2048);var Ve,qe,Ee=0,ke=0;G&&(Ee|=16),"UNIX"===ae?(ke=798,Ee|=(qe=Ve=T.unixPermissions,Ve||(qe=G?16893:33204),(65535&qe)<<16)):(ke=20,Ee|=function(Ve){return 63&(Ve||0)}(T.dosPermissions)),W=ue.getUTCHours(),W<<=6,W|=ue.getUTCMinutes(),W<<=5,W|=ue.getUTCSeconds()/2,ie=ue.getUTCFullYear()-1980,ie<<=4,ie|=ue.getUTCMonth()+1,ie<<=5,ie|=ue.getUTCDate(),he&&(_e=v(1,1)+v(Z(N),4)+P,K+="up"+v(_e.length,2)+_e),be&&(q=v(1,1)+v(Z(Y),4)+ce,K+="uc"+v(q.length,2)+q);var We="";return We+="\n\0",We+=v(Me,2),We+=I.magic,We+=v(W,2),We+=v(ie,2),We+=v(Te.crc32,4),We+=v(Te.compressedSize,4),We+=v(Te.uncompressedSize,4),We+=v(N.length,2),We+=v(K.length,2),{fileRecord:ee.LOCAL_FILE_HEADER+We+N+K,dirRecord:ee.CENTRAL_FILE_HEADER+v(ke,2)+We+v(Y.length,2)+"\0\0\0\0"+v(Ee,4)+v(fe,4)+N+K+Y}}var S=m("../utils"),R=m("../stream/GenericWorker"),L=m("../utf8"),Z=m("../crc32"),ee=m("../signature");function ne(J,re,oe,fe){R.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=re,this.zipPlatform=oe,this.encodeFileName=fe,this.streamFiles=J,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}S.inherits(ne,R),ne.prototype.push=function(J){var re=J.meta.percent||0,oe=this.entriesCount,fe=this._sources.length;this.accumulate?this.contentBuffer.push(J):(this.bytesWritten+=J.data.length,R.prototype.push.call(this,{data:J.data,meta:{currentFile:this.currentFile,percent:oe?(re+100*(oe-fe-1))/oe:100}}))},ne.prototype.openedSource=function(J){this.currentSourceOffset=this.bytesWritten,this.currentFile=J.file.name;var re=this.streamFiles&&!J.file.dir;if(re){var oe=D(J,re,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:oe.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ne.prototype.closedSource=function(J){this.accumulate=!1;var fe,re=this.streamFiles&&!J.file.dir,oe=D(J,re,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(oe.dirRecord),re)this.push({data:(fe=J,ee.DATA_DESCRIPTOR+v(fe.crc32,4)+v(fe.compressedSize,4)+v(fe.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:oe.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ne.prototype.flush=function(){for(var J=this.bytesWritten,re=0;re<this.dirRecords.length;re++)this.push({data:this.dirRecords[re],meta:{percent:100}});var ae,$,W,I,fe=(ae=this.dirRecords.length,$=this.bytesWritten-J,W=J,I=S.transformTo("string",(0,this.encodeFileName)(this.zipComment)),ee.CENTRAL_DIRECTORY_END+"\0\0\0\0"+v(ae,2)+v(ae,2)+v($,4)+v(W,4)+v(I.length,2)+I);this.push({data:fe,meta:{percent:100}})},ne.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ne.prototype.registerPrevious=function(J){this._sources.push(J);var re=this;return J.on("data",function(oe){re.processChunk(oe)}),J.on("end",function(){re.closedSource(re.previous.streamInfo),re._sources.length?re.prepareNextSource():re.end()}),J.on("error",function(oe){re.error(oe)}),this},ne.prototype.resume=function(){return!!R.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ne.prototype.error=function(J){var re=this._sources;if(!R.prototype.error.call(this,J))return!1;for(var oe=0;oe<re.length;oe++)try{re[oe].error(J)}catch{}return!0},ne.prototype.lock=function(){R.prototype.lock.call(this);for(var J=this._sources,re=0;re<J.length;re++)J[re].lock()},C.exports=ne},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(m,C,E){var v=m("../compressions"),D=m("./ZipFileWorker");E.generateWorker=function(S,R,L){var Z=new D(R.streamFiles,L,R.platform,R.encodeFileName),ee=0;try{S.forEach(function(ne,J){ee++;var re=function($,W){var ie=$||W,T=v[ie];if(!T)throw new Error(ie+" is not a valid compression method !");return T}(J.options.compression,R.compression),fe=J.dir,ae=J.date;J._compressWorker(re,J.options.compressionOptions||R.compressionOptions||{}).withStreamInfo("file",{name:ne,dir:fe,date:ae,comment:J.comment||"",unixPermissions:J.unixPermissions,dosPermissions:J.dosPermissions}).pipe(Z)}),Z.entriesCount=ee}catch(ne){Z.error(ne)}return Z}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(m,C,E){function v(){if(!(this instanceof v))return new v;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var D=new v;for(var S in this)"function"!=typeof this[S]&&(D[S]=this[S]);return D}}(v.prototype=m("./object")).loadAsync=m("./load"),v.support=m("./support"),v.defaults=m("./defaults"),v.version="3.10.1",v.loadAsync=function(D,S){return(new v).loadAsync(D,S)},v.external=m("./external"),C.exports=v},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(m,C,E){var v=m("./utils"),D=m("./external"),S=m("./utf8"),R=m("./zipEntries"),L=m("./stream/Crc32Probe"),Z=m("./nodejsUtils");function ee(ne){return new D.Promise(function(J,re){var oe=ne.decompressed.getContentWorker().pipe(new L);oe.on("error",function(fe){re(fe)}).on("end",function(){oe.streamInfo.crc32!==ne.decompressed.crc32?re(new Error("Corrupted zip : CRC32 mismatch")):J()}).resume()})}C.exports=function(ne,J){var re=this;return J=v.extend(J||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:S.utf8decode}),Z.isNode&&Z.isStream(ne)?D.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):v.prepareContent("the loaded zip file",ne,!0,J.optimizedBinaryString,J.base64).then(function(oe){var fe=new R(J);return fe.load(oe),fe}).then(function(oe){var fe=[D.Promise.resolve(oe)],ae=oe.files;if(J.checkCRC32)for(var $=0;$<ae.length;$++)fe.push(ee(ae[$]));return D.Promise.all(fe)}).then(function(oe){for(var fe=oe.shift(),ae=fe.files,$=0;$<ae.length;$++){var W=ae[$],ie=W.fileNameStr,T=v.resolve(W.fileNameStr);re.file(T,W.decompressed,{binary:!0,optimizedBinaryString:!0,date:W.date,dir:W.dir,comment:W.fileCommentStr.length?W.fileCommentStr:null,unixPermissions:W.unixPermissions,dosPermissions:W.dosPermissions,createFolders:J.createFolders}),W.dir||(re.file(T).unsafeOriginalName=ie)}return fe.zipComment.length&&(re.comment=fe.zipComment),re})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(m,C,E){var v=m("../utils"),D=m("../stream/GenericWorker");function S(R,L){D.call(this,"Nodejs stream input adapter for "+R),this._upstreamEnded=!1,this._bindStream(L)}v.inherits(S,D),S.prototype._bindStream=function(R){var L=this;(this._stream=R).pause(),R.on("data",function(Z){L.push({data:Z,meta:{percent:0}})}).on("error",function(Z){L.isPaused?this.generatedError=Z:L.error(Z)}).on("end",function(){L.isPaused?L._upstreamEnded=!0:L.end()})},S.prototype.pause=function(){return!!D.prototype.pause.call(this)&&(this._stream.pause(),!0)},S.prototype.resume=function(){return!!D.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},C.exports=S},{"../stream/GenericWorker":28,"../utils":32}],13:[function(m,C,E){var v=m("readable-stream").Readable;function D(S,R,L){v.call(this,R),this._helper=S;var Z=this;S.on("data",function(ee,ne){Z.push(ee)||Z._helper.pause(),L&&L(ne)}).on("error",function(ee){Z.emit("error",ee)}).on("end",function(){Z.push(null)})}m("../utils").inherits(D,v),D.prototype._read=function(){this._helper.resume()},C.exports=D},{"../utils":32,"readable-stream":16}],14:[function(m,C,E){C.exports={isNode:void 0!==g,newBufferFrom:function(v,D){if(g.from&&g.from!==Uint8Array.from)return g.from(v,D);if("number"==typeof v)throw new Error('The "data" argument must not be a number');return new g(v,D)},allocBuffer:function(v){if(g.alloc)return g.alloc(v);var D=new g(v);return D.fill(0),D},isBuffer:function(v){return g.isBuffer(v)},isStream:function(v){return v&&"function"==typeof v.on&&"function"==typeof v.pause&&"function"==typeof v.resume}}},{}],15:[function(m,C,E){function v(T,I,k){var N,ce,P=S.getTypeOf(I),U=S.extend(k||{},Z);U.date=U.date||new Date,null!==U.compression&&(U.compression=U.compression.toUpperCase()),"string"==typeof U.unixPermissions&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(T=ae(T)),U.createFolders&&(N=fe(T))&&$.call(this,N,!0),k&&void 0!==k.binary||(U.binary=!("string"===P&&!1===U.binary&&!1===U.base64)),(I instanceof ee&&0===I.uncompressedSize||U.dir||!I||0===I.length)&&(U.base64=!1,U.binary=!0,I="",U.compression="STORE",P="string"),ce=I instanceof ee||I instanceof R?I:re.isNode&&re.isStream(I)?new oe(T,I):S.prepareContent(T,I,U.binary,U.optimizedBinaryString,U.base64);var he=new ne(T,ce,U);this.files[T]=he}var D=m("./utf8"),S=m("./utils"),R=m("./stream/GenericWorker"),L=m("./stream/StreamHelper"),Z=m("./defaults"),ee=m("./compressedObject"),ne=m("./zipObject"),J=m("./generate"),re=m("./nodejsUtils"),oe=m("./nodejs/NodejsStreamInputAdapter"),fe=function(T){"/"===T.slice(-1)&&(T=T.substring(0,T.length-1));var I=T.lastIndexOf("/");return 0<I?T.substring(0,I):""},ae=function(T){return"/"!==T.slice(-1)&&(T+="/"),T},$=function(T,I){return I=void 0!==I?I:Z.createFolders,T=ae(T),this.files[T]||v.call(this,T,null,{dir:!0,createFolders:I}),this.files[T]};function W(T){return"[object RegExp]"===Object.prototype.toString.call(T)}var ie={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var I,k,N;for(I in this.files)N=this.files[I],(k=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&T(k,N)},filter:function(T){var I=[];return this.forEach(function(k,N){T(k,N)&&I.push(N)}),I},file:function(T,I,k){if(1!==arguments.length)return v.call(this,T=this.root+T,I,k),this;if(W(T)){var N=T;return this.filter(function(U,Y){return!Y.dir&&N.test(U)})}var P=this.files[this.root+T];return P&&!P.dir?P:null},folder:function(T){if(!T)return this;if(W(T))return this.filter(function(P,U){return U.dir&&T.test(P)});var k=$.call(this,this.root+T),N=this.clone();return N.root=k.name,N},remove:function(T){var I=this.files[T=this.root+T];if(I||("/"!==T.slice(-1)&&(T+="/"),I=this.files[T]),I&&!I.dir)delete this.files[T];else for(var k=this.filter(function(P,U){return U.name.slice(0,T.length)===T}),N=0;N<k.length;N++)delete this.files[k[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var I,k={};try{if((k=S.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:D.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),"binarystring"===k.type&&(k.type="string"),!k.type)throw new Error("No output type specified.");S.checkSupport(k.type),"darwin"!==k.platform&&"freebsd"!==k.platform&&"linux"!==k.platform&&"sunos"!==k.platform||(k.platform="UNIX"),"win32"===k.platform&&(k.platform="DOS"),I=J.generateWorker(this,k,k.comment||this.comment||"")}catch(P){(I=new R("error")).error(P)}return new L(I,k.type||"string",k.mimeType)},generateAsync:function(T,I){return this.generateInternalStream(T).accumulate(I)},generateNodeStream:function(T,I){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(I)}};C.exports=ie},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(m,C,E){C.exports=m("stream")},{stream:void 0}],17:[function(m,C,E){var v=m("./DataReader");function D(S){v.call(this,S);for(var R=0;R<this.data.length;R++)S[R]=255&S[R]}m("../utils").inherits(D,v),D.prototype.byteAt=function(S){return this.data[this.zero+S]},D.prototype.lastIndexOfSignature=function(S){for(var R=S.charCodeAt(0),L=S.charCodeAt(1),Z=S.charCodeAt(2),ee=S.charCodeAt(3),ne=this.length-4;0<=ne;--ne)if(this.data[ne]===R&&this.data[ne+1]===L&&this.data[ne+2]===Z&&this.data[ne+3]===ee)return ne-this.zero;return-1},D.prototype.readAndCheckSignature=function(S){var R=S.charCodeAt(0),L=S.charCodeAt(1),Z=S.charCodeAt(2),ee=S.charCodeAt(3),ne=this.readData(4);return R===ne[0]&&L===ne[1]&&Z===ne[2]&&ee===ne[3]},D.prototype.readData=function(S){if(this.checkOffset(S),0===S)return[];var R=this.data.slice(this.zero+this.index,this.zero+this.index+S);return this.index+=S,R},C.exports=D},{"../utils":32,"./DataReader":18}],18:[function(m,C,E){var v=m("../utils");function D(S){this.data=S,this.length=S.length,this.index=0,this.zero=0}D.prototype={checkOffset:function(S){this.checkIndex(this.index+S)},checkIndex:function(S){if(this.length<this.zero+S||S<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+S+"). Corrupted zip ?")},setIndex:function(S){this.checkIndex(S),this.index=S},skip:function(S){this.setIndex(this.index+S)},byteAt:function(){},readInt:function(S){var R,L=0;for(this.checkOffset(S),R=this.index+S-1;R>=this.index;R--)L=(L<<8)+this.byteAt(R);return this.index+=S,L},readString:function(S){return v.transformTo("string",this.readData(S))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var S=this.readInt(4);return new Date(Date.UTC(1980+(S>>25&127),(S>>21&15)-1,S>>16&31,S>>11&31,S>>5&63,(31&S)<<1))}},C.exports=D},{"../utils":32}],19:[function(m,C,E){var v=m("./Uint8ArrayReader");function D(S){v.call(this,S)}m("../utils").inherits(D,v),D.prototype.readData=function(S){this.checkOffset(S);var R=this.data.slice(this.zero+this.index,this.zero+this.index+S);return this.index+=S,R},C.exports=D},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(m,C,E){var v=m("./DataReader");function D(S){v.call(this,S)}m("../utils").inherits(D,v),D.prototype.byteAt=function(S){return this.data.charCodeAt(this.zero+S)},D.prototype.lastIndexOfSignature=function(S){return this.data.lastIndexOf(S)-this.zero},D.prototype.readAndCheckSignature=function(S){return S===this.readData(4)},D.prototype.readData=function(S){this.checkOffset(S);var R=this.data.slice(this.zero+this.index,this.zero+this.index+S);return this.index+=S,R},C.exports=D},{"../utils":32,"./DataReader":18}],21:[function(m,C,E){var v=m("./ArrayReader");function D(S){v.call(this,S)}m("../utils").inherits(D,v),D.prototype.readData=function(S){if(this.checkOffset(S),0===S)return new Uint8Array(0);var R=this.data.subarray(this.zero+this.index,this.zero+this.index+S);return this.index+=S,R},C.exports=D},{"../utils":32,"./ArrayReader":17}],22:[function(m,C,E){var v=m("../utils"),D=m("../support"),S=m("./ArrayReader"),R=m("./StringReader"),L=m("./NodeBufferReader"),Z=m("./Uint8ArrayReader");C.exports=function(ee){var ne=v.getTypeOf(ee);return v.checkSupport(ne),"string"!==ne||D.uint8array?"nodebuffer"===ne?new L(ee):D.uint8array?new Z(v.transformTo("uint8array",ee)):new S(v.transformTo("array",ee)):new R(ee)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(m,C,E){E.LOCAL_FILE_HEADER="PK\x03\x04",E.CENTRAL_FILE_HEADER="PK\x01\x02",E.CENTRAL_DIRECTORY_END="PK\x05\x06",E.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",E.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",E.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(m,C,E){var v=m("./GenericWorker"),D=m("../utils");function S(R){v.call(this,"ConvertWorker to "+R),this.destType=R}D.inherits(S,v),S.prototype.processChunk=function(R){this.push({data:D.transformTo(this.destType,R.data),meta:R.meta})},C.exports=S},{"../utils":32,"./GenericWorker":28}],25:[function(m,C,E){var v=m("./GenericWorker"),D=m("../crc32");function S(){v.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}m("../utils").inherits(S,v),S.prototype.processChunk=function(R){this.streamInfo.crc32=D(R.data,this.streamInfo.crc32||0),this.push(R)},C.exports=S},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(m,C,E){var v=m("../utils"),D=m("./GenericWorker");function S(R){D.call(this,"DataLengthProbe for "+R),this.propName=R,this.withStreamInfo(R,0)}v.inherits(S,D),S.prototype.processChunk=function(R){R&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+R.data.length),D.prototype.processChunk.call(this,R)},C.exports=S},{"../utils":32,"./GenericWorker":28}],27:[function(m,C,E){var v=m("../utils"),D=m("./GenericWorker");function S(R){D.call(this,"DataWorker");var L=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,R.then(function(Z){L.dataIsReady=!0,L.data=Z,L.max=Z&&Z.length||0,L.type=v.getTypeOf(Z),L.isPaused||L._tickAndRepeat()},function(Z){L.error(Z)})}v.inherits(S,D),S.prototype.cleanUp=function(){D.prototype.cleanUp.call(this),this.data=null},S.prototype.resume=function(){return!!D.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,v.delay(this._tickAndRepeat,[],this)),!0)},S.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(v.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},S.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var R=null,L=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":R=this.data.substring(this.index,L);break;case"uint8array":R=this.data.subarray(this.index,L);break;case"array":case"nodebuffer":R=this.data.slice(this.index,L)}return this.index=L,this.push({data:R,meta:{percent:this.max?this.index/this.max*100:0}})},C.exports=S},{"../utils":32,"./GenericWorker":28}],28:[function(m,C,E){function v(D){this.name=D||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}v.prototype={push:function(D){this.emit("data",D)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(D){this.emit("error",D)}return!0},error:function(D){return!this.isFinished&&(this.isPaused?this.generatedError=D:(this.isFinished=!0,this.emit("error",D),this.previous&&this.previous.error(D),this.cleanUp()),!0)},on:function(D,S){return this._listeners[D].push(S),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(D,S){if(this._listeners[D])for(var R=0;R<this._listeners[D].length;R++)this._listeners[D][R].call(this,S)},pipe:function(D){return D.registerPrevious(this)},registerPrevious:function(D){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=D.streamInfo,this.mergeStreamInfo(),this.previous=D;var S=this;return D.on("data",function(R){S.processChunk(R)}),D.on("end",function(){S.end()}),D.on("error",function(R){S.error(R)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var D=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),D=!0),this.previous&&this.previous.resume(),!D},flush:function(){},processChunk:function(D){this.push(D)},withStreamInfo:function(D,S){return this.extraStreamInfo[D]=S,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var D in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,D)&&(this.streamInfo[D]=this.extraStreamInfo[D])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var D="Worker "+this.name;return this.previous?this.previous+" -> "+D:D}},C.exports=v},{}],29:[function(m,C,E){var v=m("../utils"),D=m("./ConvertWorker"),S=m("./GenericWorker"),R=m("../base64"),L=m("../support"),Z=m("../external"),ee=null;if(L.nodestream)try{ee=m("../nodejs/NodejsStreamOutputAdapter")}catch{}function ne(J,re,oe){var fe=re;switch(re){case"blob":case"arraybuffer":fe="uint8array";break;case"base64":fe="string"}try{this._internalType=fe,this._outputType=re,this._mimeType=oe,v.checkSupport(fe),this._worker=J.pipe(new D(fe)),J.lock()}catch(ae){this._worker=new S("error"),this._worker.error(ae)}}ne.prototype={accumulate:function(J){return re=this,oe=J,new Z.Promise(function(fe,ae){var $=[],W=re._internalType,ie=re._outputType,T=re._mimeType;re.on("data",function(I,k){$.push(I),oe&&oe(k)}).on("error",function(I){$=[],ae(I)}).on("end",function(){try{var I=function(k,N,P){switch(k){case"blob":return v.newBlob(v.transformTo("arraybuffer",N),P);case"base64":return R.encode(N);default:return v.transformTo(k,N)}}(ie,function(k,N){var P,U=0,Y=null,ce=0;for(P=0;P<N.length;P++)ce+=N[P].length;switch(k){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(Y=new Uint8Array(ce),P=0;P<N.length;P++)Y.set(N[P],U),U+=N[P].length;return Y;case"nodebuffer":return g.concat(N);default:throw new Error("concat : unsupported type '"+k+"'")}}(W,$),T);fe(I)}catch(k){ae(k)}$=[]}).resume()});var re,oe},on:function(J,re){var oe=this;return this._worker.on(J,"data"===J?function(fe){re.call(oe,fe.data,fe.meta)}:function(){v.delay(re,arguments,oe)}),this},resume:function(){return v.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(J){if(v.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new ee(this,{objectMode:"nodebuffer"!==this._outputType},J)}},C.exports=ne},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(m,C,E){if(E.base64=!0,E.array=!0,E.string=!0,E.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",E.nodebuffer=void 0!==g,E.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")E.blob=!1;else{var v=new ArrayBuffer(0);try{E.blob=0===new Blob([v],{type:"application/zip"}).size}catch{try{var D=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);D.append(v),E.blob=0===D.getBlob("application/zip").size}catch{E.blob=!1}}}try{E.nodestream=!!m("readable-stream").Readable}catch{E.nodestream=!1}},{"readable-stream":16}],31:[function(m,C,E){for(var v=m("./utils"),D=m("./support"),S=m("./nodejsUtils"),R=m("./stream/GenericWorker"),L=new Array(256),Z=0;Z<256;Z++)L[Z]=252<=Z?6:248<=Z?5:240<=Z?4:224<=Z?3:192<=Z?2:1;function ee(){R.call(this,"utf-8 decode"),this.leftOver=null}function ne(){R.call(this,"utf-8 encode")}L[254]=L[254]=1,E.utf8encode=function(J){return D.nodebuffer?S.newBufferFrom(J,"utf-8"):function(re){var oe,fe,ae,$,W,ie=re.length,T=0;for($=0;$<ie;$++)55296==(64512&(fe=re.charCodeAt($)))&&$+1<ie&&56320==(64512&(ae=re.charCodeAt($+1)))&&(fe=65536+(fe-55296<<10)+(ae-56320),$++),T+=fe<128?1:fe<2048?2:fe<65536?3:4;for(oe=D.uint8array?new Uint8Array(T):new Array(T),$=W=0;W<T;$++)55296==(64512&(fe=re.charCodeAt($)))&&$+1<ie&&56320==(64512&(ae=re.charCodeAt($+1)))&&(fe=65536+(fe-55296<<10)+(ae-56320),$++),fe<128?oe[W++]=fe:(fe<2048?oe[W++]=192|fe>>>6:(fe<65536?oe[W++]=224|fe>>>12:(oe[W++]=240|fe>>>18,oe[W++]=128|fe>>>12&63),oe[W++]=128|fe>>>6&63),oe[W++]=128|63&fe);return oe}(J)},E.utf8decode=function(J){return D.nodebuffer?v.transformTo("nodebuffer",J).toString("utf-8"):function(re){var oe,fe,ae,$,W=re.length,ie=new Array(2*W);for(oe=fe=0;oe<W;)if((ae=re[oe++])<128)ie[fe++]=ae;else if(4<($=L[ae]))ie[fe++]=65533,oe+=$-1;else{for(ae&=2===$?31:3===$?15:7;1<$&&oe<W;)ae=ae<<6|63&re[oe++],$--;1<$?ie[fe++]=65533:ae<65536?ie[fe++]=ae:(ie[fe++]=55296|(ae-=65536)>>10&1023,ie[fe++]=56320|1023&ae)}return ie.length!==fe&&(ie.subarray?ie=ie.subarray(0,fe):ie.length=fe),v.applyFromCharCode(ie)}(J=v.transformTo(D.uint8array?"uint8array":"array",J))},v.inherits(ee,R),ee.prototype.processChunk=function(J){var re=v.transformTo(D.uint8array?"uint8array":"array",J.data);if(this.leftOver&&this.leftOver.length){if(D.uint8array){var oe=re;(re=new Uint8Array(oe.length+this.leftOver.length)).set(this.leftOver,0),re.set(oe,this.leftOver.length)}else re=this.leftOver.concat(re);this.leftOver=null}var fe=function($,W){var ie;for((W=W||$.length)>$.length&&(W=$.length),ie=W-1;0<=ie&&128==(192&$[ie]);)ie--;return ie<0||0===ie?W:ie+L[$[ie]]>W?ie:W}(re),ae=re;fe!==re.length&&(D.uint8array?(ae=re.subarray(0,fe),this.leftOver=re.subarray(fe,re.length)):(ae=re.slice(0,fe),this.leftOver=re.slice(fe,re.length))),this.push({data:E.utf8decode(ae),meta:J.meta})},ee.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:E.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},E.Utf8DecodeWorker=ee,v.inherits(ne,R),ne.prototype.processChunk=function(J){this.push({data:E.utf8encode(J.data),meta:J.meta})},E.Utf8EncodeWorker=ne},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(m,C,E){var v=m("./support"),D=m("./base64"),S=m("./nodejsUtils"),R=m("./external");function L(oe){return oe}function Z(oe,fe){for(var ae=0;ae<oe.length;++ae)fe[ae]=255&oe.charCodeAt(ae);return fe}m("setimmediate"),E.newBlob=function(oe,fe){E.checkSupport("blob");try{return new Blob([oe],{type:fe})}catch{try{var ae=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return ae.append(oe),ae.getBlob(fe)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ee={stringifyByChunk:function(oe,fe,ae){var $=[],W=0,ie=oe.length;if(ie<=ae)return String.fromCharCode.apply(null,oe);for(;W<ie;)$.push(String.fromCharCode.apply(null,"array"===fe||"nodebuffer"===fe?oe.slice(W,Math.min(W+ae,ie)):oe.subarray(W,Math.min(W+ae,ie)))),W+=ae;return $.join("")},stringifyByChar:function(oe){for(var fe="",ae=0;ae<oe.length;ae++)fe+=String.fromCharCode(oe[ae]);return fe},applyCanBeUsed:{uint8array:function(){try{return v.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return v.nodebuffer&&1===String.fromCharCode.apply(null,S.allocBuffer(1)).length}catch{return!1}}()}};function ne(oe){var fe=65536,ae=E.getTypeOf(oe),$=!0;if("uint8array"===ae?$=ee.applyCanBeUsed.uint8array:"nodebuffer"===ae&&($=ee.applyCanBeUsed.nodebuffer),$)for(;1<fe;)try{return ee.stringifyByChunk(oe,ae,fe)}catch{fe=Math.floor(fe/2)}return ee.stringifyByChar(oe)}function J(oe,fe){for(var ae=0;ae<oe.length;ae++)fe[ae]=oe[ae];return fe}E.applyFromCharCode=ne;var re={};re.string={string:L,array:function(oe){return Z(oe,new Array(oe.length))},arraybuffer:function(oe){return re.string.uint8array(oe).buffer},uint8array:function(oe){return Z(oe,new Uint8Array(oe.length))},nodebuffer:function(oe){return Z(oe,S.allocBuffer(oe.length))}},re.array={string:ne,array:L,arraybuffer:function(oe){return new Uint8Array(oe).buffer},uint8array:function(oe){return new Uint8Array(oe)},nodebuffer:function(oe){return S.newBufferFrom(oe)}},re.arraybuffer={string:function(oe){return ne(new Uint8Array(oe))},array:function(oe){return J(new Uint8Array(oe),new Array(oe.byteLength))},arraybuffer:L,uint8array:function(oe){return new Uint8Array(oe)},nodebuffer:function(oe){return S.newBufferFrom(new Uint8Array(oe))}},re.uint8array={string:ne,array:function(oe){return J(oe,new Array(oe.length))},arraybuffer:function(oe){return oe.buffer},uint8array:L,nodebuffer:function(oe){return S.newBufferFrom(oe)}},re.nodebuffer={string:ne,array:function(oe){return J(oe,new Array(oe.length))},arraybuffer:function(oe){return re.nodebuffer.uint8array(oe).buffer},uint8array:function(oe){return J(oe,new Uint8Array(oe.length))},nodebuffer:L},E.transformTo=function(oe,fe){if(fe=fe||"",!oe)return fe;E.checkSupport(oe);var ae=E.getTypeOf(fe);return re[ae][oe](fe)},E.resolve=function(oe){for(var fe=oe.split("/"),ae=[],$=0;$<fe.length;$++){var W=fe[$];"."===W||""===W&&0!==$&&$!==fe.length-1||(".."===W?ae.pop():ae.push(W))}return ae.join("/")},E.getTypeOf=function(oe){return"string"==typeof oe?"string":"[object Array]"===Object.prototype.toString.call(oe)?"array":v.nodebuffer&&S.isBuffer(oe)?"nodebuffer":v.uint8array&&oe instanceof Uint8Array?"uint8array":v.arraybuffer&&oe instanceof ArrayBuffer?"arraybuffer":void 0},E.checkSupport=function(oe){if(!v[oe.toLowerCase()])throw new Error(oe+" is not supported by this platform")},E.MAX_VALUE_16BITS=65535,E.MAX_VALUE_32BITS=-1,E.pretty=function(oe){var fe,ae,$="";for(ae=0;ae<(oe||"").length;ae++)$+="\\x"+((fe=oe.charCodeAt(ae))<16?"0":"")+fe.toString(16).toUpperCase();return $},E.delay=function(oe,fe,ae){p(function(){oe.apply(ae||null,fe||[])})},E.inherits=function(oe,fe){function ae(){}ae.prototype=fe.prototype,oe.prototype=new ae},E.extend=function(){var oe,fe,ae={};for(oe=0;oe<arguments.length;oe++)for(fe in arguments[oe])Object.prototype.hasOwnProperty.call(arguments[oe],fe)&&void 0===ae[fe]&&(ae[fe]=arguments[oe][fe]);return ae},E.prepareContent=function(oe,fe,ae,$,W){return R.Promise.resolve(fe).then(function(ie){return v.blob&&(ie instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(ie)))&&typeof FileReader<"u"?new R.Promise(function(T,I){var k=new FileReader;k.onload=function(N){T(N.target.result)},k.onerror=function(N){I(N.target.error)},k.readAsArrayBuffer(ie)}):ie}).then(function(ie){var I,T=E.getTypeOf(ie);return T?("arraybuffer"===T?ie=E.transformTo("uint8array",ie):"string"===T&&(W?ie=D.decode(ie):ae&&!0!==$&&(ie=Z(I=ie,v.uint8array?new Uint8Array(I.length):new Array(I.length)))),ie):R.Promise.reject(new Error("Can't read the data of '"+oe+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(m,C,E){var v=m("./reader/readerFor"),D=m("./utils"),S=m("./signature"),R=m("./zipEntry"),L=m("./support");function Z(ee){this.files=[],this.loadOptions=ee}Z.prototype={checkSignature:function(ee){if(!this.reader.readAndCheckSignature(ee)){this.reader.index-=4;var ne=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+D.pretty(ne)+", expected "+D.pretty(ee)+")")}},isSignature:function(ee,ne){var J=this.reader.index;this.reader.setIndex(ee);var re=this.reader.readString(4)===ne;return this.reader.setIndex(J),re},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ee=this.reader.readData(this.zipCommentLength),J=D.transformTo(L.uint8array?"uint8array":"array",ee);this.zipComment=this.loadOptions.decodeFileName(J)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ee,ne,J,re=this.zip64EndOfCentralSize-44;0<re;)ee=this.reader.readInt(2),ne=this.reader.readInt(4),J=this.reader.readData(ne),this.zip64ExtensibleData[ee]={id:ee,length:ne,value:J}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ee,ne;for(ee=0;ee<this.files.length;ee++)this.reader.setIndex((ne=this.files[ee]).localHeaderOffset),this.checkSignature(S.LOCAL_FILE_HEADER),ne.readLocalPart(this.reader),ne.handleUTF8(),ne.processAttributes()},readCentralDir:function(){var ee;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(S.CENTRAL_FILE_HEADER);)(ee=new R({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ee);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ee=this.reader.lastIndexOfSignature(S.CENTRAL_DIRECTORY_END);if(ee<0)throw this.isSignature(0,S.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ee);var ne=ee;if(this.checkSignature(S.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===D.MAX_VALUE_16BITS||this.diskWithCentralDirStart===D.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===D.MAX_VALUE_16BITS||this.centralDirRecords===D.MAX_VALUE_16BITS||this.centralDirSize===D.MAX_VALUE_32BITS||this.centralDirOffset===D.MAX_VALUE_32BITS){if(this.zip64=!0,(ee=this.reader.lastIndexOfSignature(S.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ee),this.checkSignature(S.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,S.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(S.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(S.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var J=this.centralDirOffset+this.centralDirSize;this.zip64&&(J+=20,J+=12+this.zip64EndOfCentralSize);var re=ne-J;if(0<re)this.isSignature(ne,S.CENTRAL_FILE_HEADER)||(this.reader.zero=re);else if(re<0)throw new Error("Corrupted zip: missing "+Math.abs(re)+" bytes.")},prepareReader:function(ee){this.reader=v(ee)},load:function(ee){this.prepareReader(ee),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},C.exports=Z},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(m,C,E){var v=m("./reader/readerFor"),D=m("./utils"),S=m("./compressedObject"),R=m("./crc32"),L=m("./utf8"),Z=m("./compressions"),ee=m("./support");function ne(J,re){this.options=J,this.loadOptions=re}ne.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(J){var re,oe;if(J.skip(22),this.fileNameLength=J.readInt(2),oe=J.readInt(2),this.fileName=J.readData(this.fileNameLength),J.skip(oe),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(re=function(fe){for(var ae in Z)if(Object.prototype.hasOwnProperty.call(Z,ae)&&Z[ae].magic===fe)return Z[ae];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+D.pretty(this.compressionMethod)+" unknown (inner file : "+D.transformTo("string",this.fileName)+")");this.decompressed=new S(this.compressedSize,this.uncompressedSize,this.crc32,re,J.readData(this.compressedSize))},readCentralPart:function(J){this.versionMadeBy=J.readInt(2),J.skip(2),this.bitFlag=J.readInt(2),this.compressionMethod=J.readString(2),this.date=J.readDate(),this.crc32=J.readInt(4),this.compressedSize=J.readInt(4),this.uncompressedSize=J.readInt(4);var re=J.readInt(2);if(this.extraFieldsLength=J.readInt(2),this.fileCommentLength=J.readInt(2),this.diskNumberStart=J.readInt(2),this.internalFileAttributes=J.readInt(2),this.externalFileAttributes=J.readInt(4),this.localHeaderOffset=J.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");J.skip(re),this.readExtraFields(J),this.parseZIP64ExtraField(J),this.fileComment=J.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var J=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==J&&(this.dosPermissions=63&this.externalFileAttributes),3==J&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var J=v(this.extraFields[1].value);this.uncompressedSize===D.MAX_VALUE_32BITS&&(this.uncompressedSize=J.readInt(8)),this.compressedSize===D.MAX_VALUE_32BITS&&(this.compressedSize=J.readInt(8)),this.localHeaderOffset===D.MAX_VALUE_32BITS&&(this.localHeaderOffset=J.readInt(8)),this.diskNumberStart===D.MAX_VALUE_32BITS&&(this.diskNumberStart=J.readInt(4))}},readExtraFields:function(J){var re,oe,fe,ae=J.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});J.index+4<ae;)re=J.readInt(2),oe=J.readInt(2),fe=J.readData(oe),this.extraFields[re]={id:re,length:oe,value:fe};J.setIndex(ae)},handleUTF8:function(){var J=ee.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=L.utf8decode(this.fileName),this.fileCommentStr=L.utf8decode(this.fileComment);else{var re=this.findExtraFieldUnicodePath();if(null!==re)this.fileNameStr=re;else{var oe=D.transformTo(J,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(oe)}var fe=this.findExtraFieldUnicodeComment();if(null!==fe)this.fileCommentStr=fe;else{var ae=D.transformTo(J,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(ae)}}},findExtraFieldUnicodePath:function(){var J=this.extraFields[28789];if(J){var re=v(J.value);return 1!==re.readInt(1)||R(this.fileName)!==re.readInt(4)?null:L.utf8decode(re.readData(J.length-5))}return null},findExtraFieldUnicodeComment:function(){var J=this.extraFields[25461];if(J){var re=v(J.value);return 1!==re.readInt(1)||R(this.fileComment)!==re.readInt(4)?null:L.utf8decode(re.readData(J.length-5))}return null}},C.exports=ne},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(m,C,E){function v(re,oe,fe){this.name=re,this.dir=fe.dir,this.date=fe.date,this.comment=fe.comment,this.unixPermissions=fe.unixPermissions,this.dosPermissions=fe.dosPermissions,this._data=oe,this._dataBinary=fe.binary,this.options={compression:fe.compression,compressionOptions:fe.compressionOptions}}var D=m("./stream/StreamHelper"),S=m("./stream/DataWorker"),R=m("./utf8"),L=m("./compressedObject"),Z=m("./stream/GenericWorker");v.prototype={internalStream:function(re){var oe=null,fe="string";try{if(!re)throw new Error("No output type specified.");var ae="string"===(fe=re.toLowerCase())||"text"===fe;"binarystring"!==fe&&"text"!==fe||(fe="string"),oe=this._decompressWorker();var $=!this._dataBinary;$&&!ae&&(oe=oe.pipe(new R.Utf8EncodeWorker)),!$&&ae&&(oe=oe.pipe(new R.Utf8DecodeWorker))}catch(W){(oe=new Z("error")).error(W)}return new D(oe,fe,"")},async:function(re,oe){return this.internalStream(re).accumulate(oe)},nodeStream:function(re,oe){return this.internalStream(re||"nodebuffer").toNodejsStream(oe)},_compressWorker:function(re,oe){if(this._data instanceof L&&this._data.compression.magic===re.magic)return this._data.getCompressedWorker();var fe=this._decompressWorker();return this._dataBinary||(fe=fe.pipe(new R.Utf8EncodeWorker)),L.createWorkerFrom(fe,re,oe)},_decompressWorker:function(){return this._data instanceof L?this._data.getContentWorker():this._data instanceof Z?this._data:new S(this._data)}};for(var ee=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],ne=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},J=0;J<ee.length;J++)v.prototype[ee[J]]=ne;C.exports=v},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(m,C,E){(function(v){var D,S,R=v.MutationObserver||v.WebKitMutationObserver;if(R){var L=0,Z=new R(re),ee=v.document.createTextNode("");Z.observe(ee,{characterData:!0}),D=function(){ee.data=L=++L%2}}else if(v.setImmediate||void 0===v.MessageChannel)D="document"in v&&"onreadystatechange"in v.document.createElement("script")?function(){var oe=v.document.createElement("script");oe.onreadystatechange=function(){re(),oe.onreadystatechange=null,oe.parentNode.removeChild(oe),oe=null},v.document.documentElement.appendChild(oe)}:function(){setTimeout(re,0)};else{var ne=new v.MessageChannel;ne.port1.onmessage=re,D=function(){ne.port2.postMessage(0)}}var J=[];function re(){var oe,fe;S=!0;for(var ae=J.length;ae;){for(fe=J,J=[],oe=-1;++oe<ae;)fe[oe]();ae=J.length}S=!1}C.exports=function(oe){1!==J.push(oe)||S||D()}}).call(this,void 0!==y?y:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(m,C,E){var v=m("immediate");function D(){}var S={},R=["REJECTED"],L=["FULFILLED"],Z=["PENDING"];function ee(ae){if("function"!=typeof ae)throw new TypeError("resolver must be a function");this.state=Z,this.queue=[],this.outcome=void 0,ae!==D&&oe(this,ae)}function ne(ae,$,W){this.promise=ae,"function"==typeof $&&(this.onFulfilled=$,this.callFulfilled=this.otherCallFulfilled),"function"==typeof W&&(this.onRejected=W,this.callRejected=this.otherCallRejected)}function J(ae,$,W){v(function(){var ie;try{ie=$(W)}catch(T){return S.reject(ae,T)}ie===ae?S.reject(ae,new TypeError("Cannot resolve promise with itself")):S.resolve(ae,ie)})}function re(ae){var $=ae&&ae.then;if(ae&&("object"==typeof ae||"function"==typeof ae)&&"function"==typeof $)return function(){$.apply(ae,arguments)}}function oe(ae,$){var W=!1;function ie(k){W||(W=!0,S.reject(ae,k))}function T(k){W||(W=!0,S.resolve(ae,k))}var I=fe(function(){$(T,ie)});"error"===I.status&&ie(I.value)}function fe(ae,$){var W={};try{W.value=ae($),W.status="success"}catch(ie){W.status="error",W.value=ie}return W}(C.exports=ee).prototype.finally=function(ae){if("function"!=typeof ae)return this;var $=this.constructor;return this.then(function(W){return $.resolve(ae()).then(function(){return W})},function(W){return $.resolve(ae()).then(function(){throw W})})},ee.prototype.catch=function(ae){return this.then(null,ae)},ee.prototype.then=function(ae,$){if("function"!=typeof ae&&this.state===L||"function"!=typeof $&&this.state===R)return this;var W=new this.constructor(D);return this.state!==Z?J(W,this.state===L?ae:$,this.outcome):this.queue.push(new ne(W,ae,$)),W},ne.prototype.callFulfilled=function(ae){S.resolve(this.promise,ae)},ne.prototype.otherCallFulfilled=function(ae){J(this.promise,this.onFulfilled,ae)},ne.prototype.callRejected=function(ae){S.reject(this.promise,ae)},ne.prototype.otherCallRejected=function(ae){J(this.promise,this.onRejected,ae)},S.resolve=function(ae,$){var W=fe(re,$);if("error"===W.status)return S.reject(ae,W.value);var ie=W.value;if(ie)oe(ae,ie);else{ae.state=L,ae.outcome=$;for(var T=-1,I=ae.queue.length;++T<I;)ae.queue[T].callFulfilled($)}return ae},S.reject=function(ae,$){ae.state=R,ae.outcome=$;for(var W=-1,ie=ae.queue.length;++W<ie;)ae.queue[W].callRejected($);return ae},ee.resolve=function(ae){return ae instanceof this?ae:S.resolve(new this(D),ae)},ee.reject=function(ae){var $=new this(D);return S.reject($,ae)},ee.all=function(ae){var $=this;if("[object Array]"!==Object.prototype.toString.call(ae))return this.reject(new TypeError("must be an array"));var W=ae.length,ie=!1;if(!W)return this.resolve([]);for(var T=new Array(W),I=0,k=-1,N=new this(D);++k<W;)P(ae[k],k);return N;function P(U,Y){$.resolve(U).then(function(ce){T[Y]=ce,++I!==W||ie||(ie=!0,S.resolve(N,T))},function(ce){ie||(ie=!0,S.reject(N,ce))})}},ee.race=function(ae){if("[object Array]"!==Object.prototype.toString.call(ae))return this.reject(new TypeError("must be an array"));var $=ae.length,W=!1;if(!$)return this.resolve([]);for(var T=-1,I=new this(D);++T<$;)this.resolve(ae[T]).then(function(k){W||(W=!0,S.resolve(I,k))},function(k){W||(W=!0,S.reject(I,k))});return I}},{immediate:36}],38:[function(m,C,E){var v={};(0,m("./lib/utils/common").assign)(v,m("./lib/deflate"),m("./lib/inflate"),m("./lib/zlib/constants")),C.exports=v},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(m,C,E){var v=m("./zlib/deflate"),D=m("./utils/common"),S=m("./utils/strings"),R=m("./zlib/messages"),L=m("./zlib/zstream"),Z=Object.prototype.toString;function ee(J){if(!(this instanceof ee))return new ee(J);this.options=D.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},J||{});var re=this.options;re.raw&&0<re.windowBits?re.windowBits=-re.windowBits:re.gzip&&0<re.windowBits&&re.windowBits<16&&(re.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new L,this.strm.avail_out=0;var oe=v.deflateInit2(this.strm,re.level,re.method,re.windowBits,re.memLevel,re.strategy);if(0!==oe)throw new Error(R[oe]);if(re.header&&v.deflateSetHeader(this.strm,re.header),re.dictionary){var fe;if(fe="string"==typeof re.dictionary?S.string2buf(re.dictionary):"[object ArrayBuffer]"===Z.call(re.dictionary)?new Uint8Array(re.dictionary):re.dictionary,0!==(oe=v.deflateSetDictionary(this.strm,fe)))throw new Error(R[oe]);this._dict_set=!0}}function ne(J,re){var oe=new ee(re);if(oe.push(J,!0),oe.err)throw oe.msg||R[oe.err];return oe.result}ee.prototype.push=function(J,re){var oe,fe,ae=this.strm,$=this.options.chunkSize;if(this.ended)return!1;fe=re===~~re?re:!0===re?4:0,ae.input="string"==typeof J?S.string2buf(J):"[object ArrayBuffer]"===Z.call(J)?new Uint8Array(J):J,ae.next_in=0,ae.avail_in=ae.input.length;do{if(0===ae.avail_out&&(ae.output=new D.Buf8($),ae.next_out=0,ae.avail_out=$),1!==(oe=v.deflate(ae,fe))&&0!==oe)return this.onEnd(oe),!(this.ended=!0);0!==ae.avail_out&&(0!==ae.avail_in||4!==fe&&2!==fe)||this.onData("string"===this.options.to?S.buf2binstring(D.shrinkBuf(ae.output,ae.next_out)):D.shrinkBuf(ae.output,ae.next_out))}while((0<ae.avail_in||0===ae.avail_out)&&1!==oe);return 4===fe?(oe=v.deflateEnd(this.strm),this.onEnd(oe),this.ended=!0,0===oe):2!==fe||(this.onEnd(0),!(ae.avail_out=0))},ee.prototype.onData=function(J){this.chunks.push(J)},ee.prototype.onEnd=function(J){0===J&&(this.result="string"===this.options.to?this.chunks.join(""):D.flattenChunks(this.chunks)),this.chunks=[],this.err=J,this.msg=this.strm.msg},E.Deflate=ee,E.deflate=ne,E.deflateRaw=function(J,re){return(re=re||{}).raw=!0,ne(J,re)},E.gzip=function(J,re){return(re=re||{}).gzip=!0,ne(J,re)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(m,C,E){var v=m("./zlib/inflate"),D=m("./utils/common"),S=m("./utils/strings"),R=m("./zlib/constants"),L=m("./zlib/messages"),Z=m("./zlib/zstream"),ee=m("./zlib/gzheader"),ne=Object.prototype.toString;function J(oe){if(!(this instanceof J))return new J(oe);this.options=D.assign({chunkSize:16384,windowBits:0,to:""},oe||{});var fe=this.options;fe.raw&&0<=fe.windowBits&&fe.windowBits<16&&(fe.windowBits=-fe.windowBits,0===fe.windowBits&&(fe.windowBits=-15)),!(0<=fe.windowBits&&fe.windowBits<16)||oe&&oe.windowBits||(fe.windowBits+=32),15<fe.windowBits&&fe.windowBits<48&&!(15&fe.windowBits)&&(fe.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Z,this.strm.avail_out=0;var ae=v.inflateInit2(this.strm,fe.windowBits);if(ae!==R.Z_OK)throw new Error(L[ae]);this.header=new ee,v.inflateGetHeader(this.strm,this.header)}function re(oe,fe){var ae=new J(fe);if(ae.push(oe,!0),ae.err)throw ae.msg||L[ae.err];return ae.result}J.prototype.push=function(oe,fe){var ae,$,W,ie,T,I,k=this.strm,N=this.options.chunkSize,P=this.options.dictionary,U=!1;if(this.ended)return!1;$=fe===~~fe?fe:!0===fe?R.Z_FINISH:R.Z_NO_FLUSH,k.input="string"==typeof oe?S.binstring2buf(oe):"[object ArrayBuffer]"===ne.call(oe)?new Uint8Array(oe):oe,k.next_in=0,k.avail_in=k.input.length;do{if(0===k.avail_out&&(k.output=new D.Buf8(N),k.next_out=0,k.avail_out=N),(ae=v.inflate(k,R.Z_NO_FLUSH))===R.Z_NEED_DICT&&P&&(I="string"==typeof P?S.string2buf(P):"[object ArrayBuffer]"===ne.call(P)?new Uint8Array(P):P,ae=v.inflateSetDictionary(this.strm,I)),ae===R.Z_BUF_ERROR&&!0===U&&(ae=R.Z_OK,U=!1),ae!==R.Z_STREAM_END&&ae!==R.Z_OK)return this.onEnd(ae),!(this.ended=!0);k.next_out&&(0!==k.avail_out&&ae!==R.Z_STREAM_END&&(0!==k.avail_in||$!==R.Z_FINISH&&$!==R.Z_SYNC_FLUSH)||("string"===this.options.to?(W=S.utf8border(k.output,k.next_out),ie=k.next_out-W,T=S.buf2string(k.output,W),k.next_out=ie,k.avail_out=N-ie,ie&&D.arraySet(k.output,k.output,W,ie,0),this.onData(T)):this.onData(D.shrinkBuf(k.output,k.next_out)))),0===k.avail_in&&0===k.avail_out&&(U=!0)}while((0<k.avail_in||0===k.avail_out)&&ae!==R.Z_STREAM_END);return ae===R.Z_STREAM_END&&($=R.Z_FINISH),$===R.Z_FINISH?(ae=v.inflateEnd(this.strm),this.onEnd(ae),this.ended=!0,ae===R.Z_OK):$!==R.Z_SYNC_FLUSH||(this.onEnd(R.Z_OK),!(k.avail_out=0))},J.prototype.onData=function(oe){this.chunks.push(oe)},J.prototype.onEnd=function(oe){oe===R.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):D.flattenChunks(this.chunks)),this.chunks=[],this.err=oe,this.msg=this.strm.msg},E.Inflate=J,E.inflate=re,E.inflateRaw=function(oe,fe){return(fe=fe||{}).raw=!0,re(oe,fe)},E.ungzip=re},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(m,C,E){var v=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";E.assign=function(R){for(var L=Array.prototype.slice.call(arguments,1);L.length;){var Z=L.shift();if(Z){if("object"!=typeof Z)throw new TypeError(Z+"must be non-object");for(var ee in Z)Z.hasOwnProperty(ee)&&(R[ee]=Z[ee])}}return R},E.shrinkBuf=function(R,L){return R.length===L?R:R.subarray?R.subarray(0,L):(R.length=L,R)};var D={arraySet:function(R,L,Z,ee,ne){if(L.subarray&&R.subarray)R.set(L.subarray(Z,Z+ee),ne);else for(var J=0;J<ee;J++)R[ne+J]=L[Z+J]},flattenChunks:function(R){var L,Z,ee,ne,J,re;for(L=ee=0,Z=R.length;L<Z;L++)ee+=R[L].length;for(re=new Uint8Array(ee),L=ne=0,Z=R.length;L<Z;L++)re.set(J=R[L],ne),ne+=J.length;return re}},S={arraySet:function(R,L,Z,ee,ne){for(var J=0;J<ee;J++)R[ne+J]=L[Z+J]},flattenChunks:function(R){return[].concat.apply([],R)}};E.setTyped=function(R){R?(E.Buf8=Uint8Array,E.Buf16=Uint16Array,E.Buf32=Int32Array,E.assign(E,D)):(E.Buf8=Array,E.Buf16=Array,E.Buf32=Array,E.assign(E,S))},E.setTyped(v)},{}],42:[function(m,C,E){var v=m("./common"),D=!0,S=!0;try{String.fromCharCode.apply(null,[0])}catch{D=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{S=!1}for(var R=new v.Buf8(256),L=0;L<256;L++)R[L]=252<=L?6:248<=L?5:240<=L?4:224<=L?3:192<=L?2:1;function Z(ee,ne){if(ne<65537&&(ee.subarray&&S||!ee.subarray&&D))return String.fromCharCode.apply(null,v.shrinkBuf(ee,ne));for(var J="",re=0;re<ne;re++)J+=String.fromCharCode(ee[re]);return J}R[254]=R[254]=1,E.string2buf=function(ee){var ne,J,re,oe,fe,ae=ee.length,$=0;for(oe=0;oe<ae;oe++)55296==(64512&(J=ee.charCodeAt(oe)))&&oe+1<ae&&56320==(64512&(re=ee.charCodeAt(oe+1)))&&(J=65536+(J-55296<<10)+(re-56320),oe++),$+=J<128?1:J<2048?2:J<65536?3:4;for(ne=new v.Buf8($),oe=fe=0;fe<$;oe++)55296==(64512&(J=ee.charCodeAt(oe)))&&oe+1<ae&&56320==(64512&(re=ee.charCodeAt(oe+1)))&&(J=65536+(J-55296<<10)+(re-56320),oe++),J<128?ne[fe++]=J:(J<2048?ne[fe++]=192|J>>>6:(J<65536?ne[fe++]=224|J>>>12:(ne[fe++]=240|J>>>18,ne[fe++]=128|J>>>12&63),ne[fe++]=128|J>>>6&63),ne[fe++]=128|63&J);return ne},E.buf2binstring=function(ee){return Z(ee,ee.length)},E.binstring2buf=function(ee){for(var ne=new v.Buf8(ee.length),J=0,re=ne.length;J<re;J++)ne[J]=ee.charCodeAt(J);return ne},E.buf2string=function(ee,ne){var J,re,oe,fe,ae=ne||ee.length,$=new Array(2*ae);for(J=re=0;J<ae;)if((oe=ee[J++])<128)$[re++]=oe;else if(4<(fe=R[oe]))$[re++]=65533,J+=fe-1;else{for(oe&=2===fe?31:3===fe?15:7;1<fe&&J<ae;)oe=oe<<6|63&ee[J++],fe--;1<fe?$[re++]=65533:oe<65536?$[re++]=oe:($[re++]=55296|(oe-=65536)>>10&1023,$[re++]=56320|1023&oe)}return Z($,re)},E.utf8border=function(ee,ne){var J;for((ne=ne||ee.length)>ee.length&&(ne=ee.length),J=ne-1;0<=J&&128==(192&ee[J]);)J--;return J<0||0===J?ne:J+R[ee[J]]>ne?J:ne}},{"./common":41}],43:[function(m,C,E){C.exports=function(v,D,S,R){for(var L=65535&v|0,Z=v>>>16&65535|0,ee=0;0!==S;){for(S-=ee=2e3<S?2e3:S;Z=Z+(L=L+D[R++]|0)|0,--ee;);L%=65521,Z%=65521}return L|Z<<16|0}},{}],44:[function(m,C,E){C.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(m,C,E){var v=function(){for(var D,S=[],R=0;R<256;R++){D=R;for(var L=0;L<8;L++)D=1&D?3988292384^D>>>1:D>>>1;S[R]=D}return S}();C.exports=function(D,S,R,L){var Z=v,ee=L+R;D^=-1;for(var ne=L;ne<ee;ne++)D=D>>>8^Z[255&(D^S[ne])];return-1^D}},{}],46:[function(m,C,E){var v,D=m("../utils/common"),S=m("./trees"),R=m("./adler32"),L=m("./crc32"),Z=m("./messages"),ee=-2,ne=258,J=262,re=113;function oe(K,_e){return K.msg=Z[_e],_e}function fe(K){return(K<<1)-(4<K?9:0)}function ae(K){for(var _e=K.length;0<=--_e;)K[_e]=0}function $(K){var _e=K.state,q=_e.pending;q>K.avail_out&&(q=K.avail_out),0!==q&&(D.arraySet(K.output,_e.pending_buf,_e.pending_out,q,K.next_out),K.next_out+=q,_e.pending_out+=q,K.total_out+=q,K.avail_out-=q,_e.pending-=q,0===_e.pending&&(_e.pending_out=0))}function W(K,_e){S._tr_flush_block(K,0<=K.block_start?K.block_start:-1,K.strstart-K.block_start,_e),K.block_start=K.strstart,$(K.strm)}function ie(K,_e){K.pending_buf[K.pending++]=_e}function T(K,_e){K.pending_buf[K.pending++]=_e>>>8&255,K.pending_buf[K.pending++]=255&_e}function I(K,_e){var q,G,ue=K.max_chain_length,Te=K.strstart,Me=K.prev_length,Ee=K.nice_match,ke=K.strstart>K.w_size-J?K.strstart-(K.w_size-J):0,We=K.window,Ve=K.w_mask,Se=K.prev,qe=K.strstart+ne,ze=We[Te+Me-1],Ye=We[Te+Me];K.prev_length>=K.good_match&&(ue>>=2),Ee>K.lookahead&&(Ee=K.lookahead);do{if(We[(q=_e)+Me]===Ye&&We[q+Me-1]===ze&&We[q]===We[Te]&&We[++q]===We[Te+1]){Te+=2,q++;do{}while(We[++Te]===We[++q]&&We[++Te]===We[++q]&&We[++Te]===We[++q]&&We[++Te]===We[++q]&&We[++Te]===We[++q]&&We[++Te]===We[++q]&&We[++Te]===We[++q]&&We[++Te]===We[++q]&&Te<qe);if(G=ne-(qe-Te),Te=qe-ne,Me<G){if(K.match_start=_e,Ee<=(Me=G))break;ze=We[Te+Me-1],Ye=We[Te+Me]}}}while((_e=Se[_e&Ve])>ke&&0!=--ue);return Me<=K.lookahead?Me:K.lookahead}function k(K){var _e,q,G,ue,Te,Me,Ee,ke,We,Ve,Se=K.w_size;do{if(ue=K.window_size-K.lookahead-K.strstart,K.strstart>=Se+(Se-J)){for(D.arraySet(K.window,K.window,Se,Se,0),K.match_start-=Se,K.strstart-=Se,K.block_start-=Se,_e=q=K.hash_size;G=K.head[--_e],K.head[_e]=Se<=G?G-Se:0,--q;);for(_e=q=Se;G=K.prev[--_e],K.prev[_e]=Se<=G?G-Se:0,--q;);ue+=Se}if(0===K.strm.avail_in)break;if(Ee=K.window,ke=K.strstart+K.lookahead,Ve=void 0,(We=ue)<(Ve=(Me=K.strm).avail_in)&&(Ve=We),q=0===Ve?0:(Me.avail_in-=Ve,D.arraySet(Ee,Me.input,Me.next_in,Ve,ke),1===Me.state.wrap?Me.adler=R(Me.adler,Ee,Ve,ke):2===Me.state.wrap&&(Me.adler=L(Me.adler,Ee,Ve,ke)),Me.next_in+=Ve,Me.total_in+=Ve,Ve),K.lookahead+=q,K.lookahead+K.insert>=3)for(K.ins_h=K.window[Te=K.strstart-K.insert],K.ins_h=(K.ins_h<<K.hash_shift^K.window[Te+1])&K.hash_mask;K.insert&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[Te+3-1])&K.hash_mask,K.prev[Te&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=Te,Te++,K.insert--,!(K.lookahead+K.insert<3)););}while(K.lookahead<J&&0!==K.strm.avail_in)}function N(K,_e){for(var q,G;;){if(K.lookahead<J){if(k(K),K.lookahead<J&&0===_e)return 1;if(0===K.lookahead)break}if(q=0,K.lookahead>=3&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+3-1])&K.hash_mask,q=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),0!==q&&K.strstart-q<=K.w_size-J&&(K.match_length=I(K,q)),K.match_length>=3)if(G=S._tr_tally(K,K.strstart-K.match_start,K.match_length-3),K.lookahead-=K.match_length,K.match_length<=K.max_lazy_match&&K.lookahead>=3){for(K.match_length--;K.strstart++,K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+3-1])&K.hash_mask,q=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart,0!=--K.match_length;);K.strstart++}else K.strstart+=K.match_length,K.match_length=0,K.ins_h=K.window[K.strstart],K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+1])&K.hash_mask;else G=S._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++;if(G&&(W(K,!1),0===K.strm.avail_out))return 1}return K.insert=K.strstart<2?K.strstart:2,4===_e?(W(K,!0),0===K.strm.avail_out?3:4):K.last_lit&&(W(K,!1),0===K.strm.avail_out)?1:2}function P(K,_e){for(var q,G,ue;;){if(K.lookahead<J){if(k(K),K.lookahead<J&&0===_e)return 1;if(0===K.lookahead)break}if(q=0,K.lookahead>=3&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+3-1])&K.hash_mask,q=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),K.prev_length=K.match_length,K.prev_match=K.match_start,K.match_length=2,0!==q&&K.prev_length<K.max_lazy_match&&K.strstart-q<=K.w_size-J&&(K.match_length=I(K,q),K.match_length<=5&&(1===K.strategy||3===K.match_length&&4096<K.strstart-K.match_start)&&(K.match_length=2)),K.prev_length>=3&&K.match_length<=K.prev_length){for(ue=K.strstart+K.lookahead-3,G=S._tr_tally(K,K.strstart-1-K.prev_match,K.prev_length-3),K.lookahead-=K.prev_length-1,K.prev_length-=2;++K.strstart<=ue&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+3-1])&K.hash_mask,q=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),0!=--K.prev_length;);if(K.match_available=0,K.match_length=2,K.strstart++,G&&(W(K,!1),0===K.strm.avail_out))return 1}else if(K.match_available){if((G=S._tr_tally(K,0,K.window[K.strstart-1]))&&W(K,!1),K.strstart++,K.lookahead--,0===K.strm.avail_out)return 1}else K.match_available=1,K.strstart++,K.lookahead--}return K.match_available&&(G=S._tr_tally(K,0,K.window[K.strstart-1]),K.match_available=0),K.insert=K.strstart<2?K.strstart:2,4===_e?(W(K,!0),0===K.strm.avail_out?3:4):K.last_lit&&(W(K,!1),0===K.strm.avail_out)?1:2}function U(K,_e,q,G,ue){this.good_length=K,this.max_lazy=_e,this.nice_length=q,this.max_chain=G,this.func=ue}function Y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(1146),this.dyn_dtree=new D.Buf16(122),this.bl_tree=new D.Buf16(78),ae(this.dyn_ltree),ae(this.dyn_dtree),ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(16),this.heap=new D.Buf16(573),ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(573),ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(K){var _e;return K&&K.state?(K.total_in=K.total_out=0,K.data_type=2,(_e=K.state).pending=0,_e.pending_out=0,_e.wrap<0&&(_e.wrap=-_e.wrap),_e.status=_e.wrap?42:re,K.adler=2===_e.wrap?0:1,_e.last_flush=0,S._tr_init(_e),0):oe(K,ee)}function he(K){var q,_e=ce(K);return 0===_e&&((q=K.state).window_size=2*q.w_size,ae(q.head),q.max_lazy_match=v[q.level].max_lazy,q.good_match=v[q.level].good_length,q.nice_match=v[q.level].nice_length,q.max_chain_length=v[q.level].max_chain,q.strstart=0,q.block_start=0,q.lookahead=0,q.insert=0,q.match_length=q.prev_length=2,q.match_available=0,q.ins_h=0),_e}function be(K,_e,q,G,ue,Te){if(!K)return ee;var Me=1;if(-1===_e&&(_e=6),G<0?(Me=0,G=-G):15<G&&(Me=2,G-=16),ue<1||9<ue||8!==q||G<8||15<G||_e<0||9<_e||Te<0||4<Te)return oe(K,ee);8===G&&(G=9);var Ee=new Y;return(K.state=Ee).strm=K,Ee.wrap=Me,Ee.gzhead=null,Ee.w_bits=G,Ee.w_size=1<<Ee.w_bits,Ee.w_mask=Ee.w_size-1,Ee.hash_bits=ue+7,Ee.hash_size=1<<Ee.hash_bits,Ee.hash_mask=Ee.hash_size-1,Ee.hash_shift=~~((Ee.hash_bits+3-1)/3),Ee.window=new D.Buf8(2*Ee.w_size),Ee.head=new D.Buf16(Ee.hash_size),Ee.prev=new D.Buf16(Ee.w_size),Ee.lit_bufsize=1<<ue+6,Ee.pending_buf_size=4*Ee.lit_bufsize,Ee.pending_buf=new D.Buf8(Ee.pending_buf_size),Ee.d_buf=1*Ee.lit_bufsize,Ee.l_buf=3*Ee.lit_bufsize,Ee.level=_e,Ee.strategy=Te,Ee.method=q,he(K)}v=[new U(0,0,0,0,function(K,_e){var q=65535;for(q>K.pending_buf_size-5&&(q=K.pending_buf_size-5);;){if(K.lookahead<=1){if(k(K),0===K.lookahead&&0===_e)return 1;if(0===K.lookahead)break}K.strstart+=K.lookahead,K.lookahead=0;var G=K.block_start+q;if((0===K.strstart||K.strstart>=G)&&(K.lookahead=K.strstart-G,K.strstart=G,W(K,!1),0===K.strm.avail_out)||K.strstart-K.block_start>=K.w_size-J&&(W(K,!1),0===K.strm.avail_out))return 1}return K.insert=0,4===_e?(W(K,!0),0===K.strm.avail_out?3:4):(K.strstart>K.block_start&&W(K,!1),1)}),new U(4,4,8,4,N),new U(4,5,16,8,N),new U(4,6,32,32,N),new U(4,4,16,16,P),new U(8,16,32,32,P),new U(8,16,128,128,P),new U(8,32,128,256,P),new U(32,128,258,1024,P),new U(32,258,258,4096,P)],E.deflateInit=function(K,_e){return be(K,_e,8,15,8,0)},E.deflateInit2=be,E.deflateReset=he,E.deflateResetKeep=ce,E.deflateSetHeader=function(K,_e){return K&&K.state?2!==K.state.wrap?ee:(K.state.gzhead=_e,0):ee},E.deflate=function(K,_e){var q,G,ue,Te;if(!K||!K.state||5<_e||_e<0)return K?oe(K,ee):ee;if(G=K.state,!K.output||!K.input&&0!==K.avail_in||666===G.status&&4!==_e)return oe(K,0===K.avail_out?-5:ee);if(G.strm=K,q=G.last_flush,G.last_flush=_e,42===G.status)if(2===G.wrap)K.adler=0,ie(G,31),ie(G,139),ie(G,8),G.gzhead?(ie(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),ie(G,255&G.gzhead.time),ie(G,G.gzhead.time>>8&255),ie(G,G.gzhead.time>>16&255),ie(G,G.gzhead.time>>24&255),ie(G,9===G.level?2:2<=G.strategy||G.level<2?4:0),ie(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(ie(G,255&G.gzhead.extra.length),ie(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(K.adler=L(K.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(ie(G,0),ie(G,0),ie(G,0),ie(G,0),ie(G,0),ie(G,9===G.level?2:2<=G.strategy||G.level<2?4:0),ie(G,3),G.status=re);else{var Me=8+(G.w_bits-8<<4)<<8;Me|=(2<=G.strategy||G.level<2?0:G.level<6?1:6===G.level?2:3)<<6,0!==G.strstart&&(Me|=32),Me+=31-Me%31,G.status=re,T(G,Me),0!==G.strstart&&(T(G,K.adler>>>16),T(G,65535&K.adler)),K.adler=1}if(69===G.status)if(G.gzhead.extra){for(ue=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>ue&&(K.adler=L(K.adler,G.pending_buf,G.pending-ue,ue)),$(K),ue=G.pending,G.pending!==G.pending_buf_size));)ie(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>ue&&(K.adler=L(K.adler,G.pending_buf,G.pending-ue,ue)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(73===G.status)if(G.gzhead.name){ue=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>ue&&(K.adler=L(K.adler,G.pending_buf,G.pending-ue,ue)),$(K),ue=G.pending,G.pending===G.pending_buf_size)){Te=1;break}Te=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,ie(G,Te)}while(0!==Te);G.gzhead.hcrc&&G.pending>ue&&(K.adler=L(K.adler,G.pending_buf,G.pending-ue,ue)),0===Te&&(G.gzindex=0,G.status=91)}else G.status=91;if(91===G.status)if(G.gzhead.comment){ue=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>ue&&(K.adler=L(K.adler,G.pending_buf,G.pending-ue,ue)),$(K),ue=G.pending,G.pending===G.pending_buf_size)){Te=1;break}Te=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,ie(G,Te)}while(0!==Te);G.gzhead.hcrc&&G.pending>ue&&(K.adler=L(K.adler,G.pending_buf,G.pending-ue,ue)),0===Te&&(G.status=103)}else G.status=103;if(103===G.status&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&$(K),G.pending+2<=G.pending_buf_size&&(ie(G,255&K.adler),ie(G,K.adler>>8&255),K.adler=0,G.status=re)):G.status=re),0!==G.pending){if($(K),0===K.avail_out)return G.last_flush=-1,0}else if(0===K.avail_in&&fe(_e)<=fe(q)&&4!==_e)return oe(K,-5);if(666===G.status&&0!==K.avail_in)return oe(K,-5);if(0!==K.avail_in||0!==G.lookahead||0!==_e&&666!==G.status){var Ee=2===G.strategy?function(ke,We){for(var Ve;;){if(0===ke.lookahead&&(k(ke),0===ke.lookahead)){if(0===We)return 1;break}if(ke.match_length=0,Ve=S._tr_tally(ke,0,ke.window[ke.strstart]),ke.lookahead--,ke.strstart++,Ve&&(W(ke,!1),0===ke.strm.avail_out))return 1}return ke.insert=0,4===We?(W(ke,!0),0===ke.strm.avail_out?3:4):ke.last_lit&&(W(ke,!1),0===ke.strm.avail_out)?1:2}(G,_e):3===G.strategy?function(ke,We){for(var Ve,Se,qe,ze,Ye=ke.window;;){if(ke.lookahead<=ne){if(k(ke),ke.lookahead<=ne&&0===We)return 1;if(0===ke.lookahead)break}if(ke.match_length=0,ke.lookahead>=3&&0<ke.strstart&&(Se=Ye[qe=ke.strstart-1])===Ye[++qe]&&Se===Ye[++qe]&&Se===Ye[++qe]){ze=ke.strstart+ne;do{}while(Se===Ye[++qe]&&Se===Ye[++qe]&&Se===Ye[++qe]&&Se===Ye[++qe]&&Se===Ye[++qe]&&Se===Ye[++qe]&&Se===Ye[++qe]&&Se===Ye[++qe]&&qe<ze);ke.match_length=ne-(ze-qe),ke.match_length>ke.lookahead&&(ke.match_length=ke.lookahead)}if(ke.match_length>=3?(Ve=S._tr_tally(ke,1,ke.match_length-3),ke.lookahead-=ke.match_length,ke.strstart+=ke.match_length,ke.match_length=0):(Ve=S._tr_tally(ke,0,ke.window[ke.strstart]),ke.lookahead--,ke.strstart++),Ve&&(W(ke,!1),0===ke.strm.avail_out))return 1}return ke.insert=0,4===We?(W(ke,!0),0===ke.strm.avail_out?3:4):ke.last_lit&&(W(ke,!1),0===ke.strm.avail_out)?1:2}(G,_e):v[G.level].func(G,_e);if(3!==Ee&&4!==Ee||(G.status=666),1===Ee||3===Ee)return 0===K.avail_out&&(G.last_flush=-1),0;if(2===Ee&&(1===_e?S._tr_align(G):5!==_e&&(S._tr_stored_block(G,0,0,!1),3===_e&&(ae(G.head),0===G.lookahead&&(G.strstart=0,G.block_start=0,G.insert=0))),$(K),0===K.avail_out))return G.last_flush=-1,0}return 4!==_e?0:G.wrap<=0?1:(2===G.wrap?(ie(G,255&K.adler),ie(G,K.adler>>8&255),ie(G,K.adler>>16&255),ie(G,K.adler>>24&255),ie(G,255&K.total_in),ie(G,K.total_in>>8&255),ie(G,K.total_in>>16&255),ie(G,K.total_in>>24&255)):(T(G,K.adler>>>16),T(G,65535&K.adler)),$(K),0<G.wrap&&(G.wrap=-G.wrap),0!==G.pending?0:1)},E.deflateEnd=function(K){var _e;return K&&K.state?42!==(_e=K.state.status)&&69!==_e&&73!==_e&&91!==_e&&103!==_e&&_e!==re&&666!==_e?oe(K,ee):(K.state=null,_e===re?oe(K,-3):0):ee},E.deflateSetDictionary=function(K,_e){var q,G,ue,Te,Me,Ee,ke,We,Ve=_e.length;if(!K||!K.state||2===(Te=(q=K.state).wrap)||1===Te&&42!==q.status||q.lookahead)return ee;for(1===Te&&(K.adler=R(K.adler,_e,Ve,0)),q.wrap=0,Ve>=q.w_size&&(0===Te&&(ae(q.head),q.strstart=0,q.block_start=0,q.insert=0),We=new D.Buf8(q.w_size),D.arraySet(We,_e,Ve-q.w_size,q.w_size,0),_e=We,Ve=q.w_size),Me=K.avail_in,Ee=K.next_in,ke=K.input,K.avail_in=Ve,K.next_in=0,K.input=_e,k(q);q.lookahead>=3;){for(G=q.strstart,ue=q.lookahead-2;q.ins_h=(q.ins_h<<q.hash_shift^q.window[G+3-1])&q.hash_mask,q.prev[G&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=G,G++,--ue;);q.strstart=G,q.lookahead=2,k(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=2,q.match_available=0,K.next_in=Ee,K.input=ke,K.avail_in=Me,q.wrap=Te,0},E.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(m,C,E){C.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(m,C,E){C.exports=function(v,D){var S,R,L,Z,ee,ne,J,re,oe,fe,ae,$,W,ie,T,I,k,N,P,U,Y,ce,he,be,K;be=v.input,L=(R=v.next_in)+(v.avail_in-5),K=v.output,ee=(Z=v.next_out)-(D-v.avail_out),ne=Z+(v.avail_out-257),J=(S=v.state).dmax,re=S.wsize,oe=S.whave,fe=S.wnext,ae=S.window,$=S.hold,W=S.bits,ie=S.lencode,T=S.distcode,I=(1<<S.lenbits)-1,k=(1<<S.distbits)-1;e:do{W<15&&($+=be[R++]<<W,$+=be[R++]<<(W+=8),W+=8),N=ie[$&I];t:for(;;){if($>>>=P=N>>>24,W-=P,0==(P=N>>>16&255))K[Z++]=65535&N;else{if(!(16&P)){if(!(64&P)){N=ie[(65535&N)+($&(1<<P)-1)];continue t}if(32&P){S.mode=12;break e}v.msg="invalid literal/length code",S.mode=30;break e}U=65535&N,(P&=15)&&(W<P&&($+=be[R++]<<W,W+=8),U+=$&(1<<P)-1,$>>>=P,W-=P),W<15&&($+=be[R++]<<W,$+=be[R++]<<(W+=8),W+=8),N=T[$&k];n:for(;;){if($>>>=P=N>>>24,W-=P,!(16&(P=N>>>16&255))){if(!(64&P)){N=T[(65535&N)+($&(1<<P)-1)];continue n}v.msg="invalid distance code",S.mode=30;break e}if(Y=65535&N,W<(P&=15)&&($+=be[R++]<<W,(W+=8)<P&&($+=be[R++]<<W,W+=8)),J<(Y+=$&(1<<P)-1)){v.msg="invalid distance too far back",S.mode=30;break e}if($>>>=P,W-=P,(P=Z-ee)<Y){if(oe<(P=Y-P)&&S.sane){v.msg="invalid distance too far back",S.mode=30;break e}if(he=ae,(ce=0)===fe){if(ce+=re-P,P<U){for(U-=P;K[Z++]=ae[ce++],--P;);ce=Z-Y,he=K}}else if(fe<P){if(ce+=re+fe-P,(P-=fe)<U){for(U-=P;K[Z++]=ae[ce++],--P;);if(ce=0,fe<U){for(U-=P=fe;K[Z++]=ae[ce++],--P;);ce=Z-Y,he=K}}}else if(ce+=fe-P,P<U){for(U-=P;K[Z++]=ae[ce++],--P;);ce=Z-Y,he=K}for(;2<U;)K[Z++]=he[ce++],K[Z++]=he[ce++],K[Z++]=he[ce++],U-=3;U&&(K[Z++]=he[ce++],1<U&&(K[Z++]=he[ce++]))}else{for(ce=Z-Y;K[Z++]=K[ce++],K[Z++]=K[ce++],K[Z++]=K[ce++],2<(U-=3););U&&(K[Z++]=K[ce++],1<U&&(K[Z++]=K[ce++]))}break}}break}}while(R<L&&Z<ne);R-=U=W>>3,$&=(1<<(W-=U<<3))-1,v.next_in=R,v.next_out=Z,v.avail_in=R<L?L-R+5:5-(R-L),v.avail_out=Z<ne?ne-Z+257:257-(Z-ne),S.hold=$,S.bits=W}},{}],49:[function(m,C,E){var v=m("../utils/common"),D=m("./adler32"),S=m("./crc32"),R=m("./inffast"),L=m("./inftrees"),Z=-2;function ee(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function ne(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function J(I){var k;return I&&I.state?(I.total_in=I.total_out=(k=I.state).total=0,I.msg="",k.wrap&&(I.adler=1&k.wrap),k.mode=1,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new v.Buf32(852),k.distcode=k.distdyn=new v.Buf32(592),k.sane=1,k.back=-1,0):Z}function re(I){var k;return I&&I.state?((k=I.state).wsize=0,k.whave=0,k.wnext=0,J(I)):Z}function oe(I,k){var N,P;return I&&I.state?(P=I.state,k<0?(N=0,k=-k):(N=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?Z:(null!==P.window&&P.wbits!==k&&(P.window=null),P.wrap=N,P.wbits=k,re(I))):Z}function fe(I,k){var N,P;return I?(P=new ne,(I.state=P).window=null,0!==(N=oe(I,k))&&(I.state=null),N):Z}var ae,$,W=!0;function ie(I){if(W){var k;for(ae=new v.Buf32(512),$=new v.Buf32(32),k=0;k<144;)I.lens[k++]=8;for(;k<256;)I.lens[k++]=9;for(;k<280;)I.lens[k++]=7;for(;k<288;)I.lens[k++]=8;for(L(1,I.lens,0,288,ae,0,I.work,{bits:9}),k=0;k<32;)I.lens[k++]=5;L(2,I.lens,0,32,$,0,I.work,{bits:5}),W=!1}I.lencode=ae,I.lenbits=9,I.distcode=$,I.distbits=5}function T(I,k,N,P){var U,Y=I.state;return null===Y.window&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new v.Buf8(Y.wsize)),P>=Y.wsize?(v.arraySet(Y.window,k,N-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(P<(U=Y.wsize-Y.wnext)&&(U=P),v.arraySet(Y.window,k,N-P,U,Y.wnext),(P-=U)?(v.arraySet(Y.window,k,N-P,P,0),Y.wnext=P,Y.whave=Y.wsize):(Y.wnext+=U,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=U))),0}E.inflateReset=re,E.inflateReset2=oe,E.inflateResetKeep=J,E.inflateInit=function(I){return fe(I,15)},E.inflateInit2=fe,E.inflate=function(I,k){var N,P,U,Y,ce,he,be,K,_e,q,G,ue,Te,Me,Ee,ke,We,Ve,Se,qe,ze,Ye,st,tt,it=0,lt=new v.Buf8(4),ht=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&0!==I.avail_in)return Z;12===(N=I.state).mode&&(N.mode=13),ce=I.next_out,U=I.output,Y=I.next_in,P=I.input,K=N.hold,_e=N.bits,q=he=I.avail_in,G=be=I.avail_out,Ye=0;e:for(;;)switch(N.mode){case 1:if(0===N.wrap){N.mode=13;break}for(;_e<16;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}if(2&N.wrap&&35615===K){lt[N.check=0]=255&K,lt[1]=K>>>8&255,N.check=S(N.check,lt,2,0),_e=K=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&K)<<8)+(K>>8))%31){I.msg="incorrect header check",N.mode=30;break}if(8!=(15&K)){I.msg="unknown compression method",N.mode=30;break}if(_e-=4,ze=8+(15&(K>>>=4)),0===N.wbits)N.wbits=ze;else if(ze>N.wbits){I.msg="invalid window size",N.mode=30;break}N.dmax=1<<ze,I.adler=N.check=1,N.mode=512&K?10:12,_e=K=0;break;case 2:for(;_e<16;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}if(N.flags=K,8!=(255&N.flags)){I.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){I.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=K>>8&1),512&N.flags&&(lt[0]=255&K,lt[1]=K>>>8&255,N.check=S(N.check,lt,2,0)),_e=K=0,N.mode=3;case 3:for(;_e<32;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}N.head&&(N.head.time=K),512&N.flags&&(lt[0]=255&K,lt[1]=K>>>8&255,lt[2]=K>>>16&255,lt[3]=K>>>24&255,N.check=S(N.check,lt,4,0)),_e=K=0,N.mode=4;case 4:for(;_e<16;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}N.head&&(N.head.xflags=255&K,N.head.os=K>>8),512&N.flags&&(lt[0]=255&K,lt[1]=K>>>8&255,N.check=S(N.check,lt,2,0)),_e=K=0,N.mode=5;case 5:if(1024&N.flags){for(;_e<16;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}N.length=K,N.head&&(N.head.extra_len=K),512&N.flags&&(lt[0]=255&K,lt[1]=K>>>8&255,N.check=S(N.check,lt,2,0)),_e=K=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(he<(ue=N.length)&&(ue=he),ue&&(N.head&&(ze=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),v.arraySet(N.head.extra,P,Y,ue,ze)),512&N.flags&&(N.check=S(N.check,P,ue,Y)),he-=ue,Y+=ue,N.length-=ue),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(0===he)break e;for(ue=0;ze=P[Y+ue++],N.head&&ze&&N.length<65536&&(N.head.name+=String.fromCharCode(ze)),ze&&ue<he;);if(512&N.flags&&(N.check=S(N.check,P,ue,Y)),he-=ue,Y+=ue,ze)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(0===he)break e;for(ue=0;ze=P[Y+ue++],N.head&&ze&&N.length<65536&&(N.head.comment+=String.fromCharCode(ze)),ze&&ue<he;);if(512&N.flags&&(N.check=S(N.check,P,ue,Y)),he-=ue,Y+=ue,ze)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;_e<16;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}if(K!==(65535&N.check)){I.msg="header crc mismatch",N.mode=30;break}_e=K=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),I.adler=N.check=0,N.mode=12;break;case 10:for(;_e<32;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}I.adler=N.check=ee(K),_e=K=0,N.mode=11;case 11:if(0===N.havedict)return I.next_out=ce,I.avail_out=be,I.next_in=Y,I.avail_in=he,N.hold=K,N.bits=_e,2;I.adler=N.check=1,N.mode=12;case 12:if(5===k||6===k)break e;case 13:if(N.last){K>>>=7&_e,_e-=7&_e,N.mode=27;break}for(;_e<3;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}switch(N.last=1&K,_e-=1,3&(K>>>=1)){case 0:N.mode=14;break;case 1:if(ie(N),N.mode=20,6!==k)break;K>>>=2,_e-=2;break e;case 2:N.mode=17;break;case 3:I.msg="invalid block type",N.mode=30}K>>>=2,_e-=2;break;case 14:for(K>>>=7&_e,_e-=7&_e;_e<32;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}if((65535&K)!=(K>>>16^65535)){I.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&K,_e=K=0,N.mode=15,6===k)break e;case 15:N.mode=16;case 16:if(ue=N.length){if(he<ue&&(ue=he),be<ue&&(ue=be),0===ue)break e;v.arraySet(U,P,Y,ue,ce),he-=ue,Y+=ue,be-=ue,ce+=ue,N.length-=ue;break}N.mode=12;break;case 17:for(;_e<14;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}if(N.nlen=257+(31&K),_e-=5,N.ndist=1+(31&(K>>>=5)),_e-=5,N.ncode=4+(15&(K>>>=5)),K>>>=4,_e-=4,286<N.nlen||30<N.ndist){I.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;_e<3;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}N.lens[ht[N.have++]]=7&K,K>>>=3,_e-=3}for(;N.have<19;)N.lens[ht[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,Ye=L(0,N.lens,0,19,N.lencode,0,N.work,st={bits:N.lenbits}),N.lenbits=st.bits,Ye){I.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ke=(it=N.lencode[K&(1<<N.lenbits)-1])>>>16&255,We=65535&it,!((Ee=it>>>24)<=_e);){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}if(We<16)K>>>=Ee,_e-=Ee,N.lens[N.have++]=We;else{if(16===We){for(tt=Ee+2;_e<tt;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}if(K>>>=Ee,_e-=Ee,0===N.have){I.msg="invalid bit length repeat",N.mode=30;break}ze=N.lens[N.have-1],ue=3+(3&K),K>>>=2,_e-=2}else if(17===We){for(tt=Ee+3;_e<tt;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}_e-=Ee,ze=0,ue=3+(7&(K>>>=Ee)),K>>>=3,_e-=3}else{for(tt=Ee+7;_e<tt;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}_e-=Ee,ze=0,ue=11+(127&(K>>>=Ee)),K>>>=7,_e-=7}if(N.have+ue>N.nlen+N.ndist){I.msg="invalid bit length repeat",N.mode=30;break}for(;ue--;)N.lens[N.have++]=ze}}if(30===N.mode)break;if(0===N.lens[256]){I.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,Ye=L(1,N.lens,0,N.nlen,N.lencode,0,N.work,st={bits:N.lenbits}),N.lenbits=st.bits,Ye){I.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,Ye=L(2,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,st={bits:N.distbits}),N.distbits=st.bits,Ye){I.msg="invalid distances set",N.mode=30;break}if(N.mode=20,6===k)break e;case 20:N.mode=21;case 21:if(6<=he&&258<=be){I.next_out=ce,I.avail_out=be,I.next_in=Y,I.avail_in=he,N.hold=K,N.bits=_e,R(I,G),ce=I.next_out,U=I.output,be=I.avail_out,Y=I.next_in,P=I.input,he=I.avail_in,K=N.hold,_e=N.bits,12===N.mode&&(N.back=-1);break}for(N.back=0;ke=(it=N.lencode[K&(1<<N.lenbits)-1])>>>16&255,We=65535&it,!((Ee=it>>>24)<=_e);){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}if(ke&&!(240&ke)){for(Ve=Ee,Se=ke,qe=We;ke=(it=N.lencode[qe+((K&(1<<Ve+Se)-1)>>Ve)])>>>16&255,We=65535&it,!(Ve+(Ee=it>>>24)<=_e);){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}K>>>=Ve,_e-=Ve,N.back+=Ve}if(K>>>=Ee,_e-=Ee,N.back+=Ee,N.length=We,0===ke){N.mode=26;break}if(32&ke){N.back=-1,N.mode=12;break}if(64&ke){I.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ke,N.mode=22;case 22:if(N.extra){for(tt=N.extra;_e<tt;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}N.length+=K&(1<<N.extra)-1,K>>>=N.extra,_e-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ke=(it=N.distcode[K&(1<<N.distbits)-1])>>>16&255,We=65535&it,!((Ee=it>>>24)<=_e);){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}if(!(240&ke)){for(Ve=Ee,Se=ke,qe=We;ke=(it=N.distcode[qe+((K&(1<<Ve+Se)-1)>>Ve)])>>>16&255,We=65535&it,!(Ve+(Ee=it>>>24)<=_e);){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}K>>>=Ve,_e-=Ve,N.back+=Ve}if(K>>>=Ee,_e-=Ee,N.back+=Ee,64&ke){I.msg="invalid distance code",N.mode=30;break}N.offset=We,N.extra=15&ke,N.mode=24;case 24:if(N.extra){for(tt=N.extra;_e<tt;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}N.offset+=K&(1<<N.extra)-1,K>>>=N.extra,_e-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){I.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(0===be)break e;if(N.offset>(ue=G-be)){if((ue=N.offset-ue)>N.whave&&N.sane){I.msg="invalid distance too far back",N.mode=30;break}Te=ue>N.wnext?N.wsize-(ue-=N.wnext):N.wnext-ue,ue>N.length&&(ue=N.length),Me=N.window}else Me=U,Te=ce-N.offset,ue=N.length;for(be<ue&&(ue=be),be-=ue,N.length-=ue;U[ce++]=Me[Te++],--ue;);0===N.length&&(N.mode=21);break;case 26:if(0===be)break e;U[ce++]=N.length,be--,N.mode=21;break;case 27:if(N.wrap){for(;_e<32;){if(0===he)break e;he--,K|=P[Y++]<<_e,_e+=8}if(I.total_out+=G-=be,N.total+=G,G&&(I.adler=N.check=N.flags?S(N.check,U,G,ce-G):D(N.check,U,G,ce-G)),G=be,(N.flags?K:ee(K))!==N.check){I.msg="incorrect data check",N.mode=30;break}_e=K=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;_e<32;){if(0===he)break e;he--,K+=P[Y++]<<_e,_e+=8}if(K!==(4294967295&N.total)){I.msg="incorrect length check",N.mode=30;break}_e=K=0}N.mode=29;case 29:Ye=1;break e;case 30:Ye=-3;break e;case 31:return-4;default:return Z}return I.next_out=ce,I.avail_out=be,I.next_in=Y,I.avail_in=he,N.hold=K,N.bits=_e,(N.wsize||G!==I.avail_out&&N.mode<30&&(N.mode<27||4!==k))&&T(I,I.output,I.next_out,G-I.avail_out)?(N.mode=31,-4):(G-=I.avail_out,I.total_in+=q-=I.avail_in,I.total_out+=G,N.total+=G,N.wrap&&G&&(I.adler=N.check=N.flags?S(N.check,U,G,I.next_out-G):D(N.check,U,G,I.next_out-G)),I.data_type=N.bits+(N.last?64:0)+(12===N.mode?128:0)+(20===N.mode||15===N.mode?256:0),(0==q&&0===G||4===k)&&0===Ye&&(Ye=-5),Ye)},E.inflateEnd=function(I){if(!I||!I.state)return Z;var k=I.state;return k.window&&(k.window=null),I.state=null,0},E.inflateGetHeader=function(I,k){var N;return I&&I.state&&2&(N=I.state).wrap?((N.head=k).done=!1,0):Z},E.inflateSetDictionary=function(I,k){var N,P=k.length;return I&&I.state?0!==(N=I.state).wrap&&11!==N.mode?Z:11===N.mode&&D(1,k,P,0)!==N.check?-3:T(I,k,P,P)?(N.mode=31,-4):(N.havedict=1,0):Z},E.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(m,C,E){var v=m("../utils/common"),D=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],S=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],R=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],L=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];C.exports=function(Z,ee,ne,J,re,oe,fe,ae){var $,W,ie,T,I,k,N,P,U,Y=ae.bits,ce=0,he=0,be=0,K=0,_e=0,q=0,G=0,ue=0,Te=0,Me=0,Ee=null,ke=0,We=new v.Buf16(16),Ve=new v.Buf16(16),Se=null,qe=0;for(ce=0;ce<=15;ce++)We[ce]=0;for(he=0;he<J;he++)We[ee[ne+he]]++;for(_e=Y,K=15;1<=K&&0===We[K];K--);if(K<_e&&(_e=K),0===K)return re[oe++]=20971520,re[oe++]=20971520,ae.bits=1,0;for(be=1;be<K&&0===We[be];be++);for(_e<be&&(_e=be),ce=ue=1;ce<=15;ce++)if(ue<<=1,(ue-=We[ce])<0)return-1;if(0<ue&&(0===Z||1!==K))return-1;for(Ve[1]=0,ce=1;ce<15;ce++)Ve[ce+1]=Ve[ce]+We[ce];for(he=0;he<J;he++)0!==ee[ne+he]&&(fe[Ve[ee[ne+he]]++]=he);if(k=0===Z?(Ee=Se=fe,19):1===Z?(Ee=D,ke-=257,Se=S,qe-=257,256):(Ee=R,Se=L,-1),ce=be,I=oe,G=he=Me=0,ie=-1,T=(Te=1<<(q=_e))-1,1===Z&&852<Te||2===Z&&592<Te)return 1;for(;;){for(N=ce-G,U=fe[he]<k?(P=0,fe[he]):fe[he]>k?(P=Se[qe+fe[he]],Ee[ke+fe[he]]):(P=96,0),$=1<<ce-G,be=W=1<<q;re[I+(Me>>G)+(W-=$)]=N<<24|P<<16|U|0,0!==W;);for($=1<<ce-1;Me&$;)$>>=1;if(0!==$?(Me&=$-1,Me+=$):Me=0,he++,0==--We[ce]){if(ce===K)break;ce=ee[ne+fe[he]]}if(_e<ce&&(Me&T)!==ie){for(0===G&&(G=_e),I+=be,ue=1<<(q=ce-G);q+G<K&&!((ue-=We[q+G])<=0);)q++,ue<<=1;if(Te+=1<<q,1===Z&&852<Te||2===Z&&592<Te)return 1;re[ie=Me&T]=_e<<24|q<<16|I-oe|0}}return 0!==Me&&(re[I+Me]=ce-G<<24|64<<16|0),ae.bits=_e,0}},{"../utils/common":41}],51:[function(m,C,E){C.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(m,C,E){var v=m("../utils/common");function D(Se){for(var qe=Se.length;0<=--qe;)Se[qe]=0}var S=256,R=286,L=30,Z=15,ee=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=new Array(576);D(oe);var fe=new Array(60);D(fe);var ae=new Array(512);D(ae);var $=new Array(256);D($);var W=new Array(29);D(W);var ie,T,I,k=new Array(L);function N(Se,qe,ze,Ye,st){this.static_tree=Se,this.extra_bits=qe,this.extra_base=ze,this.elems=Ye,this.max_length=st,this.has_stree=Se&&Se.length}function P(Se,qe){this.dyn_tree=Se,this.max_code=0,this.stat_desc=qe}function U(Se){return Se<256?ae[Se]:ae[256+(Se>>>7)]}function Y(Se,qe){Se.pending_buf[Se.pending++]=255&qe,Se.pending_buf[Se.pending++]=qe>>>8&255}function ce(Se,qe,ze){Se.bi_valid>16-ze?(Se.bi_buf|=qe<<Se.bi_valid&65535,Y(Se,Se.bi_buf),Se.bi_buf=qe>>16-Se.bi_valid,Se.bi_valid+=ze-16):(Se.bi_buf|=qe<<Se.bi_valid&65535,Se.bi_valid+=ze)}function he(Se,qe,ze){ce(Se,ze[2*qe],ze[2*qe+1])}function be(Se,qe){for(var ze=0;ze|=1&Se,Se>>>=1,ze<<=1,0<--qe;);return ze>>>1}function K(Se,qe,ze){var Ye,st,tt=new Array(16),it=0;for(Ye=1;Ye<=Z;Ye++)tt[Ye]=it=it+ze[Ye-1]<<1;for(st=0;st<=qe;st++){var lt=Se[2*st+1];0!==lt&&(Se[2*st]=be(tt[lt]++,lt))}}function _e(Se){var qe;for(qe=0;qe<R;qe++)Se.dyn_ltree[2*qe]=0;for(qe=0;qe<L;qe++)Se.dyn_dtree[2*qe]=0;for(qe=0;qe<19;qe++)Se.bl_tree[2*qe]=0;Se.dyn_ltree[512]=1,Se.opt_len=Se.static_len=0,Se.last_lit=Se.matches=0}function q(Se){8<Se.bi_valid?Y(Se,Se.bi_buf):0<Se.bi_valid&&(Se.pending_buf[Se.pending++]=Se.bi_buf),Se.bi_buf=0,Se.bi_valid=0}function G(Se,qe,ze,Ye){var st=2*qe,tt=2*ze;return Se[st]<Se[tt]||Se[st]===Se[tt]&&Ye[qe]<=Ye[ze]}function ue(Se,qe,ze){for(var Ye=Se.heap[ze],st=ze<<1;st<=Se.heap_len&&(st<Se.heap_len&&G(qe,Se.heap[st+1],Se.heap[st],Se.depth)&&st++,!G(qe,Ye,Se.heap[st],Se.depth));)Se.heap[ze]=Se.heap[st],ze=st,st<<=1;Se.heap[ze]=Ye}function Te(Se,qe,ze){var Ye,st,tt,it,lt=0;if(0!==Se.last_lit)for(;Ye=Se.pending_buf[Se.d_buf+2*lt]<<8|Se.pending_buf[Se.d_buf+2*lt+1],st=Se.pending_buf[Se.l_buf+lt],lt++,0===Ye?he(Se,st,qe):(he(Se,(tt=$[st])+S+1,qe),0!==(it=ee[tt])&&ce(Se,st-=W[tt],it),he(Se,tt=U(--Ye),ze),0!==(it=ne[tt])&&ce(Se,Ye-=k[tt],it)),lt<Se.last_lit;);he(Se,256,qe)}function Me(Se,qe){var ze,Ye,st,tt=qe.dyn_tree,it=qe.stat_desc.static_tree,lt=qe.stat_desc.has_stree,ht=qe.stat_desc.elems,kt=-1;for(Se.heap_len=0,Se.heap_max=573,ze=0;ze<ht;ze++)0!==tt[2*ze]?(Se.heap[++Se.heap_len]=kt=ze,Se.depth[ze]=0):tt[2*ze+1]=0;for(;Se.heap_len<2;)tt[2*(st=Se.heap[++Se.heap_len]=kt<2?++kt:0)]=1,Se.depth[st]=0,Se.opt_len--,lt&&(Se.static_len-=it[2*st+1]);for(qe.max_code=kt,ze=Se.heap_len>>1;1<=ze;ze--)ue(Se,tt,ze);for(st=ht;ze=Se.heap[1],Se.heap[1]=Se.heap[Se.heap_len--],ue(Se,tt,1),Ye=Se.heap[1],Se.heap[--Se.heap_max]=ze,Se.heap[--Se.heap_max]=Ye,tt[2*st]=tt[2*ze]+tt[2*Ye],Se.depth[st]=(Se.depth[ze]>=Se.depth[Ye]?Se.depth[ze]:Se.depth[Ye])+1,tt[2*ze+1]=tt[2*Ye+1]=st,Se.heap[1]=st++,ue(Se,tt,1),2<=Se.heap_len;);Se.heap[--Se.heap_max]=Se.heap[1],function(Wt,Nt){var qt,Dn,gn,Mt,sn,Dt,Fe=Nt.dyn_tree,Be=Nt.max_code,Pe=Nt.stat_desc.static_tree,Ue=Nt.stat_desc.has_stree,Ze=Nt.stat_desc.extra_bits,ot=Nt.stat_desc.extra_base,yt=Nt.stat_desc.max_length,Jt=0;for(Mt=0;Mt<=Z;Mt++)Wt.bl_count[Mt]=0;for(Fe[2*Wt.heap[Wt.heap_max]+1]=0,qt=Wt.heap_max+1;qt<573;qt++)yt<(Mt=Fe[2*Fe[2*(Dn=Wt.heap[qt])+1]+1]+1)&&(Mt=yt,Jt++),Fe[2*Dn+1]=Mt,Be<Dn||(Wt.bl_count[Mt]++,sn=0,ot<=Dn&&(sn=Ze[Dn-ot]),Wt.opt_len+=(Dt=Fe[2*Dn])*(Mt+sn),Ue&&(Wt.static_len+=Dt*(Pe[2*Dn+1]+sn)));if(0!==Jt){do{for(Mt=yt-1;0===Wt.bl_count[Mt];)Mt--;Wt.bl_count[Mt]--,Wt.bl_count[Mt+1]+=2,Wt.bl_count[yt]--,Jt-=2}while(0<Jt);for(Mt=yt;0!==Mt;Mt--)for(Dn=Wt.bl_count[Mt];0!==Dn;)Be<(gn=Wt.heap[--qt])||(Fe[2*gn+1]!==Mt&&(Wt.opt_len+=(Mt-Fe[2*gn+1])*Fe[2*gn],Fe[2*gn+1]=Mt),Dn--)}}(Se,qe),K(tt,kt,Se.bl_count)}function Ee(Se,qe,ze){var Ye,st,tt=-1,it=qe[1],lt=0,ht=7,kt=4;for(0===it&&(ht=138,kt=3),qe[2*(ze+1)+1]=65535,Ye=0;Ye<=ze;Ye++)st=it,it=qe[2*(Ye+1)+1],++lt<ht&&st===it||(lt<kt?Se.bl_tree[2*st]+=lt:0!==st?(st!==tt&&Se.bl_tree[2*st]++,Se.bl_tree[32]++):lt<=10?Se.bl_tree[34]++:Se.bl_tree[36]++,tt=st,kt=(lt=0)===it?(ht=138,3):st===it?(ht=6,3):(ht=7,4))}function ke(Se,qe,ze){var Ye,st,tt=-1,it=qe[1],lt=0,ht=7,kt=4;for(0===it&&(ht=138,kt=3),Ye=0;Ye<=ze;Ye++)if(st=it,it=qe[2*(Ye+1)+1],!(++lt<ht&&st===it)){if(lt<kt)for(;he(Se,st,Se.bl_tree),0!=--lt;);else 0!==st?(st!==tt&&(he(Se,st,Se.bl_tree),lt--),he(Se,16,Se.bl_tree),ce(Se,lt-3,2)):lt<=10?(he(Se,17,Se.bl_tree),ce(Se,lt-3,3)):(he(Se,18,Se.bl_tree),ce(Se,lt-11,7));tt=st,kt=(lt=0)===it?(ht=138,3):st===it?(ht=6,3):(ht=7,4)}}D(k);var We=!1;function Ve(Se,qe,ze,Ye){var st,tt,it;ce(Se,0+(Ye?1:0),3),tt=qe,it=ze,q(st=Se),Y(st,it),Y(st,~it),v.arraySet(st.pending_buf,st.window,tt,it,st.pending),st.pending+=it}E._tr_init=function(Se){We||(function(){var qe,ze,Ye,st,tt,it=new Array(16);for(st=Ye=0;st<28;st++)for(W[st]=Ye,qe=0;qe<1<<ee[st];qe++)$[Ye++]=st;for($[Ye-1]=st,st=tt=0;st<16;st++)for(k[st]=tt,qe=0;qe<1<<ne[st];qe++)ae[tt++]=st;for(tt>>=7;st<L;st++)for(k[st]=tt<<7,qe=0;qe<1<<ne[st]-7;qe++)ae[256+tt++]=st;for(ze=0;ze<=Z;ze++)it[ze]=0;for(qe=0;qe<=143;)oe[2*qe+1]=8,qe++,it[8]++;for(;qe<=255;)oe[2*qe+1]=9,qe++,it[9]++;for(;qe<=279;)oe[2*qe+1]=7,qe++,it[7]++;for(;qe<=287;)oe[2*qe+1]=8,qe++,it[8]++;for(K(oe,287,it),qe=0;qe<L;qe++)fe[2*qe+1]=5,fe[2*qe]=be(qe,5);ie=new N(oe,ee,257,R,Z),T=new N(fe,ne,0,L,Z),I=new N(new Array(0),J,0,19,7)}(),We=!0),Se.l_desc=new P(Se.dyn_ltree,ie),Se.d_desc=new P(Se.dyn_dtree,T),Se.bl_desc=new P(Se.bl_tree,I),Se.bi_buf=0,Se.bi_valid=0,_e(Se)},E._tr_stored_block=Ve,E._tr_flush_block=function(Se,qe,ze,Ye){var st,tt,it=0;0<Se.level?(2===Se.strm.data_type&&(Se.strm.data_type=function(lt){var ht,kt=4093624447;for(ht=0;ht<=31;ht++,kt>>>=1)if(1&kt&&0!==lt.dyn_ltree[2*ht])return 0;if(0!==lt.dyn_ltree[18]||0!==lt.dyn_ltree[20]||0!==lt.dyn_ltree[26])return 1;for(ht=32;ht<S;ht++)if(0!==lt.dyn_ltree[2*ht])return 1;return 0}(Se)),Me(Se,Se.l_desc),Me(Se,Se.d_desc),it=function(lt){var ht;for(Ee(lt,lt.dyn_ltree,lt.l_desc.max_code),Ee(lt,lt.dyn_dtree,lt.d_desc.max_code),Me(lt,lt.bl_desc),ht=18;3<=ht&&0===lt.bl_tree[2*re[ht]+1];ht--);return lt.opt_len+=3*(ht+1)+5+5+4,ht}(Se),(tt=Se.static_len+3+7>>>3)<=(st=Se.opt_len+3+7>>>3)&&(st=tt)):st=tt=ze+5,ze+4<=st&&-1!==qe?Ve(Se,qe,ze,Ye):4===Se.strategy||tt===st?(ce(Se,2+(Ye?1:0),3),Te(Se,oe,fe)):(ce(Se,4+(Ye?1:0),3),function(lt,ht,kt,Wt){var Nt;for(ce(lt,ht-257,5),ce(lt,kt-1,5),ce(lt,Wt-4,4),Nt=0;Nt<Wt;Nt++)ce(lt,lt.bl_tree[2*re[Nt]+1],3);ke(lt,lt.dyn_ltree,ht-1),ke(lt,lt.dyn_dtree,kt-1)}(Se,Se.l_desc.max_code+1,Se.d_desc.max_code+1,it+1),Te(Se,Se.dyn_ltree,Se.dyn_dtree)),_e(Se),Ye&&q(Se)},E._tr_tally=function(Se,qe,ze){return Se.pending_buf[Se.d_buf+2*Se.last_lit]=qe>>>8&255,Se.pending_buf[Se.d_buf+2*Se.last_lit+1]=255&qe,Se.pending_buf[Se.l_buf+Se.last_lit]=255&ze,Se.last_lit++,0===qe?Se.dyn_ltree[2*ze]++:(Se.matches++,qe--,Se.dyn_ltree[2*($[ze]+S+1)]++,Se.dyn_dtree[2*U(qe)]++),Se.last_lit===Se.lit_bufsize-1},E._tr_align=function(Se){var qe;ce(Se,2,3),he(Se,256,oe),16===(qe=Se).bi_valid?(Y(qe,qe.bi_buf),qe.bi_buf=0,qe.bi_valid=0):8<=qe.bi_valid&&(qe.pending_buf[qe.pending++]=255&qe.bi_buf,qe.bi_buf>>=8,qe.bi_valid-=8)}},{"../utils/common":41}],53:[function(m,C,E){C.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(m,C,E){(function(v){!function(D,S){if(!D.setImmediate){var R,L,Z,ee,ne=1,J={},re=!1,oe=D.document,fe=Object.getPrototypeOf&&Object.getPrototypeOf(D);fe=fe&&fe.setTimeout?fe:D,R="[object process]"==={}.toString.call(D.process)?function(ie){A.nextTick(function(){$(ie)})}:function(){if(D.postMessage&&!D.importScripts){var ie=!0,T=D.onmessage;return D.onmessage=function(){ie=!1},D.postMessage("","*"),D.onmessage=T,ie}}()?(ee="setImmediate$"+Math.random()+"$",D.addEventListener?D.addEventListener("message",W,!1):D.attachEvent("onmessage",W),function(ie){D.postMessage(ee+ie,"*")}):D.MessageChannel?((Z=new MessageChannel).port1.onmessage=function(ie){$(ie.data)},function(ie){Z.port2.postMessage(ie)}):oe&&"onreadystatechange"in oe.createElement("script")?(L=oe.documentElement,function(ie){var T=oe.createElement("script");T.onreadystatechange=function(){$(ie),T.onreadystatechange=null,L.removeChild(T),T=null},L.appendChild(T)}):function(ie){setTimeout($,0,ie)},fe.setImmediate=function(ie){"function"!=typeof ie&&(ie=new Function(""+ie));for(var T=new Array(arguments.length-1),I=0;I<T.length;I++)T[I]=arguments[I+1];return J[ne]={callback:ie,args:T},R(ne),ne++},fe.clearImmediate=ae}function ae(ie){delete J[ie]}function $(ie){if(re)setTimeout($,0,ie);else{var T=J[ie];if(T){re=!0;try{!function(I){var k=I.callback,N=I.args;switch(N.length){case 0:k();break;case 1:k(N[0]);break;case 2:k(N[0],N[1]);break;case 3:k(N[0],N[1],N[2]);break;default:k.apply(void 0,N)}}(T)}finally{ae(ie),re=!1}}}}function W(ie){ie.source===D&&"string"==typeof ie.data&&0===ie.data.indexOf(ee)&&$(+ie.data.slice(ee.length))}}(typeof self>"u"?void 0===v?this:v:self)}).call(this,void 0!==y?y:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,_("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},_("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],_("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(_,z,B){(function(A){(function(){"use strict";var y=/[\\^$.*+?()[\]{}|]/g,g=RegExp(y.source),u="object"==typeof self&&self&&self.Object===Object&&self,f="object"==typeof A&&A&&A.Object===Object&&A||u||Function("return this")(),b=Object.prototype.toString,p=f.Symbol,m=p?p.prototype:void 0,C=m?m.toString:void 0;z.exports=function(v){var D;return(v=null==(D=v)?"":function E(v){if("string"==typeof v)return v;if("symbol"==typeof(S=v)||(R=S)&&"object"==typeof R&&"[object Symbol]"==b.call(S))return C?C.call(v):"";var S,R,D=v+"";return"0"==D&&1/v==-1/0?"-0":D}(D))&&g.test(v)?v.replace(y,"\\$&"):v}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(_,z,B){(function(A){(function(){"use strict";var y="[object Arguments]",g="[object Map]",d="[object Object]",u="[object Set]",f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/,p=/^\./,m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/\\(\\)?/g,E=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[y]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object Boolean]"]=D["[object DataView]"]=D["[object Date]"]=D["[object Error]"]=D["[object Function]"]=D[g]=D["[object Number]"]=D[d]=D["[object RegExp]"]=D[u]=D["[object String]"]=D["[object WeakMap]"]=!1;var S="object"==typeof A&&A&&A.Object===Object&&A,R="object"==typeof self&&self&&self.Object===Object&&self,L=S||R||Function("return this")(),Z="object"==typeof B&&B&&!B.nodeType&&B,ee=Z&&"object"==typeof z&&z&&!z.nodeType&&z,ne=ee&&ee.exports===Z&&S.process,J=function(){try{return ne&&ne.binding("util")}catch{}}(),re=J&&J.isTypedArray;function oe(Le,at,Tt,Qe){for(var wt=-1,zt=Le?Le.length:0;++wt<zt;){var Yt=Le[wt];at(Qe,Yt,Tt(Yt),Le)}return Qe}function fe(Le,at){for(var Tt=-1,Qe=Le?Le.length:0;++Tt<Qe;)if(at(Le[Tt],Tt,Le))return!0;return!1}function ae(Le){var at=!1;if(null!=Le&&"function"!=typeof Le.toString)try{at=!!(Le+"")}catch{}return at}function $(Le){var at=-1,Tt=Array(Le.size);return Le.forEach(function(Qe,wt){Tt[++at]=[wt,Qe]}),Tt}function W(Le){var at=-1,Tt=Array(Le.size);return Le.forEach(function(Qe){Tt[++at]=Qe}),Tt}var ie,T,I,k=Array.prototype,N=Function.prototype,P=Object.prototype,U=L["__core-js_shared__"],Y=(ie=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"",ce=N.toString,he=P.hasOwnProperty,be=P.toString,K=RegExp("^"+ce.call(he).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=L.Symbol,q=L.Uint8Array,G=P.propertyIsEnumerable,ue=k.splice,Te=(T=Object.keys,I=Object,function(Le){return T(I(Le))}),Me=an(L,"DataView"),Ee=an(L,"Map"),ke=an(L,"Promise"),We=an(L,"Set"),Ve=an(L,"WeakMap"),Se=an(Object,"create"),qe=gt(Me),ze=gt(Ee),Ye=gt(ke),st=gt(We),tt=gt(Ve),it=_e?_e.prototype:void 0,lt=it?it.valueOf:void 0,ht=it?it.toString:void 0;function kt(Le){var at=-1,Tt=Le?Le.length:0;for(this.clear();++at<Tt;){var Qe=Le[at];this.set(Qe[0],Qe[1])}}function Wt(Le){var at=-1,Tt=Le?Le.length:0;for(this.clear();++at<Tt;){var Qe=Le[at];this.set(Qe[0],Qe[1])}}function Nt(Le){var at=-1,Tt=Le?Le.length:0;for(this.clear();++at<Tt;){var Qe=Le[at];this.set(Qe[0],Qe[1])}}function qt(Le){var at=-1,Tt=Le?Le.length:0;for(this.__data__=new Nt;++at<Tt;)this.add(Le[at])}function Dn(Le){this.__data__=new Wt(Le)}function Mt(Le,at){for(var Tt=Le.length;Tt--;)if(fr(Le[Tt][0],at))return Tt;return-1}function sn(Le,at,Tt,Qe){return Be(Le,function(wt,zt,Yt){at(Qe,wt,Tt(wt),Yt)}),Qe}kt.prototype.clear=function(){this.__data__=Se?Se(null):{}},kt.prototype.delete=function(Le){return this.has(Le)&&delete this.__data__[Le]},kt.prototype.get=function(Le){var at=this.__data__;if(Se){var Tt=at[Le];return"__lodash_hash_undefined__"===Tt?void 0:Tt}return he.call(at,Le)?at[Le]:void 0},kt.prototype.has=function(Le){var at=this.__data__;return Se?void 0!==at[Le]:he.call(at,Le)},kt.prototype.set=function(Le,at){return this.__data__[Le]=Se&&void 0===at?"__lodash_hash_undefined__":at,this},Wt.prototype.clear=function(){this.__data__=[]},Wt.prototype.delete=function(Le){var at=this.__data__,Tt=Mt(at,Le);return!(Tt<0||(Tt==at.length-1?at.pop():ue.call(at,Tt,1),0))},Wt.prototype.get=function(Le){var at=this.__data__,Tt=Mt(at,Le);return Tt<0?void 0:at[Tt][1]},Wt.prototype.has=function(Le){return Mt(this.__data__,Le)>-1},Wt.prototype.set=function(Le,at){var Tt=this.__data__,Qe=Mt(Tt,Le);return Qe<0?Tt.push([Le,at]):Tt[Qe][1]=at,this},Nt.prototype.clear=function(){this.__data__={hash:new kt,map:new(Ee||Wt),string:new kt}},Nt.prototype.delete=function(Le){return Ut(this,Le).delete(Le)},Nt.prototype.get=function(Le){return Ut(this,Le).get(Le)},Nt.prototype.has=function(Le){return Ut(this,Le).has(Le)},Nt.prototype.set=function(Le,at){return Ut(this,Le).set(Le,at),this},qt.prototype.add=qt.prototype.push=function(Le){return this.__data__.set(Le,"__lodash_hash_undefined__"),this},qt.prototype.has=function(Le){return this.__data__.has(Le)},Dn.prototype.clear=function(){this.__data__=new Wt},Dn.prototype.delete=function(Le){return this.__data__.delete(Le)},Dn.prototype.get=function(Le){return this.__data__.get(Le)},Dn.prototype.has=function(Le){return this.__data__.has(Le)},Dn.prototype.set=function(Le,at){var Tt=this.__data__;if(Tt instanceof Wt){var Qe=Tt.__data__;if(!Ee||Qe.length<199)return Qe.push([Le,at]),this;Tt=this.__data__=new Nt(Qe)}return Tt.set(Le,at),this};var Dt,Be=(Dt=function(Le,at){return Le&&Pe(Le,at,cr)},function(Le,at){if(null==Le)return Le;if(!pr(Le))return Dt(Le,at);for(var Tt=Le.length,Qe=-1,wt=Object(Le);++Qe<Tt&&!1!==at(wt[Qe],Qe,wt););return Le}),Pe=function(at,Tt,Qe){for(var wt=-1,zt=Object(at),Yt=Qe(at),jn=Yt.length;jn--;){var mn=Yt[++wt];if(!1===Tt(zt[mn],mn,zt))break}return at};function Ue(Le,at){for(var Tt=0,Qe=(at=vn(at,Le)?[at]:Qt(at)).length;null!=Le&&Tt<Qe;)Le=Le[ct(at[Tt++])];return Tt&&Tt==Qe?Le:void 0}function Ze(Le,at){return null!=Le&&at in Object(Le)}function ot(Le,at,Tt,Qe,wt){return Le===at||(null==Le||null==at||!En(Le)&&!Kn(at)?Le!=Le&&at!=at:function(zt,Yt,jn,mn,hn,pn){var Tr=en(zt),er=en(Yt),tn="[object Array]",yr="[object Array]";Tr||(tn=(tn=lr(zt))==y?d:tn),er||(yr=(yr=lr(Yt))==y?d:yr);var Nr=tn==d&&!ae(zt),ji=yr==d&&!ae(Yt),Fr=tn==yr;if(Fr&&!Nr)return pn||(pn=new Dn),Tr||Pr(zt)?tr(zt,Yt,jn,mn,hn,pn):function(Yn,Gn,Cr,di,Di,Ui,Vi){switch(Cr){case"[object DataView]":if(Yn.byteLength!=Gn.byteLength||Yn.byteOffset!=Gn.byteOffset)return!1;Yn=Yn.buffer,Gn=Gn.buffer;case"[object ArrayBuffer]":return!(Yn.byteLength!=Gn.byteLength||!di(new q(Yn),new q(Gn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return fr(+Yn,+Gn);case"[object Error]":return Yn.name==Gn.name&&Yn.message==Gn.message;case"[object RegExp]":case"[object String]":return Yn==Gn+"";case g:var Hi=$;case u:if(Hi||(Hi=W),Yn.size!=Gn.size&&!(2&Ui))return!1;var Yr=Vi.get(Yn);if(Yr)return Yr==Gn;Ui|=1,Vi.set(Yn,Gn);var yo=tr(Hi(Yn),Hi(Gn),di,Di,Ui,Vi);return Vi.delete(Yn),yo;case"[object Symbol]":if(lt)return lt.call(Yn)==lt.call(Gn)}return!1}(zt,Yt,tn,jn,mn,hn,pn);if(!(2&hn)){var Dr=Nr&&he.call(zt,"__wrapped__"),ds=ji&&he.call(Yt,"__wrapped__");if(Dr||ds){var Rs=Dr?zt.value():zt,ri=ds?Yt.value():Yt;return pn||(pn=new Dn),jn(Rs,ri,mn,hn,pn)}}return!!Fr&&(pn||(pn=new Dn),function(Yn,Gn,Cr,di,Di,Ui){var Vi=2&Di,Hi=cr(Yn),$r=Hi.length;if($r!=cr(Gn).length&&!Vi)return!1;for(var yo=$r;yo--;){var zr=Hi[yo];if(!(Vi?zr in Gn:he.call(Gn,zr)))return!1}var Qi=Ui.get(Yn);if(Qi&&Ui.get(Gn))return Qi==Gn;var to=!0;Ui.set(Yn,Gn),Ui.set(Gn,Yn);for(var Xi=Vi;++yo<$r;){var qo=Yn[zr=Hi[yo]],hi=Gn[zr];if(di)var Zo=Vi?di(hi,qo,zr,Gn,Yn,Ui):di(qo,hi,zr,Yn,Gn,Ui);if(!(void 0===Zo?qo===hi||Cr(qo,hi,di,Di,Ui):Zo)){to=!1;break}Xi||(Xi="constructor"==zr)}if(to&&!Xi){var sl=Yn.constructor,Wo=Gn.constructor;sl==Wo||!("constructor"in Yn)||!("constructor"in Gn)||"function"==typeof sl&&sl instanceof sl&&"function"==typeof Wo&&Wo instanceof Wo||(to=!1)}return Ui.delete(Yn),Ui.delete(Gn),to}(zt,Yt,jn,mn,hn,pn))}(Le,at,ot,Tt,Qe,wt))}function Qt(Le){return en(Le)?Le:Ge(Le)}function tr(Le,at,Tt,Qe,wt,zt){var Yt=2&wt,jn=Le.length,mn=at.length;if(jn!=mn&&!(Yt&&mn>jn))return!1;var hn=zt.get(Le);if(hn&&zt.get(at))return hn==at;var pn=-1,Tr=!0,er=1&wt?new qt:void 0;for(zt.set(Le,at),zt.set(at,Le);++pn<jn;){var tn=Le[pn],yr=at[pn];if(Qe)var Nr=Yt?Qe(yr,tn,pn,at,Le,zt):Qe(tn,yr,pn,Le,at,zt);if(void 0!==Nr){if(Nr)continue;Tr=!1;break}if(er){if(!fe(at,function(ji,Fr){if(!er.has(Fr)&&(tn===ji||Tt(tn,ji,Qe,wt,zt)))return er.add(Fr)})){Tr=!1;break}}else if(tn!==yr&&!Tt(tn,yr,Qe,wt,zt)){Tr=!1;break}}return zt.delete(Le),zt.delete(at),Tr}function Ut(Le,at){var Tt,Qe,wt=Le.__data__;return("string"==(Qe=typeof(Tt=at))||"number"==Qe||"symbol"==Qe||"boolean"==Qe?"__proto__"!==Tt:null===Tt)?wt["string"==typeof at?"string":"hash"]:wt.map}function an(Le,at){var Tt=Le?.[at];return function yt(Le){return!(!En(Le)||(at=Le,Y&&Y in at))&&(Cn(Le)||ae(Le)?K:E).test(gt(Le));var at}(Tt)?Tt:void 0}var lr=function(Le){return be.call(Le)};function Zt(Le,at){return!!(at=at??9007199254740991)&&("number"==typeof Le||v.test(Le))&&Le>-1&&Le%1==0&&Le<at}function vn(Le,at){if(en(Le))return!1;var Tt=typeof Le;return!("number"!=Tt&&"symbol"!=Tt&&"boolean"!=Tt&&null!=Le&&!or(Le))||b.test(Le)||!f.test(Le)||null!=at&&Le in Object(at)}function Bi(Le){return Le==Le&&!En(Le)}function In(Le,at){return function(Tt){return null!=Tt&&Tt[Le]===at&&(void 0!==at||Le in Object(Tt))}}(Me&&"[object DataView]"!=lr(new Me(new ArrayBuffer(1)))||Ee&&lr(new Ee)!=g||ke&&"[object Promise]"!=lr(ke.resolve())||We&&lr(new We)!=u||Ve&&"[object WeakMap]"!=lr(new Ve))&&(lr=function(Le){var at=be.call(Le),Tt=at==d?Le.constructor:void 0,Qe=Tt?gt(Tt):void 0;if(Qe)switch(Qe){case qe:return"[object DataView]";case ze:return g;case Ye:return"[object Promise]";case st:return u;case tt:return"[object WeakMap]"}return at});var Ge=cn(function(Le){var at;Le=null==(at=Le)?"":function(Qe){if("string"==typeof Qe)return Qe;if(or(Qe))return ht?ht.call(Qe):"";var wt=Qe+"";return"0"==wt&&1/Qe==-1/0?"-0":wt}(at);var Tt=[];return p.test(Le)&&Tt.push(""),Le.replace(m,function(Qe,wt,zt,Yt){Tt.push(zt?Yt.replace(C,"$1"):wt||Qe)}),Tt});function ct(Le){if("string"==typeof Le||or(Le))return Le;var at=Le+"";return"0"==at&&1/Le==-1/0?"-0":at}function gt(Le){if(null!=Le){try{return ce.call(Le)}catch{}try{return Le+""}catch{}}return""}var Rt,Kt=(Rt=function(Le,at,Tt){he.call(Le,Tt)?Le[Tt].push(at):Le[Tt]=[at]},function(Le,at){var Qe={};return(en(Le)?oe:sn)(Le,Rt,function Jt(Le){return"function"==typeof Le?Le:null==Le?Ur:"object"==typeof Le?en(Le)?(wt=Le[1],vn(Qe=Le[0])&&Bi(wt)?In(ct(Qe),wt):function(zt){var jn,pn,Yt=void 0===(pn=null==(jn=zt)?void 0:Ue(jn,Qe))?void 0:pn;return void 0===Yt&&Yt===wt?function(jn,mn){return null!=jn&&function(hn,pn,Tr){for(var er,tn=-1,yr=(pn=vn(pn,hn)?[pn]:Qt(pn)).length;++tn<yr;){var Nr=ct(pn[tn]);if(!(er=null!=hn&&Tr(hn,Nr)))break;hn=hn[Nr]}return er||!!(yr=hn?hn.length:0)&&Wn(yr)&&Zt(Nr,yr)&&(en(hn)||yn(hn))}(jn,mn,Ze)}(zt,Qe):ot(wt,Yt,void 0,3)}):function(Qe){var wt=function(zt){for(var Yt=cr(zt),jn=Yt.length;jn--;){var mn=Yt[jn],hn=zt[mn];Yt[jn]=[mn,hn,Bi(hn)]}return Yt}(Qe);return 1==wt.length&&wt[0][2]?In(wt[0][0],wt[0][1]):function(zt){return zt===Qe||function(Yt,jn,mn,hn){var pn=mn.length,Tr=pn;if(null==Yt)return!Tr;for(Yt=Object(Yt);pn--;){var tn=mn[pn];if(tn[2]?tn[1]!==Yt[tn[0]]:!(tn[0]in Yt))return!1}for(;++pn<Tr;){var yr=(tn=mn[pn])[0],Nr=Yt[yr],ji=tn[1];if(tn[2]){if(void 0===Nr&&!(yr in Yt))return!1}else{var Dr,Fr=new Dn;if(!(void 0===Dr?ot(ji,Nr,hn,3,Fr):Dr))return!1}}return!0}(zt,0,wt)}}(Le):vn(at=Le)?(Tt=ct(at),function(Qe){return Qe?.[Tt]}):function(Qe){return function(wt){return Ue(wt,Qe)}}(at);var Qe,wt,at,Tt}(at),Qe)});function cn(Le,at){if("function"!=typeof Le||at&&"function"!=typeof at)throw new TypeError("Expected a function");var Tt=function(){var Qe=arguments,wt=at?at.apply(this,Qe):Qe[0],zt=Tt.cache;if(zt.has(wt))return zt.get(wt);var Yt=Le.apply(this,Qe);return Tt.cache=zt.set(wt,Yt),Yt};return Tt.cache=new(cn.Cache||Nt),Tt}function fr(Le,at){return Le===at||Le!=Le&&at!=at}function yn(Le){return Kn(at=Le)&&pr(at)&&he.call(Le,"callee")&&(!G.call(Le,"callee")||be.call(Le)==y);var at}cn.Cache=Nt;var en=Array.isArray;function pr(Le){return null!=Le&&Wn(Le.length)&&!Cn(Le)}function Cn(Le){var at=En(Le)?be.call(Le):"";return"[object Function]"==at||"[object GeneratorFunction]"==at}function Wn(Le){return"number"==typeof Le&&Le>-1&&Le%1==0&&Le<=9007199254740991}function En(Le){var at=typeof Le;return!!Le&&("object"==at||"function"==at)}function Kn(Le){return!!Le&&"object"==typeof Le}function or(Le){return"symbol"==typeof Le||Kn(Le)&&"[object Symbol]"==be.call(Le)}var Pr=re?function(Le){return function(at){return Le(at)}}(re):function(Le){return Kn(Le)&&Wn(Le.length)&&!!D[be.call(Le)]};function cr(Le){return pr(Le)?function gn(Le,at){var Tt=en(Le)||yn(Le)?function(Yt,jn){for(var mn=-1,hn=Array(Yt);++mn<Yt;)hn[mn]=jn(mn);return hn}(Le.length,String):[],Qe=Tt.length,wt=!!Qe;for(var zt in Le)!at&&!he.call(Le,zt)||wt&&("length"==zt||Zt(zt,Qe))||Tt.push(zt);return Tt}(Le):function on(Le){if(Tt=(at=Le)&&at.constructor,at!==("function"==typeof Tt&&Tt.prototype||P))return Te(Le);var at,Tt,wt=[];for(var zt in Object(Le))he.call(Le,zt)&&"constructor"!=zt&&wt.push(zt);return wt}(Le)}function Ur(Le){return Le}z.exports=Kt}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(_,z,B){"use strict";var A=Object.prototype.toString;z.exports=function(y){return!0===y||!1===y||!!(g=y)&&"object"==typeof g&&"[object Boolean]"==A.call(y);var g}},{}],445:[function(_,z,B){(function(A){(function(){"use strict";var y="[object Arguments]",g="[object Map]",d="[object Object]",u="[object Set]",f=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[y]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p[g]=p["[object Number]"]=p[d]=p["[object RegExp]"]=p[u]=p["[object String]"]=p["[object WeakMap]"]=!1;var m="object"==typeof A&&A&&A.Object===Object&&A,C="object"==typeof self&&self&&self.Object===Object&&self,E=m||C||Function("return this")(),v="object"==typeof B&&B&&!B.nodeType&&B,D=v&&"object"==typeof z&&z&&!z.nodeType&&z,S=D&&D.exports===v,R=S&&m.process,L=function(){try{return R&&R.binding&&R.binding("util")}catch{}}(),Z=L&&L.isTypedArray;function ee(Ge,ct){for(var gt=-1,Rt=null==Ge?0:Ge.length;++gt<Rt;)if(ct(Ge[gt],gt,Ge))return!0;return!1}function ne(Ge){var ct=-1,gt=Array(Ge.size);return Ge.forEach(function(Rt,Qn){gt[++ct]=[Qn,Rt]}),gt}function J(Ge){var ct=-1,gt=Array(Ge.size);return Ge.forEach(function(Rt){gt[++ct]=Rt}),gt}var re,oe,fe,ae=Array.prototype,W=Object.prototype,ie=E["__core-js_shared__"],T=Function.prototype.toString,I=W.hasOwnProperty,k=(re=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||""))?"Symbol(src)_1."+re:"",N=W.toString,P=RegExp("^"+T.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=S?E.Buffer:void 0,Y=E.Symbol,ce=E.Uint8Array,he=W.propertyIsEnumerable,be=ae.splice,K=Y?Y.toStringTag:void 0,_e=Object.getOwnPropertySymbols,q=U?U.isBuffer:void 0,G=(oe=Object.keys,fe=Object,function(Ge){return oe(fe(Ge))}),ue=Ue(E,"DataView"),Te=Ue(E,"Map"),Me=Ue(E,"Promise"),Ee=Ue(E,"Set"),ke=Ue(E,"WeakMap"),We=Ue(Object,"create"),Ve=Jt(ue),Se=Jt(Te),qe=Jt(Me),ze=Jt(Ee),Ye=Jt(ke),st=Y?Y.prototype:void 0,tt=st?st.valueOf:void 0;function it(Ge){var ct=-1,gt=null==Ge?0:Ge.length;for(this.clear();++ct<gt;){var Rt=Ge[ct];this.set(Rt[0],Rt[1])}}function lt(Ge){var ct=-1,gt=null==Ge?0:Ge.length;for(this.clear();++ct<gt;){var Rt=Ge[ct];this.set(Rt[0],Rt[1])}}function ht(Ge){var ct=-1,gt=null==Ge?0:Ge.length;for(this.clear();++ct<gt;){var Rt=Ge[ct];this.set(Rt[0],Rt[1])}}function kt(Ge){var ct=-1,gt=null==Ge?0:Ge.length;for(this.__data__=new ht;++ct<gt;)this.add(Ge[ct])}function Wt(Ge){var ct=this.__data__=new lt(Ge);this.size=ct.size}function qt(Ge,ct){for(var gt=Ge.length;gt--;)if(on(Ge[gt][0],ct))return gt;return-1}function Dn(Ge){return null==Ge?void 0===Ge?"[object Undefined]":"[object Null]":K&&K in Object(Ge)?function(ct){var gt=I.call(ct,K),Rt=ct[K];try{ct[K]=void 0;var Qn=!0}catch{}var Kt=N.call(ct);return Qn&&(gt?ct[K]=Rt:delete ct[K]),Kt}(Ge):N.call(Ge)}function gn(Ge){return vn(Ge)&&Dn(Ge)==y}function Mt(Ge,ct,gt,Rt,Qn){return Ge===ct||(null==Ge||null==ct||!vn(Ge)&&!vn(ct)?Ge!=Ge&&ct!=ct:function(Kt,cn,fr,yn,en,pr){var Cn=tr(Kt),Wn=tr(cn),En=Cn?"[object Array]":ot(Kt),Kn=Wn?"[object Array]":ot(cn),or=(En=En==y?d:En)==d,Pr=(Kn=Kn==y?d:Kn)==d,cr=En==Kn;if(cr&&Ut(Kt)){if(!Ut(cn))return!1;Cn=!0,or=!1}if(cr&&!or)return pr||(pr=new Wt),Cn||Bi(Kt)?Fe(Kt,cn,fr,yn,en,pr):function(Qe,wt,zt,Yt,jn,mn,hn){switch(zt){case"[object DataView]":if(Qe.byteLength!=wt.byteLength||Qe.byteOffset!=wt.byteOffset)return!1;Qe=Qe.buffer,wt=wt.buffer;case"[object ArrayBuffer]":return!(Qe.byteLength!=wt.byteLength||!mn(new ce(Qe),new ce(wt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return on(+Qe,+wt);case"[object Error]":return Qe.name==wt.name&&Qe.message==wt.message;case"[object RegExp]":case"[object String]":return Qe==wt+"";case g:var pn=ne;case u:if(pn||(pn=J),Qe.size!=wt.size&&!(1&Yt))return!1;var er=hn.get(Qe);if(er)return er==wt;Yt|=2,hn.set(Qe,wt);var tn=Fe(pn(Qe),pn(wt),Yt,jn,mn,hn);return hn.delete(Qe),tn;case"[object Symbol]":if(tt)return tt.call(Qe)==tt.call(wt)}return!1}(Kt,cn,En,fr,yn,en,pr);if(!(1&fr)){var Ur=or&&I.call(Kt,"__wrapped__"),Le=Pr&&I.call(cn,"__wrapped__");if(Ur||Le){var at=Ur?Kt.value():Kt,Tt=Le?cn.value():cn;return pr||(pr=new Wt),en(at,Tt,fr,yn,pr)}}return!!cr&&(pr||(pr=new Wt),function(Qe,wt,zt,Yt,jn,mn){var hn=1&zt,pn=Be(Qe),Tr=pn.length;if(Tr!=Be(wt).length&&!hn)return!1;for(var tn=Tr;tn--;){var yr=pn[tn];if(!(hn?yr in wt:I.call(wt,yr)))return!1}var Nr=mn.get(Qe);if(Nr&&mn.get(wt))return Nr==wt;var ji=!0;mn.set(Qe,wt),mn.set(wt,Qe);for(var Fr=hn;++tn<Tr;){var Dr=Qe[yr=pn[tn]],ds=wt[yr];if(Yt)var Rs=hn?Yt(ds,Dr,yr,wt,Qe,mn):Yt(Dr,ds,yr,Qe,wt,mn);if(!(void 0===Rs?Dr===ds||jn(Dr,ds,zt,Yt,mn):Rs)){ji=!1;break}Fr||(Fr="constructor"==yr)}if(ji&&!Fr){var ri=Qe.constructor,Yn=wt.constructor;ri==Yn||!("constructor"in Qe)||!("constructor"in wt)||"function"==typeof ri&&ri instanceof ri&&"function"==typeof Yn&&Yn instanceof Yn||(ji=!1)}return mn.delete(Qe),mn.delete(wt),ji}(Kt,cn,fr,yn,en,pr))}(Ge,ct,gt,Rt,Mt,Qn))}function Fe(Ge,ct,gt,Rt,Qn,Kt){var cn=1&gt,fr=Ge.length,yn=ct.length;if(fr!=yn&&!(cn&&yn>fr))return!1;var en=Kt.get(Ge);if(en&&Kt.get(ct))return en==ct;var pr=-1,Cn=!0,Wn=2&gt?new kt:void 0;for(Kt.set(Ge,ct),Kt.set(ct,Ge);++pr<fr;){var En=Ge[pr],Kn=ct[pr];if(Rt)var or=cn?Rt(Kn,En,pr,ct,Ge,Kt):Rt(En,Kn,pr,Ge,ct,Kt);if(void 0!==or){if(or)continue;Cn=!1;break}if(Wn){if(!ee(ct,function(Pr,cr){if(!Wn.has(cr)&&(En===Pr||Qn(En,Pr,gt,Rt,Kt)))return Wn.push(cr)})){Cn=!1;break}}else if(En!==Kn&&!Qn(En,Kn,gt,Rt,Kt)){Cn=!1;break}}return Kt.delete(Ge),Kt.delete(ct),Cn}function Be(Ge){return Rt=Ze,Qn=function In(Ge){return null!=(ct=Ge)&&lr(ct.length)&&!an(ct)?function Nt(Ge,ct){var gt=tr(Ge),Rt=!gt&&Qt(Ge),Qn=!gt&&!Rt&&Ut(Ge),Kt=!gt&&!Rt&&!Qn&&Bi(Ge),cn=gt||Rt||Qn||Kt,fr=cn?function(pr,Cn){for(var Wn=-1,En=Array(pr);++Wn<pr;)En[Wn]=Cn(Wn);return En}(Ge.length,String):[],yn=fr.length;for(var en in Ge)!ct&&!I.call(Ge,en)||cn&&("length"==en||Qn&&("offset"==en||"parent"==en)||Kt&&("buffer"==en||"byteLength"==en||"byteOffset"==en)||yt(en,yn))||fr.push(en);return fr}(Ge):function Dt(Ge){if(gt=(ct=Ge)&&ct.constructor,ct!==("function"==typeof gt&&gt.prototype||W))return G(Ge);var ct,gt,Qn=[];for(var Kt in Object(Ge))I.call(Ge,Kt)&&"constructor"!=Kt&&Qn.push(Kt);return Qn}(Ge);var ct}(ct=Ge),tr(ct)?Qn:function(Kt,cn){for(var fr=-1,yn=cn.length,en=Kt.length;++fr<yn;)Kt[en+fr]=cn[fr];return Kt}(Qn,Rt(ct));var ct,Rt,Qn}function Pe(Ge,ct){var gt,Rt,Qn=Ge.__data__;return("string"==(Rt=typeof(gt=ct))||"number"==Rt||"symbol"==Rt||"boolean"==Rt?"__proto__"!==gt:null===gt)?Qn["string"==typeof ct?"string":"hash"]:Qn.map}function Ue(Ge,ct){var gt=Ge?.[ct];return function sn(Ge){return!(!Zt(Ge)||(ct=Ge,k&&k in ct))&&(an(Ge)?P:f).test(Jt(Ge));var ct}(gt)?gt:void 0}it.prototype.clear=function(){this.__data__=We?We(null):{},this.size=0},it.prototype.delete=function(Ge){var ct=this.has(Ge)&&delete this.__data__[Ge];return this.size-=ct?1:0,ct},it.prototype.get=function(Ge){var ct=this.__data__;if(We){var gt=ct[Ge];return"__lodash_hash_undefined__"===gt?void 0:gt}return I.call(ct,Ge)?ct[Ge]:void 0},it.prototype.has=function(Ge){var ct=this.__data__;return We?void 0!==ct[Ge]:I.call(ct,Ge)},it.prototype.set=function(Ge,ct){var gt=this.__data__;return this.size+=this.has(Ge)?0:1,gt[Ge]=We&&void 0===ct?"__lodash_hash_undefined__":ct,this},lt.prototype.clear=function(){this.__data__=[],this.size=0},lt.prototype.delete=function(Ge){var ct=this.__data__,gt=qt(ct,Ge);return!(gt<0||(gt==ct.length-1?ct.pop():be.call(ct,gt,1),--this.size,0))},lt.prototype.get=function(Ge){var ct=this.__data__,gt=qt(ct,Ge);return gt<0?void 0:ct[gt][1]},lt.prototype.has=function(Ge){return qt(this.__data__,Ge)>-1},lt.prototype.set=function(Ge,ct){var gt=this.__data__,Rt=qt(gt,Ge);return Rt<0?(++this.size,gt.push([Ge,ct])):gt[Rt][1]=ct,this},ht.prototype.clear=function(){this.size=0,this.__data__={hash:new it,map:new(Te||lt),string:new it}},ht.prototype.delete=function(Ge){var ct=Pe(this,Ge).delete(Ge);return this.size-=ct?1:0,ct},ht.prototype.get=function(Ge){return Pe(this,Ge).get(Ge)},ht.prototype.has=function(Ge){return Pe(this,Ge).has(Ge)},ht.prototype.set=function(Ge,ct){var gt=Pe(this,Ge),Rt=gt.size;return gt.set(Ge,ct),this.size+=gt.size==Rt?0:1,this},kt.prototype.add=kt.prototype.push=function(Ge){return this.__data__.set(Ge,"__lodash_hash_undefined__"),this},kt.prototype.has=function(Ge){return this.__data__.has(Ge)},Wt.prototype.clear=function(){this.__data__=new lt,this.size=0},Wt.prototype.delete=function(Ge){var ct=this.__data__,gt=ct.delete(Ge);return this.size=ct.size,gt},Wt.prototype.get=function(Ge){return this.__data__.get(Ge)},Wt.prototype.has=function(Ge){return this.__data__.has(Ge)},Wt.prototype.set=function(Ge,ct){var gt=this.__data__;if(gt instanceof lt){var Rt=gt.__data__;if(!Te||Rt.length<199)return Rt.push([Ge,ct]),this.size=++gt.size,this;gt=this.__data__=new ht(Rt)}return gt.set(Ge,ct),this.size=gt.size,this};var Ze=_e?function(Ge){return null==Ge?[]:(Ge=Object(Ge),function(ct,gt){for(var Rt=-1,Qn=null==ct?0:ct.length,Kt=0,cn=[];++Rt<Qn;){var fr=ct[Rt];gt(fr)&&(cn[Kt++]=fr)}return cn}(_e(Ge),function(ct){return he.call(Ge,ct)}))}:function(){return[]},ot=Dn;function yt(Ge,ct){return!!(ct=ct??9007199254740991)&&("number"==typeof Ge||b.test(Ge))&&Ge>-1&&Ge%1==0&&Ge<ct}function Jt(Ge){if(null!=Ge){try{return T.call(Ge)}catch{}try{return Ge+""}catch{}}return""}function on(Ge,ct){return Ge===ct||Ge!=Ge&&ct!=ct}(ue&&"[object DataView]"!=ot(new ue(new ArrayBuffer(1)))||Te&&ot(new Te)!=g||Me&&"[object Promise]"!=ot(Me.resolve())||Ee&&ot(new Ee)!=u||ke&&"[object WeakMap]"!=ot(new ke))&&(ot=function(Ge){var ct=Dn(Ge),gt=ct==d?Ge.constructor:void 0,Rt=gt?Jt(gt):"";if(Rt)switch(Rt){case Ve:return"[object DataView]";case Se:return g;case qe:return"[object Promise]";case ze:return u;case Ye:return"[object WeakMap]"}return ct});var Qt=gn(function(){return arguments}())?gn:function(Ge){return vn(Ge)&&I.call(Ge,"callee")&&!he.call(Ge,"callee")},tr=Array.isArray,Ut=q||function(){return!1};function an(Ge){if(!Zt(Ge))return!1;var ct=Dn(Ge);return"[object Function]"==ct||"[object GeneratorFunction]"==ct||"[object AsyncFunction]"==ct||"[object Proxy]"==ct}function lr(Ge){return"number"==typeof Ge&&Ge>-1&&Ge%1==0&&Ge<=9007199254740991}function Zt(Ge){var ct=typeof Ge;return null!=Ge&&("object"==ct||"function"==ct)}function vn(Ge){return null!=Ge&&"object"==typeof Ge}var Ge,Bi=Z?(Ge=Z,function(ct){return Ge(ct)}):function(Ge){return vn(Ge)&&lr(Ge.length)&&!!p[Dn(Ge)]};z.exports=function(Ge,ct){return Mt(Ge,ct)}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(_,z,B){(function(A){(function(){"use strict";var g="object"==typeof self&&self&&self.Object===Object&&self,d="object"==typeof A&&A&&A.Object===Object&&A||g||Function("return this")(),u=Object.prototype,f=u.hasOwnProperty,b=u.toString,p=d.Symbol,m=p?p.toStringTag:void 0;z.exports=function(E){if(S=typeof(D=E),null==D||"object"!=S&&"function"!=S)return!1;var D,S,v=function C(E){return null==E?void 0===E?"[object Undefined]":"[object Null]":m&&m in Object(E)?function(v){var D=f.call(v,m),S=v[m];try{v[m]=void 0;var R=!0}catch{}var L=b.call(v);return R&&(D?v[m]=S:delete v[m]),L}(E):b.call(E)}(E);return"[object Function]"==v||"[object GeneratorFunction]"==v||"[object AsyncFunction]"==v||"[object Proxy]"==v}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(_,z,B){"use strict";z.exports=function(A){return null==A}},{}],448:[function(_,z,B){"use strict";z.exports=function(A){return void 0===A}},{}],449:[function(_,z,B){(function(A){(function(){"use strict";var y=/^\[object .+?Constructor\]$/,d="object"==typeof self&&self&&self.Object===Object&&self,u="object"==typeof A&&A&&A.Object===Object&&A||d||Function("return this")();function f(ce,he){return!(!ce||!ce.length)&&function(be,K,_e){if(K!=K)return function(ue,Te,Me,Ee){for(var ke=ue.length,We=-1;++We<ke;)if(Te(ue[We],We,ue))return We;return-1}(be,p);for(var q=-1,G=be.length;++q<G;)if(be[q]===K)return q;return-1}(ce,he)>-1}function p(ce){return ce!=ce}function m(ce,he){return ce.has(he)}function C(ce){var he=-1,be=Array(ce.size);return ce.forEach(function(K){be[++he]=K}),be}var E,v=Array.prototype,D=Function.prototype,S=Object.prototype,R=u["__core-js_shared__"],L=(E=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",Z=D.toString,ee=S.hasOwnProperty,ne=S.toString,J=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=v.splice,oe=U(u,"Map"),fe=U(u,"Set"),ae=U(Object,"create");function $(ce){var he=-1,be=ce?ce.length:0;for(this.clear();++he<be;){var K=ce[he];this.set(K[0],K[1])}}function W(ce){var he=-1,be=ce?ce.length:0;for(this.clear();++he<be;){var K=ce[he];this.set(K[0],K[1])}}function ie(ce){var he=-1,be=ce?ce.length:0;for(this.clear();++he<be;){var K=ce[he];this.set(K[0],K[1])}}function T(ce){var he=-1,be=ce?ce.length:0;for(this.__data__=new ie;++he<be;)this.add(ce[he])}function I(ce,he){for(var be,K,_e=ce.length;_e--;)if((be=ce[_e][0])===(K=he)||be!=be&&K!=K)return _e;return-1}$.prototype.clear=function(){this.__data__=ae?ae(null):{}},$.prototype.delete=function(ce){return this.has(ce)&&delete this.__data__[ce]},$.prototype.get=function(ce){var he=this.__data__;if(ae){var be=he[ce];return"__lodash_hash_undefined__"===be?void 0:be}return ee.call(he,ce)?he[ce]:void 0},$.prototype.has=function(ce){var he=this.__data__;return ae?void 0!==he[ce]:ee.call(he,ce)},$.prototype.set=function(ce,he){return this.__data__[ce]=ae&&void 0===he?"__lodash_hash_undefined__":he,this},W.prototype.clear=function(){this.__data__=[]},W.prototype.delete=function(ce){var he=this.__data__,be=I(he,ce);return!(be<0||(be==he.length-1?he.pop():re.call(he,be,1),0))},W.prototype.get=function(ce){var he=this.__data__,be=I(he,ce);return be<0?void 0:he[be][1]},W.prototype.has=function(ce){return I(this.__data__,ce)>-1},W.prototype.set=function(ce,he){var be=this.__data__,K=I(be,ce);return K<0?be.push([ce,he]):be[K][1]=he,this},ie.prototype.clear=function(){this.__data__={hash:new $,map:new(oe||W),string:new $}},ie.prototype.delete=function(ce){return P(this,ce).delete(ce)},ie.prototype.get=function(ce){return P(this,ce).get(ce)},ie.prototype.has=function(ce){return P(this,ce).has(ce)},ie.prototype.set=function(ce,he){return P(this,ce).set(ce,he),this},T.prototype.add=T.prototype.push=function(ce){return this.__data__.set(ce,"__lodash_hash_undefined__"),this},T.prototype.has=function(ce){return this.__data__.has(ce)};var N=fe&&1/C(new fe([,-0]))[1]==1/0?function(ce){return new fe(ce)}:function(){};function P(ce,he){var be,K,_e=ce.__data__;return("string"==(K=typeof(be=he))||"number"==K||"symbol"==K||"boolean"==K?"__proto__"!==be:null===be)?_e["string"==typeof he?"string":"hash"]:_e.map}function U(ce,he){var be=ce?.[he];return function k(ce){return!(!Y(ce)||(he=ce,L&&L in he))&&(be=ce,K=Y(be)?ne.call(be):"","[object Function]"==K||"[object GeneratorFunction]"==K||function(be){var K=!1;if(null!=be&&"function"!=typeof be.toString)try{K=!!(be+"")}catch{}return K}(ce)?J:y).test(function(be){if(null!=be){try{return Z.call(be)}catch{}try{return be+""}catch{}}return""}(ce));var be,K,he}(be)?be:void 0}function Y(ce){var he=typeof ce;return!!ce&&("object"==he||"function"==he)}z.exports=function(ce){return ce&&ce.length?function(he,be,K){var _e=-1,q=f,G=he.length,ue=!0,Te=[],Me=Te;if(G>=200){var Ee=N(he);if(Ee)return C(Ee);ue=!1,q=m,Me=new T}else Me=Te;e:for(;++_e<G;){var ke=he[_e],We=ke;if(ke=0!==ke?ke:0,ue&&We==We){for(var Ve=Me.length;Ve--;)if(Me[Ve]===We)continue e;Te.push(ke)}else q(Me,We,K)||(Me!==Te&&Me.push(We),Te.push(ke))}return Te}(ce):[]}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(_,z,B){"use strict";var A=_("inherits"),y=_("hash-base"),g=_("safe-buffer").Buffer,d=new Array(16);function u(){y.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function f(E,v){return E<<v|E>>>32-v}function b(E,v,D,S,R,L,Z){return f(E+(v&D|~v&S)+R+L|0,Z)+v|0}function p(E,v,D,S,R,L,Z){return f(E+(v&S|D&~S)+R+L|0,Z)+v|0}function m(E,v,D,S,R,L,Z){return f(E+(v^D^S)+R+L|0,Z)+v|0}function C(E,v,D,S,R,L,Z){return f(E+(D^(v|~S))+R+L|0,Z)+v|0}A(u,y),u.prototype._update=function(){for(var E=d,v=0;v<16;++v)E[v]=this._block.readInt32LE(4*v);var D=this._a,S=this._b,R=this._c,L=this._d;D=b(D,S,R,L,E[0],3614090360,7),L=b(L,D,S,R,E[1],3905402710,12),R=b(R,L,D,S,E[2],606105819,17),S=b(S,R,L,D,E[3],3250441966,22),D=b(D,S,R,L,E[4],4118548399,7),L=b(L,D,S,R,E[5],1200080426,12),R=b(R,L,D,S,E[6],2821735955,17),S=b(S,R,L,D,E[7],4249261313,22),D=b(D,S,R,L,E[8],1770035416,7),L=b(L,D,S,R,E[9],2336552879,12),R=b(R,L,D,S,E[10],4294925233,17),S=b(S,R,L,D,E[11],2304563134,22),D=b(D,S,R,L,E[12],1804603682,7),L=b(L,D,S,R,E[13],4254626195,12),R=b(R,L,D,S,E[14],2792965006,17),D=p(D,S=b(S,R,L,D,E[15],1236535329,22),R,L,E[1],4129170786,5),L=p(L,D,S,R,E[6],3225465664,9),R=p(R,L,D,S,E[11],643717713,14),S=p(S,R,L,D,E[0],3921069994,20),D=p(D,S,R,L,E[5],3593408605,5),L=p(L,D,S,R,E[10],38016083,9),R=p(R,L,D,S,E[15],3634488961,14),S=p(S,R,L,D,E[4],3889429448,20),D=p(D,S,R,L,E[9],568446438,5),L=p(L,D,S,R,E[14],3275163606,9),R=p(R,L,D,S,E[3],4107603335,14),S=p(S,R,L,D,E[8],1163531501,20),D=p(D,S,R,L,E[13],2850285829,5),L=p(L,D,S,R,E[2],4243563512,9),R=p(R,L,D,S,E[7],1735328473,14),D=m(D,S=p(S,R,L,D,E[12],2368359562,20),R,L,E[5],4294588738,4),L=m(L,D,S,R,E[8],2272392833,11),R=m(R,L,D,S,E[11],1839030562,16),S=m(S,R,L,D,E[14],4259657740,23),D=m(D,S,R,L,E[1],2763975236,4),L=m(L,D,S,R,E[4],1272893353,11),R=m(R,L,D,S,E[7],4139469664,16),S=m(S,R,L,D,E[10],3200236656,23),D=m(D,S,R,L,E[13],681279174,4),L=m(L,D,S,R,E[0],3936430074,11),R=m(R,L,D,S,E[3],3572445317,16),S=m(S,R,L,D,E[6],76029189,23),D=m(D,S,R,L,E[9],3654602809,4),L=m(L,D,S,R,E[12],3873151461,11),R=m(R,L,D,S,E[15],530742520,16),D=C(D,S=m(S,R,L,D,E[2],3299628645,23),R,L,E[0],4096336452,6),L=C(L,D,S,R,E[7],1126891415,10),R=C(R,L,D,S,E[14],2878612391,15),S=C(S,R,L,D,E[5],4237533241,21),D=C(D,S,R,L,E[12],1700485571,6),L=C(L,D,S,R,E[3],2399980690,10),R=C(R,L,D,S,E[10],4293915773,15),S=C(S,R,L,D,E[1],2240044497,21),D=C(D,S,R,L,E[8],1873313359,6),L=C(L,D,S,R,E[15],4264355552,10),R=C(R,L,D,S,E[6],2734768916,15),S=C(S,R,L,D,E[13],1309151649,21),D=C(D,S,R,L,E[4],4149444226,6),L=C(L,D,S,R,E[11],3174756917,10),R=C(R,L,D,S,E[2],718787259,15),S=C(S,R,L,D,E[9],3951481745,21),this._a=this._a+D|0,this._b=this._b+S|0,this._c=this._c+R|0,this._d=this._d+L|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var E=g.allocUnsafe(16);return E.writeInt32LE(this._a,0),E.writeInt32LE(this._b,4),E.writeInt32LE(this._c,8),E.writeInt32LE(this._d,12),E},z.exports=u},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(_,z,B){"use strict";var A=_("bn.js"),y=_("brorand");function g(d){this.rand=d||new y.Rand}z.exports=g,g.create=function(d){return new g(d)},g.prototype._randbelow=function(d){var u=d.bitLength(),f=Math.ceil(u/8);do{var b=new A(this.rand.generate(f))}while(b.cmp(d)>=0);return b},g.prototype._randrange=function(d,u){var f=u.sub(d);return d.add(this._randbelow(f))},g.prototype.test=function(d,u,f){var b=d.bitLength(),p=A.mont(d),m=new A(1).toRed(p);u||(u=Math.max(1,b/48|0));for(var C=d.subn(1),E=0;!C.testn(E);E++);for(var v=d.shrn(E),D=C.toRed(p);u>0;u--){var S=this._randrange(new A(2),C);f&&f(S);var R=S.toRed(p).redPow(v);if(0!==R.cmp(m)&&0!==R.cmp(D)){for(var L=1;L<E;L++){if(0===(R=R.redSqr()).cmp(m))return!1;if(0===R.cmp(D))break}if(L===E)return!1}}return!0},g.prototype.getDivisor=function(d,u){var f=d.bitLength(),b=A.mont(d),p=new A(1).toRed(b);u||(u=Math.max(1,f/48|0));for(var m=d.subn(1),C=0;!m.testn(C);C++);for(var E=d.shrn(C),v=m.toRed(b);u>0;u--){var D=this._randrange(new A(2),m),S=d.gcd(D);if(0!==S.cmpn(1))return S;var R=D.toRed(b).redPow(E);if(0!==R.cmp(p)&&0!==R.cmp(v)){for(var L=1;L<C;L++){if(0===(R=R.redSqr()).cmp(p))return R.fromRed().subn(1).gcd(d);if(0===R.cmp(v))break}if(L===C)return(R=R.redSqr()).fromRed().subn(1).gcd(d)}}return!1}},{"bn.js":452,brorand:187}],452:[function(_,z,B){arguments[4][184][0].apply(B,arguments)},{buffer:188,dup:184}],453:[function(_,z,B){"use strict";function A(y,g){if(!y)throw new Error(g||"Assertion failed")}z.exports=A,A.equal=function(y,g,d){if(y!=g)throw new Error(d||"Assertion failed: "+y+" != "+g)}},{}],454:[function(_,z,B){"use strict";var A=B;function y(d){return 1===d.length?"0"+d:d}function g(d){for(var u="",f=0;f<d.length;f++)u+=y(d[f].toString(16));return u}A.toArray=function(d,u){if(Array.isArray(d))return d.slice();if(!d)return[];var f=[];if("string"!=typeof d){for(var b=0;b<d.length;b++)f[b]=0|d[b];return f}if("hex"===u)for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),b=0;b<d.length;b+=2)f.push(parseInt(d[b]+d[b+1],16));else for(b=0;b<d.length;b++){var p=d.charCodeAt(b),m=p>>8,C=255&p;m?f.push(m,C):f.push(C)}return f},A.zero2=y,A.toHex=g,A.encode=function(d,u){return"hex"===u?g(d):d}},{}],455:[function(_,z,B){z.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(_,z,B){"use strict";var A=_("asn1.js");B.certificate=_("./certificate");var y=A.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});B.RSAPrivateKey=y;var g=A.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});B.RSAPublicKey=g;var d=A.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())});B.PublicKey=d;var u=A.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),f=A.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(u),this.key("subjectPrivateKey").octstr())});B.PrivateKey=f;var b=A.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});B.EncryptedPrivateKey=b;var p=A.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});B.DSAPrivateKey=p,B.DSAparam=A.define("DSAparam",function(){this.int()});var m=A.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(C),this.key("publicKey").optional().explicit(1).bitstr())});B.ECPrivateKey=m;var C=A.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});B.signature=A.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(_,z,B){"use strict";var A=_("asn1.js"),y=A.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),g=A.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),d=A.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=A.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(d),this.key("subjectPublicKey").bitstr())}),f=A.define("RelativeDistinguishedName",function(){this.setof(g)}),b=A.define("RDNSequence",function(){this.seqof(f)}),p=A.define("Name",function(){this.choice({rdnSequence:this.use(b)})}),m=A.define("Validity",function(){this.seq().obj(this.key("notBefore").use(y),this.key("notAfter").use(y))}),C=A.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),E=A.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(d),this.key("issuer").use(p),this.key("validity").use(m),this.key("subject").use(p),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(C).optional())}),v=A.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(E),this.key("signatureAlgorithm").use(d),this.key("signatureValue").bitstr())});z.exports=v},{"asn1.js":170}],458:[function(_,z,B){"use strict";var A=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,y=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,g=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,d=_("evp_bytestokey"),u=_("browserify-aes"),f=_("safe-buffer").Buffer;z.exports=function(b,p){var m,C=b.toString(),E=C.match(A);if(E){var v="aes"+E[1],D=f.from(E[2],"hex"),S=f.from(E[3].replace(/[\r\n]/g,""),"base64"),R=d(p,D.slice(0,8),parseInt(E[1],10)).key,L=[],Z=u.createDecipheriv(v,R,D);L.push(Z.update(S)),L.push(Z.final()),m=f.concat(L)}else{var ee=C.match(g);m=f.from(ee[2].replace(/[\r\n]/g,""),"base64")}return{tag:C.match(y)[1],data:m}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(_,z,B){"use strict";var A=_("./asn1"),y=_("./aesid.json"),g=_("./fixProc"),d=_("browserify-aes"),u=_("pbkdf2"),f=_("safe-buffer").Buffer;function b(p){var m;"object"!=typeof p||f.isBuffer(p)||(m=p.passphrase,p=p.key),"string"==typeof p&&(p=f.from(p));var C,E,R,L,Z,ee,ne,J,re,oe,fe,ae,$,v=g(p,m),D=v.tag,S=v.data;switch(D){case"CERTIFICATE":E=A.certificate.decode(S,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(E||(E=A.PublicKey.decode(S,"der")),C=E.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return A.RSAPublicKey.decode(E.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return E.subjectPrivateKey=E.subjectPublicKey,{type:"ec",data:E};case"1.2.840.10040.4.1":return E.algorithm.params.pub_key=A.DSAparam.decode(E.subjectPublicKey.data,"der"),{type:"dsa",data:E.algorithm.params};default:throw new Error("unknown key id "+C)}case"ENCRYPTED PRIVATE KEY":L=m,Z=(R=S=A.EncryptedPrivateKey.decode(S,"der")).algorithm.decrypt.kde.kdeparams.salt,ee=parseInt(R.algorithm.decrypt.kde.kdeparams.iters.toString(),10),ne=y[R.algorithm.decrypt.cipher.algo.join(".")],J=R.algorithm.decrypt.cipher.iv,re=R.subjectPrivateKey,oe=parseInt(ne.split("-")[1],10)/8,fe=u.pbkdf2Sync(L,Z,ee,oe,"sha1"),ae=d.createDecipheriv(ne,fe,J),($=[]).push(ae.update(re)),$.push(ae.final()),S=f.concat($);case"PRIVATE KEY":switch(C=(E=A.PrivateKey.decode(S,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return A.RSAPrivateKey.decode(E.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:E.algorithm.curve,privateKey:A.ECPrivateKey.decode(E.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return E.algorithm.params.priv_key=A.DSAparam.decode(E.subjectPrivateKey,"der"),{type:"dsa",params:E.algorithm.params};default:throw new Error("unknown key id "+C)}case"RSA PUBLIC KEY":return A.RSAPublicKey.decode(S,"der");case"RSA PRIVATE KEY":return A.RSAPrivateKey.decode(S,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:A.DSAPrivateKey.decode(S,"der")};case"EC PRIVATE KEY":return{curve:(S=A.ECPrivateKey.decode(S,"der")).parameters.value,privateKey:S.privateKey};default:throw new Error("unknown key type "+D)}}z.exports=b,b.signature=A.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(_,z,B){"use strict";B.pbkdf2=_("./lib/async"),B.pbkdf2Sync=_("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(_,z,B){(function(A){(function(){"use strict";var y,g,d=_("safe-buffer").Buffer,u=_("./precondition"),f=_("./default-encoding"),b=_("./sync"),p=_("./to-buffer"),m=A.crypto&&A.crypto.subtle,C={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},E=[];function v(){return g||(g=A.process&&A.process.nextTick?A.process.nextTick:A.queueMicrotask?A.queueMicrotask:A.setImmediate?A.setImmediate:A.setTimeout)}function D(S,R,L,Z,ee){return m.importKey("raw",S,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ne){return m.deriveBits({name:"PBKDF2",salt:R,iterations:L,hash:{name:ee}},ne,Z<<3)}).then(function(ne){return d.from(ne)})}z.exports=function(S,R,L,Z,ee,ne){"function"==typeof ee&&(ne=ee,ee=void 0);var re,oe,J=C[(ee=ee||"sha1").toLowerCase()];if(J&&"function"==typeof A.Promise){if(u(L,Z),S=p(S,f,"Password"),R=p(R,f,"Salt"),"function"!=typeof ne)throw new Error("No callback provided to pbkdf2");re=function(re){if(A.process&&!A.process.browser||!m||!m.importKey||!m.deriveBits)return Promise.resolve(!1);if(void 0!==E[re])return E[re];var oe=D(y=y||d.alloc(8),y,10,128,re).then(function(){return!0}).catch(function(){return!1});return E[re]=oe,oe}(J).then(function(re){return re?D(S,R,L,Z,J):b(S,R,L,Z,ee)}),oe=ne,re.then(function(fe){v()(function(){oe(null,fe)})},function(fe){v()(function(){oe(fe)})})}else v()(function(){var re;try{re=b(S,R,L,Z,ee)}catch(oe){return ne(oe)}ne(null,re)})}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(_,z,B){(function(A,y){(function(){"use strict";var g;g=y.process&&y.process.browser?"utf-8":y.process&&y.process.version?parseInt(A.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",z.exports=g}).call(this)}).call(this,_("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(_,z,B){"use strict";var A=Math.pow(2,30)-1;z.exports=function(y,g){if("number"!=typeof y)throw new TypeError("Iterations not a number");if(y<0)throw new TypeError("Bad iterations");if("number"!=typeof g)throw new TypeError("Key length not a number");if(g<0||g>A||g!=g)throw new TypeError("Bad key length")}},{}],464:[function(_,z,B){"use strict";var A=_("create-hash/md5"),y=_("ripemd160"),g=_("sha.js"),d=_("safe-buffer").Buffer,u=_("./precondition"),f=_("./default-encoding"),b=_("./to-buffer"),p=d.alloc(128),m={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function C(E,v,D){var J,S="rmd160"===(J=E)||"ripemd160"===J?function(oe){return(new y).update(oe).digest()}:"md5"===J?A:function re(oe){return g(J).update(oe).digest()},R="sha512"===E||"sha384"===E?128:64;v.length>R?v=S(v):v.length<R&&(v=d.concat([v,p],R));for(var L=d.allocUnsafe(R+m[E]),Z=d.allocUnsafe(R+m[E]),ee=0;ee<R;ee++)L[ee]=54^v[ee],Z[ee]=92^v[ee];var ne=d.allocUnsafe(R+D+4);L.copy(ne,0,0,R),this.ipad1=ne,this.ipad2=L,this.opad=Z,this.alg=E,this.blocksize=R,this.hash=S,this.size=m[E]}C.prototype.run=function(E,v){return E.copy(v,this.blocksize),this.hash(v).copy(this.opad,this.blocksize),this.hash(this.opad)},z.exports=function(E,v,D,S,R){u(D,S);var L=new C(R=R||"sha1",E=b(E,f,"Password"),(v=b(v,f,"Salt")).length),Z=d.allocUnsafe(S),ee=d.allocUnsafe(v.length+4);v.copy(ee,0,0,v.length);for(var ne=0,J=m[R],re=Math.ceil(S/J),oe=1;oe<=re;oe++){ee.writeUInt32BE(oe,v.length);for(var fe=L.run(ee,L.ipad1),ae=fe,$=1;$<D;$++){ae=L.run(ae,L.ipad2);for(var W=0;W<J;W++)fe[W]^=ae[W]}fe.copy(Z,ne),ne+=J}return Z}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer;z.exports=function(y,g,d){if(A.isBuffer(y))return y;if("string"==typeof y)return A.from(y,g);if(ArrayBuffer.isView(y))return A.from(y.buffer);throw new TypeError(d+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(_,z,B){(function(A){(function(){"use strict";z.exports=void 0===A||!A.version||0===A.version.indexOf("v0.")||0===A.version.indexOf("v1.")&&0!==A.version.indexOf("v1.8.")?{nextTick:function(y,g,d,u){if("function"!=typeof y)throw new TypeError('"callback" argument must be a function');var f,b,p=arguments.length;switch(p){case 0:case 1:return A.nextTick(y);case 2:return A.nextTick(function(){y.call(null,g)});case 3:return A.nextTick(function(){y.call(null,g,d)});case 4:return A.nextTick(function(){y.call(null,g,d,u)});default:for(f=new Array(p-1),b=0;b<f.length;)f[b++]=arguments[b];return A.nextTick(function(){y.apply(null,f)})}}}:A}).call(this)}).call(this,_("_process"))},{_process:467}],467:[function(_,z,B){"use strict";var A,y,g=z.exports={};function d(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function f(R){if(A===setTimeout)return setTimeout(R,0);if((A===d||!A)&&setTimeout)return A=setTimeout,setTimeout(R,0);try{return A(R,0)}catch{try{return A.call(null,R,0)}catch{return A.call(this,R,0)}}}!function(){try{A="function"==typeof setTimeout?setTimeout:d}catch{A=d}try{y="function"==typeof clearTimeout?clearTimeout:u}catch{y=u}}();var b,p=[],m=!1,C=-1;function E(){m&&b&&(m=!1,b.length?p=b.concat(p):C=-1,p.length&&v())}function v(){if(!m){var R=f(E);m=!0;for(var L=p.length;L;){for(b=p,p=[];++C<L;)b&&b[C].run();C=-1,L=p.length}b=null,m=!1,function(Z){if(y===clearTimeout)return clearTimeout(Z);if((y===u||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(Z);try{y(Z)}catch{try{return y.call(null,Z)}catch{return y.call(this,Z)}}}(R)}}function D(R,L){this.fun=R,this.array=L}function S(){}g.nextTick=function(R){var L=new Array(arguments.length-1);if(arguments.length>1)for(var Z=1;Z<arguments.length;Z++)L[Z-1]=arguments[Z];p.push(new D(R,L)),1!==p.length||m||f(v)},D.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=S,g.addListener=S,g.once=S,g.off=S,g.removeListener=S,g.removeAllListeners=S,g.emit=S,g.prependListener=S,g.prependOnceListener=S,g.listeners=function(R){return[]},g.binding=function(R){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(R){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},{}],468:[function(_,z,B){"use strict";B.publicEncrypt=_("./publicEncrypt"),B.privateDecrypt=_("./privateDecrypt"),B.privateEncrypt=function(A,y){return B.publicEncrypt(A,y,!0)},B.publicDecrypt=function(A,y){return B.privateDecrypt(A,y,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(_,z,B){"use strict";var A=_("create-hash"),y=_("safe-buffer").Buffer;function g(d){var u=y.allocUnsafe(4);return u.writeUInt32BE(d,0),u}z.exports=function(d,u){for(var f,b=y.alloc(0),p=0;b.length<u;)f=g(p++),b=y.concat([b,A("sha1").update(d).update(f).digest()]);return b.slice(0,u)}},{"create-hash":386,"safe-buffer":494}],470:[function(_,z,B){arguments[4][184][0].apply(B,arguments)},{buffer:188,dup:184}],471:[function(_,z,B){"use strict";var A=_("parse-asn1"),y=_("./mgf"),g=_("./xor"),d=_("bn.js"),u=_("browserify-rsa"),f=_("create-hash"),b=_("./withPublic"),p=_("safe-buffer").Buffer;z.exports=function(m,C,E){var v;v=m.padding?m.padding:E?1:4;var D,S=A(m),R=S.modulus.byteLength();if(C.length>R||new d(C).cmp(S.modulus)>=0)throw new Error("decryption error");D=E?b(new d(C),S):u(C,S);var L=p.alloc(R-D.length);if(D=p.concat([L,D],R),4===v)return function(Z,ee){var ne=Z.modulus.byteLength(),J=f("sha1").update(p.alloc(0)).digest(),re=J.length;if(0!==ee[0])throw new Error("decryption error");var oe=ee.slice(1,re+1),fe=ee.slice(re+1),ae=g(oe,y(fe,re)),$=g(fe,y(ae,ne-re-1));if(function(ie,T){ie=p.from(ie),T=p.from(T);var I=0,k=ie.length;ie.length!==T.length&&(I++,k=Math.min(ie.length,T.length));for(var N=-1;++N<k;)I+=ie[N]^T[N];return I}(J,$.slice(0,re)))throw new Error("decryption error");for(var W=re;0===$[W];)W++;if(1!==$[W++])throw new Error("decryption error");return $.slice(W)}(S,D);if(1===v)return function(Z,ee,ne){for(var J=ee.slice(0,2),re=2,oe=0;0!==ee[re++];)if(re>=ee.length){oe++;break}var fe=ee.slice(2,re-1);if(("0002"!==J.toString("hex")&&!ne||"0001"!==J.toString("hex")&&ne)&&oe++,fe.length<8&&oe++,oe)throw new Error("decryption error");return ee.slice(re)}(0,D,E);if(3===v)return D;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(_,z,B){"use strict";var A=_("parse-asn1"),y=_("randombytes"),g=_("create-hash"),d=_("./mgf"),u=_("./xor"),f=_("bn.js"),b=_("./withPublic"),p=_("browserify-rsa"),m=_("safe-buffer").Buffer;z.exports=function(C,E,v){var D;D=C.padding?C.padding:v?1:4;var S,R=A(C);if(4===D)S=function(L,Z){var ee=L.modulus.byteLength(),ne=Z.length,J=g("sha1").update(m.alloc(0)).digest(),re=J.length,oe=2*re;if(ne>ee-oe-2)throw new Error("message too long");var fe=m.alloc(ee-ne-oe-2),ae=ee-re-1,$=y(re),W=u(m.concat([J,fe,m.alloc(1,1),Z],ae),d($,ae)),ie=u($,d(W,re));return new f(m.concat([m.alloc(1),ie,W],ee))}(R,E);else if(1===D)S=function(L,Z,ee){var ne,J=Z.length,re=L.modulus.byteLength();if(J>re-11)throw new Error("message too long");return ne=ee?m.alloc(re-J-3,255):function(oe){for(var fe,ae=m.allocUnsafe(oe),$=0,W=y(2*oe),ie=0;$<oe;)ie===W.length&&(W=y(2*oe),ie=0),(fe=W[ie++])&&(ae[$++]=fe);return ae}(re-J-3),new f(m.concat([m.from([0,ee?1:2]),ne,m.alloc(1),Z],re))}(R,E,v);else{if(3!==D)throw new Error("unknown padding");if((S=new f(E)).cmp(R.modulus)>=0)throw new Error("data too long for modulus")}return v?p(S,R):b(S,R)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(_,z,B){"use strict";var A=_("bn.js"),y=_("safe-buffer").Buffer;z.exports=function(g,d){return y.from(g.toRed(A.mont(d.modulus)).redPow(new A(d.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(_,z,B){"use strict";z.exports=function(A,y){for(var g=A.length,d=-1;++d<g;)A[d]^=y[d];return A}},{}],475:[function(_,z,B){(function(A,y){(function(){"use strict";var g=_("safe-buffer").Buffer,d=y.crypto||y.msCrypto;z.exports=d&&d.getRandomValues?function(u,f){if(u>4294967295)throw new RangeError("requested too many random bytes");var b=g.allocUnsafe(u);if(u>0)if(u>65536)for(var p=0;p<u;p+=65536)d.getRandomValues(b.slice(p,p+65536));else d.getRandomValues(b);return"function"==typeof f?A.nextTick(function(){f(null,b)}):b}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,_("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(_,z,B){(function(A,y){(function(){"use strict";function g(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var d=_("safe-buffer"),u=_("randombytes"),f=d.Buffer,b=d.kMaxLength,p=y.crypto||y.msCrypto,m=Math.pow(2,32)-1;function C(D,S){if("number"!=typeof D||D!=D)throw new TypeError("offset must be a number");if(D>m||D<0)throw new TypeError("offset must be a uint32");if(D>b||D>S)throw new RangeError("offset out of range")}function E(D,S,R){if("number"!=typeof D||D!=D)throw new TypeError("size must be a number");if(D>m||D<0)throw new TypeError("size must be a uint32");if(D+S>R||D>b)throw new RangeError("buffer too small")}function v(D,S,R,L){if(A.browser){var ee=new Uint8Array(D.buffer,S,R);return p.getRandomValues(ee),L?void A.nextTick(function(){L(null,D)}):D}if(!L)return u(R).copy(D,S),D;u(R,function(ne,J){if(ne)return L(ne);J.copy(D,S),L(null,D)})}p&&p.getRandomValues||!A.browser?(B.randomFill=function(D,S,R,L){if(!(f.isBuffer(D)||D instanceof y.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof S)L=S,S=0,R=D.length;else if("function"==typeof R)L=R,R=D.length-S;else if("function"!=typeof L)throw new TypeError('"cb" argument must be a function');return C(S,D.length),E(R,S,D.length),v(D,S,R,L)},B.randomFillSync=function(D,S,R){if(void 0===S&&(S=0),!(f.isBuffer(D)||D instanceof y.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return C(S,D.length),void 0===R&&(R=D.length-S),E(R,S,D.length),v(D,S,R)}):(B.randomFill=g,B.randomFillSync=g)}).call(this)}).call(this,_("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(_,z,B){"use strict";var A={};function y(d,u,f){f||(f=Error);var b=function(p){var m,C;function E(v,D,S){return p.call(this,"string"==typeof u?u:u(v,D,S))||this}return C=p,(m=E).prototype=Object.create(C.prototype),m.prototype.constructor=m,m.__proto__=C,E}(f);b.prototype.name=f.name,b.prototype.code=d,A[d]=b}function g(d,u){if(Array.isArray(d)){var f=d.length;return d=d.map(function(b){return String(b)}),f>2?"one of ".concat(u," ").concat(d.slice(0,f-1).join(", "),", or ")+d[f-1]:2===f?"one of ".concat(u," ").concat(d[0]," or ").concat(d[1]):"of ".concat(u," ").concat(d[0])}return"of ".concat(u," ").concat(String(d))}y("ERR_INVALID_OPT_VALUE",function(d,u){return'The value "'+u+'" is invalid for option "'+d+'"'},TypeError),y("ERR_INVALID_ARG_TYPE",function(d,u,f){var b,C,v,S;if("string"==typeof u&&"not "===u.substr(0,"not ".length)?(b="must not be",u=u.replace(/^not /,"")):b="must be",v=d,(void 0===S||S>v.length)&&(S=v.length)," argument"===v.substring(S-" argument".length,S))C="The ".concat(d," ").concat(b," ").concat(g(u,"type"));else{var E=function(v,D,S){return"number"!=typeof S&&(S=0),!(S+".".length>v.length)&&-1!==v.indexOf(".",S)}(d)?"property":"argument";C='The "'.concat(d,'" ').concat(E," ").concat(b," ").concat(g(u,"type"))}return C+". Received type ".concat(typeof f)},TypeError),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),y("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),y("ERR_STREAM_PREMATURE_CLOSE","Premature close"),y("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),y("ERR_STREAM_WRITE_AFTER_END","write after end"),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),z.exports.codes=A},{}],478:[function(_,z,B){(function(A){(function(){"use strict";var y=Object.keys||function(E){var v=[];for(var D in E)v.push(D);return v};z.exports=p;var g=_("./_stream_readable"),d=_("./_stream_writable");_("inherits")(p,g);for(var u=y(d.prototype),f=0;f<u.length;f++){var b=u[f];p.prototype[b]||(p.prototype[b]=d.prototype[b])}function p(E){if(!(this instanceof p))return new p(E);g.call(this,E),d.call(this,E),this.allowHalfOpen=!0,E&&(!1===E.readable&&(this.readable=!1),!1===E.writable&&(this.writable=!1),!1===E.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",m)))}function m(){this._writableState.ended||A.nextTick(C,this)}function C(E){E.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(E){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=E,this._writableState.destroyed=E)}})}).call(this)}).call(this,_("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(_,z,B){"use strict";z.exports=y;var A=_("./_stream_transform");function y(g){if(!(this instanceof y))return new y(g);A.call(this,g)}_("inherits")(y,A),y.prototype._transform=function(g,d,u){u(null,g)}},{"./_stream_transform":481,inherits:440}],480:[function(_,z,B){(function(A,y){(function(){"use strict";var g;z.exports=ae,ae.ReadableState=fe,_("events");var p,d=function(q,G){return q.listeners(G).length},u=_("./internal/streams/stream"),f=_("buffer").Buffer,b=(void 0!==y?y:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m=_("util");p=m&&m.debuglog?m.debuglog("stream"):function(){};var C,E,v,D=_("./internal/streams/buffer_list"),S=_("./internal/streams/destroy"),R=_("./internal/streams/state").getHighWaterMark,L=_("../errors").codes,Z=L.ERR_INVALID_ARG_TYPE,ee=L.ERR_STREAM_PUSH_AFTER_EOF,ne=L.ERR_METHOD_NOT_IMPLEMENTED,J=L.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;_("inherits")(ae,u);var re=S.errorOrDestroy,oe=["error","close","destroy","pause","resume"];function fe(q,G,ue){g=g||_("./_stream_duplex"),"boolean"!=typeof ue&&(ue=G instanceof g),this.objectMode=!!(q=q||{}).objectMode,ue&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=R(this,q,"readableHighWaterMark",ue),this.buffer=new D,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==q.emitClose,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(C||(C=_("string_decoder/").StringDecoder),this.decoder=new C(q.encoding),this.encoding=q.encoding)}function ae(q){if(g=g||_("./_stream_duplex"),!(this instanceof ae))return new ae(q);this._readableState=new fe(q,this,this instanceof g),this.readable=!0,q&&("function"==typeof q.read&&(this._read=q.read),"function"==typeof q.destroy&&(this._destroy=q.destroy)),u.call(this)}function $(q,G,ue,Te,Me){p("readableAddChunk",G);var Ee,We,Ve,Se,qe,ke=q._readableState;if(null===G)ke.reading=!1,function(We,Ve){if(p("onEofChunk"),!Ve.ended){if(Ve.decoder){var Se=Ve.decoder.end();Se&&Se.length&&(Ve.buffer.push(Se),Ve.length+=Ve.objectMode?1:Se.length)}Ve.ended=!0,Ve.sync?T(We):(Ve.needReadable=!1,Ve.emittedReadable||(Ve.emittedReadable=!0,I(We)))}}(q,ke);else if(Me||(We=ke,f.isBuffer(qe=Ve=G)||qe instanceof b||"string"==typeof Ve||void 0===Ve||We.objectMode||(Se=new Z("chunk",["string","Buffer","Uint8Array"],Ve)),Ee=Se),Ee)re(q,Ee);else if(ke.objectMode||G&&G.length>0)if("string"==typeof G||ke.objectMode||Object.getPrototypeOf(G)===f.prototype||(G=function(We){return f.from(We)}(G)),Te)ke.endEmitted?re(q,new J):W(q,ke,G,!0);else if(ke.ended)re(q,new ee);else{if(ke.destroyed)return!1;ke.reading=!1,ke.decoder&&!ue?(G=ke.decoder.write(G),ke.objectMode||0!==G.length?W(q,ke,G,!1):k(q,ke)):W(q,ke,G,!1)}else Te||(ke.reading=!1,k(q,ke));return!ke.ended&&(ke.length<ke.highWaterMark||0===ke.length)}function W(q,G,ue,Te){G.flowing&&0===G.length&&!G.sync?(G.awaitDrain=0,q.emit("data",ue)):(G.length+=G.objectMode?1:ue.length,Te?G.buffer.unshift(ue):G.buffer.push(ue),G.needReadable&&T(q)),k(q,G)}function ie(q,G){return q<=0||0===G.length&&G.ended?0:G.objectMode?1:q!=q?G.flowing&&G.length?G.buffer.head.data.length:G.length:(q>G.highWaterMark&&(G.highWaterMark=((ue=q)>=1073741824?ue=1073741824:(ue--,ue|=ue>>>1,ue|=ue>>>2,ue|=ue>>>4,ue|=ue>>>8,ue|=ue>>>16,ue++),ue)),q<=G.length?q:G.ended?G.length:(G.needReadable=!0,0));var ue}function T(q){var G=q._readableState;p("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(p("emitReadable",G.flowing),G.emittedReadable=!0,A.nextTick(I,q))}function I(q){var G=q._readableState;p("emitReadable_",G.destroyed,G.length,G.ended),G.destroyed||!G.length&&!G.ended||(q.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,ce(q)}function k(q,G){G.readingMore||(G.readingMore=!0,A.nextTick(N,q,G))}function N(q,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&0===G.length);){var ue=G.length;if(p("maybeReadMore read 0"),q.read(0),ue===G.length)break}G.readingMore=!1}function P(q){var G=q._readableState;G.readableListening=q.listenerCount("readable")>0,G.resumeScheduled&&!G.paused?G.flowing=!0:q.listenerCount("data")>0&&q.resume()}function U(q){p("readable nexttick read 0"),q.read(0)}function Y(q,G){p("resume",G.reading),G.reading||q.read(0),G.resumeScheduled=!1,q.emit("resume"),ce(q),G.flowing&&!G.reading&&q.read(0)}function ce(q){var G=q._readableState;for(p("flow",G.flowing);G.flowing&&null!==q.read(););}function he(q,G){return 0===G.length?null:(G.objectMode?ue=G.buffer.shift():!q||q>=G.length?(ue=G.decoder?G.buffer.join(""):1===G.buffer.length?G.buffer.first():G.buffer.concat(G.length),G.buffer.clear()):ue=G.buffer.consume(q,G.decoder),ue);var ue}function be(q){var G=q._readableState;p("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,A.nextTick(K,G,q))}function K(q,G){if(p("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&0===q.length&&(q.endEmitted=!0,G.readable=!1,G.emit("end"),q.autoDestroy)){var ue=G._writableState;(!ue||ue.autoDestroy&&ue.finished)&&G.destroy()}}function _e(q,G){for(var ue=0,Te=q.length;ue<Te;ue++)if(q[ue]===G)return ue;return-1}Object.defineProperty(ae.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),ae.prototype.destroy=S.destroy,ae.prototype._undestroy=S.undestroy,ae.prototype._destroy=function(q,G){G(q)},ae.prototype.push=function(q,G){var ue,Te=this._readableState;return Te.objectMode?ue=!0:"string"==typeof q&&((G=G||Te.defaultEncoding)!==Te.encoding&&(q=f.from(q,G),G=""),ue=!0),$(this,q,G,!1,ue)},ae.prototype.unshift=function(q){return $(this,q,null,!0,!1)},ae.prototype.isPaused=function(){return!1===this._readableState.flowing},ae.prototype.setEncoding=function(q){C||(C=_("string_decoder/").StringDecoder);var G=new C(q);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var ue=this._readableState.buffer.head,Te="";null!==ue;)Te+=G.write(ue.data),ue=ue.next;return this._readableState.buffer.clear(),""!==Te&&this._readableState.buffer.push(Te),this._readableState.length=Te.length,this},ae.prototype.read=function(q){p("read",q),q=parseInt(q,10);var G=this._readableState,ue=q;if(0!==q&&(G.emittedReadable=!1),0===q&&G.needReadable&&((0!==G.highWaterMark?G.length>=G.highWaterMark:G.length>0)||G.ended))return p("read: emitReadable",G.length,G.ended),0===G.length&&G.ended?be(this):T(this),null;if(0===(q=ie(q,G))&&G.ended)return 0===G.length&&be(this),null;var Te,Me=G.needReadable;return p("need readable",Me),(0===G.length||G.length-q<G.highWaterMark)&&p("length less than watermark",Me=!0),G.ended||G.reading?p("reading or ended",Me=!1):Me&&(p("do read"),G.reading=!0,G.sync=!0,0===G.length&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(q=ie(ue,G))),null===(Te=q>0?he(q,G):null)?(G.needReadable=G.length<=G.highWaterMark,q=0):(G.length-=q,G.awaitDrain=0),0===G.length&&(G.ended||(G.needReadable=!0),ue!==q&&G.ended&&be(this)),null!==Te&&this.emit("data",Te),Te},ae.prototype._read=function(q){re(this,new ne("_read()"))},ae.prototype.pipe=function(q,G){var ue=this,Te=this._readableState;switch(Te.pipesCount){case 0:Te.pipes=q;break;case 1:Te.pipes=[Te.pipes,q];break;default:Te.pipes.push(q)}Te.pipesCount+=1,p("pipe count=%d opts=%j",Te.pipesCount,G);var Me=G&&!1===G.end||q===A.stdout||q===A.stderr?st:ke;function ke(){p("onend"),q.end()}Te.endEmitted?A.nextTick(Me):ue.once("end",Me),q.on("unpipe",function Ee(tt,it){p("onunpipe"),tt===ue&&it&&!1===it.hasUnpiped&&(it.hasUnpiped=!0,p("cleanup"),q.removeListener("close",ze),q.removeListener("finish",Ye),q.removeListener("drain",We),q.removeListener("error",qe),q.removeListener("unpipe",Ee),ue.removeListener("end",ke),ue.removeListener("end",st),ue.removeListener("data",Se),Ve=!0,!Te.awaitDrain||q._writableState&&!q._writableState.needDrain||We())});var tt,We=(tt=ue,function(){var it=tt._readableState;p("pipeOnDrain",it.awaitDrain),it.awaitDrain&&it.awaitDrain--,0===it.awaitDrain&&d(tt,"data")&&(it.flowing=!0,ce(tt))});q.on("drain",We);var Ve=!1;function Se(tt){p("ondata");var it=q.write(tt);p("dest.write",it),!1===it&&((1===Te.pipesCount&&Te.pipes===q||Te.pipesCount>1&&-1!==_e(Te.pipes,q))&&!Ve&&(p("false write response, pause",Te.awaitDrain),Te.awaitDrain++),ue.pause())}function qe(tt){p("onerror",tt),st(),q.removeListener("error",qe),0===d(q,"error")&&re(q,tt)}function ze(){q.removeListener("finish",Ye),st()}function Ye(){p("onfinish"),q.removeListener("close",ze),st()}function st(){p("unpipe"),ue.unpipe(q)}return ue.on("data",Se),function(tt,it,lt){if("function"==typeof tt.prependListener)return tt.prependListener(it,lt);tt._events&&tt._events[it]?Array.isArray(tt._events[it])?tt._events[it].unshift(lt):tt._events[it]=[lt,tt._events[it]]:tt.on(it,lt)}(q,"error",qe),q.once("close",ze),q.once("finish",Ye),q.emit("pipe",ue),Te.flowing||(p("pipe resume"),ue.resume()),q},ae.prototype.unpipe=function(q){var G=this._readableState,ue={hasUnpiped:!1};if(0===G.pipesCount)return this;if(1===G.pipesCount)return q&&q!==G.pipes||(q||(q=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,q&&q.emit("unpipe",this,ue)),this;if(!q){var Te=G.pipes,Me=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var Ee=0;Ee<Me;Ee++)Te[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}var ke=_e(G.pipes,q);return-1===ke||(G.pipes.splice(ke,1),G.pipesCount-=1,1===G.pipesCount&&(G.pipes=G.pipes[0]),q.emit("unpipe",this,ue)),this},ae.prototype.addListener=ae.prototype.on=function(q,G){var ue=u.prototype.on.call(this,q,G),Te=this._readableState;return"data"===q?(Te.readableListening=this.listenerCount("readable")>0,!1!==Te.flowing&&this.resume()):"readable"===q&&(Te.endEmitted||Te.readableListening||(Te.readableListening=Te.needReadable=!0,Te.flowing=!1,Te.emittedReadable=!1,p("on readable",Te.length,Te.reading),Te.length?T(this):Te.reading||A.nextTick(U,this))),ue},ae.prototype.removeListener=function(q,G){var ue=u.prototype.removeListener.call(this,q,G);return"readable"===q&&A.nextTick(P,this),ue},ae.prototype.removeAllListeners=function(q){var G=u.prototype.removeAllListeners.apply(this,arguments);return"readable"!==q&&void 0!==q||A.nextTick(P,this),G},ae.prototype.resume=function(){var ue,q=this._readableState;return q.flowing||(p("resume"),q.flowing=!q.readableListening,this,(ue=q).resumeScheduled||(ue.resumeScheduled=!0,A.nextTick(Y,this,ue))),q.paused=!1,this},ae.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ae.prototype.wrap=function(q){var G=this,ue=this._readableState,Te=!1;for(var Me in q.on("end",function(){if(p("wrapped end"),ue.decoder&&!ue.ended){var ke=ue.decoder.end();ke&&ke.length&&G.push(ke)}G.push(null)}),q.on("data",function(ke){p("wrapped data"),ue.decoder&&(ke=ue.decoder.write(ke)),ue.objectMode&&null==ke||(ue.objectMode||ke&&ke.length)&&(G.push(ke)||(Te=!0,q.pause()))}),q)void 0===this[Me]&&"function"==typeof q[Me]&&(this[Me]=function(ke){return function(){return q[ke].apply(q,arguments)}}(Me));for(var Ee=0;Ee<oe.length;Ee++)q.on(oe[Ee],this.emit.bind(this,oe[Ee]));return this._read=function(ke){p("wrapped _read",ke),Te&&(Te=!1,q.resume())},this},"function"==typeof Symbol&&(ae.prototype[Symbol.asyncIterator]=function(){return void 0===E&&(E=_("./internal/streams/async_iterator")),E(this)}),Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ae.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ae.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),ae._fromList=he,Object.defineProperty(ae.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(ae.from=function(q,G){return void 0===v&&(v=_("./internal/streams/from")),v(ae,q,G)})}).call(this)}).call(this,_("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(_,z,B){"use strict";z.exports=p;var A=_("../errors").codes,y=A.ERR_METHOD_NOT_IMPLEMENTED,g=A.ERR_MULTIPLE_CALLBACK,d=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=A.ERR_TRANSFORM_WITH_LENGTH_0,f=_("./_stream_duplex");function b(E,v){var D=this._transformState;D.transforming=!1;var S=D.writecb;if(null===S)return this.emit("error",new g);D.writechunk=null,D.writecb=null,null!=v&&this.push(v),S(E);var R=this._readableState;R.reading=!1,(R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}function p(E){if(!(this instanceof p))return new p(E);f.call(this,E),this._transformState={afterTransform:b.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,E&&("function"==typeof E.transform&&(this._transform=E.transform),"function"==typeof E.flush&&(this._flush=E.flush)),this.on("prefinish",m)}function m(){var E=this;"function"!=typeof this._flush||this._readableState.destroyed?C(this,null,null):this._flush(function(v,D){C(E,v,D)})}function C(E,v,D){if(v)return E.emit("error",v);if(null!=D&&E.push(D),E._writableState.length)throw new u;if(E._transformState.transforming)throw new d;return E.push(null)}_("inherits")(p,f),p.prototype.push=function(E,v){return this._transformState.needTransform=!1,f.prototype.push.call(this,E,v)},p.prototype._transform=function(E,v,D){D(new y("_transform()"))},p.prototype._write=function(E,v,D){var S=this._transformState;if(S.writecb=D,S.writechunk=E,S.writeencoding=v,!S.transforming){var R=this._readableState;(S.needTransform||R.needReadable||R.length<R.highWaterMark)&&this._read(R.highWaterMark)}},p.prototype._read=function(E){var v=this._transformState;null===v.writechunk||v.transforming?v.needTransform=!0:(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform))},p.prototype._destroy=function(E,v){f.prototype._destroy.call(this,E,function(D){v(D)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(_,z,B){(function(A,y){(function(){"use strict";function g(N){var P=this;this.next=null,this.entry=null,this.finish=function(){!function(U,Y,ce){var he=U.entry;for(U.entry=null;he;){var be=he.callback;Y.pendingcb--,be(undefined),he=he.next}Y.corkedRequestsFree.next=U}(P,N)}}var d;z.exports=ae,ae.WritableState=fe;var m,u={deprecate:_("util-deprecate")},f=_("./internal/streams/stream"),b=_("buffer").Buffer,p=(void 0!==y?y:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},C=_("./internal/streams/destroy"),E=_("./internal/streams/state").getHighWaterMark,v=_("../errors").codes,D=v.ERR_INVALID_ARG_TYPE,S=v.ERR_METHOD_NOT_IMPLEMENTED,R=v.ERR_MULTIPLE_CALLBACK,L=v.ERR_STREAM_CANNOT_PIPE,Z=v.ERR_STREAM_DESTROYED,ee=v.ERR_STREAM_NULL_VALUES,ne=v.ERR_STREAM_WRITE_AFTER_END,J=v.ERR_UNKNOWN_ENCODING,re=C.errorOrDestroy;function oe(){}function fe(N,P,U){d=d||_("./_stream_duplex"),"boolean"!=typeof U&&(U=P instanceof d),this.objectMode=!!(N=N||{}).objectMode,U&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=E(this,N,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===N.decodeStrings),this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){!function(he,be){var ue,K=he._writableState,_e=K.sync,q=K.writecb;if("function"!=typeof q)throw new R;if((ue=K).writing=!1,ue.writecb=null,ue.length-=ue.writelen,ue.writelen=0,be)!function(ue,Te,Me,Ee,ke){--Te.pendingcb,Me?(A.nextTick(ke,Ee),A.nextTick(k,ue,Te),ue._writableState.errorEmitted=!0,re(ue,Ee)):(ke(Ee),ue._writableState.errorEmitted=!0,re(ue,Ee),k(ue,Te))}(he,K,_e,be,q);else{var G=T(K)||he.destroyed;G||K.corked||K.bufferProcessing||!K.bufferedRequest||ie(he,K),_e?A.nextTick(W,he,K,G,q):W(he,K,G,q)}}(P,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==N.emitClose,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new g(this)}function ae(N){var P=this instanceof(d=d||_("./_stream_duplex"));if(!P&&!m.call(ae,this))return new ae(N);this._writableState=new fe(N,this,P),this.writable=!0,N&&("function"==typeof N.write&&(this._write=N.write),"function"==typeof N.writev&&(this._writev=N.writev),"function"==typeof N.destroy&&(this._destroy=N.destroy),"function"==typeof N.final&&(this._final=N.final)),f.call(this)}function $(N,P,U,Y,ce,he,be){P.writelen=Y,P.writecb=be,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new Z("write")):U?N._writev(ce,P.onwrite):N._write(ce,he,P.onwrite),P.sync=!1}function W(N,P,U,Y){var ce,he;U||(ce=N,0===(he=P).length&&he.needDrain&&(he.needDrain=!1,ce.emit("drain"))),P.pendingcb--,Y(),k(N,P)}function ie(N,P){P.bufferProcessing=!0;var U=P.bufferedRequest;if(N._writev&&U&&U.next){var ce=new Array(P.bufferedRequestCount),he=P.corkedRequestsFree;he.entry=U;for(var be=0,K=!0;U;)ce[be]=U,U.isBuf||(K=!1),U=U.next,be+=1;ce.allBuffers=K,$(N,P,!0,P.length,ce,"",he.finish),P.pendingcb++,P.lastBufferedRequest=null,he.next?(P.corkedRequestsFree=he.next,he.next=null):P.corkedRequestsFree=new g(P),P.bufferedRequestCount=0}else{for(;U;){var _e=U.chunk;if($(N,P,!1,P.objectMode?1:_e.length,_e,U.encoding,U.callback),U=U.next,P.bufferedRequestCount--,P.writing)break}null===U&&(P.lastBufferedRequest=null)}P.bufferedRequest=U,P.bufferProcessing=!1}function T(N){return N.ending&&0===N.length&&null===N.bufferedRequest&&!N.finished&&!N.writing}function I(N,P){N._final(function(U){P.pendingcb--,U&&re(N,U),P.prefinished=!0,N.emit("prefinish"),k(N,P)})}function k(N,P){var ce,he,U=T(P);if(U&&(ce=N,(he=P).prefinished||he.finalCalled||("function"!=typeof ce._final||he.destroyed?(he.prefinished=!0,ce.emit("prefinish")):(he.pendingcb++,he.finalCalled=!0,A.nextTick(I,ce,he))),0===P.pendingcb&&(P.finished=!0,N.emit("finish"),P.autoDestroy))){var Y=N._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&N.destroy()}return U}_("inherits")(ae,f),fe.prototype.getBuffer=function(){for(var N=this.bufferedRequest,P=[];N;)P.push(N),N=N.next;return P},function(){try{Object.defineProperty(fe.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(ae,Symbol.hasInstance,{value:function(N){return!!m.call(this,N)||this===ae&&N&&N._writableState instanceof fe}})):m=function(N){return N instanceof this},ae.prototype.pipe=function(){re(this,new L)},ae.prototype.write=function(N,P,U){var Y,K,_e,q,ce=this._writableState,he=!1,be=!ce.objectMode&&(b.isBuffer(Y=N)||Y instanceof p);return be&&!b.isBuffer(N)&&(N=b.from(N)),"function"==typeof P&&(U=P,P=null),be?P="buffer":P||(P=ce.defaultEncoding),"function"!=typeof U&&(U=oe),ce.ending?(K=this,_e=U,q=new ne,re(K,q),A.nextTick(_e,q)):(be||function(K,_e,q,G){var ue;return null===q?ue=new ee:"string"==typeof q||_e.objectMode||(ue=new D("chunk",["string","Buffer"],q)),!ue||(re(K,ue),A.nextTick(G,ue),!1)}(this,ce,N,U))&&(ce.pendingcb++,he=function(K,_e,q,G,ue,Te){if(!q){var Me=(Se=G,(Ve=_e).objectMode||!1===Ve.decodeStrings||"string"!=typeof Se||(Se=b.from(Se,ue)),Se);G!==Me&&(q=!0,ue="buffer",G=Me)}var Ve,Se,Ee=_e.objectMode?1:G.length;_e.length+=Ee;var ke=_e.length<_e.highWaterMark;if(ke||(_e.needDrain=!0),_e.writing||_e.corked){var We=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:G,encoding:ue,isBuf:q,callback:Te,next:null},We?We.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else $(K,_e,!1,Ee,G,ue,Te);return ke}(this,ce,be,N,P,U)),he},ae.prototype.cork=function(){this._writableState.corked++},ae.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||ie(this,N))},ae.prototype.setDefaultEncoding=function(N){if("string"==typeof N&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new J(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(ae.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ae.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ae.prototype._write=function(N,P,U){U(new S("_write()"))},ae.prototype._writev=null,ae.prototype.end=function(N,P,U){var he,be,Y=this._writableState;return"function"==typeof N?(U=N,N=null,P=null):"function"==typeof P&&(U=P,P=null),null!=N&&this.write(N,P),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||(this,be=U,(he=Y).ending=!0,k(this,he),be&&(he.finished?A.nextTick(be):this.once("finish",be)),he.ended=!0,this.writable=!1),this},Object.defineProperty(ae.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ae.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),ae.prototype.destroy=C.destroy,ae.prototype._undestroy=C.undestroy,ae.prototype._destroy=function(N,P){P(N)}}).call(this)}).call(this,_("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(_,z,B){(function(A){(function(){"use strict";var y;function g(Z,ee,ne){return(ee="symbol"==typeof(re=function(oe,fe){if("object"!=typeof oe||null===oe)return oe;var ae=oe[Symbol.toPrimitive];if(void 0!==ae){var $=ae.call(oe,"string");if("object"!=typeof $)return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(oe)}(ee))?re:String(re))in Z?Object.defineProperty(Z,ee,{value:ne,enumerable:!0,configurable:!0,writable:!0}):Z[ee]=ne,Z;var re}var d=_("./end-of-stream"),u=Symbol("lastResolve"),f=Symbol("lastReject"),b=Symbol("error"),p=Symbol("ended"),m=Symbol("lastPromise"),C=Symbol("handlePromise"),E=Symbol("stream");function v(Z,ee){return{value:Z,done:ee}}function D(Z){var ee=Z[u];if(null!==ee){var ne=Z[E].read();null!==ne&&(Z[m]=null,Z[u]=null,Z[f]=null,ee(v(ne,!1)))}}function S(Z){A.nextTick(D,Z)}var R=Object.getPrototypeOf(function(){}),L=Object.setPrototypeOf((g(y={get stream(){return this[E]},next:function(){var Z=this,ee=this[b];if(null!==ee)return Promise.reject(ee);if(this[p])return Promise.resolve(v(void 0,!0));if(this[E].destroyed)return new Promise(function(oe,fe){A.nextTick(function(){Z[b]?fe(Z[b]):oe(v(void 0,!0))})});var ne,oe,fe,J=this[m];if(J)ne=new Promise((oe=J,fe=this,function(ae,$){oe.then(function(){fe[p]?ae(v(void 0,!0)):fe[C](ae,$)},$)}));else{var re=this[E].read();if(null!==re)return Promise.resolve(v(re,!1));ne=new Promise(this[C])}return this[m]=ne,ne}},Symbol.asyncIterator,function(){return this}),g(y,"return",function(){var Z=this;return new Promise(function(ee,ne){Z[E].destroy(null,function(J){J?ne(J):ee(v(void 0,!0))})})}),y),R);z.exports=function(Z){var ee,ne=Object.create(L,(g(ee={},E,{value:Z,writable:!0}),g(ee,u,{value:null,writable:!0}),g(ee,f,{value:null,writable:!0}),g(ee,b,{value:null,writable:!0}),g(ee,p,{value:Z._readableState.endEmitted,writable:!0}),g(ee,C,{value:function(J,re){var oe=ne[E].read();oe?(ne[m]=null,ne[u]=null,ne[f]=null,J(v(oe,!1))):(ne[u]=J,ne[f]=re)},writable:!0}),ee));return ne[m]=null,d(Z,function(J){if(J&&"ERR_STREAM_PREMATURE_CLOSE"!==J.code){var re=ne[f];return null!==re&&(ne[m]=null,ne[u]=null,ne[f]=null,re(J)),void(ne[b]=J)}var oe=ne[u];null!==oe&&(ne[m]=null,ne[u]=null,ne[f]=null,oe(v(void 0,!0))),ne[p]=!0}),Z.on("readable",S.bind(null,ne)),ne}}).call(this)}).call(this,_("_process"))},{"./end-of-stream":486,_process:467}],484:[function(_,z,B){"use strict";function A(m,C){var E=Object.keys(m);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(m);C&&(v=v.filter(function(D){return Object.getOwnPropertyDescriptor(m,D).enumerable})),E.push.apply(E,v)}return E}function y(m){for(var C=1;C<arguments.length;C++){var E=null!=arguments[C]?arguments[C]:{};C%2?A(Object(E),!0).forEach(function(v){g(m,v,E[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(E)):A(Object(E)).forEach(function(v){Object.defineProperty(m,v,Object.getOwnPropertyDescriptor(E,v))})}return m}function g(m,C,E){return(C=u(C))in m?Object.defineProperty(m,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):m[C]=E,m}function d(m,C){for(var E=0;E<C.length;E++){var v=C[E];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,u(v.key),v)}}function u(m){var C=function(E,v){if("object"!=typeof E||null===E)return E;var D=E[Symbol.toPrimitive];if(void 0!==D){var S=D.call(E,"string");if("object"!=typeof S)return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(m);return"symbol"==typeof C?C:String(C)}var f=_("buffer").Buffer,b=_("util").inspect,p=b&&b.custom||"inspect";z.exports=function(){function m(){(function(D,S){if(!(D instanceof S))throw new TypeError("Cannot call a class as a function")})(this,m),this.head=null,this.tail=null,this.length=0}var C,E;return C=m,(E=[{key:"push",value:function(D){var S={data:D,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(D){var S={data:D,next:this.head};0===this.length&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(0!==this.length){var D=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,D}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(D){if(0===this.length)return"";for(var S=this.head,R=""+S.data;S=S.next;)R+=D+S.data;return R}},{key:"concat",value:function(D){if(0===this.length)return f.alloc(0);for(var Z=f.allocUnsafe(D>>>0),ee=this.head,ne=0;ee;)f.prototype.copy.call(ee.data,Z,ne),ne+=ee.data.length,ee=ee.next;return Z}},{key:"consume",value:function(D,S){var R;return D<this.head.data.length?(R=this.head.data.slice(0,D),this.head.data=this.head.data.slice(D)):R=D===this.head.data.length?this.shift():S?this._getString(D):this._getBuffer(D),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(D){var S=this.head,R=1,L=S.data;for(D-=L.length;S=S.next;){var Z=S.data,ee=D>Z.length?Z.length:D;if(L+=ee===Z.length?Z:Z.slice(0,D),0==(D-=ee)){ee===Z.length?(++R,this.head=S.next?S.next:this.tail=null):(this.head=S,S.data=Z.slice(ee));break}++R}return this.length-=R,L}},{key:"_getBuffer",value:function(D){var S=f.allocUnsafe(D),R=this.head,L=1;for(R.data.copy(S),D-=R.data.length;R=R.next;){var Z=R.data,ee=D>Z.length?Z.length:D;if(Z.copy(S,S.length-D,0,ee),0==(D-=ee)){ee===Z.length?(++L,this.head=R.next?R.next:this.tail=null):(this.head=R,R.data=Z.slice(ee));break}++L}return this.length-=L,S}},{key:p,value:function(D,S){return b(this,y(y({},S),{},{depth:0,customInspect:!1}))}}])&&d(C.prototype,E),Object.defineProperty(C,"prototype",{writable:!1}),m}()},{buffer:220,util:188}],485:[function(_,z,B){(function(A){(function(){"use strict";function y(u,f){d(u,f),g(u)}function g(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function d(u,f){u.emit("error",f)}z.exports={destroy:function(u,f){var b=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(f?f(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.nextTick(d,this,u)):A.nextTick(d,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(C){!f&&C?b._writableState?b._writableState.errorEmitted?A.nextTick(g,b):(b._writableState.errorEmitted=!0,A.nextTick(y,b,C)):A.nextTick(y,b,C):f?(A.nextTick(g,b),f(C)):A.nextTick(g,b)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(u,f){var b=u._readableState,p=u._writableState;b&&b.autoDestroy||p&&p.autoDestroy?u.destroy(f):u.emit("error",f)}}}).call(this)}).call(this,_("_process"))},{_process:467}],486:[function(_,z,B){"use strict";var A=_("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function y(){}z.exports=function g(d,u,f){if("function"==typeof u)return g(d,null,u);var Z,ee;u||(u={}),Z=f||y,ee=!1,f=function(){if(!ee){ee=!0;for(var ne=arguments.length,J=new Array(ne),re=0;re<ne;re++)J[re]=arguments[re];Z.apply(this,J)}};var b=u.readable||!1!==u.readable&&d.readable,p=u.writable||!1!==u.writable&&d.writable,m=function(){d.writable||E()},C=d._writableState&&d._writableState.finished,E=function(){p=!1,C=!0,b||f.call(d)},v=d._readableState&&d._readableState.endEmitted,D=function(){b=!1,v=!0,p||f.call(d)},S=function(Z){f.call(d,Z)},R=function(){var Z;return b&&!v?(d._readableState&&d._readableState.ended||(Z=new A),f.call(d,Z)):p&&!C?(d._writableState&&d._writableState.ended||(Z=new A),f.call(d,Z)):void 0},L=function(){d.req.on("finish",E)};return function(Z){return Z.setHeader&&"function"==typeof Z.abort}(d)?(d.on("complete",E),d.on("abort",R),d.req?L():d.on("request",L)):p&&!d._writableState&&(d.on("end",m),d.on("close",m)),d.on("end",D),d.on("finish",E),!1!==u.error&&d.on("error",S),d.on("close",R),function(){d.removeListener("complete",E),d.removeListener("abort",R),d.removeListener("request",L),d.req&&d.req.removeListener("finish",E),d.removeListener("end",m),d.removeListener("close",m),d.removeListener("finish",E),d.removeListener("end",D),d.removeListener("error",S),d.removeListener("close",R)}}},{"../../../errors":477}],487:[function(_,z,B){"use strict";z.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(_,z,B){"use strict";var A,y=_("../../../errors").codes,g=y.ERR_MISSING_ARGS,d=y.ERR_STREAM_DESTROYED;function u(C){if(C)throw C}function b(C){C()}function p(C,E){return C.pipe(E)}z.exports=function(){for(var C=arguments.length,E=new Array(C),v=0;v<C;v++)E[v]=arguments[v];var D,S=function m(C){return C.length?"function"!=typeof C[C.length-1]?u:C.pop():u}(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new g("streams");var R=E.map(function(L,Z){var ee=Z<E.length-1;return function f(C,E,v,D){var L,Z;L=D,Z=!1,D=function(){Z||(Z=!0,L.apply(void 0,arguments))};var S=!1;C.on("close",function(){S=!0}),void 0===A&&(A=_("./end-of-stream")),A(C,{readable:E,writable:v},function(L){if(L)return D(L);S=!0,D()});var R=!1;return function(L){if(!S&&!R)return R=!0,function(Z){return Z.setHeader&&"function"==typeof Z.abort}(C)?C.abort():"function"==typeof C.destroy?C.destroy():void D(L||new d("pipe"))}}(L,ee,Z>0,function(ne){D||(D=ne),ne&&R.forEach(b),ee||(R.forEach(b),S(D))})});return E.reduce(p)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(_,z,B){"use strict";var A=_("../../../errors").codes.ERR_INVALID_OPT_VALUE;z.exports={getHighWaterMark:function(y,g,d,u){var b,f=null!=(b=g).highWaterMark?b.highWaterMark:u?b[d]:null;if(null!=f){if(!isFinite(f)||Math.floor(f)!==f||f<0)throw new A(u?d:"highWaterMark",f);return Math.floor(f)}return y.objectMode?16:16384}}},{"../../../errors":477}],490:[function(_,z,B){"use strict";z.exports=_("events").EventEmitter},{events:422}],491:[function(_,z,B){"use strict";(B=z.exports=_("./lib/_stream_readable.js")).Stream=B,B.Readable=B,B.Writable=_("./lib/_stream_writable.js"),B.Duplex=_("./lib/_stream_duplex.js"),B.Transform=_("./lib/_stream_transform.js"),B.PassThrough=_("./lib/_stream_passthrough.js"),B.finished=_("./lib/internal/streams/end-of-stream.js"),B.pipeline=_("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(_,z,B){"use strict";var A=function(y){var g=Object.prototype,d=g.hasOwnProperty,u=Object.defineProperty||function(k,N,P){k[N]=P.value},f="function"==typeof Symbol?Symbol:{},b=f.iterator||"@@iterator",p=f.asyncIterator||"@@asyncIterator",m=f.toStringTag||"@@toStringTag";function C(k,N,P){return Object.defineProperty(k,N,{value:P,enumerable:!0,configurable:!0,writable:!0}),k[N]}try{C({},"")}catch{C=function(N,P,U){return N[P]=U}}function E(k,N,P,U){var ce=Object.create((N&&N.prototype instanceof S?N:S).prototype),he=new ie(U||[]);return u(ce,"_invoke",{value:fe(k,P,he)}),ce}function v(k,N,P){try{return{type:"normal",arg:k.call(N,P)}}catch(U){return{type:"throw",arg:U}}}y.wrap=E;var D={};function S(){}function R(){}function L(){}var Z={};C(Z,b,function(){return this});var ee=Object.getPrototypeOf,ne=ee&&ee(ee(T([])));ne&&ne!==g&&d.call(ne,b)&&(Z=ne);var J=L.prototype=S.prototype=Object.create(Z);function re(k){["next","throw","return"].forEach(function(N){C(k,N,function(P){return this._invoke(N,P)})})}function oe(k,N){var P;u(this,"_invoke",{value:function(U,Y){function ce(){return new N(function(he,be){!function K(_e,q,G,ue){var Te=v(k[_e],k,q);if("throw"!==Te.type){var Me=Te.arg,Ee=Me.value;return Ee&&"object"==typeof Ee&&d.call(Ee,"__await")?N.resolve(Ee.__await).then(function(ke){K("next",ke,G,ue)},function(ke){K("throw",ke,G,ue)}):N.resolve(Ee).then(function(ke){Me.value=ke,G(Me)},function(ke){return K("throw",ke,G,ue)})}ue(Te.arg)}(U,Y,he,be)})}return P=P?P.then(ce,ce):ce()}})}function fe(k,N,P){var U="suspendedStart";return function(Y,ce){if("executing"===U)throw new Error("Generator is already running");if("completed"===U){if("throw"===Y)throw ce;return{value:void 0,done:!0}}for(P.method=Y,P.arg=ce;;){var he=P.delegate;if(he){var be=ae(he,P);if(be){if(be===D)continue;return be}}if("next"===P.method)P.sent=P._sent=P.arg;else if("throw"===P.method){if("suspendedStart"===U)throw U="completed",P.arg;P.dispatchException(P.arg)}else"return"===P.method&&P.abrupt("return",P.arg);U="executing";var K=v(k,N,P);if("normal"===K.type){if(U=P.done?"completed":"suspendedYield",K.arg===D)continue;return{value:K.arg,done:P.done}}"throw"===K.type&&(U="completed",P.method="throw",P.arg=K.arg)}}}function ae(k,N){var P=N.method,U=k.iterator[P];if(void 0===U)return N.delegate=null,"throw"===P&&k.iterator.return&&(N.method="return",N.arg=void 0,ae(k,N),"throw"===N.method)||"return"!==P&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+P+"' method")),D;var Y=v(U,k.iterator,N.arg);if("throw"===Y.type)return N.method="throw",N.arg=Y.arg,N.delegate=null,D;var ce=Y.arg;return ce?ce.done?(N[k.resultName]=ce.value,N.next=k.nextLoc,"return"!==N.method&&(N.method="next",N.arg=void 0),N.delegate=null,D):ce:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,D)}function $(k){var N={tryLoc:k[0]};1 in k&&(N.catchLoc=k[1]),2 in k&&(N.finallyLoc=k[2],N.afterLoc=k[3]),this.tryEntries.push(N)}function W(k){var N=k.completion||{};N.type="normal",delete N.arg,k.completion=N}function ie(k){this.tryEntries=[{tryLoc:"root"}],k.forEach($,this),this.reset(!0)}function T(k){if(k){var N=k[b];if(N)return N.call(k);if("function"==typeof k.next)return k;if(!isNaN(k.length)){var P=-1,U=function Y(){for(;++P<k.length;)if(d.call(k,P))return Y.value=k[P],Y.done=!1,Y;return Y.value=void 0,Y.done=!0,Y};return U.next=U}}return{next:I}}function I(){return{value:void 0,done:!0}}return R.prototype=L,u(J,"constructor",{value:L,configurable:!0}),u(L,"constructor",{value:R,configurable:!0}),R.displayName=C(L,m,"GeneratorFunction"),y.isGeneratorFunction=function(k){var N="function"==typeof k&&k.constructor;return!!N&&(N===R||"GeneratorFunction"===(N.displayName||N.name))},y.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,L):(k.__proto__=L,C(k,m,"GeneratorFunction")),k.prototype=Object.create(J),k},y.awrap=function(k){return{__await:k}},re(oe.prototype),C(oe.prototype,p,function(){return this}),y.AsyncIterator=oe,y.async=function(k,N,P,U,Y){void 0===Y&&(Y=Promise);var ce=new oe(E(k,N,P,U),Y);return y.isGeneratorFunction(N)?ce:ce.next().then(function(he){return he.done?he.value:ce.next()})},re(J),C(J,m,"Generator"),C(J,b,function(){return this}),C(J,"toString",function(){return"[object Generator]"}),y.keys=function(k){var N=Object(k),P=[];for(var U in N)P.push(U);return P.reverse(),function Y(){for(;P.length;){var ce=P.pop();if(ce in N)return Y.value=ce,Y.done=!1,Y}return Y.done=!0,Y}},y.values=T,ie.prototype={constructor:ie,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(W),!k)for(var N in this)"t"===N.charAt(0)&&d.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=void 0)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if("throw"===k.type)throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var N=this;function P(K,_e){return ce.type="throw",ce.arg=k,N.next=K,_e&&(N.method="next",N.arg=void 0),!!_e}for(var U=this.tryEntries.length-1;U>=0;--U){var Y=this.tryEntries[U],ce=Y.completion;if("root"===Y.tryLoc)return P("end");if(Y.tryLoc<=this.prev){var he=d.call(Y,"catchLoc"),be=d.call(Y,"finallyLoc");if(he&&be){if(this.prev<Y.catchLoc)return P(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return P(Y.finallyLoc)}else if(he){if(this.prev<Y.catchLoc)return P(Y.catchLoc,!0)}else{if(!be)throw new Error("try statement without catch or finally");if(this.prev<Y.finallyLoc)return P(Y.finallyLoc)}}}},abrupt:function(k,N){for(var P=this.tryEntries.length-1;P>=0;--P){var U=this.tryEntries[P];if(U.tryLoc<=this.prev&&d.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var Y=U;break}}Y&&("break"===k||"continue"===k)&&Y.tryLoc<=N&&N<=Y.finallyLoc&&(Y=null);var ce=Y?Y.completion:{};return ce.type=k,ce.arg=N,Y?(this.method="next",this.next=Y.finallyLoc,D):this.complete(ce)},complete:function(k,N){if("throw"===k.type)throw k.arg;return"break"===k.type||"continue"===k.type?this.next=k.arg:"return"===k.type?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):"normal"===k.type&&N&&(this.next=N),D},finish:function(k){for(var N=this.tryEntries.length-1;N>=0;--N){var P=this.tryEntries[N];if(P.finallyLoc===k)return this.complete(P.completion,P.afterLoc),W(P),D}},catch:function(k){for(var N=this.tryEntries.length-1;N>=0;--N){var P=this.tryEntries[N];if(P.tryLoc===k){var U=P.completion;if("throw"===U.type){var Y=U.arg;W(P)}return Y}}throw new Error("illegal catch attempt")},delegateYield:function(k,N,P){return this.delegate={iterator:T(k),resultName:N,nextLoc:P},"next"===this.method&&(this.arg=void 0),D}},y}("object"==typeof z?z.exports:{});try{regeneratorRuntime=A}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=A:Function("r","regeneratorRuntime = r")(A)}},{}],493:[function(_,z,B){"use strict";var A=_("buffer").Buffer,y=_("inherits"),g=_("hash-base"),d=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],m=[0,1518500249,1859775393,2400959708,2840853838],C=[1352829926,1548603684,1836072691,2053994217,0];function E(){g.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function v(ee,ne){return ee<<ne|ee>>>32-ne}function D(ee,ne,J,re,oe,fe,ae,$){return v(ee+(ne^J^re)+fe+ae|0,$)+oe|0}function S(ee,ne,J,re,oe,fe,ae,$){return v(ee+(ne&J|~ne&re)+fe+ae|0,$)+oe|0}function R(ee,ne,J,re,oe,fe,ae,$){return v(ee+((ne|~J)^re)+fe+ae|0,$)+oe|0}function L(ee,ne,J,re,oe,fe,ae,$){return v(ee+(ne&re|J&~re)+fe+ae|0,$)+oe|0}function Z(ee,ne,J,re,oe,fe,ae,$){return v(ee+(ne^(J|~re))+fe+ae|0,$)+oe|0}y(E,g),E.prototype._update=function(){for(var ee=d,ne=0;ne<16;++ne)ee[ne]=this._block.readInt32LE(4*ne);for(var J=0|this._a,re=0|this._b,oe=0|this._c,fe=0|this._d,ae=0|this._e,$=0|this._a,W=0|this._b,ie=0|this._c,T=0|this._d,I=0|this._e,k=0;k<80;k+=1){var N,P;k<16?(N=D(J,re,oe,fe,ae,ee[u[k]],m[0],b[k]),P=Z($,W,ie,T,I,ee[f[k]],C[0],p[k])):k<32?(N=S(J,re,oe,fe,ae,ee[u[k]],m[1],b[k]),P=L($,W,ie,T,I,ee[f[k]],C[1],p[k])):k<48?(N=R(J,re,oe,fe,ae,ee[u[k]],m[2],b[k]),P=R($,W,ie,T,I,ee[f[k]],C[2],p[k])):k<64?(N=L(J,re,oe,fe,ae,ee[u[k]],m[3],b[k]),P=S($,W,ie,T,I,ee[f[k]],C[3],p[k])):(N=Z(J,re,oe,fe,ae,ee[u[k]],m[4],b[k]),P=D($,W,ie,T,I,ee[f[k]],C[4],p[k])),J=ae,ae=fe,fe=v(oe,10),oe=re,re=N,$=I,I=T,T=v(ie,10),ie=W,W=P}var U=this._b+oe+T|0;this._b=this._c+fe+I|0,this._c=this._d+ae+$|0,this._d=this._e+J+W|0,this._e=this._a+re+ie|0,this._a=U},E.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var ee=A.alloc?A.alloc(20):new A(20);return ee.writeInt32LE(this._a,0),ee.writeInt32LE(this._b,4),ee.writeInt32LE(this._c,8),ee.writeInt32LE(this._d,12),ee.writeInt32LE(this._e,16),ee},z.exports=E},{buffer:220,"hash-base":425,inherits:440}],494:[function(_,z,B){"use strict";var A=_("buffer"),y=A.Buffer;function g(u,f){for(var b in u)f[b]=u[b]}function d(u,f,b){return y(u,f,b)}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?z.exports=A:(g(A,B),B.Buffer=d),d.prototype=Object.create(y.prototype),g(y,d),d.from=function(u,f,b){if("number"==typeof u)throw new TypeError("Argument must not be a number");return y(u,f,b)},d.alloc=function(u,f,b){if("number"!=typeof u)throw new TypeError("Argument must be a number");var p=y(u);return void 0!==f?"string"==typeof b?p.fill(f,b):p.fill(f):p.fill(0),p},d.allocUnsafe=function(u){if("number"!=typeof u)throw new TypeError("Argument must be a number");return y(u)},d.allocUnsafeSlow=function(u){if("number"!=typeof u)throw new TypeError("Argument must be a number");return A.SlowBuffer(u)}},{buffer:220}],495:[function(_,z,B){(function(A){(function(){"use strict";var y,g=_("buffer"),d=g.Buffer,u={};for(y in g)g.hasOwnProperty(y)&&"SlowBuffer"!==y&&"Buffer"!==y&&(u[y]=g[y]);var f=u.Buffer={};for(y in d)d.hasOwnProperty(y)&&"allocUnsafe"!==y&&"allocUnsafeSlow"!==y&&(f[y]=d[y]);if(u.Buffer.prototype=d.prototype,f.from&&f.from!==Uint8Array.from||(f.from=function(b,p,m){if("number"==typeof b)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof b);if(b&&void 0===b.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);return d(b,p,m)}),f.alloc||(f.alloc=function(b,p,m){if("number"!=typeof b)throw new TypeError('The "size" argument must be of type number. Received type '+typeof b);if(b<0||b>=2*(1<<30))throw new RangeError('The value "'+b+'" is invalid for option "size"');var C=d(b);return p&&0!==p.length?"string"==typeof m?C.fill(p,m):C.fill(p):C.fill(0),C}),!u.kStringMaxLength)try{u.kStringMaxLength=A.binding("buffer").kStringMaxLength}catch{}u.constants||(u.constants={MAX_LENGTH:u.kMaxLength},u.kStringMaxLength&&(u.constants.MAX_STRING_LENGTH=u.kStringMaxLength)),z.exports=u}).call(this)}).call(this,_("_process"))},{_process:467,buffer:220}],496:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0});const A=_("xmlchars/xml/1.0/ed5"),y=_("xmlchars/xml/1.1/ed2"),g=_("xmlchars/xmlns/1.0/ed3");var d=A.isS,u=A.isChar,f=A.isNameStartChar,b=A.isNameChar,p=A.S_LIST,m=A.NAME_RE,C=y.isChar,E=g.isNCNameStartChar,v=g.isNCNameChar,D=g.NC_NAME_RE;const S="http://www.w3.org/XML/1998/namespace",R="http://www.w3.org/2000/xmlns/",L={__proto__:null,xml:S,xmlns:R},Z={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},ee=T=>34===T||39===T,ne=[34,39],J=[...ne,91,62],re=[...ne,60,93],oe=[61,63,...p],fe=[...p,62,38,60];function ae(T,I,k){switch(I){case"xml":k!==S&&T.fail(`xml prefix must be bound to ${S}.`);break;case"xmlns":k!==R&&T.fail(`xmlns prefix must be bound to ${R}.`)}switch(k){case R:T.fail(""===I?`the default namespace may not be set to ${k}.`:`may not assign a prefix (even "xmlns") to the URI ${R}.`);break;case S:switch(I){case"xml":break;case"":T.fail(`the default namespace may not be set to ${k}.`);break;default:T.fail("may not assign the xml namespace to another prefix.")}}}const $=T=>D.test(T),W=T=>m.test(T);B.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const ie={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};B.SaxesParser=class{constructor(T){this.opt=T??{},this.fragmentOpt=!!this.opt.fragment;const I=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,I){this.nameStartCheck=E,this.nameCheck=v,this.isName=$,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},L);const k=this.opt.additionalNamespaces;null!=k&&(function(N,P){for(const U of Object.keys(P))ae(N,U,P[U])}(this,k),Object.assign(this.ns,k))}else this.nameStartCheck=f,this.nameCheck=b,this.isName=W,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var T;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:I}=this;this.state=I?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=I,this.xmlDeclPossible=!I,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:k}=this.opt;if(void 0===k){if(!0===this.opt.forceXMLVersion)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");k="1.0"}this.setXMLVersion(k),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(Z),null===(T=this.readyHandler)||void 0===T||T.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(T,I){this[ie[T]]=I}off(T){this[ie[T]]=void 0}makeError(T){var I;let k=null!==(I=this.fileName)&&void 0!==I?I:"";return this.trackPosition&&(k.length>0&&(k+=":"),k+=`${this.line}:${this.column}`),k.length>0&&(k+=": "),new Error(k+T)}fail(T){const I=this.makeError(T),k=this.errorHandler;if(void 0===k)throw I;return k(I),this}write(T){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let I=!1;null===T?(I=!0,T=""):"object"==typeof T&&(T=T.toString()),void 0!==this.carriedFromPrevious&&(T=`${this.carriedFromPrevious}${T}`,this.carriedFromPrevious=void 0);let k=T.length;const N=T.charCodeAt(k-1);!I&&(13===N||N>=55296&&N<=56319)&&(this.carriedFromPrevious=T[k-1],k--,T=T.slice(0,k));const{stateTable:P}=this;for(this.chunk=T,this.i=0;this.i<k;)P[this.state].call(this);return this.chunkPosition+=k,I?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:T,i:I}=this;if(this.prevI=I,this.i=I+1,I>=T.length)return-1;const k=T.charCodeAt(I);if(this.column++,k<55296){if(k>=32||9===k)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return 10===T.charCodeAt(I+1)&&(this.i=I+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const N=65536+1024*(k-55296)+(T.charCodeAt(I+1)-56320);return this.i=I+2,N>1114111&&this.fail("disallowed character."),N}getCode11(){const{chunk:T,i:I}=this;if(this.prevI=I,this.i=I+1,I>=T.length)return-1;const k=T.charCodeAt(I);if(this.column++,k<55296){if(k>31&&k<127||k>159&&8232!==k||9===k)return k;switch(k){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const P=T.charCodeAt(I+1);10!==P&&133!==P||(this.i=I+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),k}}if(k>56319)return k>=57344&&k<=65533||this.fail("disallowed character."),k;const N=65536+1024*(k-55296)+(T.charCodeAt(I+1)-56320);return this.i=I+2,N>1114111&&this.fail("disallowed character."),N}getCodeNorm(){const T=this.getCode();return-2===T?10:T}unget(){this.i=this.prevI,this.column--}captureTo(T){let{i:I}=this;const{chunk:k}=this;for(;;){const N=this.getCode(),P=-2===N,U=P?10:N;if(-1===U||T.includes(U))return this.text+=k.slice(I,this.prevI),U;P&&(this.text+=k.slice(I,this.prevI)+"\n",I=this.i)}}captureToChar(T){let{i:I}=this;const{chunk:k}=this;for(;;){let N=this.getCode();switch(N){case-2:this.text+=k.slice(I,this.prevI)+"\n",I=this.i,N=10;break;case-1:return this.text+=k.slice(I),!1}if(N===T)return this.text+=k.slice(I,this.prevI),!0}}captureNameChars(){const{chunk:T,i:I}=this;for(;;){const k=this.getCode();if(-1===k)return this.name+=T.slice(I),-1;if(!b(k))return this.name+=T.slice(I,this.prevI),-2===k?10:k}}skipSpaces(){for(;;){const T=this.getCodeNorm();if(-1===T||!d(T))return T}}setXMLVersion(T){this.currentXMLVersion=T,"1.0"===T?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=C,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const T=this.i,I=this.skipSpaces();switch(this.prevI!==T&&(this.xmlDeclPossible=!1),I){case 60:if(this.state=15,0!==this.text.length)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var T;const I=this.captureTo(J);switch(I){case 62:null===(T=this.doctypeHandler)||void 0===T||T.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(I),91===I?this.state=4:ee(I)&&(this.state=3,this.q=I)}}sDoctypeQuote(){const T=this.q;this.captureToChar(T)&&(this.text+=String.fromCodePoint(T),this.q=null,this.state=2)}sDTD(){const T=this.captureTo(re);-1!==T&&(this.text+=String.fromCodePoint(T),93===T?this.state=2:60===T?this.state=6:ee(T)&&(this.state=5,this.q=T))}sDTDQuoted(){const T=this.q;this.captureToChar(T)&&(this.text+=String.fromCodePoint(T),this.state=4,this.q=null)}sDTDOpenWaka(){const T=this.getCodeNorm();switch(this.text+=String.fromCodePoint(T),T){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const T=String.fromCodePoint(this.getCodeNorm()),I=this.openWakaBang+=T;this.text+=T,"-"!==I&&(this.state="--"===I?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const T=this.getCodeNorm();this.text+=String.fromCodePoint(T),this.state=45===T?10:8}sDTDCommentEnded(){const T=this.getCodeNorm();this.text+=String.fromCodePoint(T),62===T?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const T=this.getCodeNorm();this.text+=String.fromCodePoint(T),62===T&&(this.state=4)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:T}=this;const{chunk:I}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=I.slice(T,this.prevI)+"\n",T=this.i;break;case 59:{const{entityReturnState:k}=this,N=this.entity+I.slice(T,this.prevI);let P;this.state=k,""===N?(this.fail("empty entity name."),P="&;"):(P=this.parseEntity(N),this.entity=""),13===k&&void 0===this.textHandler||(this.text+=P);break e}case-1:this.entity+=I.slice(T);break e}}sOpenWaka(){const T=this.getCode();if(f(T))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(T){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var T;const I=this.getCodeNorm();45===I?(this.state=19,null===(T=this.commentHandler)||void 0===T||T.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(I),this.state=17)}sCommentEnded(){const T=this.getCodeNorm();62!==T?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(T),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const T=this.getCodeNorm();93===T?this.state=22:(this.text+="]"+String.fromCodePoint(T),this.state=20)}sCDataEnding2(){var T;const I=this.getCodeNorm();switch(I){case 62:null===(T=this.cdataHandler)||void 0===T||T.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(I),this.state=20}}sPIFirstChar(){const T=this.getCodeNorm();this.nameStartCheck(T)?(this.piTarget+=String.fromCodePoint(T),this.state=24):63===T||d(T)?(this.fail("processing instruction without a target."),this.state=63===T?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(T),this.state=24)}sPIRest(){const{chunk:T,i:I}=this;for(;;){const k=this.getCodeNorm();if(-1===k)return void(this.piTarget+=T.slice(I));if(!this.nameCheck(k)){this.piTarget+=T.slice(I,this.prevI);const N=63===k;N||d(k)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=N?33:27):this.state=N?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(k));break}}}sPIBody(){if(0===this.text.length){const T=this.getCodeNorm();63===T?this.state=26:d(T)||(this.text=String.fromCodePoint(T))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var T;const I=this.getCodeNorm();if(62===I){const{piTarget:k}=this;"xml"===k.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(T=this.piHandler)||void 0===T||T.call(this,{target:k,body:this.text}),this.piTarget=this.text="",this.state=13}else 63===I?this.text+="?":(this.text+="?"+String.fromCodePoint(I),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const T=this.skipSpaces();63!==T?-1!==T&&(this.state=28,this.name=String.fromCodePoint(T)):this.state=33}sXMLDeclName(){const T=this.captureTo(oe);if(63===T)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(d(T)||61===T){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=61===T?30:29}}sXMLDeclEq(){const T=this.getCodeNorm();if(63===T)return this.state=33,void this.fail("XML declaration is incomplete.");d(T)||(61!==T&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const T=this.getCodeNorm();if(63===T)return this.state=33,void this.fail("XML declaration is incomplete.");d(T)||(ee(T)?this.q=T:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const T=this.captureTo([this.q,63]);if(63===T)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(-1===T)return;const I=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const k=I;this.xmlDecl.version=k,/^1\.[0-9]+$/.test(k)?this.opt.forceXMLVersion||this.setXMLVersion(k):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(I)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=I;break;case"standalone":"yes"!==I&&"no"!==I&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=I}this.name="",this.state=32}sXMLDeclSeparator(){const T=this.getCodeNorm();63!==T?(d(T)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var T;62===this.getCodeNorm()?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(T=this.xmldeclHandler)||void 0===T||T.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var T;const I=this.captureNameChars();if(-1===I)return;const k=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=k.ns=Object.create(null)),null===(T=this.openTagStartHandler)||void 0===T||T.call(this,k),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),I){case 62:this.openTag();break;case 47:this.state=35;break;default:d(I)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){62===this.getCode()?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const T=this.skipSpaces();-1!==T&&(f(T)?(this.unget(),this.state=37):62===T?this.openTag():47===T?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const T=this.captureNameChars();61===T?this.state=39:d(T)?this.state=38:62===T?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):-1!==T&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const T=this.skipSpaces();switch(T){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",62===T?this.openTag():f(T)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const T=this.getCodeNorm();ee(T)?(this.q=T,this.state=40):d(T)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:T,chunk:I}=this;let{i:k}=this;for(;;)switch(this.getCode()){case T:return this.pushAttrib(this.name,this.text+I.slice(k,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=I.slice(k,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=I.slice(k,this.prevI)+" ",k=this.i;break;case 60:return this.text+=I.slice(k,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=I.slice(k))}}sAttribValueClosed(){const T=this.getCodeNorm();d(T)?this.state=36:62===T?this.openTag():47===T?this.state=35:f(T)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const T=this.captureTo(fe);switch(T){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",62===T?this.openTag():this.state=36}}sCloseTag(){const T=this.captureNameChars();62===T?this.closeTag():d(T)?this.state=44:-1!==T&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:T,forbiddenState:I}=this;const{chunk:k,textHandler:N}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,void 0!==N){const{text:P}=this,U=k.slice(T,this.prevI);0!==P.length?(N(P+U),this.text=""):0!==U.length&&N(U)}I=0;break e;case 38:this.state=14,this.entityReturnState=13,void 0!==N&&(this.text+=k.slice(T,this.prevI)),I=0;break e;case 93:switch(I){case 0:I=1;break;case 1:I=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:2===I&&this.fail('the string "]]>" is disallowed in char data.'),I=0;break;case-2:void 0!==N&&(this.text+=k.slice(T,this.prevI)+"\n"),T=this.i,I=0;break;case-1:void 0!==N&&(this.text+=k.slice(T));break e;default:I=0}this.forbiddenState=I}handleTextOutsideRoot(){let{i:T}=this;const{chunk:I,textHandler:k}=this;let N=!1;e:for(;;){const P=this.getCode();switch(P){case 60:if(this.state=15,void 0!==k){const{text:U}=this,Y=I.slice(T,this.prevI);0!==U.length?(k(U+Y),this.text=""):0!==Y.length&&k(Y)}break e;case 38:this.state=14,this.entityReturnState=13,void 0!==k&&(this.text+=I.slice(T,this.prevI)),N=!0;break e;case-2:void 0!==k&&(this.text+=I.slice(T,this.prevI)+"\n"),T=this.i;break;case-1:void 0!==k&&(this.text+=I.slice(T));break e;default:d(P)||(N=!0)}}N&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(T,I){var k;const{prefix:N,local:P}=this.qname(T),U={name:T,prefix:N,local:P,value:I};if(this.attribList.push(U),null===(k=this.attributeHandler)||void 0===k||k.call(this,U),"xmlns"===N){const Y=I.trim();"1.0"===this.currentXMLVersion&&""===Y&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[P]=Y,ae(this,P,Y)}else if("xmlns"===T){const Y=I.trim();this.topNS[""]=Y,ae(this,"",Y)}}pushAttribPlain(T,I){var k;const N={name:T,value:I};this.attribList.push(N),null===(k=this.attributeHandler)||void 0===k||k.call(this,N)}end(){var T,I;this.sawRoot||this.fail("document must contain a root element.");const{tags:k}=this;for(;k.length>0;){const P=k.pop();this.fail("unclosed tag: "+P.name)}0!==this.state&&13!==this.state&&this.fail("unexpected end.");const{text:N}=this;return 0!==N.length&&(null===(T=this.textHandler)||void 0===T||T.call(this,N),this.text=""),this._closed=!0,null===(I=this.endHandler)||void 0===I||I.call(this),this._init(),this}resolve(T){var I,k;let N=this.topNS[T];if(void 0!==N)return N;const{tags:P}=this;for(let U=P.length-1;U>=0;U--)if(N=P[U].ns[T],void 0!==N)return N;return N=this.ns[T],void 0!==N?N:null===(k=(I=this.opt).resolvePrefix)||void 0===k?void 0:k.call(I,T)}qname(T){const I=T.indexOf(":");if(-1===I)return{prefix:"",local:T};const k=T.slice(I+1),N=T.slice(0,I);return(""===N||""===k||k.includes(":"))&&this.fail(`malformed name: ${T}.`),{prefix:N,local:k}}processAttribsNS(){var T;const{attribList:I}=this,k=this.tag;{const{prefix:U,local:Y}=this.qname(k.name);k.prefix=U,k.local=Y;const ce=k.uri=null!==(T=this.resolve(U))&&void 0!==T?T:"";""!==U&&("xmlns"===U&&this.fail('tags may not have "xmlns" as prefix.'),""===ce&&(this.fail(`unbound namespace prefix: ${JSON.stringify(U)}.`),k.uri=U))}if(0===I.length)return;const{attributes:N}=k,P=new Set;for(const U of I){const{name:Y,prefix:ce,local:he}=U;let be,K;""===ce?(be="xmlns"===Y?R:"",K=Y):(be=this.resolve(ce),void 0===be&&(this.fail(`unbound namespace prefix: ${JSON.stringify(ce)}.`),be=ce),K=`{${be}}${he}`),P.has(K)&&this.fail(`duplicate attribute: ${K}.`),P.add(K),U.uri=be,N[Y]=U}this.attribList=[]}processAttribsPlain(){const{attribList:T}=this,I=this.tag.attributes;for(const{name:k,value:N}of T)void 0!==I[k]&&this.fail(`duplicate attribute: ${k}.`),I[k]=N;this.attribList=[]}openTag(){var T;this.processAttribs();const{tags:I}=this,k=this.tag;k.isSelfClosing=!1,null===(T=this.openTagHandler)||void 0===T||T.call(this,k),I.push(k),this.state=13,this.name=""}openSelfClosingTag(){var T,I,k;this.processAttribs();const{tags:N}=this,P=this.tag;P.isSelfClosing=!0,null===(T=this.openTagHandler)||void 0===T||T.call(this,P),null===(I=this.closeTagHandler)||void 0===I||I.call(this,P),null===(this.tag=null!==(k=N[N.length-1])&&void 0!==k?k:null)&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:T,name:I}=this;if(this.state=13,this.name="",""===I)return this.fail("weird empty close tag."),void(this.text+="</>");const k=this.closeTagHandler;let N=T.length;for(;N-- >0;){const P=this.tag=T.pop();if(this.topNS=P.ns,k?.(P),P.name===I)break;this.fail("unexpected close tag.")}0===N?this.closedRoot=!0:N<0&&(this.fail(`unmatched closing tag: ${I}.`),this.text+=`</${I}>`)}parseEntity(T){if("#"!==T[0]){const k=this.ENTITIES[T];return void 0!==k?k:(this.fail(this.isName(T)?"undefined entity.":"disallowed character in entity name."),`&${T};`)}let I=NaN;return"x"===T[1]&&/^#x[0-9a-f]+$/i.test(T)?I=parseInt(T.slice(2),16):/^#[0-9]+$/.test(T)&&(I=parseInt(T.slice(1),10)),this.isChar(I)?String.fromCodePoint(I):(this.fail("malformed character entity."),`&${T};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer;function y(g,d){this._block=A.alloc(g),this._finalSize=d,this._blockSize=g,this._len=0}y.prototype.update=function(g,d){"string"==typeof g&&(g=A.from(g,d=d||"utf8"));for(var u=this._block,f=this._blockSize,b=g.length,p=this._len,m=0;m<b;){for(var C=p%f,E=Math.min(b-m,f-C),v=0;v<E;v++)u[C+v]=g[m+v];m+=E,(p+=E)%f==0&&this._update(u)}return this._len+=b,this},y.prototype.digest=function(g){var d=this._len%this._blockSize;this._block[d]=128,this._block.fill(0,d+1),d>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=8*this._len;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var f=(4294967295&u)>>>0;this._block.writeUInt32BE((u-f)/4294967296,this._blockSize-8),this._block.writeUInt32BE(f,this._blockSize-4)}this._update(this._block);var p=this._hash();return g?p.toString(g):p},y.prototype._update=function(){throw new Error("_update must be implemented by subclass")},z.exports=y},{"safe-buffer":494}],498:[function(_,z,B){"use strict";var A=z.exports=function(y){y=y.toLowerCase();var g=A[y];if(!g)throw new Error(y+" is not supported (we accept pull requests)");return new g};A.sha=_("./sha"),A.sha1=_("./sha1"),A.sha224=_("./sha224"),A.sha256=_("./sha256"),A.sha384=_("./sha384"),A.sha512=_("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(_,z,B){"use strict";var A=_("inherits"),y=_("./hash"),g=_("safe-buffer").Buffer,d=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function f(){this.init(),this._w=u,y.call(this,64,56)}function b(m){return m<<30|m>>>2}function p(m,C,E,v){return 0===m?C&E|~C&v:2===m?C&E|C&v|E&v:C^E^v}A(f,y),f.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},f.prototype._update=function(m){for(var C,E=this._w,v=0|this._a,D=0|this._b,S=0|this._c,R=0|this._d,L=0|this._e,Z=0;Z<16;++Z)E[Z]=m.readInt32BE(4*Z);for(;Z<80;++Z)E[Z]=E[Z-3]^E[Z-8]^E[Z-14]^E[Z-16];for(var ee=0;ee<80;++ee){var ne=~~(ee/20),J=0|((C=v)<<5|C>>>27)+p(ne,D,S,R)+L+E[ee]+d[ne];L=R,R=S,S=b(D),D=v,v=J}this._a=v+this._a|0,this._b=D+this._b|0,this._c=S+this._c|0,this._d=R+this._d|0,this._e=L+this._e|0},f.prototype._hash=function(){var m=g.allocUnsafe(20);return m.writeInt32BE(0|this._a,0),m.writeInt32BE(0|this._b,4),m.writeInt32BE(0|this._c,8),m.writeInt32BE(0|this._d,12),m.writeInt32BE(0|this._e,16),m},z.exports=f},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(_,z,B){"use strict";var A=_("inherits"),y=_("./hash"),g=_("safe-buffer").Buffer,d=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function f(){this.init(),this._w=u,y.call(this,64,56)}function b(C){return C<<5|C>>>27}function p(C){return C<<30|C>>>2}function m(C,E,v,D){return 0===C?E&v|~E&D:2===C?E&v|E&D|v&D:E^v^D}A(f,y),f.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},f.prototype._update=function(C){for(var E,v=this._w,D=0|this._a,S=0|this._b,R=0|this._c,L=0|this._d,Z=0|this._e,ee=0;ee<16;++ee)v[ee]=C.readInt32BE(4*ee);for(;ee<80;++ee)v[ee]=(E=v[ee-3]^v[ee-8]^v[ee-14]^v[ee-16])<<1|E>>>31;for(var ne=0;ne<80;++ne){var J=~~(ne/20),re=b(D)+m(J,S,R,L)+Z+v[ne]+d[J]|0;Z=L,L=R,R=p(S),S=D,D=re}this._a=D+this._a|0,this._b=S+this._b|0,this._c=R+this._c|0,this._d=L+this._d|0,this._e=Z+this._e|0},f.prototype._hash=function(){var C=g.allocUnsafe(20);return C.writeInt32BE(0|this._a,0),C.writeInt32BE(0|this._b,4),C.writeInt32BE(0|this._c,8),C.writeInt32BE(0|this._d,12),C.writeInt32BE(0|this._e,16),C},z.exports=f},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(_,z,B){"use strict";var A=_("inherits"),y=_("./sha256"),g=_("./hash"),d=_("safe-buffer").Buffer,u=new Array(64);function f(){this.init(),this._w=u,g.call(this,64,56)}A(f,y),f.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},f.prototype._hash=function(){var b=d.allocUnsafe(28);return b.writeInt32BE(this._a,0),b.writeInt32BE(this._b,4),b.writeInt32BE(this._c,8),b.writeInt32BE(this._d,12),b.writeInt32BE(this._e,16),b.writeInt32BE(this._f,20),b.writeInt32BE(this._g,24),b},z.exports=f},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(_,z,B){"use strict";var A=_("inherits"),y=_("./hash"),g=_("safe-buffer").Buffer,d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function f(){this.init(),this._w=u,y.call(this,64,56)}function b(v,D,S){return S^v&(D^S)}function p(v,D,S){return v&D|S&(v|D)}function m(v){return(v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10)}function C(v){return(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7)}function E(v){return(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3}A(f,y),f.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},f.prototype._update=function(v){for(var D,S=this._w,R=0|this._a,L=0|this._b,Z=0|this._c,ee=0|this._d,ne=0|this._e,J=0|this._f,re=0|this._g,oe=0|this._h,fe=0;fe<16;++fe)S[fe]=v.readInt32BE(4*fe);for(;fe<64;++fe)S[fe]=0|(((D=S[fe-2])>>>17|D<<15)^(D>>>19|D<<13)^D>>>10)+S[fe-7]+E(S[fe-15])+S[fe-16];for(var ae=0;ae<64;++ae){var $=oe+C(ne)+b(ne,J,re)+d[ae]+S[ae]|0,W=m(R)+p(R,L,Z)|0;oe=re,re=J,J=ne,ne=ee+$|0,ee=Z,Z=L,L=R,R=$+W|0}this._a=R+this._a|0,this._b=L+this._b|0,this._c=Z+this._c|0,this._d=ee+this._d|0,this._e=ne+this._e|0,this._f=J+this._f|0,this._g=re+this._g|0,this._h=oe+this._h|0},f.prototype._hash=function(){var v=g.allocUnsafe(32);return v.writeInt32BE(this._a,0),v.writeInt32BE(this._b,4),v.writeInt32BE(this._c,8),v.writeInt32BE(this._d,12),v.writeInt32BE(this._e,16),v.writeInt32BE(this._f,20),v.writeInt32BE(this._g,24),v.writeInt32BE(this._h,28),v},z.exports=f},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(_,z,B){"use strict";var A=_("inherits"),y=_("./sha512"),g=_("./hash"),d=_("safe-buffer").Buffer,u=new Array(160);function f(){this.init(),this._w=u,g.call(this,128,112)}A(f,y),f.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},f.prototype._hash=function(){var b=d.allocUnsafe(48);function p(m,C,E){b.writeInt32BE(m,E),b.writeInt32BE(C,E+4)}return p(this._ah,this._al,0),p(this._bh,this._bl,8),p(this._ch,this._cl,16),p(this._dh,this._dl,24),p(this._eh,this._el,32),p(this._fh,this._fl,40),b},z.exports=f},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(_,z,B){"use strict";var A=_("inherits"),y=_("./hash"),g=_("safe-buffer").Buffer,d=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function f(){this.init(),this._w=u,y.call(this,128,112)}function b(L,Z,ee){return ee^L&(Z^ee)}function p(L,Z,ee){return L&Z|ee&(L|Z)}function m(L,Z){return(L>>>28|Z<<4)^(Z>>>2|L<<30)^(Z>>>7|L<<25)}function C(L,Z){return(L>>>14|Z<<18)^(L>>>18|Z<<14)^(Z>>>9|L<<23)}function E(L,Z){return(L>>>1|Z<<31)^(L>>>8|Z<<24)^L>>>7}function v(L,Z){return(L>>>1|Z<<31)^(L>>>8|Z<<24)^(L>>>7|Z<<25)}function D(L,Z){return(L>>>19|Z<<13)^(Z>>>29|L<<3)^L>>>6}function S(L,Z){return(L>>>19|Z<<13)^(Z>>>29|L<<3)^(L>>>6|Z<<26)}function R(L,Z){return L>>>0<Z>>>0?1:0}A(f,y),f.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},f.prototype._update=function(L){for(var Z=this._w,ee=0|this._ah,ne=0|this._bh,J=0|this._ch,re=0|this._dh,oe=0|this._eh,fe=0|this._fh,ae=0|this._gh,$=0|this._hh,W=0|this._al,ie=0|this._bl,T=0|this._cl,I=0|this._dl,k=0|this._el,N=0|this._fl,P=0|this._gl,U=0|this._hl,Y=0;Y<32;Y+=2)Z[Y]=L.readInt32BE(4*Y),Z[Y+1]=L.readInt32BE(4*Y+4);for(;Y<160;Y+=2){var ce=Z[Y-30],he=Z[Y-30+1],be=E(ce,he),K=v(he,ce),_e=D(ce=Z[Y-4],he=Z[Y-4+1]),q=S(he,ce),Te=Z[Y-32],Me=Z[Y-32+1],Ee=K+Z[Y-14+1]|0,ke=be+Z[Y-14]+R(Ee,K)|0;ke=(ke=ke+_e+R(Ee=Ee+q|0,q)|0)+Te+R(Ee=Ee+Me|0,Me)|0,Z[Y]=ke,Z[Y+1]=Ee}for(var We=0;We<160;We+=2){ke=Z[We],Ee=Z[We+1];var Ve=p(ee,ne,J),Se=p(W,ie,T),qe=m(ee,W),ze=m(W,ee),Ye=C(oe,k),st=C(k,oe),tt=d[We],it=d[We+1],lt=b(oe,fe,ae),ht=b(k,N,P),kt=U+st|0,Wt=$+Ye+R(kt,U)|0;Wt=(Wt=(Wt=Wt+lt+R(kt=kt+ht|0,ht)|0)+tt+R(kt=kt+it|0,it)|0)+ke+R(kt=kt+Ee|0,Ee)|0;var Nt=ze+Se|0,qt=qe+Ve+R(Nt,ze)|0;$=ae,U=P,ae=fe,P=N,fe=oe,N=k,oe=re+Wt+R(k=I+kt|0,I)|0,re=J,I=T,J=ne,T=ie,ne=ee,ie=W,ee=Wt+qt+R(W=kt+Nt|0,kt)|0}this._al=this._al+W|0,this._bl=this._bl+ie|0,this._cl=this._cl+T|0,this._dl=this._dl+I|0,this._el=this._el+k|0,this._fl=this._fl+N|0,this._gl=this._gl+P|0,this._hl=this._hl+U|0,this._ah=this._ah+ee+R(this._al,W)|0,this._bh=this._bh+ne+R(this._bl,ie)|0,this._ch=this._ch+J+R(this._cl,T)|0,this._dh=this._dh+re+R(this._dl,I)|0,this._eh=this._eh+oe+R(this._el,k)|0,this._fh=this._fh+fe+R(this._fl,N)|0,this._gh=this._gh+ae+R(this._gl,P)|0,this._hh=this._hh+$+R(this._hl,U)|0},f.prototype._hash=function(){var L=g.allocUnsafe(64);function Z(ee,ne,J){L.writeInt32BE(ee,J),L.writeInt32BE(ne,J+4)}return Z(this._ah,this._al,0),Z(this._bh,this._bl,8),Z(this._ch,this._cl,16),Z(this._dh,this._dl,24),Z(this._eh,this._el,32),Z(this._fh,this._fl,40),Z(this._gh,this._gl,48),Z(this._hh,this._hl,56),L},z.exports=f},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(_,z,B){"use strict";z.exports=y;var A=_("events").EventEmitter;function y(){A.call(this)}_("inherits")(y,A),y.Readable=_("readable-stream/readable.js"),y.Writable=_("readable-stream/writable.js"),y.Duplex=_("readable-stream/duplex.js"),y.Transform=_("readable-stream/transform.js"),y.PassThrough=_("readable-stream/passthrough.js"),y.Stream=y,y.prototype.pipe=function(g,d){var u=this;function f(D){g.writable&&!1===g.write(D)&&u.pause&&u.pause()}function b(){u.readable&&u.resume&&u.resume()}u.on("data",f),g.on("drain",b),g._isStdio||d&&!1===d.end||(u.on("end",m),u.on("close",C));var p=!1;function m(){p||(p=!0,g.end())}function C(){p||(p=!0,"function"==typeof g.destroy&&g.destroy())}function E(D){if(v(),0===A.listenerCount(this,"error"))throw D}function v(){u.removeListener("data",f),g.removeListener("drain",b),u.removeListener("end",m),u.removeListener("close",C),u.removeListener("error",E),g.removeListener("error",E),u.removeListener("end",v),u.removeListener("close",v),g.removeListener("close",v)}return u.on("error",E),g.on("error",E),u.on("end",v),u.on("close",v),g.on("close",v),g.emit("pipe",u),g}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(_,z,B){"use strict";var A={}.toString;z.exports=Array.isArray||function(y){return"[object Array]"==A.call(y)}},{}],507:[function(_,z,B){"use strict";z.exports=_("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(_,z,B){"use strict";var A=_("process-nextick-args"),y=Object.keys||function(v){var D=[];for(var S in v)D.push(S);return D};z.exports=m;var g=Object.create(_("core-util-is"));g.inherits=_("inherits");var d=_("./_stream_readable"),u=_("./_stream_writable");g.inherits(m,d);for(var f=y(u.prototype),b=0;b<f.length;b++){var p=f[b];m.prototype[p]||(m.prototype[p]=u.prototype[p])}function m(v){if(!(this instanceof m))return new m(v);d.call(this,v),u.call(this,v),v&&!1===v.readable&&(this.readable=!1),v&&!1===v.writable&&(this.writable=!1),this.allowHalfOpen=!0,v&&!1===v.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",C)}function C(){this.allowHalfOpen||this._writableState.ended||A.nextTick(E,this)}function E(v){v.end()}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(v){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}}),m.prototype._destroy=function(v,D){this.push(null),this.end(),A.nextTick(D,v)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(_,z,B){"use strict";z.exports=g;var A=_("./_stream_transform"),y=Object.create(_("core-util-is"));function g(d){if(!(this instanceof g))return new g(d);A.call(this,d)}y.inherits=_("inherits"),y.inherits(g,A),g.prototype._transform=function(d,u,f){f(null,d)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(_,z,B){(function(A,y){(function(){"use strict";var g=_("process-nextick-args");z.exports=ee;var d,u=_("isarray");ee.ReadableState=Z,_("events");var f=function(U,Y){return U.listeners(Y).length},b=_("./internal/streams/stream"),p=_("safe-buffer").Buffer,m=(void 0!==y?y:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},C=Object.create(_("core-util-is"));C.inherits=_("inherits");var E=_("util"),v=void 0;v=E&&E.debuglog?E.debuglog("stream"):function(){};var D,S=_("./internal/streams/BufferList"),R=_("./internal/streams/destroy");C.inherits(ee,b);var L=["error","close","destroy","pause","resume"];function Z(U,Y){U=U||{};var ce=Y instanceof(d=d||_("./_stream_duplex"));this.objectMode=!!U.objectMode,ce&&(this.objectMode=this.objectMode||!!U.readableObjectMode);var he=U.highWaterMark,be=U.readableHighWaterMark;this.highWaterMark=he||0===he?he:ce&&(be||0===be)?be:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(D||(D=_("string_decoder/").StringDecoder),this.decoder=new D(U.encoding),this.encoding=U.encoding)}function ee(U){if(d=d||_("./_stream_duplex"),!(this instanceof ee))return new ee(U);this._readableState=new Z(U,this),this.readable=!0,U&&("function"==typeof U.read&&(this._read=U.read),"function"==typeof U.destroy&&(this._destroy=U.destroy)),b.call(this)}function ne(U,Y,ce,he,be){var K,q,G,ue,Te,_e=U._readableState;return null===Y?(_e.reading=!1,function(q,G){if(!G.ended){if(G.decoder){var ue=G.decoder.end();ue&&ue.length&&(G.buffer.push(ue),G.length+=G.objectMode?1:ue.length)}G.ended=!0,oe(q)}}(U,_e)):(be||(q=_e,p.isBuffer(Te=G=Y)||Te instanceof m||"string"==typeof G||void 0===G||q.objectMode||(ue=new TypeError("Invalid non-string/buffer chunk")),K=ue),K?U.emit("error",K):_e.objectMode||Y&&Y.length>0?("string"==typeof Y||_e.objectMode||Object.getPrototypeOf(Y)===p.prototype||(Y=function(q){return p.from(q)}(Y)),he?_e.endEmitted?U.emit("error",new Error("stream.unshift() after end event")):J(U,_e,Y,!0):_e.ended?U.emit("error",new Error("stream.push() after EOF")):(_e.reading=!1,_e.decoder&&!ce?(Y=_e.decoder.write(Y),_e.objectMode||0!==Y.length?J(U,_e,Y,!1):ae(U,_e)):J(U,_e,Y,!1))):he||(_e.reading=!1)),function(q){return!q.ended&&(q.needReadable||q.length<q.highWaterMark||0===q.length)}(_e)}function J(U,Y,ce,he){Y.flowing&&0===Y.length&&!Y.sync?(U.emit("data",ce),U.read(0)):(Y.length+=Y.objectMode?1:ce.length,he?Y.buffer.unshift(ce):Y.buffer.push(ce),Y.needReadable&&oe(U)),ae(U,Y)}function re(U,Y){return U<=0||0===Y.length&&Y.ended?0:Y.objectMode?1:U!=U?Y.flowing&&Y.length?Y.buffer.head.data.length:Y.length:(U>Y.highWaterMark&&(Y.highWaterMark=((ce=U)>=8388608?ce=8388608:(ce--,ce|=ce>>>1,ce|=ce>>>2,ce|=ce>>>4,ce|=ce>>>8,ce|=ce>>>16,ce++),ce)),U<=Y.length?U:Y.ended?Y.length:(Y.needReadable=!0,0));var ce}function oe(U){var Y=U._readableState;Y.needReadable=!1,Y.emittedReadable||(v("emitReadable",Y.flowing),Y.emittedReadable=!0,Y.sync?g.nextTick(fe,U):fe(U))}function fe(U){v("emit readable"),U.emit("readable"),T(U)}function ae(U,Y){Y.readingMore||(Y.readingMore=!0,g.nextTick($,U,Y))}function $(U,Y){for(var ce=Y.length;!Y.reading&&!Y.flowing&&!Y.ended&&Y.length<Y.highWaterMark&&(v("maybeReadMore read 0"),U.read(0),ce!==Y.length);)ce=Y.length;Y.readingMore=!1}function W(U){v("readable nexttick read 0"),U.read(0)}function ie(U,Y){Y.reading||(v("resume read 0"),U.read(0)),Y.resumeScheduled=!1,Y.awaitDrain=0,U.emit("resume"),T(U),Y.flowing&&!Y.reading&&U.read(0)}function T(U){var Y=U._readableState;for(v("flow",Y.flowing);Y.flowing&&null!==U.read(););}function I(U,Y){return 0===Y.length?null:(Y.objectMode?ce=Y.buffer.shift():!U||U>=Y.length?(ce=Y.decoder?Y.buffer.join(""):1===Y.buffer.length?Y.buffer.head.data:Y.buffer.concat(Y.length),Y.buffer.clear()):(K=Y.decoder,(he=U)<(be=Y.buffer).head.data.length?(_e=be.head.data.slice(0,he),be.head.data=be.head.data.slice(he)):_e=he===be.head.data.length?be.shift():K?function(q,G){var ue=G.head,Te=1,Me=ue.data;for(q-=Me.length;ue=ue.next;){var Ee=ue.data,ke=q>Ee.length?Ee.length:q;if(Me+=ke===Ee.length?Ee:Ee.slice(0,q),0==(q-=ke)){ke===Ee.length?(++Te,G.head=ue.next?ue.next:G.tail=null):(G.head=ue,ue.data=Ee.slice(ke));break}++Te}return G.length-=Te,Me}(he,be):function(q,G){var ue=p.allocUnsafe(q),Te=G.head,Me=1;for(Te.data.copy(ue),q-=Te.data.length;Te=Te.next;){var Ee=Te.data,ke=q>Ee.length?Ee.length:q;if(Ee.copy(ue,ue.length-q,0,ke),0==(q-=ke)){ke===Ee.length?(++Me,G.head=Te.next?Te.next:G.tail=null):(G.head=Te,Te.data=Ee.slice(ke));break}++Me}return G.length-=Me,ue}(he,be),ce=_e),ce);var he,be,K,_e,ce}function k(U){var Y=U._readableState;if(Y.length>0)throw new Error('"endReadable()" called on non-empty stream');Y.endEmitted||(Y.ended=!0,g.nextTick(N,Y,U))}function N(U,Y){U.endEmitted||0!==U.length||(U.endEmitted=!0,Y.readable=!1,Y.emit("end"))}function P(U,Y){for(var ce=0,he=U.length;ce<he;ce++)if(U[ce]===Y)return ce;return-1}Object.defineProperty(ee.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),ee.prototype.destroy=R.destroy,ee.prototype._undestroy=R.undestroy,ee.prototype._destroy=function(U,Y){this.push(null),Y(U)},ee.prototype.push=function(U,Y){var ce,he=this._readableState;return he.objectMode?ce=!0:"string"==typeof U&&((Y=Y||he.defaultEncoding)!==he.encoding&&(U=p.from(U,Y),Y=""),ce=!0),ne(this,U,Y,!1,ce)},ee.prototype.unshift=function(U){return ne(this,U,null,!0,!1)},ee.prototype.isPaused=function(){return!1===this._readableState.flowing},ee.prototype.setEncoding=function(U){return D||(D=_("string_decoder/").StringDecoder),this._readableState.decoder=new D(U),this._readableState.encoding=U,this},ee.prototype.read=function(U){v("read",U),U=parseInt(U,10);var Y=this._readableState,ce=U;if(0!==U&&(Y.emittedReadable=!1),0===U&&Y.needReadable&&(Y.length>=Y.highWaterMark||Y.ended))return v("read: emitReadable",Y.length,Y.ended),0===Y.length&&Y.ended?k(this):oe(this),null;if(0===(U=re(U,Y))&&Y.ended)return 0===Y.length&&k(this),null;var he,be=Y.needReadable;return v("need readable",be),(0===Y.length||Y.length-U<Y.highWaterMark)&&v("length less than watermark",be=!0),Y.ended||Y.reading?v("reading or ended",be=!1):be&&(v("do read"),Y.reading=!0,Y.sync=!0,0===Y.length&&(Y.needReadable=!0),this._read(Y.highWaterMark),Y.sync=!1,Y.reading||(U=re(ce,Y))),null===(he=U>0?I(U,Y):null)?(Y.needReadable=!0,U=0):Y.length-=U,0===Y.length&&(Y.ended||(Y.needReadable=!0),ce!==U&&Y.ended&&k(this)),null!==he&&this.emit("data",he),he},ee.prototype._read=function(U){this.emit("error",new Error("_read() is not implemented"))},ee.prototype.pipe=function(U,Y){var ce=this,he=this._readableState;switch(he.pipesCount){case 0:he.pipes=U;break;case 1:he.pipes=[he.pipes,U];break;default:he.pipes.push(U)}he.pipesCount+=1,v("pipe count=%d opts=%j",he.pipesCount,Y);var be=Y&&!1===Y.end||U===A.stdout||U===A.stderr?We:_e;function _e(){v("onend"),U.end()}he.endEmitted?g.nextTick(be):ce.once("end",be),U.on("unpipe",function K(Ve,Se){v("onunpipe"),Ve===ce&&Se&&!1===Se.hasUnpiped&&(Se.hasUnpiped=!0,v("cleanup"),U.removeListener("close",Ee),U.removeListener("finish",ke),U.removeListener("drain",q),U.removeListener("error",Me),U.removeListener("unpipe",K),ce.removeListener("end",_e),ce.removeListener("end",We),ce.removeListener("data",Te),G=!0,!he.awaitDrain||U._writableState&&!U._writableState.needDrain||q())});var Ve,q=(Ve=ce,function(){var Se=Ve._readableState;v("pipeOnDrain",Se.awaitDrain),Se.awaitDrain&&Se.awaitDrain--,0===Se.awaitDrain&&f(Ve,"data")&&(Se.flowing=!0,T(Ve))});U.on("drain",q);var G=!1,ue=!1;function Te(Ve){v("ondata"),ue=!1,!1!==U.write(Ve)||ue||((1===he.pipesCount&&he.pipes===U||he.pipesCount>1&&-1!==P(he.pipes,U))&&!G&&(v("false write response, pause",he.awaitDrain),he.awaitDrain++,ue=!0),ce.pause())}function Me(Ve){v("onerror",Ve),We(),U.removeListener("error",Me),0===f(U,"error")&&U.emit("error",Ve)}function Ee(){U.removeListener("finish",ke),We()}function ke(){v("onfinish"),U.removeListener("close",Ee),We()}function We(){v("unpipe"),ce.unpipe(U)}return ce.on("data",Te),function(Ve,Se,qe){if("function"==typeof Ve.prependListener)return Ve.prependListener(Se,qe);Ve._events&&Ve._events[Se]?u(Ve._events[Se])?Ve._events[Se].unshift(qe):Ve._events[Se]=[qe,Ve._events[Se]]:Ve.on(Se,qe)}(U,"error",Me),U.once("close",Ee),U.once("finish",ke),U.emit("pipe",ce),he.flowing||(v("pipe resume"),ce.resume()),U},ee.prototype.unpipe=function(U){var Y=this._readableState,ce={hasUnpiped:!1};if(0===Y.pipesCount)return this;if(1===Y.pipesCount)return U&&U!==Y.pipes||(U||(U=Y.pipes),Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,U&&U.emit("unpipe",this,ce)),this;if(!U){var he=Y.pipes,be=Y.pipesCount;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var K=0;K<be;K++)he[K].emit("unpipe",this,{hasUnpiped:!1});return this}var _e=P(Y.pipes,U);return-1===_e||(Y.pipes.splice(_e,1),Y.pipesCount-=1,1===Y.pipesCount&&(Y.pipes=Y.pipes[0]),U.emit("unpipe",this,ce)),this},ee.prototype.addListener=ee.prototype.on=function(U,Y){var ce=b.prototype.on.call(this,U,Y);if("data"===U)!1!==this._readableState.flowing&&this.resume();else if("readable"===U){var he=this._readableState;he.endEmitted||he.readableListening||(he.readableListening=he.needReadable=!0,he.emittedReadable=!1,he.reading?he.length&&oe(this):g.nextTick(W,this))}return ce},ee.prototype.resume=function(){var ce,U=this._readableState;return U.flowing||(v("resume"),U.flowing=!0,this,(ce=U).resumeScheduled||(ce.resumeScheduled=!0,g.nextTick(ie,this,ce))),this},ee.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this},ee.prototype.wrap=function(U){var Y=this,ce=this._readableState,he=!1;for(var be in U.on("end",function(){if(v("wrapped end"),ce.decoder&&!ce.ended){var _e=ce.decoder.end();_e&&_e.length&&Y.push(_e)}Y.push(null)}),U.on("data",function(_e){v("wrapped data"),ce.decoder&&(_e=ce.decoder.write(_e)),ce.objectMode&&null==_e||(ce.objectMode||_e&&_e.length)&&(Y.push(_e)||(he=!0,U.pause()))}),U)void 0===this[be]&&"function"==typeof U[be]&&(this[be]=function(_e){return function(){return U[_e].apply(U,arguments)}}(be));for(var K=0;K<L.length;K++)U.on(L[K],this.emit.bind(this,L[K]));return this._read=function(_e){v("wrapped _read",_e),he&&(he=!1,U.resume())},this},Object.defineProperty(ee.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),ee._fromList=I}).call(this)}).call(this,_("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(_,z,B){"use strict";z.exports=d;var A=_("./_stream_duplex"),y=Object.create(_("core-util-is"));function g(b,p){var m=this._transformState;m.transforming=!1;var C=m.writecb;if(!C)return this.emit("error",new Error("write callback called multiple times"));m.writechunk=null,m.writecb=null,null!=p&&this.push(p),C(b);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function d(b){if(!(this instanceof d))return new d(b);A.call(this,b),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&("function"==typeof b.transform&&(this._transform=b.transform),"function"==typeof b.flush&&(this._flush=b.flush)),this.on("prefinish",u)}function u(){var b=this;"function"==typeof this._flush?this._flush(function(p,m){f(b,p,m)}):f(this,null,null)}function f(b,p,m){if(p)return b.emit("error",p);if(null!=m&&b.push(m),b._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(b._transformState.transforming)throw new Error("Calling transform done when still transforming");return b.push(null)}y.inherits=_("inherits"),y.inherits(d,A),d.prototype.push=function(b,p){return this._transformState.needTransform=!1,A.prototype.push.call(this,b,p)},d.prototype._transform=function(b,p,m){throw new Error("_transform() is not implemented")},d.prototype._write=function(b,p,m){var C=this._transformState;if(C.writecb=m,C.writechunk=b,C.writeencoding=p,!C.transforming){var E=this._readableState;(C.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},d.prototype._read=function(b){var p=this._transformState;null!==p.writechunk&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},d.prototype._destroy=function(b,p){var m=this;A.prototype._destroy.call(this,b,function(C){p(C),m.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(_,z,B){(function(A,y,g){(function(){"use strict";var d=_("process-nextick-args");function u(ae){var $=this;this.next=null,this.entry=null,this.finish=function(){!function(W,ie,T){var I=W.entry;for(W.entry=null;I;){var k=I.callback;ie.pendingcb--,k(undefined),I=I.next}ie.corkedRequestsFree.next=W}($,ae)}}z.exports=Z;var f,b=!A.browser&&["v0.10","v0.9."].indexOf(A.version.slice(0,5))>-1?g:d.nextTick;Z.WritableState=L;var p=Object.create(_("core-util-is"));p.inherits=_("inherits");var D,m={deprecate:_("util-deprecate")},C=_("./internal/streams/stream"),E=_("safe-buffer").Buffer,v=(void 0!==y?y:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},S=_("./internal/streams/destroy");function R(){}function L(ae,$){f=f||_("./_stream_duplex");var W=$ instanceof f;this.objectMode=!!(ae=ae||{}).objectMode,W&&(this.objectMode=this.objectMode||!!ae.writableObjectMode);var ie=ae.highWaterMark,T=ae.writableHighWaterMark;this.highWaterMark=ie||0===ie?ie:W&&(T||0===T)?T:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ae.decodeStrings),this.defaultEncoding=ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){!function(P,U){var K,Y=P._writableState,ce=Y.sync,he=Y.writecb;if((K=Y).writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0,U)!function(K,_e,q,G,ue){--_e.pendingcb,q?(d.nextTick(ue,G),d.nextTick(fe,K,_e),K._writableState.errorEmitted=!0,K.emit("error",G)):(ue(G),K._writableState.errorEmitted=!0,K.emit("error",G),fe(K,_e))}(P,Y,ce,U,he);else{var be=re(Y);be||Y.corked||Y.bufferProcessing||!Y.bufferedRequest||J(P,Y),ce?b(ne,P,Y,be,he):ne(P,Y,be,he)}}($,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function Z(ae){if(f=f||_("./_stream_duplex"),!(D.call(Z,this)||this instanceof f))return new Z(ae);this._writableState=new L(ae,this),this.writable=!0,ae&&("function"==typeof ae.write&&(this._write=ae.write),"function"==typeof ae.writev&&(this._writev=ae.writev),"function"==typeof ae.destroy&&(this._destroy=ae.destroy),"function"==typeof ae.final&&(this._final=ae.final)),C.call(this)}function ee(ae,$,W,ie,T,I,k){$.writelen=ie,$.writecb=k,$.writing=!0,$.sync=!0,W?ae._writev(T,$.onwrite):ae._write(T,I,$.onwrite),$.sync=!1}function ne(ae,$,W,ie){var T,I;W||(T=ae,0===(I=$).length&&I.needDrain&&(I.needDrain=!1,T.emit("drain"))),$.pendingcb--,ie(),fe(ae,$)}function J(ae,$){$.bufferProcessing=!0;var W=$.bufferedRequest;if(ae._writev&&W&&W.next){var T=new Array($.bufferedRequestCount),I=$.corkedRequestsFree;I.entry=W;for(var k=0,N=!0;W;)T[k]=W,W.isBuf||(N=!1),W=W.next,k+=1;T.allBuffers=N,ee(ae,$,!0,$.length,T,"",I.finish),$.pendingcb++,$.lastBufferedRequest=null,I.next?($.corkedRequestsFree=I.next,I.next=null):$.corkedRequestsFree=new u($),$.bufferedRequestCount=0}else{for(;W;){var P=W.chunk;if(ee(ae,$,!1,$.objectMode?1:P.length,P,W.encoding,W.callback),W=W.next,$.bufferedRequestCount--,$.writing)break}null===W&&($.lastBufferedRequest=null)}$.bufferedRequest=W,$.bufferProcessing=!1}function re(ae){return ae.ending&&0===ae.length&&null===ae.bufferedRequest&&!ae.finished&&!ae.writing}function oe(ae,$){ae._final(function(W){$.pendingcb--,W&&ae.emit("error",W),$.prefinished=!0,ae.emit("prefinish"),fe(ae,$)})}function fe(ae,$){var ie,T,W=re($);return W&&(ie=ae,(T=$).prefinished||T.finalCalled||("function"==typeof ie._final?(T.pendingcb++,T.finalCalled=!0,d.nextTick(oe,ie,T)):(T.prefinished=!0,ie.emit("prefinish"))),0===$.pendingcb&&($.finished=!0,ae.emit("finish"))),W}p.inherits(Z,C),L.prototype.getBuffer=function(){for(var ae=this.bufferedRequest,$=[];ae;)$.push(ae),ae=ae.next;return $},function(){try{Object.defineProperty(L.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(Z,Symbol.hasInstance,{value:function(ae){return!!D.call(this,ae)||this===Z&&ae&&ae._writableState instanceof L}})):D=function(ae){return ae instanceof this},Z.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Z.prototype.write=function(ae,$,W){var ie,N,P,U,T=this._writableState,I=!1,k=!T.objectMode&&(E.isBuffer(ie=ae)||ie instanceof v);return k&&!E.isBuffer(ae)&&(ae=E.from(ae)),"function"==typeof $&&(W=$,$=null),k?$="buffer":$||($=T.defaultEncoding),"function"!=typeof W&&(W=R),T.ended?(N=this,P=W,U=new Error("write after end"),N.emit("error",U),d.nextTick(P,U)):(k||function(N,P,U,Y){var ce=!0,he=!1;return null===U?he=new TypeError("May not write null values to stream"):"string"==typeof U||void 0===U||P.objectMode||(he=new TypeError("Invalid non-string/buffer chunk")),he&&(N.emit("error",he),d.nextTick(Y,he),ce=!1),ce}(this,T,ae,W))&&(T.pendingcb++,I=function(N,P,U,Y,ce,he){if(!U){var be=(ue=Y,(G=P).objectMode||!1===G.decodeStrings||"string"!=typeof ue||(ue=E.from(ue,ce)),ue);Y!==be&&(U=!0,ce="buffer",Y=be)}var G,ue,K=P.objectMode?1:Y.length;P.length+=K;var _e=P.length<P.highWaterMark;if(_e||(P.needDrain=!0),P.writing||P.corked){var q=P.lastBufferedRequest;P.lastBufferedRequest={chunk:Y,encoding:ce,isBuf:U,callback:he,next:null},q?q.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else ee(N,P,!1,K,Y,ce,he);return _e}(this,T,k,ae,$,W)),I},Z.prototype.cork=function(){this._writableState.corked++},Z.prototype.uncork=function(){var ae=this._writableState;ae.corked&&(ae.corked--,ae.writing||ae.corked||ae.bufferProcessing||!ae.bufferedRequest||J(this,ae))},Z.prototype.setDefaultEncoding=function(ae){if("string"==typeof ae&&(ae=ae.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ae+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ae);return this._writableState.defaultEncoding=ae,this},Object.defineProperty(Z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Z.prototype._write=function(ae,$,W){W(new Error("_write() is not implemented"))},Z.prototype._writev=null,Z.prototype.end=function(ae,$,W){var T,I,k,ie=this._writableState;"function"==typeof ae?(W=ae,ae=null,$=null):"function"==typeof $&&(W=$,$=null),null!=ae&&this.write(ae,$),ie.corked&&(ie.corked=1,this.uncork()),ie.ending||(T=this,k=W,(I=ie).ending=!0,fe(T,I),k&&(I.finished?d.nextTick(k):T.once("finish",k)),I.ended=!0,T.writable=!1)},Object.defineProperty(Z.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ae){this._writableState&&(this._writableState.destroyed=ae)}}),Z.prototype.destroy=S.destroy,Z.prototype._undestroy=S.undestroy,Z.prototype._destroy=function(ae,$){this.end(),$(ae)}}).call(this)}).call(this,_("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},_("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(_,z,B){"use strict";var A=_("safe-buffer").Buffer,y=_("util");z.exports=function(){function g(){(function(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,g),this.head=null,this.tail=null,this.length=0}return g.prototype.push=function(d){var u={data:d,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},g.prototype.unshift=function(d){var u={data:d,next:this.head};0===this.length&&(this.tail=u),this.head=u,++this.length},g.prototype.shift=function(){if(0!==this.length){var d=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,d}},g.prototype.clear=function(){this.head=this.tail=null,this.length=0},g.prototype.join=function(d){if(0===this.length)return"";for(var u=this.head,f=""+u.data;u=u.next;)f+=d+u.data;return f},g.prototype.concat=function(d){if(0===this.length)return A.alloc(0);for(var p=A.allocUnsafe(d>>>0),m=this.head,C=0;m;)m.data.copy(p,C),C+=m.data.length,m=m.next;return p},g}(),y&&y.inspect&&y.inspect.custom&&(z.exports.prototype[y.inspect.custom]=function(){var g=y.inspect({length:this.length});return this.constructor.name+" "+g})},{"safe-buffer":520,util:188}],514:[function(_,z,B){"use strict";var A=_("process-nextick-args");function y(g,d){g.emit("error",d)}z.exports={destroy:function(g,d){var u=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(d?d(g):g&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.nextTick(y,this,g)):A.nextTick(y,this,g)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(g||null,function(p){!d&&p?u._writableState?u._writableState.errorEmitted||(u._writableState.errorEmitted=!0,A.nextTick(y,u,p)):A.nextTick(y,u,p):d&&d(p)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(_,z,B){arguments[4][490][0].apply(B,arguments)},{dup:490,events:422}],516:[function(_,z,B){"use strict";z.exports=_("./readable").PassThrough},{"./readable":517}],517:[function(_,z,B){"use strict";(B=z.exports=_("./lib/_stream_readable.js")).Stream=B,B.Readable=B,B.Writable=_("./lib/_stream_writable.js"),B.Duplex=_("./lib/_stream_duplex.js"),B.Transform=_("./lib/_stream_transform.js"),B.PassThrough=_("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(_,z,B){"use strict";z.exports=_("./readable").Transform},{"./readable":517}],519:[function(_,z,B){"use strict";z.exports=_("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(_,z,B){arguments[4][217][0].apply(B,arguments)},{buffer:220,dup:217}],521:[function(_,z,B){arguments[4][218][0].apply(B,arguments)},{dup:218,"safe-buffer":520}],522:[function(_,z,B){arguments[4][218][0].apply(B,arguments)},{dup:218,"safe-buffer":494}],523:[function(_,z,B){(function(A,y){(function(){"use strict";var g=_("process/browser.js").nextTick,d=Function.prototype.apply,u=Array.prototype.slice,f={},b=0;function p(m,C){this._id=m,this._clearFn=C}B.setTimeout=function(){return new p(d.call(setTimeout,window,arguments),clearTimeout)},B.setInterval=function(){return new p(d.call(setInterval,window,arguments),clearInterval)},B.clearTimeout=B.clearInterval=function(m){m.close()},p.prototype.unref=p.prototype.ref=function(){},p.prototype.close=function(){this._clearFn.call(window,this._id)},B.enroll=function(m,C){clearTimeout(m._idleTimeoutId),m._idleTimeout=C},B.unenroll=function(m){clearTimeout(m._idleTimeoutId),m._idleTimeout=-1},B._unrefActive=B.active=function(m){clearTimeout(m._idleTimeoutId);var C=m._idleTimeout;C>=0&&(m._idleTimeoutId=setTimeout(function(){m._onTimeout&&m._onTimeout()},C))},B.setImmediate="function"==typeof A?A:function(m){var C=b++,E=!(arguments.length<2)&&u.call(arguments,1);return f[C]=!0,g(function(){f[C]&&(E?m.apply(null,E):m.call(null),B.clearImmediate(C))}),C},B.clearImmediate="function"==typeof y?y:function(m){delete f[m]}}).call(this)}).call(this,_("timers").setImmediate,_("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(_,z,B){(function(A){(function(){"use strict";function y(g){try{if(!A.localStorage)return!1}catch{return!1}var d=A.localStorage[g];return null!=d&&"true"===String(d).toLowerCase()}z.exports=function(g,d){if(y("noDeprecation"))return g;var u=!1;return function(){if(!u){if(y("throwDeprecation"))throw new Error(d);y("traceDeprecation")?console.trace(d):console.warn(d),u=!0}return g.apply(this,arguments)}}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(_,z,B){"use strict";z.exports="function"==typeof Object.create?function(A,y){A.super_=y,A.prototype=Object.create(y.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}})}:function(A,y){A.super_=y;var g=function(){};g.prototype=y.prototype,A.prototype=new g,A.prototype.constructor=A}},{}],526:[function(_,z,B){"use strict";z.exports=function(A){return A&&"object"==typeof A&&"function"==typeof A.copy&&"function"==typeof A.fill&&"function"==typeof A.readUInt8}},{}],527:[function(_,z,B){(function(A,y){(function(){"use strict";var g=/%[sdj%]/g;B.format=function(T){if(!L(T)){for(var I=[],k=0;k<arguments.length;k++)I.push(f(arguments[k]));return I.join(" ")}k=1;for(var N=arguments,P=N.length,U=String(T).replace(g,function(ce){if("%%"===ce)return"%";if(k>=P)return ce;switch(ce){case"%s":return String(N[k++]);case"%d":return Number(N[k++]);case"%j":try{return JSON.stringify(N[k++])}catch{return"[Circular]"}default:return ce}}),Y=N[k];k<P;Y=N[++k])S(Y)||!ne(Y)?U+=" "+Y:U+=" "+f(Y);return U},B.deprecate=function(T,I){if(Z(y.process))return function(){return B.deprecate(T,I).apply(this,arguments)};if(!0===A.noDeprecation)return T;var k=!1;return function(){if(!k){if(A.throwDeprecation)throw new Error(I);A.traceDeprecation?console.trace(I):console.error(I),k=!0}return T.apply(this,arguments)}};var d,u={};function f(T,I){var k={seen:[],stylize:p};return arguments.length>=3&&(k.depth=arguments[2]),arguments.length>=4&&(k.colors=arguments[3]),D(I)?k.showHidden=I:I&&B._extend(k,I),Z(k.showHidden)&&(k.showHidden=!1),Z(k.depth)&&(k.depth=2),Z(k.colors)&&(k.colors=!1),Z(k.customInspect)&&(k.customInspect=!0),k.colors&&(k.stylize=b),m(k,T,k.depth)}function b(T,I){var k=f.styles[I];return k?"\x1b["+f.colors[k][0]+"m"+T+"\x1b["+f.colors[k][1]+"m":T}function p(T,I){return T}function m(T,I,k){if(T.customInspect&&I&&oe(I.inspect)&&I.inspect!==B.inspect&&(!I.constructor||I.constructor.prototype!==I)){var N=I.inspect(k,T);return L(N)||(N=m(T,N,k)),N}var P=function(q,G){if(Z(G))return q.stylize("undefined","undefined");if(L(G)){var ue="'"+JSON.stringify(G).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(ue,"string")}return R(G)?q.stylize(""+G,"number"):D(G)?q.stylize(""+G,"boolean"):S(G)?q.stylize("null","null"):void 0}(T,I);if(P)return P;var G,U=Object.keys(I),Y=(G={},U.forEach(function(ue,Te){G[ue]=!0}),G);if(T.showHidden&&(U=Object.getOwnPropertyNames(I)),re(I)&&(U.indexOf("message")>=0||U.indexOf("description")>=0))return C(I);if(0===U.length){if(oe(I))return T.stylize("[Function"+(I.name?": "+I.name:"")+"]","special");if(ee(I))return T.stylize(RegExp.prototype.toString.call(I),"regexp");if(J(I))return T.stylize(Date.prototype.toString.call(I),"date");if(re(I))return C(I)}var he,be="",K=!1,_e=["{","}"];return v(I)&&(K=!0,_e=["[","]"]),oe(I)&&(be=" [Function"+(I.name?": "+I.name:"")+"]"),ee(I)&&(be=" "+RegExp.prototype.toString.call(I)),J(I)&&(be=" "+Date.prototype.toUTCString.call(I)),re(I)&&(be=" "+C(I)),0!==U.length||K&&0!=I.length?k<0?ee(I)?T.stylize(RegExp.prototype.toString.call(I),"regexp"):T.stylize("[Object]","special"):(T.seen.push(I),he=K?function(q,G,ue,Te,Me){for(var Ee=[],ke=0,We=G.length;ke<We;++ke)ie(G,String(ke))?Ee.push(E(q,G,ue,Te,String(ke),!0)):Ee.push("");return Me.forEach(function(Ve){Ve.match(/^\d+$/)||Ee.push(E(q,G,ue,Te,Ve,!0))}),Ee}(T,I,k,Y,U):U.map(function(q){return E(T,I,k,Y,q,K)}),T.seen.pop(),function(q,G,ue){return q.reduce(function(Te,Me){return Me.indexOf("\n"),Te+Me.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ue[0]+(""===G?"":G+"\n ")+" "+q.join(",\n  ")+" "+ue[1]:ue[0]+G+" "+q.join(", ")+" "+ue[1]}(he,be,_e)):_e[0]+be+_e[1]}function C(T){return"["+Error.prototype.toString.call(T)+"]"}function E(T,I,k,N,P,U){var Y,ce,he;if((he=Object.getOwnPropertyDescriptor(I,P)||{value:I[P]}).get?ce=T.stylize(he.set?"[Getter/Setter]":"[Getter]","special"):he.set&&(ce=T.stylize("[Setter]","special")),ie(N,P)||(Y="["+P+"]"),ce||(T.seen.indexOf(he.value)<0?(ce=S(k)?m(T,he.value,null):m(T,he.value,k-1)).indexOf("\n")>-1&&(ce=U?ce.split("\n").map(function(be){return"  "+be}).join("\n").substr(2):"\n"+ce.split("\n").map(function(be){return"   "+be}).join("\n")):ce=T.stylize("[Circular]","special")),Z(Y)){if(U&&P.match(/^\d+$/))return ce;(Y=JSON.stringify(""+P)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Y=Y.substr(1,Y.length-2),Y=T.stylize(Y,"name")):(Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=T.stylize(Y,"string"))}return Y+": "+ce}function v(T){return Array.isArray(T)}function D(T){return"boolean"==typeof T}function S(T){return null===T}function R(T){return"number"==typeof T}function L(T){return"string"==typeof T}function Z(T){return void 0===T}function ee(T){return ne(T)&&"[object RegExp]"===fe(T)}function ne(T){return"object"==typeof T&&null!==T}function J(T){return ne(T)&&"[object Date]"===fe(T)}function re(T){return ne(T)&&("[object Error]"===fe(T)||T instanceof Error)}function oe(T){return"function"==typeof T}function fe(T){return Object.prototype.toString.call(T)}function ae(T){return T<10?"0"+T.toString(10):T.toString(10)}B.debuglog=function(T){if(Z(d)&&(d=A.env.NODE_DEBUG||""),T=T.toUpperCase(),!u[T])if(new RegExp("\\b"+T+"\\b","i").test(d)){var I=A.pid;u[T]=function(){var k=B.format.apply(B,arguments);console.error("%s %d: %s",T,I,k)}}else u[T]=function(){};return u[T]},B.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},B.isArray=v,B.isBoolean=D,B.isNull=S,B.isNullOrUndefined=function(T){return null==T},B.isNumber=R,B.isString=L,B.isSymbol=function(T){return"symbol"==typeof T},B.isUndefined=Z,B.isRegExp=ee,B.isObject=ne,B.isDate=J,B.isError=re,B.isFunction=oe,B.isPrimitive=function(T){return null===T||"boolean"==typeof T||"number"==typeof T||"string"==typeof T||"symbol"==typeof T||void 0===T},B.isBuffer=_("./support/isBuffer");var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ie(T,I){return Object.prototype.hasOwnProperty.call(T,I)}B.log=function(){console.log("%s - %s",function W(){var T=new Date,I=[ae(T.getHours()),ae(T.getMinutes()),ae(T.getSeconds())].join(":");return[T.getDate(),$[T.getMonth()],I].join(" ")}(),B.format.apply(B,arguments))},B.inherits=_("inherits"),B._extend=function(T,I){if(!I||!ne(I))return T;for(var k=Object.keys(I),N=k.length;N--;)T[k[N]]=I[k[N]];return T}}).call(this)}).call(this,_("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),Object.defineProperty(B,"v1",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(B,"v3",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(B,"v4",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(B,"v5",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(B,"NIL",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(B,"version",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(B,"validate",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(B,"stringify",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(B,"parse",{enumerable:!0,get:function(){return m.default}});var A=C(_("./v1.js")),y=C(_("./v3.js")),g=C(_("./v4.js")),d=C(_("./v5.js")),u=C(_("./nil.js")),f=C(_("./version.js")),b=C(_("./validate.js")),p=C(_("./stringify.js")),m=C(_("./parse.js"));function C(E){return E&&E.__esModule?E:{default:E}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(_,z,B){"use strict";function A(m){return 14+(m+64>>>9<<4)+1}function y(m,C){const E=(65535&m)+(65535&C);return(m>>16)+(C>>16)+(E>>16)<<16|65535&E}function g(m,C,E,v,D,S){return y((R=y(y(C,m),y(v,S)))<<(L=D)|R>>>32-L,E);var R,L}function d(m,C,E,v,D,S,R){return g(C&E|~C&v,m,C,D,S,R)}function u(m,C,E,v,D,S,R){return g(C&v|E&~v,m,C,D,S,R)}function f(m,C,E,v,D,S,R){return g(C^E^v,m,C,D,S,R)}function b(m,C,E,v,D,S,R){return g(E^(C|~v),m,C,D,S,R)}Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,B.default=function(m){if("string"==typeof m){const C=unescape(encodeURIComponent(m));m=new Uint8Array(C.length);for(let E=0;E<C.length;++E)m[E]=C.charCodeAt(E)}return function(C){const E=[],v=32*C.length;for(let D=0;D<v;D+=8){const S=C[D>>5]>>>D%32&255,R=parseInt("0123456789abcdef".charAt(S>>>4&15)+"0123456789abcdef".charAt(15&S),16);E.push(R)}return E}(function(C,E){C[E>>5]|=128<<E%32,C[A(E)-1]=E;let v=1732584193,D=-271733879,S=-1732584194,R=271733878;for(let L=0;L<C.length;L+=16){const Z=v,ee=D,ne=S,J=R;v=d(v,D,S,R,C[L],7,-680876936),R=d(R,v,D,S,C[L+1],12,-389564586),S=d(S,R,v,D,C[L+2],17,606105819),D=d(D,S,R,v,C[L+3],22,-1044525330),v=d(v,D,S,R,C[L+4],7,-176418897),R=d(R,v,D,S,C[L+5],12,1200080426),S=d(S,R,v,D,C[L+6],17,-1473231341),D=d(D,S,R,v,C[L+7],22,-45705983),v=d(v,D,S,R,C[L+8],7,1770035416),R=d(R,v,D,S,C[L+9],12,-1958414417),S=d(S,R,v,D,C[L+10],17,-42063),D=d(D,S,R,v,C[L+11],22,-1990404162),v=d(v,D,S,R,C[L+12],7,1804603682),R=d(R,v,D,S,C[L+13],12,-40341101),S=d(S,R,v,D,C[L+14],17,-1502002290),D=d(D,S,R,v,C[L+15],22,1236535329),v=u(v,D,S,R,C[L+1],5,-165796510),R=u(R,v,D,S,C[L+6],9,-1069501632),S=u(S,R,v,D,C[L+11],14,643717713),D=u(D,S,R,v,C[L],20,-373897302),v=u(v,D,S,R,C[L+5],5,-701558691),R=u(R,v,D,S,C[L+10],9,38016083),S=u(S,R,v,D,C[L+15],14,-660478335),D=u(D,S,R,v,C[L+4],20,-405537848),v=u(v,D,S,R,C[L+9],5,568446438),R=u(R,v,D,S,C[L+14],9,-1019803690),S=u(S,R,v,D,C[L+3],14,-187363961),D=u(D,S,R,v,C[L+8],20,1163531501),v=u(v,D,S,R,C[L+13],5,-1444681467),R=u(R,v,D,S,C[L+2],9,-51403784),S=u(S,R,v,D,C[L+7],14,1735328473),D=u(D,S,R,v,C[L+12],20,-1926607734),v=f(v,D,S,R,C[L+5],4,-378558),R=f(R,v,D,S,C[L+8],11,-2022574463),S=f(S,R,v,D,C[L+11],16,1839030562),D=f(D,S,R,v,C[L+14],23,-35309556),v=f(v,D,S,R,C[L+1],4,-1530992060),R=f(R,v,D,S,C[L+4],11,1272893353),S=f(S,R,v,D,C[L+7],16,-155497632),D=f(D,S,R,v,C[L+10],23,-1094730640),v=f(v,D,S,R,C[L+13],4,681279174),R=f(R,v,D,S,C[L],11,-358537222),S=f(S,R,v,D,C[L+3],16,-722521979),D=f(D,S,R,v,C[L+6],23,76029189),v=f(v,D,S,R,C[L+9],4,-640364487),R=f(R,v,D,S,C[L+12],11,-421815835),S=f(S,R,v,D,C[L+15],16,530742520),D=f(D,S,R,v,C[L+2],23,-995338651),v=b(v,D,S,R,C[L],6,-198630844),R=b(R,v,D,S,C[L+7],10,1126891415),S=b(S,R,v,D,C[L+14],15,-1416354905),D=b(D,S,R,v,C[L+5],21,-57434055),v=b(v,D,S,R,C[L+12],6,1700485571),R=b(R,v,D,S,C[L+3],10,-1894986606),S=b(S,R,v,D,C[L+10],15,-1051523),D=b(D,S,R,v,C[L+1],21,-2054922799),v=b(v,D,S,R,C[L+8],6,1873313359),R=b(R,v,D,S,C[L+15],10,-30611744),S=b(S,R,v,D,C[L+6],15,-1560198380),D=b(D,S,R,v,C[L+13],21,1309151649),v=b(v,D,S,R,C[L+4],6,-145523070),R=b(R,v,D,S,C[L+11],10,-1120210379),S=b(S,R,v,D,C[L+2],15,718787259),D=b(D,S,R,v,C[L+9],21,-343485551),v=y(v,Z),D=y(D,ee),S=y(S,ne),R=y(R,J)}return[v,D,S,R]}(function(C){if(0===C.length)return[];const E=8*C.length,v=new Uint32Array(A(E));for(let D=0;D<E;D+=8)v[D>>5]|=(255&C[D/8])<<D%32;return v}(m),8*m.length))}},{}],530:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,B.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var A,y=(A=_("./validate.js"))&&A.__esModule?A:{default:A};B.default=function(d){if(!(0,y.default)(d))throw TypeError("Invalid UUID");let u;const f=new Uint8Array(16);return f[0]=(u=parseInt(d.slice(0,8),16))>>>24,f[1]=u>>>16&255,f[2]=u>>>8&255,f[3]=255&u,f[4]=(u=parseInt(d.slice(9,13),16))>>>8,f[5]=255&u,f[6]=(u=parseInt(d.slice(14,18),16))>>>8,f[7]=255&u,f[8]=(u=parseInt(d.slice(19,23),16))>>>8,f[9]=255&u,f[10]=(u=parseInt(d.slice(24,36),16))/1099511627776&255,f[11]=u/4294967296&255,f[12]=u>>>24&255,f[13]=u>>>16&255,f[14]=u>>>8&255,f[15]=255&u,f}},{"./validate.js":541}],532:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,B.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(_,z,B){"use strict";let A;Object.defineProperty(B,"__esModule",{value:!0}),B.default=function(){if(!A&&(A=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!A))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return A(y)};const y=new Uint8Array(16)},{}],534:[function(_,z,B){"use strict";function A(d,u,f,b){switch(d){case 0:return u&f^~u&b;case 1:case 3:return u^f^b;case 2:return u&f^u&b^f&b}}function y(d,u){return d<<u|d>>>32-u}Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,B.default=function(d){const u=[1518500249,1859775393,2400959708,3395469782],f=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof d){const C=unescape(encodeURIComponent(d));d=[];for(let E=0;E<C.length;++E)d.push(C.charCodeAt(E))}else Array.isArray(d)||(d=Array.prototype.slice.call(d));d.push(128);const p=Math.ceil((d.length/4+2)/16),m=new Array(p);for(let C=0;C<p;++C){const E=new Uint32Array(16);for(let v=0;v<16;++v)E[v]=d[64*C+4*v]<<24|d[64*C+4*v+1]<<16|d[64*C+4*v+2]<<8|d[64*C+4*v+3];m[C]=E}m[p-1][14]=8*(d.length-1)/Math.pow(2,32),m[p-1][14]=Math.floor(m[p-1][14]),m[p-1][15]=8*(d.length-1)&4294967295;for(let C=0;C<p;++C){const E=new Uint32Array(80);for(let Z=0;Z<16;++Z)E[Z]=m[C][Z];for(let Z=16;Z<80;++Z)E[Z]=y(E[Z-3]^E[Z-8]^E[Z-14]^E[Z-16],1);let v=f[0],D=f[1],S=f[2],R=f[3],L=f[4];for(let Z=0;Z<80;++Z){const ee=Math.floor(Z/20),ne=y(v,5)+A(ee,D,S,R)+L+u[ee]+E[Z]>>>0;L=R,R=S,S=y(D,30)>>>0,D=v,v=ne}f[0]=f[0]+v>>>0,f[1]=f[1]+D>>>0,f[2]=f[2]+S>>>0,f[3]=f[3]+R>>>0,f[4]=f[4]+L>>>0}return[f[0]>>24&255,f[0]>>16&255,f[0]>>8&255,255&f[0],f[1]>>24&255,f[1]>>16&255,f[1]>>8&255,255&f[1],f[2]>>24&255,f[2]>>16&255,f[2]>>8&255,255&f[2],f[3]>>24&255,f[3]>>16&255,f[3]>>8&255,255&f[3],f[4]>>24&255,f[4]>>16&255,f[4]>>8&255,255&f[4]]}},{}],535:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var A,y=(A=_("./validate.js"))&&A.__esModule?A:{default:A};const g=[];for(let u=0;u<256;++u)g.push((u+256).toString(16).substr(1));B.default=function(u){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const b=(g[u[f+0]]+g[u[f+1]]+g[u[f+2]]+g[u[f+3]]+"-"+g[u[f+4]]+g[u[f+5]]+"-"+g[u[f+6]]+g[u[f+7]]+"-"+g[u[f+8]]+g[u[f+9]]+"-"+g[u[f+10]]+g[u[f+11]]+g[u[f+12]]+g[u[f+13]]+g[u[f+14]]+g[u[f+15]]).toLowerCase();if(!(0,y.default)(b))throw TypeError("Stringified UUID is invalid");return b}},{"./validate.js":541}],536:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var A=g(_("./rng.js")),y=g(_("./stringify.js"));function g(m){return m&&m.__esModule?m:{default:m}}let d,u,f=0,b=0;B.default=function(m,C,E){let v=C&&E||0;const D=C||new Array(16);let S=(m=m||{}).node||d,R=void 0!==m.clockseq?m.clockseq:u;if(null==S||null==R){const re=m.random||(m.rng||A.default)();null==S&&(S=d=[1|re[0],re[1],re[2],re[3],re[4],re[5]]),null==R&&(R=u=16383&(re[6]<<8|re[7]))}let L=void 0!==m.msecs?m.msecs:Date.now(),Z=void 0!==m.nsecs?m.nsecs:b+1;const ee=L-f+(Z-b)/1e4;if(ee<0&&void 0===m.clockseq&&(R=R+1&16383),(ee<0||L>f)&&void 0===m.nsecs&&(Z=0),Z>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=L,b=Z,u=R,L+=122192928e5;const ne=(1e4*(268435455&L)+Z)%4294967296;D[v++]=ne>>>24&255,D[v++]=ne>>>16&255,D[v++]=ne>>>8&255,D[v++]=255&ne;const J=L/4294967296*1e4&268435455;D[v++]=J>>>8&255,D[v++]=255&J,D[v++]=J>>>24&15|16,D[v++]=J>>>16&255,D[v++]=R>>>8|128,D[v++]=255&R;for(let re=0;re<6;++re)D[v+re]=S[re];return C||(0,y.default)(D)}},{"./rng.js":533,"./stringify.js":535}],537:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var A=g(_("./v35.js")),y=g(_("./md5.js"));function g(u){return u&&u.__esModule?u:{default:u}}var d=(0,A.default)("v3",48,y.default);B.default=d},{"./md5.js":529,"./v35.js":538}],538:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=function(f,b,p){function m(C,E,v,D){if("string"==typeof C&&(C=function(R){R=unescape(encodeURIComponent(R));const L=[];for(let Z=0;Z<R.length;++Z)L.push(R.charCodeAt(Z));return L}(C)),"string"==typeof E&&(E=(0,y.default)(E)),16!==E.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let S=new Uint8Array(16+C.length);if(S.set(E),S.set(C,E.length),S=p(S),S[6]=15&S[6]|b,S[8]=63&S[8]|128,v){D=D||0;for(let R=0;R<16;++R)v[D+R]=S[R];return v}return(0,A.default)(S)}try{m.name=f}catch{}return m.DNS=d,m.URL=u,m},B.URL=B.DNS=void 0;var A=g(_("./stringify.js")),y=g(_("./parse.js"));function g(f){return f&&f.__esModule?f:{default:f}}const d="6ba7b810-9dad-11d1-80b4-00c04fd430c8";B.DNS=d;const u="6ba7b811-9dad-11d1-80b4-00c04fd430c8";B.URL=u},{"./parse.js":531,"./stringify.js":535}],539:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var A=g(_("./rng.js")),y=g(_("./stringify.js"));function g(u){return u&&u.__esModule?u:{default:u}}B.default=function(u,f,b){const p=(u=u||{}).random||(u.rng||A.default)();if(p[6]=15&p[6]|64,p[8]=63&p[8]|128,f){b=b||0;for(let m=0;m<16;++m)f[b+m]=p[m];return f}return(0,y.default)(p)}},{"./rng.js":533,"./stringify.js":535}],540:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var A=g(_("./v35.js")),y=g(_("./sha1.js"));function g(u){return u&&u.__esModule?u:{default:u}}var d=(0,A.default)("v5",80,y.default);B.default=d},{"./sha1.js":534,"./v35.js":538}],541:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var A,y=(A=_("./regex.js"))&&A.__esModule?A:{default:A};B.default=function(d){return"string"==typeof d&&y.default.test(d)}},{"./regex.js":532}],542:[function(_,z,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var A,y=(A=_("./validate.js"))&&A.__esModule?A:{default:A};B.default=function(d){if(!(0,y.default)(d))throw TypeError("Invalid UUID");return parseInt(d.substr(14,1),16)}},{"./validate.js":541}],543:[function(_,z,B){"use strict";function A(y){return y>=65&&y<=90||y>=97&&y<=122||58===y||95===y||8204===y||8205===y||y>=192&&y<=214||y>=216&&y<=246||y>=248&&y<=767||y>=880&&y<=893||y>=895&&y<=8191||y>=8304&&y<=8591||y>=11264&&y<=12271||y>=12289&&y<=55295||y>=63744&&y<=64975||y>=65008&&y<=65533||y>=65536&&y<=983039}Object.defineProperty(B,"__esModule",{value:!0}),B.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\u{10000}-\u{10ffff}",B.S=" \t\r\n",B.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\u{10000}-\u{effff}",B.NAME_CHAR="-"+B.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",B.CHAR_RE=new RegExp("^["+B.CHAR+"]$","u"),B.S_RE=new RegExp("^["+B.S+"]+$","u"),B.NAME_START_CHAR_RE=new RegExp("^["+B.NAME_START_CHAR+"]$","u"),B.NAME_CHAR_RE=new RegExp("^["+B.NAME_CHAR+"]$","u"),B.NAME_RE=new RegExp("^["+B.NAME_START_CHAR+"]["+B.NAME_CHAR+"]*$","u"),B.NMTOKEN_RE=new RegExp("^["+B.NAME_CHAR+"]+$","u"),B.S_LIST=[32,10,13,9],B.isChar=function(y){return y>=32&&y<=55295||10===y||13===y||9===y||y>=57344&&y<=65533||y>=65536&&y<=1114111},B.isS=function(y){return 32===y||10===y||13===y||9===y},B.isNameStartChar=A,B.isNameChar=function(y){return A(y)||y>=48&&y<=57||45===y||46===y||183===y||y>=768&&y<=879||y>=8255&&y<=8256}},{}],544:[function(_,z,B){"use strict";function A(y){return y>=65&&y<=90||y>=97&&y<=122||58===y||95===y||8204===y||8205===y||y>=192&&y<=214||y>=216&&y<=246||y>=248&&y<=767||y>=880&&y<=893||y>=895&&y<=8191||y>=8304&&y<=8591||y>=11264&&y<=12271||y>=12289&&y<=55295||y>=63744&&y<=64975||y>=65008&&y<=65533||y>=65536&&y<=983039}Object.defineProperty(B,"__esModule",{value:!0}),B.CHAR="\x01-\ud7ff\ue000-\ufffd\u{10000}-\u{10ffff}",B.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",B.S=" \t\r\n",B.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\u{10000}-\u{effff}",B.NAME_CHAR="-"+B.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",B.CHAR_RE=new RegExp("^["+B.CHAR+"]$","u"),B.RESTRICTED_CHAR_RE=new RegExp("^["+B.RESTRICTED_CHAR+"]$","u"),B.S_RE=new RegExp("^["+B.S+"]+$","u"),B.NAME_START_CHAR_RE=new RegExp("^["+B.NAME_START_CHAR+"]$","u"),B.NAME_CHAR_RE=new RegExp("^["+B.NAME_CHAR+"]$","u"),B.NAME_RE=new RegExp("^["+B.NAME_START_CHAR+"]["+B.NAME_CHAR+"]*$","u"),B.NMTOKEN_RE=new RegExp("^["+B.NAME_CHAR+"]+$","u"),B.S_LIST=[32,10,13,9],B.isChar=function(y){return y>=1&&y<=55295||y>=57344&&y<=65533||y>=65536&&y<=1114111},B.isRestrictedChar=function(y){return y>=1&&y<=8||11===y||12===y||y>=14&&y<=31||y>=127&&y<=132||y>=134&&y<=159},B.isCharAndNotRestricted=function(y){return 9===y||10===y||13===y||y>31&&y<127||133===y||y>159&&y<=55295||y>=57344&&y<=65533||y>=65536&&y<=1114111},B.isS=function(y){return 32===y||10===y||13===y||9===y},B.isNameStartChar=A,B.isNameChar=function(y){return A(y)||y>=48&&y<=57||45===y||46===y||183===y||y>=768&&y<=879||y>=8255&&y<=8256}},{}],545:[function(_,z,B){"use strict";function A(y){return y>=65&&y<=90||95===y||y>=97&&y<=122||y>=192&&y<=214||y>=216&&y<=246||y>=248&&y<=767||y>=880&&y<=893||y>=895&&y<=8191||y>=8204&&y<=8205||y>=8304&&y<=8591||y>=11264&&y<=12271||y>=12289&&y<=55295||y>=63744&&y<=64975||y>=65008&&y<=65533||y>=65536&&y<=983039}Object.defineProperty(B,"__esModule",{value:!0}),B.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\u{10000}-\u{effff}",B.NC_NAME_CHAR="-"+B.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",B.NC_NAME_START_CHAR_RE=new RegExp("^["+B.NC_NAME_START_CHAR+"]$","u"),B.NC_NAME_CHAR_RE=new RegExp("^["+B.NC_NAME_CHAR+"]$","u"),B.NC_NAME_RE=new RegExp("^["+B.NC_NAME_START_CHAR+"]["+B.NC_NAME_CHAR+"]*$","u"),B.isNCNameStartChar=A,B.isNCNameChar=function(y){return A(y)||45===y||46===y||y>=48&&y<=57||183===y||y>=768&&y<=879||y>=8255&&y<=8256}},{}]},{},[15])(15)},4327:function(Vt,St){var Re,et;void 0!==(et="function"==typeof(Re=function(){"use strict";function rt(g,d,u){var f=new XMLHttpRequest;f.open("GET",g),f.responseType="blob",f.onload=function(){y(f.response,d,u)},f.onerror=function(){console.error("could not download file")},f.send()}function _(g){var d=new XMLHttpRequest;d.open("HEAD",g,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function z(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(d)}}var B="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,A=B.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),y=B.saveAs||("object"!=typeof window||window!==B?function(){}:"download"in HTMLAnchorElement.prototype&&!A?function(g,d,u){var f=B.URL||B.webkitURL,b=document.createElement("a");b.download=d=d||g.name||"download",b.rel="noopener","string"==typeof g?(b.href=g,b.origin===location.origin?z(b):_(b.href)?rt(g,d,u):z(b,b.target="_blank")):(b.href=f.createObjectURL(g),setTimeout(function(){f.revokeObjectURL(b.href)},4e4),setTimeout(function(){z(b)},0))}:"msSaveOrOpenBlob"in navigator?function(g,d,u){if(d=d||g.name||"download","string"!=typeof g)navigator.msSaveOrOpenBlob(function Ne(g,d){return typeof d>"u"?d={autoBom:!1}:"object"!=typeof d&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\ufeff",g],{type:g.type}):g}(g,u),d);else if(_(g))rt(g,d,u);else{var f=document.createElement("a");f.href=g,f.target="_blank",setTimeout(function(){z(f)})}}:function(g,d,u,f){if((f=f||open("","_blank"))&&(f.document.title=f.document.body.innerText="downloading..."),"string"==typeof g)return rt(g,d,u);var b="application/octet-stream"===g.type,p=/constructor/i.test(B.HTMLElement)||B.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||b&&p||A)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var D=C.result;D=m?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=D:location=D,f=null},C.readAsDataURL(g)}else{var E=B.URL||B.webkitURL,v=E.createObjectURL(g);f?f.location=v:location.href=v,f=null,setTimeout(function(){E.revokeObjectURL(v)},4e4)}});B.saveAs=y.saveAs=y,Vt.exports=y})?Re.apply(St,[]):Re)&&(Vt.exports=et)},5867:(Vt,St,Re)=>{"use strict";Re.d(St,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=Re(9681);(0,s.registerVersion)("firebase","9.9.3","app")},127:(Vt,St,Re)=>{"use strict";Re.d(St,{Z:()=>s.Z});var s=Re(3942);s.Z.registerVersion("firebase","9.9.3","app-compat")},1451:(Vt,St,Re)=>{"use strict";Re.r(St);var s=Re(5861),et=Re(3942),Ne=Re(2090),rt=Re(9681),_=Re(7582),z=Re(1877),B=Re(4859);const y={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},u_EMAIL_SIGNIN="EMAIL_SIGNIN",u_PASSWORD_RESET="PASSWORD_RESET",u_RECOVER_EMAIL="RECOVER_EMAIL",u_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",u_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",u_VERIFY_EMAIL="VERIFY_EMAIL";const p=function f(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},m=function b(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},C=new Ne.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),v=new z.Yd("@firebase/auth");function D(Q,...F){v.logLevel<=z.in.ERROR&&v.error(`Auth (${rt.SDK_VERSION}): ${Q}`,...F)}function S(Q,...F){throw ee(Q,...F)}function R(Q,...F){return ee(Q,...F)}function L(Q,F,V){const se=Object.assign(Object.assign({},m()),{[F]:V});return new Ne.LL("auth","Firebase",se).create(F,{appName:Q.name})}function Z(Q,F,V){if(!(F instanceof V))throw V.name!==F.constructor.name&&S(Q,"argument-error"),L(Q,"argument-error",`Type of ${F.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ee(Q,...F){if("string"!=typeof Q){const V=F[0],se=[...F.slice(1)];return se[0]&&(se[0].appName=Q.name),Q._errorFactory.create(V,...se)}return C.create(Q,...F)}function ne(Q,F,...V){if(!Q)throw ee(F,...V)}function J(Q){const F="INTERNAL ASSERTION FAILED: "+Q;throw D(F),new Error(F)}function re(Q,F){Q||J(F)}const oe=new Map;function fe(Q){re(Q instanceof Function,"Expected a class definition");let F=oe.get(Q);return F?(re(F instanceof Q,"Instance stored in cache mismatched with class"),F):(F=new Q,oe.set(Q,F),F)}function W(){var Q;return typeof self<"u"&&(null===(Q=self.location)||void 0===Q?void 0:Q.href)||""}function ie(){return"http:"===T()||"https:"===T()}function T(){var Q;return typeof self<"u"&&(null===(Q=self.location)||void 0===Q?void 0:Q.protocol)||null}class N{constructor(F,V){this.shortDelay=F,this.longDelay=V,re(V>F,"Short delay should be less than long delay!"),this.isMobile=(0,Ne.uI)()||(0,Ne.b$)()}get(){return function I(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ie()||(0,Ne.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function P(Q,F){re(Q.emulator,"Emulator should always be set here");const{url:V}=Q.emulator;return F?`${V}${F.startsWith("/")?F.slice(1):F}`:V}class U{static initialize(F,V,se){this.fetchImpl=F,V&&(this.headersImpl=V),se&&(this.responseImpl=se)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void J("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void J("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void J("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ce=new N(3e4,6e4);function he(Q,F){return Q.tenantId&&!F.tenantId?Object.assign(Object.assign({},F),{tenantId:Q.tenantId}):F}function be(Q,F,V,se){return K.apply(this,arguments)}function K(){return(K=(0,s.Z)(function*(Q,F,V,se,we={}){return _e(Q,we,(0,s.Z)(function*(){let Ae={},Je={};se&&("GET"===F?Je=se:Ae={body:JSON.stringify(se)});const pt=(0,Ne.xO)(Object.assign({key:Q.config.apiKey},Je)).slice(1),Bt=yield Q._getAdditionalHeaders();return Bt["Content-Type"]="application/json",Q.languageCode&&(Bt["X-Firebase-Locale"]=Q.languageCode),U.fetch()(Te(Q,Q.config.apiHost,V,pt),Object.assign({method:F,headers:Bt,referrerPolicy:"no-referrer"},Ae))}))})).apply(this,arguments)}function _e(Q,F,V){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(function*(Q,F,V){Q._canInitEmulator=!1;const se=Object.assign(Object.assign({},Y),F);try{const we=new Me(Q),Ae=yield Promise.race([V(),we.promise]);we.clearNetworkTimeout();const Je=yield Ae.json();if("needConfirmation"in Je)throw Ee(Q,"account-exists-with-different-credential",Je);if(Ae.ok&&!("errorMessage"in Je))return Je;{const pt=Ae.ok?Je.errorMessage:Je.error.message,[Bt,ln]=pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bt)throw Ee(Q,"credential-already-in-use",Je);if("EMAIL_EXISTS"===Bt)throw Ee(Q,"email-already-in-use",Je);if("USER_DISABLED"===Bt)throw Ee(Q,"user-disabled",Je);const On=se[Bt]||Bt.toLowerCase().replace(/[_\s]+/g,"-");if(ln)throw L(Q,On,ln);S(Q,On)}}catch(we){if(we instanceof Ne.ZR)throw we;S(Q,"network-request-failed")}})).apply(this,arguments)}function G(Q,F,V,se){return ue.apply(this,arguments)}function ue(){return(ue=(0,s.Z)(function*(Q,F,V,se,we={}){const Ae=yield be(Q,F,V,se,we);return"mfaPendingCredential"in Ae&&S(Q,"multi-factor-auth-required",{_serverResponse:Ae}),Ae})).apply(this,arguments)}function Te(Q,F,V,se){const we=`${F}${V}?${se}`;return Q.config.emulator?P(Q.config,we):`${Q.config.apiScheme}://${we}`}class Me{constructor(F){this.auth=F,this.timer=null,this.promise=new Promise((V,se)=>{this.timer=setTimeout(()=>se(R(this.auth,"network-request-failed")),ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ee(Q,F,V){const se={appName:Q.name};V.email&&(se.email=V.email),V.phoneNumber&&(se.phoneNumber=V.phoneNumber);const we=R(Q,F,se);return we.customData._tokenResponse=V,we}function We(){return(We=(0,s.Z)(function*(Q,F){return be(Q,"POST","/v1/accounts:delete",F)})).apply(this,arguments)}function Se(){return(Se=(0,s.Z)(function*(Q,F){return be(Q,"POST","/v1/accounts:update",F)})).apply(this,arguments)}function ze(){return(ze=(0,s.Z)(function*(Q,F){return be(Q,"POST","/v1/accounts:lookup",F)})).apply(this,arguments)}function Ye(Q){if(Q)try{const F=new Date(Number(Q));if(!isNaN(F.getTime()))return F.toUTCString()}catch{}}function it(){return(it=(0,s.Z)(function*(Q,F=!1){const V=(0,Ne.m9)(Q),se=yield V.getIdToken(F),we=ht(se);ne(we&&we.exp&&we.auth_time&&we.iat,V.auth,"internal-error");const Ae="object"==typeof we.firebase?we.firebase:void 0,Je=Ae?.sign_in_provider;return{claims:we,token:se,authTime:Ye(lt(we.auth_time)),issuedAtTime:Ye(lt(we.iat)),expirationTime:Ye(lt(we.exp)),signInProvider:Je||null,signInSecondFactor:Ae?.sign_in_second_factor||null}})).apply(this,arguments)}function lt(Q){return 1e3*Number(Q)}function ht(Q){var F;const[V,se,we]=Q.split(".");if(void 0===V||void 0===se||void 0===we)return D("JWT malformed, contained fewer than 3 sections"),null;try{const Ae=(0,Ne.tV)(se);return Ae?JSON.parse(Ae):(D("Failed to decode base64 JWT payload"),null)}catch(Ae){return D("Caught error parsing JWT payload as JSON",null===(F=Ae)||void 0===F?void 0:F.toString()),null}}function Wt(Q,F){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(Q,F,V=!1){if(V)return F;try{return yield F}catch(se){throw se instanceof Ne.ZR&&function qt({code:Q}){return"auth/user-disabled"===Q||"auth/user-token-expired"===Q}(se)&&Q.auth.currentUser===Q&&(yield Q.auth.signOut()),se}})).apply(this,arguments)}class Dn{constructor(F){this.user=F,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(F){var V;if(F){const se=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),se}{this.errorBackoff=3e4;const we=(null!==(V=this.user.stsTokenManager.expirationTime)&&void 0!==V?V:0)-Date.now()-3e5;return Math.max(0,we)}}schedule(F=!1){var V=this;if(!this.isRunning)return;const se=this.getInterval(F);this.timerId=setTimeout((0,s.Z)(function*(){yield V.iteration()}),se)}iteration(){var F=this;return(0,s.Z)(function*(){var V;try{yield F.user.getIdToken(!0)}catch(se){return void("auth/network-request-failed"===(null===(V=se)||void 0===V?void 0:V.code)&&F.schedule(!0))}F.schedule()})()}}class gn{constructor(F,V){this.createdAt=F,this.lastLoginAt=V,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ye(this.lastLoginAt),this.creationTime=Ye(this.createdAt)}_copy(F){this.createdAt=F.createdAt,this.lastLoginAt=F.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mt(Q){return sn.apply(this,arguments)}function sn(){return sn=(0,s.Z)(function*(Q){var F;const V=Q.auth,se=yield Q.getIdToken(),we=yield Wt(Q,function qe(Q,F){return ze.apply(this,arguments)}(V,{idToken:se}));ne(we?.users.length,V,"internal-error");const Ae=we.users[0];Q._notifyReloadListener(Ae);const Je=null!==(F=Ae.providerUserInfo)&&void 0!==F&&F.length?function Pe(Q){return Q.map(F=>{var{providerId:V}=F,se=(0,_._T)(F,["providerId"]);return{providerId:V,uid:se.rawId||"",displayName:se.displayName||null,email:se.email||null,phoneNumber:se.phoneNumber||null,photoURL:se.photoUrl||null}})}(Ae.providerUserInfo):[],pt=function Be(Q,F){return[...Q.filter(se=>!F.some(we=>we.providerId===se.providerId)),...F]}(Q.providerData,Je),On=!!Q.isAnonymous&&!(Q.email&&Ae.passwordHash||pt?.length),Nn={uid:Ae.localId,displayName:Ae.displayName||null,photoURL:Ae.photoUrl||null,email:Ae.email||null,emailVerified:Ae.emailVerified||!1,phoneNumber:Ae.phoneNumber||null,tenantId:Ae.tenantId||null,providerData:pt,metadata:new gn(Ae.createdAt,Ae.lastLoginAt),isAnonymous:On};Object.assign(Q,Nn)}),sn.apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*(Q){const F=(0,Ne.m9)(Q);yield Mt(F),yield F.auth._persistUserIfCurrent(F),F.auth._notifyListenersIfCurrent(F)})).apply(this,arguments)}function Ze(){return(Ze=(0,s.Z)(function*(Q,F){const V=yield _e(Q,{},(0,s.Z)(function*(){const se=(0,Ne.xO)({grant_type:"refresh_token",refresh_token:F}).slice(1),{tokenApiHost:we,apiKey:Ae}=Q.config,Je=Te(Q,we,"/v1/token",`key=${Ae}`),pt=yield Q._getAdditionalHeaders();return pt["Content-Type"]="application/x-www-form-urlencoded",U.fetch()(Je,{method:"POST",headers:pt,body:se})}));return{accessToken:V.access_token,expiresIn:V.expires_in,refreshToken:V.refresh_token}})).apply(this,arguments)}class ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(F){ne(F.idToken,"internal-error"),ne(typeof F.idToken<"u","internal-error"),ne(typeof F.refreshToken<"u","internal-error");const V="expiresIn"in F&&typeof F.expiresIn<"u"?Number(F.expiresIn):function kt(Q){const F=ht(Q);return ne(F,"internal-error"),ne(typeof F.exp<"u","internal-error"),ne(typeof F.iat<"u","internal-error"),Number(F.exp)-Number(F.iat)}(F.idToken);this.updateTokensAndExpiration(F.idToken,F.refreshToken,V)}getToken(F,V=!1){var se=this;return(0,s.Z)(function*(){return ne(!se.accessToken||se.refreshToken,F,"user-token-expired"),V||!se.accessToken||se.isExpired?se.refreshToken?(yield se.refresh(F,se.refreshToken),se.accessToken):null:se.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(F,V){var se=this;return(0,s.Z)(function*(){const{accessToken:we,refreshToken:Ae,expiresIn:Je}=yield function Ue(Q,F){return Ze.apply(this,arguments)}(F,V);se.updateTokensAndExpiration(we,Ae,Number(Je))})()}updateTokensAndExpiration(F,V,se){this.refreshToken=V||null,this.accessToken=F||null,this.expirationTime=Date.now()+1e3*se}static fromJSON(F,V){const{refreshToken:se,accessToken:we,expirationTime:Ae}=V,Je=new ot;return se&&(ne("string"==typeof se,"internal-error",{appName:F}),Je.refreshToken=se),we&&(ne("string"==typeof we,"internal-error",{appName:F}),Je.accessToken=we),Ae&&(ne("number"==typeof Ae,"internal-error",{appName:F}),Je.expirationTime=Ae),Je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(F){this.accessToken=F.accessToken,this.refreshToken=F.refreshToken,this.expirationTime=F.expirationTime}_clone(){return Object.assign(new ot,this.toJSON())}_performRefresh(){return J("not implemented")}}function yt(Q,F){ne("string"==typeof Q||typeof Q>"u","internal-error",{appName:F})}class Jt{constructor(F){var{uid:V,auth:se,stsTokenManager:we}=F,Ae=(0,_._T)(F,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=V,this.auth=se,this.stsTokenManager=we,this.accessToken=we.accessToken,this.displayName=Ae.displayName||null,this.email=Ae.email||null,this.emailVerified=Ae.emailVerified||!1,this.phoneNumber=Ae.phoneNumber||null,this.photoURL=Ae.photoURL||null,this.isAnonymous=Ae.isAnonymous||!1,this.tenantId=Ae.tenantId||null,this.providerData=Ae.providerData?[...Ae.providerData]:[],this.metadata=new gn(Ae.createdAt||void 0,Ae.lastLoginAt||void 0)}getIdToken(F){var V=this;return(0,s.Z)(function*(){const se=yield Wt(V,V.stsTokenManager.getToken(V.auth,F));return ne(se,V.auth,"internal-error"),V.accessToken!==se&&(V.accessToken=se,yield V.auth._persistUserIfCurrent(V),V.auth._notifyListenersIfCurrent(V)),se})()}getIdTokenResult(F){return function tt(Q){return it.apply(this,arguments)}(this,F)}reload(){return function Dt(Q){return Fe.apply(this,arguments)}(this)}_assign(F){this!==F&&(ne(this.uid===F.uid,this.auth,"internal-error"),this.displayName=F.displayName,this.photoURL=F.photoURL,this.email=F.email,this.emailVerified=F.emailVerified,this.phoneNumber=F.phoneNumber,this.isAnonymous=F.isAnonymous,this.tenantId=F.tenantId,this.providerData=F.providerData.map(V=>Object.assign({},V)),this.metadata._copy(F.metadata),this.stsTokenManager._assign(F.stsTokenManager))}_clone(F){return new Jt(Object.assign(Object.assign({},this),{auth:F,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(F){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=F,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(F){this.reloadListener?this.reloadListener(F):this.reloadUserInfo=F}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(F,V=!1){var se=this;return(0,s.Z)(function*(){let we=!1;F.idToken&&F.idToken!==se.stsTokenManager.accessToken&&(se.stsTokenManager.updateFromServerResponse(F),we=!0),V&&(yield Mt(se)),yield se.auth._persistUserIfCurrent(se),we&&se.auth._notifyListenersIfCurrent(se)})()}delete(){var F=this;return(0,s.Z)(function*(){const V=yield F.getIdToken();return yield Wt(F,function ke(Q,F){return We.apply(this,arguments)}(F.auth,{idToken:V})),F.stsTokenManager.clearRefreshToken(),F.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(F=>Object.assign({},F)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(F,V){var se,we,Ae,Je,pt,Bt,ln,On;const Nn=null!==(se=V.displayName)&&void 0!==se?se:void 0,Ni=null!==(we=V.email)&&void 0!==we?we:void 0,ms=null!==(Ae=V.phoneNumber)&&void 0!==Ae?Ae:void 0,Zd=null!==(Je=V.photoURL)&&void 0!==Je?Je:void 0,fm=null!==(pt=V.tenantId)&&void 0!==pt?pt:void 0,Pu=null!==(Bt=V._redirectEventId)&&void 0!==Bt?Bt:void 0,pm=null!==(ln=V.createdAt)&&void 0!==ln?ln:void 0,Cf=null!==(On=V.lastLoginAt)&&void 0!==On?On:void 0,{uid:Tf,emailVerified:bc,isAnonymous:lo,providerData:vc,stsTokenManager:wc}=V;ne(Tf&&wc,F,"internal-error");const I0=ot.fromJSON(this.name,wc);ne("string"==typeof Tf,F,"internal-error"),yt(Nn,F.name),yt(Ni,F.name),ne("boolean"==typeof bc,F,"internal-error"),ne("boolean"==typeof lo,F,"internal-error"),yt(ms,F.name),yt(Zd,F.name),yt(fm,F.name),yt(Pu,F.name),yt(pm,F.name),yt(Cf,F.name);const Ef=new Jt({uid:Tf,auth:F,email:Ni,emailVerified:bc,displayName:Nn,isAnonymous:lo,photoURL:Zd,phoneNumber:ms,tenantId:fm,stsTokenManager:I0,createdAt:pm,lastLoginAt:Cf});return vc&&Array.isArray(vc)&&(Ef.providerData=vc.map(A0=>Object.assign({},A0))),Pu&&(Ef._redirectEventId=Pu),Ef}static _fromIdTokenResponse(F,V,se=!1){return(0,s.Z)(function*(){const we=new ot;we.updateFromServerResponse(V);const Ae=new Jt({uid:V.localId,auth:F,stsTokenManager:we,isAnonymous:se});return yield Mt(Ae),Ae})()}}const Qt=(()=>{class Q{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(V,se){var we=this;return(0,s.Z)(function*(){we.storage[V]=se})()}_get(V){var se=this;return(0,s.Z)(function*(){const we=se.storage[V];return void 0===we?null:we})()}_remove(V){var se=this;return(0,s.Z)(function*(){delete se.storage[V]})()}_addListener(V,se){}_removeListener(V,se){}}return Q.type="NONE",Q})();function tr(Q,F,V){return`firebase:${Q}:${F}:${V}`}class Ut{constructor(F,V,se){this.persistence=F,this.auth=V,this.userKey=se;const{config:we,name:Ae}=this.auth;this.fullUserKey=tr(this.userKey,we.apiKey,Ae),this.fullPersistenceKey=tr("persistence",we.apiKey,Ae),this.boundEventHandler=V._onStorageEvent.bind(V),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(F){return this.persistence._set(this.fullUserKey,F.toJSON())}getCurrentUser(){var F=this;return(0,s.Z)(function*(){const V=yield F.persistence._get(F.fullUserKey);return V?Jt._fromJSON(F.auth,V):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(F){var V=this;return(0,s.Z)(function*(){if(V.persistence===F)return;const se=yield V.getCurrentUser();return yield V.removeCurrentUser(),V.persistence=F,se?V.setCurrentUser(se):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(F,V,se="authUser"){return(0,s.Z)(function*(){if(!V.length)return new Ut(fe(Qt),F,se);const we=(yield Promise.all(V.map(function(){var ln=(0,s.Z)(function*(On){if(yield On._isAvailable())return On});return function(On){return ln.apply(this,arguments)}}()))).filter(ln=>ln);let Ae=we[0]||fe(Qt);const Je=tr(se,F.config.apiKey,F.name);let pt=null;for(const ln of V)try{const On=yield ln._get(Je);if(On){const Nn=Jt._fromJSON(F,On);ln!==Ae&&(pt=Nn),Ae=ln;break}}catch{}const Bt=we.filter(ln=>ln._shouldAllowMigration);return Ae._shouldAllowMigration&&Bt.length?(Ae=Bt[0],pt&&(yield Ae._set(Je,pt.toJSON())),yield Promise.all(V.map(function(){var ln=(0,s.Z)(function*(On){if(On!==Ae)try{yield On._remove(Je)}catch{}});return function(On){return ln.apply(this,arguments)}}())),new Ut(Ae,F,se)):new Ut(Ae,F,se)})()}}function an(Q){const F=Q.toLowerCase();if(F.includes("opera/")||F.includes("opr/")||F.includes("opios/"))return"Opera";if(Bi(F))return"IEMobile";if(F.includes("msie")||F.includes("trident/"))return"IE";if(F.includes("edge/"))return"Edge";if(lr(F))return"Firefox";if(F.includes("silk/"))return"Silk";if(Ge(F))return"Blackberry";if(ct(F))return"Webos";if(Zt(F))return"Safari";if((F.includes("chrome/")||vn(F))&&!F.includes("edge/"))return"Chrome";if(In(F))return"Android";{const se=Q.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===se?.length)return se[1]}return"Other"}function lr(Q=(0,Ne.z$)()){return/firefox\//i.test(Q)}function Zt(Q=(0,Ne.z$)()){const F=Q.toLowerCase();return F.includes("safari/")&&!F.includes("chrome/")&&!F.includes("crios/")&&!F.includes("android")}function vn(Q=(0,Ne.z$)()){return/crios\//i.test(Q)}function Bi(Q=(0,Ne.z$)()){return/iemobile/i.test(Q)}function In(Q=(0,Ne.z$)()){return/android/i.test(Q)}function Ge(Q=(0,Ne.z$)()){return/blackberry/i.test(Q)}function ct(Q=(0,Ne.z$)()){return/webos/i.test(Q)}function gt(Q=(0,Ne.z$)()){return/iphone|ipad|ipod/i.test(Q)||/macintosh/i.test(Q)&&/mobile/i.test(Q)}function cn(Q=(0,Ne.z$)()){return gt(Q)||In(Q)||ct(Q)||Ge(Q)||/windows phone/i.test(Q)||Bi(Q)}function yn(Q,F=[]){let V;switch(Q){case"Browser":V=an((0,Ne.z$)());break;case"Worker":V=`${an((0,Ne.z$)())}-${Q}`;break;default:V=Q}const se=F.length?F.join(","):"FirebaseCore-web";return`${V}/JsCore/${rt.SDK_VERSION}/${se}`}class en{constructor(F){this.auth=F,this.queue=[]}pushCallback(F,V){const se=Ae=>new Promise((Je,pt)=>{try{Je(F(Ae))}catch(Bt){pt(Bt)}});se.onAbort=V,this.queue.push(se);const we=this.queue.length-1;return()=>{this.queue[we]=()=>Promise.resolve()}}runMiddleware(F){var V=this;return(0,s.Z)(function*(){var se;if(V.auth.currentUser===F)return;const we=[];try{for(const Ae of V.queue)yield Ae(F),Ae.onAbort&&we.push(Ae.onAbort)}catch(Ae){we.reverse();for(const Je of we)try{Je()}catch{}throw V.auth._errorFactory.create("login-blocked",{originalMessage:null===(se=Ae)||void 0===se?void 0:se.message})}})()}}class pr{constructor(F,V,se){this.app=F,this.heartbeatServiceProvider=V,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wn(this),this.idTokenSubscription=new Wn(this),this.beforeStateQueue=new en(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=F.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(F,V){var se=this;return V&&(this._popupRedirectResolver=fe(V)),this._initializationPromise=this.queue((0,s.Z)(function*(){var we,Ae;if(!se._deleted&&(se.persistenceManager=yield Ut.create(se,F),!se._deleted)){if(null!==(we=se._popupRedirectResolver)&&void 0!==we&&we._shouldInitProactively)try{yield se._popupRedirectResolver._initialize(se)}catch{}yield se.initializeCurrentUser(V),se.lastNotifiedUid=(null===(Ae=se.currentUser)||void 0===Ae?void 0:Ae.uid)||null,!se._deleted&&(se._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var F=this;return(0,s.Z)(function*(){if(F._deleted)return;const V=yield F.assertedPersistence.getCurrentUser();if(F.currentUser||V){if(F.currentUser&&V&&F.currentUser.uid===V.uid)return F._currentUser._assign(V),void(yield F.currentUser.getIdToken());yield F._updateCurrentUser(V,!0)}})()}initializeCurrentUser(F){var V=this;return(0,s.Z)(function*(){var se;const we=yield V.assertedPersistence.getCurrentUser();let Ae=we,Je=!1;if(F&&V.config.authDomain){yield V.getOrInitRedirectPersistenceManager();const pt=null===(se=V.redirectUser)||void 0===se?void 0:se._redirectEventId,Bt=Ae?._redirectEventId,ln=yield V.tryRedirectSignIn(F);(!pt||pt===Bt)&&ln?.user&&(Ae=ln.user,Je=!0)}if(!Ae)return V.directlySetCurrentUser(null);if(!Ae._redirectEventId){if(Je)try{yield V.beforeStateQueue.runMiddleware(Ae)}catch(pt){Ae=we,V._popupRedirectResolver._overrideRedirectResult(V,()=>Promise.reject(pt))}return Ae?V.reloadAndSetCurrentUserOrClear(Ae):V.directlySetCurrentUser(null)}return ne(V._popupRedirectResolver,V,"argument-error"),yield V.getOrInitRedirectPersistenceManager(),V.redirectUser&&V.redirectUser._redirectEventId===Ae._redirectEventId?V.directlySetCurrentUser(Ae):V.reloadAndSetCurrentUserOrClear(Ae)})()}tryRedirectSignIn(F){var V=this;return(0,s.Z)(function*(){let se=null;try{se=yield V._popupRedirectResolver._completeRedirectFn(V,F,!0)}catch{yield V._setRedirectUser(null)}return se})()}reloadAndSetCurrentUserOrClear(F){var V=this;return(0,s.Z)(function*(){var se;try{yield Mt(F)}catch(we){if("auth/network-request-failed"!==(null===(se=we)||void 0===se?void 0:se.code))return V.directlySetCurrentUser(null)}return V.directlySetCurrentUser(F)})()}useDeviceLanguage(){this.languageCode=function k(){if(typeof navigator>"u")return null;const Q=navigator;return Q.languages&&Q.languages[0]||Q.language||null}()}_delete(){var F=this;return(0,s.Z)(function*(){F._deleted=!0})()}updateCurrentUser(F){var V=this;return(0,s.Z)(function*(){const se=F?(0,Ne.m9)(F):null;return se&&ne(se.auth.config.apiKey===V.config.apiKey,V,"invalid-user-token"),V._updateCurrentUser(se&&se._clone(V))})()}_updateCurrentUser(F,V=!1){var se=this;return(0,s.Z)(function*(){if(!se._deleted)return F&&ne(se.tenantId===F.tenantId,se,"tenant-id-mismatch"),V||(yield se.beforeStateQueue.runMiddleware(F)),se.queue((0,s.Z)(function*(){yield se.directlySetCurrentUser(F),se.notifyAuthListeners()}))})()}signOut(){var F=this;return(0,s.Z)(function*(){return yield F.beforeStateQueue.runMiddleware(null),(F.redirectPersistenceManager||F._popupRedirectResolver)&&(yield F._setRedirectUser(null)),F._updateCurrentUser(null,!0)})()}setPersistence(F){var V=this;return this.queue((0,s.Z)(function*(){yield V.assertedPersistence.setPersistence(fe(F))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(F){this._errorFactory=new Ne.LL("auth","Firebase",F())}onAuthStateChanged(F,V,se){return this.registerStateListener(this.authStateSubscription,F,V,se)}beforeAuthStateChanged(F,V){return this.beforeStateQueue.pushCallback(F,V)}onIdTokenChanged(F,V,se){return this.registerStateListener(this.idTokenSubscription,F,V,se)}toJSON(){var F;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(F=this._currentUser)||void 0===F?void 0:F.toJSON()}}_setRedirectUser(F,V){var se=this;return(0,s.Z)(function*(){const we=yield se.getOrInitRedirectPersistenceManager(V);return null===F?we.removeCurrentUser():we.setCurrentUser(F)})()}getOrInitRedirectPersistenceManager(F){var V=this;return(0,s.Z)(function*(){if(!V.redirectPersistenceManager){const se=F&&fe(F)||V._popupRedirectResolver;ne(se,V,"argument-error"),V.redirectPersistenceManager=yield Ut.create(V,[fe(se._redirectPersistence)],"redirectUser"),V.redirectUser=yield V.redirectPersistenceManager.getCurrentUser()}return V.redirectPersistenceManager})()}_redirectUserForId(F){var V=this;return(0,s.Z)(function*(){var se,we;return V._isInitialized&&(yield V.queue((0,s.Z)(function*(){}))),(null===(se=V._currentUser)||void 0===se?void 0:se._redirectEventId)===F?V._currentUser:(null===(we=V.redirectUser)||void 0===we?void 0:we._redirectEventId)===F?V.redirectUser:null})()}_persistUserIfCurrent(F){var V=this;return(0,s.Z)(function*(){if(F===V.currentUser)return V.queue((0,s.Z)(function*(){return V.directlySetCurrentUser(F)}))})()}_notifyListenersIfCurrent(F){F===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var F,V;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const se=null!==(V=null===(F=this.currentUser)||void 0===F?void 0:F.uid)&&void 0!==V?V:null;this.lastNotifiedUid!==se&&(this.lastNotifiedUid=se,this.authStateSubscription.next(this.currentUser))}registerStateListener(F,V,se,we){if(this._deleted)return()=>{};const Ae="function"==typeof V?V:V.next.bind(V),Je=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(Je,this,"internal-error"),Je.then(()=>Ae(this.currentUser)),"function"==typeof V?F.addObserver(V,se,we):F.addObserver(V)}directlySetCurrentUser(F){var V=this;return(0,s.Z)(function*(){V.currentUser&&V.currentUser!==F&&(V._currentUser._stopProactiveRefresh(),F&&V.isProactiveRefreshEnabled&&F._startProactiveRefresh()),V.currentUser=F,F?yield V.assertedPersistence.setCurrentUser(F):yield V.assertedPersistence.removeCurrentUser()})()}queue(F){return this.operations=this.operations.then(F,F),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(F){!F||this.frameworks.includes(F)||(this.frameworks.push(F),this.frameworks.sort(),this.clientVersion=yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var F=this;return(0,s.Z)(function*(){var V;const se={"X-Client-Version":F.clientVersion};F.app.options.appId&&(se["X-Firebase-gmpid"]=F.app.options.appId);const we=yield null===(V=F.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===V?void 0:V.getHeartbeatsHeader();return we&&(se["X-Firebase-Client"]=we),se})()}}function Cn(Q){return(0,Ne.m9)(Q)}class Wn{constructor(F){this.auth=F,this.observer=null,this.addObserver=(0,Ne.ne)(V=>this.observer=V)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kn(Q){const F=Q.indexOf(":");return F<0?"":Q.substr(0,F+1)}function Pr(Q){if(!Q)return null;const F=Number(Q);return isNaN(F)?null:F}class Ur{constructor(F,V){this.providerId=F,this.signInMethod=V}toJSON(){return J("not implemented")}_getIdTokenResponse(F){return J("not implemented")}_linkToIdToken(F,V){return J("not implemented")}_getReauthenticationResolver(F){return J("not implemented")}}function Le(Q,F){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(function*(Q,F){return be(Q,"POST","/v1/accounts:resetPassword",he(Q,F))})).apply(this,arguments)}function Tt(Q,F){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,s.Z)(function*(Q,F){return be(Q,"POST","/v1/accounts:update",F)})).apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(Q,F){return be(Q,"POST","/v1/accounts:update",he(Q,F))})).apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*(Q,F){return G(Q,"POST","/v1/accounts:signInWithPassword",he(Q,F))})).apply(this,arguments)}function mn(Q,F){return hn.apply(this,arguments)}function hn(){return(hn=(0,s.Z)(function*(Q,F){return be(Q,"POST","/v1/accounts:sendOobCode",he(Q,F))})).apply(this,arguments)}function Tr(){return(Tr=(0,s.Z)(function*(Q,F){return mn(Q,F)})).apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(Q,F){return mn(Q,F)})).apply(this,arguments)}function Nr(){return(Nr=(0,s.Z)(function*(Q,F){return mn(Q,F)})).apply(this,arguments)}function Fr(){return(Fr=(0,s.Z)(function*(Q,F){return mn(Q,F)})).apply(this,arguments)}function ds(){return(ds=(0,s.Z)(function*(Q,F){return G(Q,"POST","/v1/accounts:signInWithEmailLink",he(Q,F))})).apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(Q,F){return G(Q,"POST","/v1/accounts:signInWithEmailLink",he(Q,F))})).apply(this,arguments)}class Yn extends Ur{constructor(F,V,se,we=null){super("password",se),this._email=F,this._password=V,this._tenantId=we}static _fromEmailAndPassword(F,V){return new Yn(F,V,"password")}static _fromEmailAndCode(F,V,se=null){return new Yn(F,V,"emailLink",se)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(F){const V="string"==typeof F?JSON.parse(F):F;if(V?.email&&V?.password){if("password"===V.signInMethod)return this._fromEmailAndPassword(V.email,V.password);if("emailLink"===V.signInMethod)return this._fromEmailAndCode(V.email,V.password,V.tenantId)}return null}_getIdTokenResponse(F){var V=this;return(0,s.Z)(function*(){switch(V.signInMethod){case"password":return function Yt(Q,F){return jn.apply(this,arguments)}(F,{returnSecureToken:!0,email:V._email,password:V._password});case"emailLink":return function Dr(Q,F){return ds.apply(this,arguments)}(F,{email:V._email,oobCode:V._password});default:S(F,"internal-error")}})()}_linkToIdToken(F,V){var se=this;return(0,s.Z)(function*(){switch(se.signInMethod){case"password":return Tt(F,{idToken:V,returnSecureToken:!0,email:se._email,password:se._password});case"emailLink":return function Rs(Q,F){return ri.apply(this,arguments)}(F,{idToken:V,email:se._email,oobCode:se._password});default:S(F,"internal-error")}})()}_getReauthenticationResolver(F){return this._getIdTokenResponse(F)}}function Gn(Q,F){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,s.Z)(function*(Q,F){return G(Q,"POST","/v1/accounts:signInWithIdp",he(Q,F))})).apply(this,arguments)}class Di extends Ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(F){const V=new Di(F.providerId,F.signInMethod);return F.idToken||F.accessToken?(F.idToken&&(V.idToken=F.idToken),F.accessToken&&(V.accessToken=F.accessToken),F.nonce&&!F.pendingToken&&(V.nonce=F.nonce),F.pendingToken&&(V.pendingToken=F.pendingToken)):F.oauthToken&&F.oauthTokenSecret?(V.accessToken=F.oauthToken,V.secret=F.oauthTokenSecret):S("argument-error"),V}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(F){const V="string"==typeof F?JSON.parse(F):F,{providerId:se,signInMethod:we}=V,Ae=(0,_._T)(V,["providerId","signInMethod"]);if(!se||!we)return null;const Je=new Di(se,we);return Je.idToken=Ae.idToken||void 0,Je.accessToken=Ae.accessToken||void 0,Je.secret=Ae.secret,Je.nonce=Ae.nonce,Je.pendingToken=Ae.pendingToken||null,Je}_getIdTokenResponse(F){return Gn(F,this.buildRequest())}_linkToIdToken(F,V){const se=this.buildRequest();return se.idToken=V,Gn(F,se)}_getReauthenticationResolver(F){const V=this.buildRequest();return V.autoCreate=!1,Gn(F,V)}buildRequest(){const F={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)F.pendingToken=this.pendingToken;else{const V={};this.idToken&&(V.id_token=this.idToken),this.accessToken&&(V.access_token=this.accessToken),this.secret&&(V.oauth_token_secret=this.secret),V.providerId=this.providerId,this.nonce&&!this.pendingToken&&(V.nonce=this.nonce),F.postBody=(0,Ne.xO)(V)}return F}}function Vi(){return(Vi=(0,s.Z)(function*(Q,F){return be(Q,"POST","/v1/accounts:sendVerificationCode",he(Q,F))})).apply(this,arguments)}function $r(){return($r=(0,s.Z)(function*(Q,F){return G(Q,"POST","/v1/accounts:signInWithPhoneNumber",he(Q,F))})).apply(this,arguments)}function yo(){return(yo=(0,s.Z)(function*(Q,F){const V=yield G(Q,"POST","/v1/accounts:signInWithPhoneNumber",he(Q,F));if(V.temporaryProof)throw Ee(Q,"account-exists-with-different-credential",V);return V})).apply(this,arguments)}const zr={USER_NOT_FOUND:"user-not-found"};function to(){return(to=(0,s.Z)(function*(Q,F){return G(Q,"POST","/v1/accounts:signInWithPhoneNumber",he(Q,Object.assign(Object.assign({},F),{operation:"REAUTH"})),zr)})).apply(this,arguments)}class Xi extends Ur{constructor(F){super("phone","phone"),this.params=F}static _fromVerification(F,V){return new Xi({verificationId:F,verificationCode:V})}static _fromTokenResponse(F,V){return new Xi({phoneNumber:F,temporaryProof:V})}_getIdTokenResponse(F){return function Hi(Q,F){return $r.apply(this,arguments)}(F,this._makeVerificationRequest())}_linkToIdToken(F,V){return function Yr(Q,F){return yo.apply(this,arguments)}(F,Object.assign({idToken:V},this._makeVerificationRequest()))}_getReauthenticationResolver(F){return function Qi(Q,F){return to.apply(this,arguments)}(F,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:F,phoneNumber:V,verificationId:se,verificationCode:we}=this.params;return F&&V?{temporaryProof:F,phoneNumber:V}:{sessionInfo:se,code:we}}toJSON(){const F={providerId:this.providerId};return this.params.phoneNumber&&(F.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(F.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(F.verificationCode=this.params.verificationCode),this.params.verificationId&&(F.verificationId=this.params.verificationId),F}static fromJSON(F){"string"==typeof F&&(F=JSON.parse(F));const{verificationId:V,verificationCode:se,phoneNumber:we,temporaryProof:Ae}=F;return se||V||we||Ae?new Xi({verificationId:V,verificationCode:se,phoneNumber:we,temporaryProof:Ae}):null}}class Zo{constructor(F){var V,se,we,Ae,Je,pt;const Bt=(0,Ne.zd)((0,Ne.pd)(F)),ln=null!==(V=Bt.apiKey)&&void 0!==V?V:null,On=null!==(se=Bt.oobCode)&&void 0!==se?se:null,Nn=function qo(Q){switch(Q){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(we=Bt.mode)&&void 0!==we?we:null);ne(ln&&On&&Nn,"argument-error"),this.apiKey=ln,this.operation=Nn,this.code=On,this.continueUrl=null!==(Ae=Bt.continueUrl)&&void 0!==Ae?Ae:null,this.languageCode=null!==(Je=Bt.languageCode)&&void 0!==Je?Je:null,this.tenantId=null!==(pt=Bt.tenantId)&&void 0!==pt?pt:null}static parseLink(F){const V=function hi(Q){const F=(0,Ne.zd)((0,Ne.pd)(Q)).link,V=F?(0,Ne.zd)((0,Ne.pd)(F)).deep_link_id:null,se=(0,Ne.zd)((0,Ne.pd)(Q)).deep_link_id;return(se?(0,Ne.zd)((0,Ne.pd)(se)).link:null)||se||V||F||Q}(F);try{return new Zo(V)}catch{return null}}}let Wo=(()=>{class Q{constructor(){this.providerId=Q.PROVIDER_ID}static credential(V,se){return Yn._fromEmailAndPassword(V,se)}static credentialWithLink(V,se){const we=Zo.parseLink(se);return ne(we,"argument-error"),Yn._fromEmailAndCode(V,we.code,we.tenantId)}}return Q.PROVIDER_ID="password",Q.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Q.EMAIL_LINK_SIGN_IN_METHOD="emailLink",Q})();class bo{constructor(F){this.providerId=F,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(F){this.defaultLanguageCode=F}setCustomParameters(F){return this.customParameters=F,this}getCustomParameters(){return this.customParameters}}class ol extends bo{constructor(){super(...arguments),this.scopes=[]}addScope(F){return this.scopes.includes(F)||this.scopes.push(F),this}getScopes(){return[...this.scopes]}}class $l extends ol{static credentialFromJSON(F){const V="string"==typeof F?JSON.parse(F):F;return ne("providerId"in V&&"signInMethod"in V,"argument-error"),Di._fromParams(V)}credential(F){return this._credential(Object.assign(Object.assign({},F),{nonce:F.rawNonce}))}_credential(F){return ne(F.idToken||F.accessToken,"argument-error"),Di._fromParams(Object.assign(Object.assign({},F),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(F){return $l.oauthCredentialFromTaggedObject(F)}static credentialFromError(F){return $l.oauthCredentialFromTaggedObject(F.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:F}){if(!F)return null;const{oauthIdToken:V,oauthAccessToken:se,oauthTokenSecret:we,pendingToken:Ae,nonce:Je,providerId:pt}=F;if(!se&&!we&&!V&&!Ae||!pt)return null;try{return new $l(pt)._credential({idToken:V,accessToken:se,nonce:Je,pendingToken:Ae})}catch{return null}}}let fd=(()=>{class Q extends ol{constructor(){super("facebook.com")}static credential(V){return Di._fromParams({providerId:Q.PROVIDER_ID,signInMethod:Q.FACEBOOK_SIGN_IN_METHOD,accessToken:V})}static credentialFromResult(V){return Q.credentialFromTaggedObject(V)}static credentialFromError(V){return Q.credentialFromTaggedObject(V.customData||{})}static credentialFromTaggedObject({_tokenResponse:V}){if(!V||!("oauthAccessToken"in V)||!V.oauthAccessToken)return null;try{return Q.credential(V.oauthAccessToken)}catch{return null}}}return Q.FACEBOOK_SIGN_IN_METHOD="facebook.com",Q.PROVIDER_ID="facebook.com",Q})(),Lp=(()=>{class Q extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(V,se){return Di._fromParams({providerId:Q.PROVIDER_ID,signInMethod:Q.GOOGLE_SIGN_IN_METHOD,idToken:V,accessToken:se})}static credentialFromResult(V){return Q.credentialFromTaggedObject(V)}static credentialFromError(V){return Q.credentialFromTaggedObject(V.customData||{})}static credentialFromTaggedObject({_tokenResponse:V}){if(!V)return null;const{oauthIdToken:se,oauthAccessToken:we}=V;if(!se&&!we)return null;try{return Q.credential(se,we)}catch{return null}}}return Q.GOOGLE_SIGN_IN_METHOD="google.com",Q.PROVIDER_ID="google.com",Q})(),Bp=(()=>{class Q extends ol{constructor(){super("github.com")}static credential(V){return Di._fromParams({providerId:Q.PROVIDER_ID,signInMethod:Q.GITHUB_SIGN_IN_METHOD,accessToken:V})}static credentialFromResult(V){return Q.credentialFromTaggedObject(V)}static credentialFromError(V){return Q.credentialFromTaggedObject(V.customData||{})}static credentialFromTaggedObject({_tokenResponse:V}){if(!V||!("oauthAccessToken"in V)||!V.oauthAccessToken)return null;try{return Q.credential(V.oauthAccessToken)}catch{return null}}}return Q.GITHUB_SIGN_IN_METHOD="github.com",Q.PROVIDER_ID="github.com",Q})();class al extends Ur{constructor(F,V){super(F,F),this.pendingToken=V}_getIdTokenResponse(F){return Gn(F,this.buildRequest())}_linkToIdToken(F,V){const se=this.buildRequest();return se.idToken=V,Gn(F,se)}_getReauthenticationResolver(F){const V=this.buildRequest();return V.autoCreate=!1,Gn(F,V)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(F){const V="string"==typeof F?JSON.parse(F):F,{providerId:se,signInMethod:we,pendingToken:Ae}=V;return se&&we&&Ae&&se===we?new al(se,Ae):null}static _create(F,V){return new al(F,V)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class no extends bo{constructor(F){ne(F.startsWith("saml."),"argument-error"),super(F)}static credentialFromResult(F){return no.samlCredentialFromTaggedObject(F)}static credentialFromError(F){return no.samlCredentialFromTaggedObject(F.customData||{})}static credentialFromJSON(F){const V=al.fromJSON(F);return ne(V,"argument-error"),V}static samlCredentialFromTaggedObject({_tokenResponse:F}){if(!F)return null;const{pendingToken:V,providerId:se}=F;if(!V||!se)return null;try{return al._create(se,V)}catch{return null}}}let d0=(()=>{class Q extends ol{constructor(){super("twitter.com")}static credential(V,se){return Di._fromParams({providerId:Q.PROVIDER_ID,signInMethod:Q.TWITTER_SIGN_IN_METHOD,oauthToken:V,oauthTokenSecret:se})}static credentialFromResult(V){return Q.credentialFromTaggedObject(V)}static credentialFromError(V){return Q.credentialFromTaggedObject(V.customData||{})}static credentialFromTaggedObject({_tokenResponse:V}){if(!V)return null;const{oauthAccessToken:se,oauthTokenSecret:we}=V;if(!se||!we)return null;try{return Q.credential(se,we)}catch{return null}}}return Q.TWITTER_SIGN_IN_METHOD="twitter.com",Q.PROVIDER_ID="twitter.com",Q})();function $i(Q,F){return pd.apply(this,arguments)}function pd(){return(pd=(0,s.Z)(function*(Q,F){return G(Q,"POST","/v1/accounts:signUp",he(Q,F))})).apply(this,arguments)}class hs{constructor(F){this.user=F.user,this.providerId=F.providerId,this._tokenResponse=F._tokenResponse,this.operationType=F.operationType}static _fromIdTokenResponse(F,V,se,we=!1){return(0,s.Z)(function*(){const Ae=yield Jt._fromIdTokenResponse(F,se,we),Je=md(se);return new hs({user:Ae,providerId:Je,_tokenResponse:se,operationType:V})})()}static _forOperation(F,V,se){return(0,s.Z)(function*(){yield F._updateTokensIfNecessary(se,!0);const we=md(se);return new hs({user:F,providerId:we,_tokenResponse:se,operationType:V})})()}}function md(Q){return Q.providerId?Q.providerId:"phoneNumber"in Q?"phone":null}function Ko(){return(Ko=(0,s.Z)(function*(Q){var F;const V=Cn(Q);if(yield V._initializationPromise,null!==(F=V.currentUser)&&void 0!==F&&F.isAnonymous)return new hs({user:V.currentUser,providerId:null,operationType:"signIn"});const se=yield $i(V,{returnSecureToken:!0}),we=yield hs._fromIdTokenResponse(V,"signIn",se,!0);return yield V._updateCurrentUser(we.user),we})).apply(this,arguments)}class Kc extends Ne.ZR{constructor(F,V,se,we){var Ae;super(V.code,V.message),this.operationType=se,this.user=we,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:F.name,tenantId:null!==(Ae=F.tenantId)&&void 0!==Ae?Ae:void 0,_serverResponse:V.customData._serverResponse,operationType:se}}static _fromErrorAndOperation(F,V,se,we){return new Kc(F,V,se,we)}}function Ca(Q,F,V,se){return("reauthenticate"===F?V._getReauthenticationResolver(Q):V._getIdTokenResponse(Q)).catch(Ae=>{throw"auth/multi-factor-auth-required"===Ae.code?Kc._fromErrorAndOperation(Q,Ae,F,se):Ae})}function Ta(Q){return new Set(Q.map(({providerId:F})=>F).filter(F=>!!F))}function ll(){return ll=(0,s.Z)(function*(Q,F){const V=(0,Ne.m9)(Q);yield Ea(!0,V,F);const{providerUserInfo:se}=yield function Ve(Q,F){return Se.apply(this,arguments)}(V.auth,{idToken:yield V.getIdToken(),deleteProvider:[F]}),we=Ta(se||[]);return V.providerData=V.providerData.filter(Ae=>we.has(Ae.providerId)),we.has("phone")||(V.phoneNumber=null),yield V.auth._persistUserIfCurrent(V),V}),ll.apply(this,arguments)}function Jc(Q,F){return cl.apply(this,arguments)}function cl(){return(cl=(0,s.Z)(function*(Q,F,V=!1){const se=yield Wt(Q,F._linkToIdToken(Q.auth,yield Q.getIdToken()),V);return hs._forOperation(Q,"link",se)})).apply(this,arguments)}function Ea(Q,F,V){return zl.apply(this,arguments)}function zl(){return(zl=(0,s.Z)(function*(Q,F,V){yield Mt(F);const we=!1===Q?"provider-already-linked":"no-such-provider";ne(Ta(F.providerData).has(V)===Q,F.auth,we)})).apply(this,arguments)}function gd(Q,F){return ul.apply(this,arguments)}function ul(){return(ul=(0,s.Z)(function*(Q,F,V=!1){var se;const{auth:we}=Q,Ae="reauthenticate";try{const Je=yield Wt(Q,Ca(we,Ae,F,Q),V);ne(Je.idToken,we,"internal-error");const pt=ht(Je.idToken);ne(pt,we,"internal-error");const{sub:Bt}=pt;return ne(Q.uid===Bt,we,"user-mismatch"),hs._forOperation(Q,Ae,Je)}catch(Je){throw"auth/user-not-found"===(null===(se=Je)||void 0===se?void 0:se.code)&&S(we,"user-mismatch"),Je}})).apply(this,arguments)}function dl(Q,F){return vs.apply(this,arguments)}function vs(){return(vs=(0,s.Z)(function*(Q,F,V=!1){const we=yield Ca(Q,"signIn",F),Ae=yield hs._fromIdTokenResponse(Q,"signIn",we);return V||(yield Q._updateCurrentUser(Ae.user)),Ae})).apply(this,arguments)}function Wr(Q,F){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,s.Z)(function*(Q,F){return dl(Cn(Q),F)})).apply(this,arguments)}function Jr(Q,F){return hl.apply(this,arguments)}function hl(){return(hl=(0,s.Z)(function*(Q,F){const V=(0,Ne.m9)(Q);return yield Ea(!1,V,F.providerId),Jc(V,F)})).apply(this,arguments)}function Sa(Q,F){return ii.apply(this,arguments)}function ii(){return(ii=(0,s.Z)(function*(Q,F){return gd((0,Ne.m9)(Q),F)})).apply(this,arguments)}function fl(){return(fl=(0,s.Z)(function*(Q,F){return G(Q,"POST","/v1/accounts:signInWithCustomToken",he(Q,F))})).apply(this,arguments)}function fi(){return fi=(0,s.Z)(function*(Q,F){const V=Cn(Q),se=yield function _d(Q,F){return fl.apply(this,arguments)}(V,{token:F,returnSecureToken:!0}),we=yield hs._fromIdTokenResponse(V,"signIn",se);return yield V._updateCurrentUser(we.user),we}),fi.apply(this,arguments)}class Gl{constructor(F,V){this.factorId=F,this.uid=V.mfaEnrollmentId,this.enrollmentTime=new Date(V.enrolledAt).toUTCString(),this.displayName=V.displayName}static _fromServerResponse(F,V){return"phoneInfo"in V?pl._fromServerResponse(F,V):S(F,"internal-error")}}class pl extends Gl{constructor(F){super("phone",F),this.phoneNumber=F.phoneInfo}static _fromServerResponse(F,V){return new pl(V)}}function Xc(Q,F,V){var se;ne((null===(se=V.url)||void 0===se?void 0:se.length)>0,Q,"invalid-continue-uri"),ne(typeof V.dynamicLinkDomain>"u"||V.dynamicLinkDomain.length>0,Q,"invalid-dynamic-link-domain"),F.continueUrl=V.url,F.dynamicLinkDomain=V.dynamicLinkDomain,F.canHandleCodeInApp=V.handleCodeInApp,V.iOS&&(ne(V.iOS.bundleId.length>0,Q,"missing-ios-bundle-id"),F.iOSBundleId=V.iOS.bundleId),V.android&&(ne(V.android.packageName.length>0,Q,"missing-android-pkg-name"),F.androidInstallApp=V.android.installApp,F.androidMinimumVersionCode=V.android.minimumVersion,F.androidPackageName=V.android.packageName)}function ql(){return ql=(0,s.Z)(function*(Q,F,V){const se=(0,Ne.m9)(Q),we={requestType:"PASSWORD_RESET",email:F};V&&Xc(se,we,V),yield function er(Q,F){return tn.apply(this,arguments)}(se,we)}),ql.apply(this,arguments)}function Vn(){return(Vn=(0,s.Z)(function*(Q,F,V){yield Le((0,Ne.m9)(Q),{oobCode:F,newPassword:V})})).apply(this,arguments)}function Ph(){return Ph=(0,s.Z)(function*(Q,F){yield function wt(Q,F){return zt.apply(this,arguments)}((0,Ne.m9)(Q),{oobCode:F})}),Ph.apply(this,arguments)}function tu(Q,F){return yd.apply(this,arguments)}function yd(){return(yd=(0,s.Z)(function*(Q,F){const V=(0,Ne.m9)(Q),se=yield Le(V,{oobCode:F}),we=se.requestType;switch(ne(we,V,"internal-error"),we){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(se.newEmail,V,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(se.mfaInfo,V,"internal-error");default:ne(se.email,V,"internal-error")}let Ae=null;return se.mfaInfo&&(Ae=Gl._fromServerResponse(Cn(V),se.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===se.requestType?se.newEmail:se.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===se.requestType?se.email:se.newEmail)||null,multiFactorInfo:Ae},operation:we}})).apply(this,arguments)}function nu(){return(nu=(0,s.Z)(function*(Q,F){const{data:V}=yield tu((0,Ne.m9)(Q),F);return V.email})).apply(this,arguments)}function vd(){return(vd=(0,s.Z)(function*(Q,F,V){const se=Cn(Q),we=yield $i(se,{returnSecureToken:!0,email:F,password:V}),Ae=yield hs._fromIdTokenResponse(se,"signIn",we);return yield se._updateCurrentUser(Ae.user),Ae})).apply(this,arguments)}function wd(){return wd=(0,s.Z)(function*(Q,F,V){const se=(0,Ne.m9)(Q),we={requestType:"EMAIL_SIGNIN",email:F};ne(V.handleCodeInApp,se,"argument-error"),V&&Xc(se,we,V),yield function yr(Q,F){return Nr.apply(this,arguments)}(se,we)}),wd.apply(this,arguments)}function Wl(){return(Wl=(0,s.Z)(function*(Q,F,V){const se=(0,Ne.m9)(Q),we=Wo.credentialWithLink(F,V||W());return ne(we._tenantId===(se.tenantId||null),se,"tenant-id-mismatch"),Wr(se,we)})).apply(this,arguments)}function ws(){return(ws=(0,s.Z)(function*(Q,F){return be(Q,"POST","/v1/accounts:createAuthUri",he(Q,F))})).apply(this,arguments)}function su(){return su=(0,s.Z)(function*(Q,F){const se={identifier:F,continueUri:ie()?W():"http://localhost"},{signinMethods:we}=yield function ru(Q,F){return ws.apply(this,arguments)}((0,Ne.m9)(Q),se);return we||[]}),su.apply(this,arguments)}function Cd(){return Cd=(0,s.Z)(function*(Q,F){const V=(0,Ne.m9)(Q),we={requestType:"VERIFY_EMAIL",idToken:yield Q.getIdToken()};F&&Xc(V.auth,we,F);const{email:Ae}=yield function pn(Q,F){return Tr.apply(this,arguments)}(V.auth,we);Ae!==Q.email&&(yield Q.reload())}),Cd.apply(this,arguments)}function pi(){return pi=(0,s.Z)(function*(Q,F,V){const se=(0,Ne.m9)(Q),Ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield Q.getIdToken(),newEmail:F};V&&Xc(se.auth,Ae,V);const{email:Je}=yield function ji(Q,F){return Fr.apply(this,arguments)}(se.auth,Ae);Je!==Q.email&&(yield Q.reload())}),pi.apply(this,arguments)}function Yo(){return(Yo=(0,s.Z)(function*(Q,F){return be(Q,"POST","/v1/accounts:update",F)})).apply(this,arguments)}function ro(){return ro=(0,s.Z)(function*(Q,{displayName:F,photoURL:V}){if(void 0===F&&void 0===V)return;const se=(0,Ne.m9)(Q),Ae={idToken:yield se.getIdToken(),displayName:F,photoUrl:V,returnSecureToken:!0},Je=yield Wt(se,function Cs(Q,F){return Yo.apply(this,arguments)}(se.auth,Ae));se.displayName=Je.displayName||null,se.photoURL=Je.photoUrl||null;const pt=se.providerData.find(({providerId:Bt})=>"password"===Bt);pt&&(pt.displayName=se.displayName,pt.photoURL=se.photoURL),yield se._updateTokensIfNecessary(Je)}),ro.apply(this,arguments)}function jh(Q,F,V){return Td.apply(this,arguments)}function Td(){return(Td=(0,s.Z)(function*(Q,F,V){const{auth:se}=Q,Ae={idToken:yield Q.getIdToken(),returnSecureToken:!0};F&&(Ae.email=F),V&&(Ae.password=V);const Je=yield Wt(Q,Tt(se,Ae));yield Q._updateTokensIfNecessary(Je,!0)})).apply(this,arguments)}class wo{constructor(F,V,se={}){this.isNewUser=F,this.providerId=V,this.profile=se}}class Uh extends wo{constructor(F,V,se,we){super(F,V,se),this.username=we}}class Sd extends wo{constructor(F,V){super(F,"facebook.com",V)}}class Vh extends Uh{constructor(F,V){super(F,"github.com",V,"string"==typeof V?.login?V?.login:null)}}class Up extends wo{constructor(F,V){super(F,"google.com",V)}}class au extends Uh{constructor(F,V,se){super(F,"twitter.com",V,se)}}function Vp(Q){const{user:F,_tokenResponse:V}=Q;return F.isAnonymous&&!V?{providerId:null,isNewUser:!1,profile:null}:function Ed(Q){var F,V;if(!Q)return null;const{providerId:se}=Q,we=Q.rawUserInfo?JSON.parse(Q.rawUserInfo):{},Ae=Q.isNewUser||"identitytoolkit#SignupNewUserResponse"===Q.kind;if(!se&&Q?.idToken){const Je=null===(V=null===(F=ht(Q.idToken))||void 0===F?void 0:F.firebase)||void 0===V?void 0:V.sign_in_provider;if(Je)return new wo(Ae,"anonymous"!==Je&&"custom"!==Je?Je:null)}if(!se)return null;switch(se){case"facebook.com":return new Sd(Ae,we);case"github.com":return new Vh(Ae,we);case"google.com":return new Up(Ae,we);case"twitter.com":return new au(Ae,we,Q.screenName||null);case"custom":case"anonymous":return new wo(Ae,null);default:return new wo(Ae,se,we)}}(V)}class gl{constructor(F,V){this.type=F,this.credential=V}static _fromIdtoken(F){return new gl("enroll",F)}static _fromMfaPendingCredential(F){return new gl("signin",F)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(F){var V,se;if(F?.multiFactorSession){if(null!==(V=F.multiFactorSession)&&void 0!==V&&V.pendingCredential)return gl._fromMfaPendingCredential(F.multiFactorSession.pendingCredential);if(null!==(se=F.multiFactorSession)&&void 0!==se&&se.idToken)return gl._fromIdtoken(F.multiFactorSession.idToken)}return null}}class xd{constructor(F,V,se){this.session=F,this.hints=V,this.signInResolver=se}static _fromError(F,V){const se=Cn(F),we=V.customData._serverResponse,Ae=(we.mfaInfo||[]).map(pt=>Gl._fromServerResponse(se,pt));ne(we.mfaPendingCredential,se,"internal-error");const Je=gl._fromMfaPendingCredential(we.mfaPendingCredential);return new xd(Je,Ae,function(){var pt=(0,s.Z)(function*(Bt){const ln=yield Bt._process(se,Je);delete we.mfaInfo,delete we.mfaPendingCredential;const On=Object.assign(Object.assign({},we),{idToken:ln.idToken,refreshToken:ln.refreshToken});switch(V.operationType){case"signIn":const Nn=yield hs._fromIdTokenResponse(se,V.operationType,On);return yield se._updateCurrentUser(Nn.user),Nn;case"reauthenticate":return ne(V.user,se,"internal-error"),hs._forOperation(V.user,V.operationType,On);default:S(se,"internal-error")}});return function(Bt){return pt.apply(this,arguments)}}())}resolveSignIn(F){var V=this;return(0,s.Z)(function*(){return V.signInResolver(F)})()}}class Yl{constructor(F){this.user=F,this.enrolledFactors=[],F._onReload(V=>{V.mfaInfo&&(this.enrolledFactors=V.mfaInfo.map(se=>Gl._fromServerResponse(F.auth,se)))})}static _fromUser(F){return new Yl(F)}getSession(){var F=this;return(0,s.Z)(function*(){return gl._fromIdtoken(yield F.user.getIdToken())})()}enroll(F,V){var se=this;return(0,s.Z)(function*(){const we=F,Ae=yield se.getSession(),Je=yield Wt(se.user,we._process(se.user.auth,Ae,V));return yield se.user._updateTokensIfNecessary(Je),se.user.reload()})()}unenroll(F){var V=this;return(0,s.Z)(function*(){var se;const we="string"==typeof F?F:F.uid,Ae=yield V.user.getIdToken(),Je=yield Wt(V.user,function p0(Q,F){return be(Q,"POST","/v2/accounts/mfaEnrollment:withdraw",he(Q,F))}(V.user.auth,{idToken:Ae,mfaEnrollmentId:we}));V.enrolledFactors=V.enrolledFactors.filter(({uid:pt})=>pt!==we),yield V.user._updateTokensIfNecessary(Je);try{yield V.user.reload()}catch(pt){if("auth/user-token-expired"!==(null===(se=pt)||void 0===se?void 0:se.code))throw pt}})()}}const Ia=new WeakMap,Jo="__sak";class Jl{constructor(F,V){this.storageRetriever=F,this.type=V}_isAvailable(){try{return this.storage?(this.storage.setItem(Jo,"1"),this.storage.removeItem(Jo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(F,V){return this.storage.setItem(F,JSON.stringify(V)),Promise.resolve()}_get(F){const V=this.storage.getItem(F);return Promise.resolve(V?JSON.parse(V):null)}_remove(F){return this.storage.removeItem(F),Promise.resolve()}get storage(){return this.storageRetriever()}}const lu=(()=>{class Q extends Jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(V,se)=>this.onStorageEvent(V,se),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ql(){const Q=(0,Ne.z$)();return Zt(Q)||gt(Q)}()&&function fr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=cn(),this._shouldAllowMigration=!0}forAllChangedKeys(V){for(const se of Object.keys(this.listeners)){const we=this.storage.getItem(se),Ae=this.localCache[se];we!==Ae&&V(se,Ae,we)}}onStorageEvent(V,se=!1){if(!V.key)return void this.forAllChangedKeys((pt,Bt,ln)=>{this.notifyListeners(pt,ln)});const we=V.key;if(se?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pt=this.storage.getItem(we);if(V.newValue!==pt)null!==V.newValue?this.storage.setItem(we,V.newValue):this.storage.removeItem(we);else if(this.localCache[we]===V.newValue&&!se)return}const Ae=()=>{const pt=this.storage.getItem(we);!se&&this.localCache[we]===pt||this.notifyListeners(we,pt)},Je=this.storage.getItem(we);!function Kt(){return(0,Ne.w1)()&&10===document.documentMode}()||Je===V.newValue||V.newValue===V.oldValue?Ae():setTimeout(Ae,10)}notifyListeners(V,se){this.localCache[V]=se;const we=this.listeners[V];if(we)for(const Ae of Array.from(we))Ae(se&&JSON.parse(se))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((V,se,we)=>{this.onStorageEvent(new StorageEvent("storage",{key:V,oldValue:se,newValue:we}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(V,se){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[V]||(this.listeners[V]=new Set,this.localCache[V]=this.storage.getItem(V)),this.listeners[V].add(se)}_removeListener(V,se){this.listeners[V]&&(this.listeners[V].delete(se),0===this.listeners[V].size&&delete this.listeners[V]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(V,se){var we=()=>super._set,Ae=this;return(0,s.Z)(function*(){yield we().call(Ae,V,se),Ae.localCache[V]=JSON.stringify(se)})()}_get(V){var se=()=>super._get,we=this;return(0,s.Z)(function*(){const Ae=yield se().call(we,V);return we.localCache[V]=JSON.stringify(Ae),Ae})()}_remove(V){var se=()=>super._remove,we=this;return(0,s.Z)(function*(){yield se().call(we,V),delete we.localCache[V]})()}}return Q.type="LOCAL",Q})(),Aa=(()=>{class Q extends Jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(V,se){}_removeListener(V,se){}}return Q.type="SESSION",Q})();let $p=(()=>{class Q{constructor(V){this.eventTarget=V,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(V){const se=this.receivers.find(Ae=>Ae.isListeningto(V));if(se)return se;const we=new Q(V);return this.receivers.push(we),we}isListeningto(V){return this.eventTarget===V}handleEvent(V){var se=this;return(0,s.Z)(function*(){const we=V,{eventId:Ae,eventType:Je,data:pt}=we.data,Bt=se.handlersMap[Je];if(!Bt?.size)return;we.ports[0].postMessage({status:"ack",eventId:Ae,eventType:Je});const ln=Array.from(Bt).map(function(){var Nn=(0,s.Z)(function*(Ni){return Ni(we.origin,pt)});return function(Ni){return Nn.apply(this,arguments)}}()),On=yield function Gh(Q){return Promise.all(Q.map(function(){var F=(0,s.Z)(function*(V){try{return{fulfilled:!0,value:yield V}}catch(se){return{fulfilled:!1,reason:se}}});return function(V){return F.apply(this,arguments)}}()))}(ln);we.ports[0].postMessage({status:"done",eventId:Ae,eventType:Je,response:On})})()}_subscribe(V,se){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[V]||(this.handlersMap[V]=new Set),this.handlersMap[V].add(se)}_unsubscribe(V,se){this.handlersMap[V]&&se&&this.handlersMap[V].delete(se),(!se||0===this.handlersMap[V].size)&&delete this.handlersMap[V],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return Q.receivers=[],Q})();function ka(Q="",F=10){let V="";for(let se=0;se<F;se++)V+=Math.floor(10*Math.random());return Q+V}class Xl{constructor(F){this.target=F,this.handlers=new Set}removeMessageHandler(F){F.messageChannel&&(F.messageChannel.port1.removeEventListener("message",F.onMessage),F.messageChannel.port1.close()),this.handlers.delete(F)}_send(F,V,se=50){var we=this;return(0,s.Z)(function*(){const Ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ae)throw new Error("connection_unavailable");let Je,pt;return new Promise((Bt,ln)=>{const On=ka("",20);Ae.port1.start();const Nn=setTimeout(()=>{ln(new Error("unsupported_event"))},se);pt={messageChannel:Ae,onMessage(Ni){const ms=Ni;if(ms.data.eventId===On)switch(ms.data.status){case"ack":clearTimeout(Nn),Je=setTimeout(()=>{ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(Je),Bt(ms.data.response);break;default:clearTimeout(Nn),clearTimeout(Je),ln(new Error("invalid_response"))}}},we.handlers.add(pt),Ae.port1.addEventListener("message",pt.onMessage),we.target.postMessage({eventType:F,eventId:On,data:V},[Ae.port2])}).finally(()=>{pt&&we.removeMessageHandler(pt)})})()}}function Gr(){return window}function Co(){return typeof Gr().WorkerGlobalScope<"u"&&"function"==typeof Gr().importScripts}function yl(){return(yl=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cu="firebaseLocalStorageDb",uu=1,Xo="firebaseLocalStorage",bl="fbase_key";class vl{constructor(F){this.request=F}toPromise(){return new Promise((F,V)=>{this.request.addEventListener("success",()=>{F(this.request.result)}),this.request.addEventListener("error",()=>{V(this.request.error)})})}}function nc(Q,F){return Q.transaction([Xo],F?"readwrite":"readonly").objectStore(Xo)}function du(){const Q=indexedDB.open(cu,uu);return new Promise((F,V)=>{Q.addEventListener("error",()=>{V(Q.error)}),Q.addEventListener("upgradeneeded",()=>{const se=Q.result;try{se.createObjectStore(Xo,{keyPath:bl})}catch(we){V(we)}}),Q.addEventListener("success",(0,s.Z)(function*(){const se=Q.result;se.objectStoreNames.contains(Xo)?F(se):(se.close(),yield function rc(){const Q=indexedDB.deleteDatabase(cu);return new vl(Q).toPromise()}(),F(yield du()))}))})}function qi(Q,F,V){return ic.apply(this,arguments)}function ic(){return(ic=(0,s.Z)(function*(Q,F,V){const se=nc(Q,!0).put({[bl]:F,value:V});return new vl(se).toPromise()})).apply(this,arguments)}function ea(){return(ea=(0,s.Z)(function*(Q,F){const V=nc(Q,!1).get(F),se=yield new vl(V).toPromise();return void 0===se?null:se.value})).apply(this,arguments)}function sc(Q,F){const V=nc(Q,!0).delete(F);return new vl(V).toPromise()}const Na=(()=>{class Q{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var V=this;return(0,s.Z)(function*(){return V.db||(V.db=yield du()),V.db})()}_withRetries(V){var se=this;return(0,s.Z)(function*(){let we=0;for(;;)try{const Ae=yield se._openDb();return yield V(Ae)}catch(Ae){if(we++>3)throw Ae;se.db&&(se.db.close(),se.db=void 0)}})()}initializeServiceWorkerMessaging(){var V=this;return(0,s.Z)(function*(){return Co()?V.initializeReceiver():V.initializeSender()})()}initializeReceiver(){var V=this;return(0,s.Z)(function*(){V.receiver=$p._getInstance(function tc(){return Co()?self:null}()),V.receiver._subscribe("keyChanged",function(){var se=(0,s.Z)(function*(we,Ae){return{keyProcessed:(yield V._poll()).includes(Ae.key)}});return function(we,Ae){return se.apply(this,arguments)}}()),V.receiver._subscribe("ping",function(){var se=(0,s.Z)(function*(we,Ae){return["keyChanged"]});return function(we,Ae){return se.apply(this,arguments)}}())})()}initializeSender(){var V=this;return(0,s.Z)(function*(){var se,we;if(V.activeServiceWorker=yield function To(){return yl.apply(this,arguments)}(),!V.activeServiceWorker)return;V.sender=new Xl(V.activeServiceWorker);const Ae=yield V.sender._send("ping",{},800);Ae&&null!==(se=Ae[0])&&void 0!==se&&se.fulfilled&&null!==(we=Ae[0])&&void 0!==we&&we.value.includes("keyChanged")&&(V.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(V){var se=this;return(0,s.Z)(function*(){if(se.sender&&se.activeServiceWorker&&function Id(){var Q;return(null===(Q=navigator?.serviceWorker)||void 0===Q?void 0:Q.controller)||null}()===se.activeServiceWorker)try{yield se.sender._send("keyChanged",{key:V},se.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const V=yield du();return yield qi(V,Jo,"1"),yield sc(V,Jo),!0}catch{}return!1})()}_withPendingWrite(V){var se=this;return(0,s.Z)(function*(){se.pendingWrites++;try{yield V()}finally{se.pendingWrites--}})()}_set(V,se){var we=this;return(0,s.Z)(function*(){return we._withPendingWrite((0,s.Z)(function*(){return yield we._withRetries(Ae=>qi(Ae,V,se)),we.localCache[V]=se,we.notifyServiceWorker(V)}))})()}_get(V){var se=this;return(0,s.Z)(function*(){const we=yield se._withRetries(Ae=>function wl(Q,F){return ea.apply(this,arguments)}(Ae,V));return se.localCache[V]=we,we})()}_remove(V){var se=this;return(0,s.Z)(function*(){return se._withPendingWrite((0,s.Z)(function*(){return yield se._withRetries(we=>sc(we,V)),delete se.localCache[V],se.notifyServiceWorker(V)}))})()}_poll(){var V=this;return(0,s.Z)(function*(){const se=yield V._withRetries(Je=>{const pt=nc(Je,!1).getAll();return new vl(pt).toPromise()});if(!se)return[];if(0!==V.pendingWrites)return[];const we=[],Ae=new Set;for(const{fbase_key:Je,value:pt}of se)Ae.add(Je),JSON.stringify(V.localCache[Je])!==JSON.stringify(pt)&&(V.notifyListeners(Je,pt),we.push(Je));for(const Je of Object.keys(V.localCache))V.localCache[Je]&&!Ae.has(Je)&&(V.notifyListeners(Je,null),we.push(Je));return we})()}notifyListeners(V,se){this.localCache[V]=se;const we=this.listeners[V];if(we)for(const Ae of Array.from(we))Ae(se)}startPolling(){var V=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return V._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(V,se){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[V]||(this.listeners[V]=new Set,this._get(V)),this.listeners[V].add(se)}_removeListener(V,se){this.listeners[V]&&(this.listeners[V].delete(se),0===this.listeners[V].size&&delete this.listeners[V]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return Q.type="LOCAL",Q})();function fu(){return(fu=(0,s.Z)(function*(Q){return(yield be(Q,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function so(Q){return new Promise((F,V)=>{const se=document.createElement("script");se.setAttribute("src",Q),se.onload=F,se.onerror=we=>{const Ae=R("internal-error");Ae.customData=we,V(Ae)},se.type="text/javascript",se.charset="UTF-8",function Ma(){var Q,F;return null!==(F=null===(Q=document.getElementsByTagName("head"))||void 0===Q?void 0:Q[0])&&void 0!==F?F:document}().appendChild(se)})}function Zh(Q){return`__${Q}${Math.floor(1e6*Math.random())}`}const qs=1e12;class m0{constructor(F){this.auth=F,this.counter=qs,this._widgets=new Map}render(F,V){const se=this.counter;return this._widgets.set(se,new Wh(F,this.auth.name,V||{})),this.counter++,se}reset(F){var V;const se=F||qs;null===(V=this._widgets.get(se))||void 0===V||V.delete(),this._widgets.delete(se)}getResponse(F){var V;return(null===(V=this._widgets.get(F||qs))||void 0===V?void 0:V.getResponse())||""}execute(F){var V=this;return(0,s.Z)(function*(){var se;return null===(se=V._widgets.get(F||qs))||void 0===se||se.execute(),""})()}}class Wh{constructor(F,V,se){this.params=se,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const we="string"==typeof F?document.getElementById(F):F;ne(we,"argument-error",{appName:V}),this.container=we,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function mu(Q){const F=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let se=0;se<Q;se++)F.push(V.charAt(Math.floor(Math.random()*V.length)));return F.join("")}(50);const{callback:F,"expired-callback":V}=this.params;if(F)try{F(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,V)try{V()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Kh=Zh("rcb"),kd=new N(3e4,6e4);class So{constructor(){var F;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(F=Gr().grecaptcha)||void 0===F||!F.render)}load(F,V=""){return ne(function Cl(Q){return Q.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(Q)}(V),F,"argument-error"),this.shouldResolveImmediately(V)?Promise.resolve(Gr().grecaptcha):new Promise((se,we)=>{const Ae=Gr().setTimeout(()=>{we(R(F,"network-request-failed"))},kd.get());Gr()[Kh]=()=>{Gr().clearTimeout(Ae),delete Gr()[Kh];const pt=Gr().grecaptcha;if(!pt)return void we(R(F,"internal-error"));const Bt=pt.render;pt.render=(ln,On)=>{const Nn=Bt(ln,On);return this.counter++,Nn},this.hostLanguage=V,se(pt)},so(`https://www.google.com/recaptcha/api.js??${(0,Ne.xO)({onload:Kh,render:"explicit",hl:V})}`).catch(()=>{clearTimeout(Ae),we(R(F,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(F){var V;return!(null===(V=Gr().grecaptcha)||void 0===V||!V.render)&&(F===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _u{load(F){return(0,s.Z)(function*(){return new m0(F)})()}clearedOneInstance(){}}const Yh="recaptcha",zp={theme:"light",type:"image"};class lc{constructor(F,V=Object.assign({},zp),se){this.parameters=V,this.type=Yh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cn(se),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const we="string"==typeof F?document.getElementById(F):F;ne(we,this.auth,"argument-error"),this.container=we,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _u:new So,this.validateStartingState()}verify(){var F=this;return(0,s.Z)(function*(){F.assertNotDestroyed();const V=yield F.render(),se=F.getAssertedRecaptcha();return se.getResponse(V)||new Promise(Ae=>{const Je=pt=>{pt&&(F.tokenChangeListeners.delete(Je),Ae(pt))};F.tokenChangeListeners.add(Je),F.isInvisible&&se.execute(V)})})()}render(){try{this.assertNotDestroyed()}catch(F){return Promise.reject(F)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(F=>{throw this.renderPromise=null,F})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(F=>{this.container.removeChild(F)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(F){return V=>{if(this.tokenChangeListeners.forEach(se=>se(V)),"function"==typeof F)F(V);else if("string"==typeof F){const se=Gr()[F];"function"==typeof se&&se(V)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var F=this;return(0,s.Z)(function*(){if(yield F.init(),!F.widgetId){let V=F.container;if(!F.isInvisible){const se=document.createElement("div");V.appendChild(se),V=se}F.widgetId=F.getAssertedRecaptcha().render(V,F.parameters)}return F.widgetId})()}init(){var F=this;return(0,s.Z)(function*(){ne(ie()&&!Co(),F.auth,"internal-error"),yield function Gp(){let Q=null;return new Promise(F=>{"complete"!==document.readyState?(Q=()=>F(),window.addEventListener("load",Q)):F()}).catch(F=>{throw Q&&window.removeEventListener("load",Q),F})}(),F.recaptcha=yield F._recaptchaLoader.load(F.auth,F.auth.languageCode||void 0);const V=yield function io(Q){return fu.apply(this,arguments)}(F.auth);ne(V,F.auth,"internal-error"),F.parameters.sitekey=V})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nd{constructor(F,V){this.verificationId=F,this.onConfirmation=V}confirm(F){const V=Xi._fromVerification(this.verificationId,F);return this.onConfirmation(V)}}function Md(){return(Md=(0,s.Z)(function*(Q,F,V){const se=Cn(Q),we=yield Jh(se,F,(0,Ne.m9)(V));return new Nd(we,Ae=>Wr(se,Ae))})).apply(this,arguments)}function yu(){return(yu=(0,s.Z)(function*(Q,F,V){const se=(0,Ne.m9)(Q);yield Ea(!1,se,"phone");const we=yield Jh(se.auth,F,(0,Ne.m9)(V));return new Nd(we,Ae=>Jr(se,Ae))})).apply(this,arguments)}function Zp(){return(Zp=(0,s.Z)(function*(Q,F,V){const se=(0,Ne.m9)(Q),we=yield Jh(se.auth,F,(0,Ne.m9)(V));return new Nd(we,Ae=>Sa(se,Ae))})).apply(this,arguments)}function Jh(Q,F,V){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,s.Z)(function*(Q,F,V){var se;const we=yield V.verify();try{let Ae;if(ne("string"==typeof we,Q,"argument-error"),ne(V.type===Yh,Q,"argument-error"),Ae="string"==typeof F?{phoneNumber:F}:F,"session"in Ae){const Je=Ae.session;if("phoneNumber"in Ae)return ne("enroll"===Je.type,Q,"internal-error"),(yield function Hp(Q,F){return be(Q,"POST","/v2/accounts/mfaEnrollment:start",he(Q,F))}(Q,{idToken:Je.credential,phoneEnrollmentInfo:{phoneNumber:Ae.phoneNumber,recaptchaToken:we}})).phoneSessionInfo.sessionInfo;{ne("signin"===Je.type,Q,"internal-error");const pt=(null===(se=Ae.multiFactorHint)||void 0===se?void 0:se.uid)||Ae.multiFactorUid;return ne(pt,Q,"missing-multi-factor-info"),(yield function ac(Q,F){return be(Q,"POST","/v2/accounts/mfaSignIn:start",he(Q,F))}(Q,{mfaPendingCredential:Je.credential,mfaEnrollmentId:pt,phoneSignInInfo:{recaptchaToken:we}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Je}=yield function Ui(Q,F){return Vi.apply(this,arguments)}(Q,{phoneNumber:Ae.phoneNumber,recaptchaToken:we});return Je}}finally{V._reset()}}),Wp.apply(this,arguments)}function Kp(){return(Kp=(0,s.Z)(function*(Q,F){yield Jc((0,Ne.m9)(Q),F)})).apply(this,arguments)}let Rd=(()=>{class Q{constructor(V){this.providerId=Q.PROVIDER_ID,this.auth=Cn(V)}verifyPhoneNumber(V,se){return Jh(this.auth,V,(0,Ne.m9)(se))}static credential(V,se){return Xi._fromVerification(V,se)}static credentialFromResult(V){return Q.credentialFromTaggedObject(V)}static credentialFromError(V){return Q.credentialFromTaggedObject(V.customData||{})}static credentialFromTaggedObject({_tokenResponse:V}){if(!V)return null;const{phoneNumber:se,temporaryProof:we}=V;return se&&we?Xi._fromTokenResponse(se,we):null}}return Q.PROVIDER_ID="phone",Q.PHONE_SIGN_IN_METHOD="phone",Q})();function Mr(Q,F){return F?fe(F):(ne(Q._popupRedirectResolver,Q,"argument-error"),Q._popupRedirectResolver)}class vu extends Ur{constructor(F){super("custom","custom"),this.params=F}_getIdTokenResponse(F){return Gn(F,this._buildIdpRequest())}_linkToIdToken(F,V){return Gn(F,this._buildIdpRequest(V))}_getReauthenticationResolver(F){return Gn(F,this._buildIdpRequest())}_buildIdpRequest(F){const V={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return F&&(V.idToken=F),V}}function wu(Q){return dl(Q.auth,new vu(Q),Q.bypassAuthState)}function Od(Q){const{auth:F,user:V}=Q;return ne(V,F,"internal-error"),gd(V,new vu(Q),Q.bypassAuthState)}function Ts(Q){return oo.apply(this,arguments)}function oo(){return(oo=(0,s.Z)(function*(Q){const{auth:F,user:V}=Q;return ne(V,F,"internal-error"),Jc(V,new vu(Q),Q.bypassAuthState)})).apply(this,arguments)}class Cu{constructor(F,V,se,we,Ae=!1){this.auth=F,this.resolver=se,this.user=we,this.bypassAuthState=Ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(V)?V:[V]}execute(){var F=this;return new Promise(function(){var V=(0,s.Z)(function*(se,we){F.pendingPromise={resolve:se,reject:we};try{F.eventManager=yield F.resolver._initialize(F.auth),yield F.onExecution(),F.eventManager.registerConsumer(F)}catch(Ae){F.reject(Ae)}});return function(se,we){return V.apply(this,arguments)}}())}onAuthEvent(F){var V=this;return(0,s.Z)(function*(){const{urlResponse:se,sessionId:we,postBody:Ae,tenantId:Je,error:pt,type:Bt}=F;if(pt)return void V.reject(pt);const ln={auth:V.auth,requestUri:se,sessionId:we,tenantId:Je||void 0,postBody:Ae||void 0,user:V.user,bypassAuthState:V.bypassAuthState};try{V.resolve(yield V.getIdpTask(Bt)(ln))}catch(On){V.reject(On)}})()}onError(F){this.reject(F)}getIdpTask(F){switch(F){case"signInViaPopup":case"signInViaRedirect":return wu;case"linkViaPopup":case"linkViaRedirect":return Ts;case"reauthViaPopup":case"reauthViaRedirect":return Od;default:S(this.auth,"internal-error")}}resolve(F){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(F),this.unregisterAndCleanUp()}reject(F){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(F),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cc=new N(2e3,1e4);function Tu(){return(Tu=(0,s.Z)(function*(Q,F,V){const se=Cn(Q);Z(Q,F,bo);const we=Mr(se,V);return new $n(se,"signInViaPopup",F,we).executeNotNull()})).apply(this,arguments)}function Xh(){return(Xh=(0,s.Z)(function*(Q,F,V){const se=(0,Ne.m9)(Q);Z(se.auth,F,bo);const we=Mr(se.auth,V);return new $n(se.auth,"reauthViaPopup",F,we,se).executeNotNull()})).apply(this,arguments)}function ps(){return(ps=(0,s.Z)(function*(Q,F,V){const se=(0,Ne.m9)(Q);Z(se.auth,F,bo);const we=Mr(se.auth,V);return new $n(se.auth,"linkViaPopup",F,we,se).executeNotNull()})).apply(this,arguments)}let $n=(()=>{class Q extends Cu{constructor(V,se,we,Ae,Je){super(V,se,Ae,Je),this.provider=we,this.authWindow=null,this.pollId=null,Q.currentPopupAction&&Q.currentPopupAction.cancel(),Q.currentPopupAction=this}executeNotNull(){var V=this;return(0,s.Z)(function*(){const se=yield V.execute();return ne(se,V.auth,"internal-error"),se})()}onExecution(){var V=this;return(0,s.Z)(function*(){re(1===V.filter.length,"Popup operations only handle one event");const se=ka();V.authWindow=yield V.resolver._openPopup(V.auth,V.provider,V.filter[0],se),V.authWindow.associatedEvent=se,V.resolver._originValidation(V.auth).catch(we=>{V.reject(we)}),V.resolver._isIframeWebStorageSupported(V.auth,we=>{we||V.reject(R(V.auth,"web-storage-unsupported"))}),V.pollUserCancellation()})()}get eventId(){var V;return(null===(V=this.authWindow)||void 0===V?void 0:V.associatedEvent)||null}cancel(){this.reject(R(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Q.currentPopupAction=null}pollUserCancellation(){const V=()=>{var se,we;this.pollId=null!==(we=null===(se=this.authWindow)||void 0===se?void 0:se.window)&&void 0!==we&&we.closed?window.setTimeout(()=>{this.pollId=null,this.reject(R(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(V,cc.get())};V()}}return Q.currentPopupAction=null,Q})();const mi="pendingRedirect",Pt=new Map;class br extends Cu{constructor(F,V,se=!1){super(F,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],V,void 0,se),this.eventId=null}execute(){var F=()=>super.execute,V=this;return(0,s.Z)(function*(){let se=Pt.get(V.auth._key());if(!se){try{const Ae=(yield function gi(Q,F){return xo.apply(this,arguments)}(V.resolver,V.auth))?yield F().call(V):null;se=()=>Promise.resolve(Ae)}catch(we){se=()=>Promise.reject(we)}Pt.set(V.auth._key(),se)}return V.bypassAuthState||Pt.set(V.auth._key(),()=>Promise.resolve(null)),se()})()}onAuthEvent(F){var V=()=>super.onAuthEvent,se=this;return(0,s.Z)(function*(){if("signInViaRedirect"===F.type)return V().call(se,F);if("unknown"!==F.type){if(F.eventId){const we=yield se.auth._redirectUserForId(F.eventId);if(we)return se.user=we,V().call(se,F);se.resolve(null)}}else se.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function xo(){return(xo=(0,s.Z)(function*(Q,F){const V=dc(F),se=uc(Q);if(!(yield se._isAvailable()))return!1;const we="true"===(yield se._get(V));return yield se._remove(V),we})).apply(this,arguments)}function El(Q,F){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,s.Z)(function*(Q,F){return uc(Q)._set(dc(F),"true")})).apply(this,arguments)}function ef(Q,F){Pt.set(Q._key(),F)}function uc(Q){return fe(Q._redirectPersistence)}function dc(Q){return tr(mi,Q.config.apiKey,Q.name)}function Eu(Q,F,V){return function Su(Q,F,V){return ge.apply(this,arguments)}(Q,F,V)}function ge(){return(ge=(0,s.Z)(function*(Q,F,V){const se=Cn(Q);Z(Q,F,bo);const we=Mr(se,V);return yield El(we,se),we._openRedirect(se,F,"signInViaRedirect")})).apply(this,arguments)}function me(Q,F,V){return function xe(Q,F,V){return $e.apply(this,arguments)}(Q,F,V)}function $e(){return($e=(0,s.Z)(function*(Q,F,V){const se=(0,Ne.m9)(Q);Z(se.auth,F,bo);const we=Mr(se.auth,V);yield El(we,se.auth);const Ae=yield kn(se);return we._openRedirect(se.auth,F,"reauthViaRedirect",Ae)})).apply(this,arguments)}function nt(Q,F,V){return function ft(Q,F,V){return Ct.apply(this,arguments)}(Q,F,V)}function Ct(){return(Ct=(0,s.Z)(function*(Q,F,V){const se=(0,Ne.m9)(Q);Z(se.auth,F,bo);const we=Mr(se.auth,V);yield Ea(!1,se,F.providerId),yield El(we,se.auth);const Ae=yield kn(se);return we._openRedirect(se.auth,F,"linkViaRedirect",Ae)})).apply(this,arguments)}function An(){return(An=(0,s.Z)(function*(Q,F){return yield Cn(Q)._initializationPromise,Rn(Q,F,!1)})).apply(this,arguments)}function Rn(Q,F){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,s.Z)(function*(Q,F,V=!1){const se=Cn(Q),we=Mr(se,F),Je=yield new br(se,we,V).execute();return Je&&!V&&(delete Je.user._redirectEventId,yield se._persistUserIfCurrent(Je.user),yield se._setRedirectUser(null,F)),Je})).apply(this,arguments)}function kn(Q){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,s.Z)(function*(Q){const F=ka(`${Q.uid}:::`);return Q._redirectEventId=F,yield Q.auth._setRedirectUser(Q),yield Q.auth._persistUserIfCurrent(Q),F})).apply(this,arguments)}class es{constructor(F){this.auth=F,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(F){this.consumers.add(F),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,F)&&(this.sendToConsumer(this.queuedRedirectEvent,F),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(F){this.consumers.delete(F)}onEvent(F){if(this.hasEventBeenHandled(F))return!1;let V=!1;return this.consumers.forEach(se=>{this.isEventForConsumer(F,se)&&(V=!0,this.sendToConsumer(F,se),this.saveEventToCache(F))}),this.hasHandledPotentialRedirect||!function ao(Q){switch(Q.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ra(Q);default:return!1}}(F)||(this.hasHandledPotentialRedirect=!0,V||(this.queuedRedirectEvent=F,V=!0)),V}sendToConsumer(F,V){var se;if(F.error&&!Ra(F)){const we=(null===(se=F.error.code)||void 0===se?void 0:se.split("auth/")[1])||"internal-error";V.onError(R(this.auth,we))}else V.onAuthEvent(F)}isEventForConsumer(F,V){const se=null===V.eventId||!!F.eventId&&F.eventId===V.eventId;return V.filter.includes(F.type)&&se}hasEventBeenHandled(F){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sl(F))}saveEventToCache(F){this.cachedEventUids.add(Sl(F)),this.lastProcessedEventTime=Date.now()}}function Sl(Q){return[Q.type,Q.eventId,Q.sessionId,Q.tenantId].filter(F=>F).join("-")}function Ra({type:Q,error:F}){return"unknown"===Q&&"auth/no-auth-event"===F?.code}function ta(Q){return si.apply(this,arguments)}function si(){return(si=(0,s.Z)(function*(Q,F={}){return be(Q,"GET","/v1/projects",F)})).apply(this,arguments)}const Do=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rr=/^https?/;function Jp(){return(Jp=(0,s.Z)(function*(Q){if(Q.config.emulator)return;const{authorizedDomains:F}=yield ta(Q);for(const V of F)try{if(Vr(V))return}catch{}S(Q,"unauthorized-domain")})).apply(this,arguments)}function Vr(Q){const F=W(),{protocol:V,hostname:se}=new URL(F);if(Q.startsWith("chrome-extension://")){const Je=new URL(Q);return""===Je.hostname&&""===se?"chrome-extension:"===V&&Q.replace("chrome-extension://","")===F.replace("chrome-extension://",""):"chrome-extension:"===V&&Je.hostname===se}if(!Rr.test(V))return!1;if(Do.test(Q))return se===Q;const we=Q.replace(/\./g,"\\.");return new RegExp("^(.+\\."+we+"|"+we+")$","i").test(se)}const ts=new N(3e4,6e4);function Oa(){const Q=Gr().___jsl;if(Q?.H)for(const F of Object.keys(Q.H))if(Q.H[F].r=Q.H[F].r||[],Q.H[F].L=Q.H[F].L||[],Q.H[F].r=[...Q.H[F].L],Q.CP)for(let V=0;V<Q.CP.length;V++)Q.CP[V]=null}let Qr=null;const sb=new N(5e3,15e3),Xp="__/auth/iframe",Pa="emulator/auth/iframe",fc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ns=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pc(Q){const F=Q.config;ne(F.authDomain,Q,"auth-domain-config-required");const V=F.emulator?P(F,Pa):`https://${Q.config.authDomain}/${Xp}`,se={apiKey:F.apiKey,appName:Q.name,v:rt.SDK_VERSION},we=ns.get(Q.config.apiHost);we&&(se.eid=we);const Ae=Q._getFrameworks();return Ae.length&&(se.fw=Ae.join(",")),`${V}?${(0,Ne.xO)(se).slice(1)}`}function Fa(){return Fa=(0,s.Z)(function*(Q){const F=yield function Qp(Q){return Qr=Qr||function Ai(Q){return new Promise((F,V)=>{var se,we,Ae;function Je(){Oa(),gapi.load("gapi.iframes",{callback:()=>{F(gapi.iframes.getContext())},ontimeout:()=>{Oa(),V(R(Q,"network-request-failed"))},timeout:ts.get()})}if(null!==(we=null===(se=Gr().gapi)||void 0===se?void 0:se.iframes)&&void 0!==we&&we.Iframe)F(gapi.iframes.getContext());else{if(null===(Ae=Gr().gapi)||void 0===Ae||!Ae.load){const pt=Zh("iframefcb");return Gr()[pt]=()=>{gapi.load?Je():V(R(Q,"network-request-failed"))},so(`https://apis.google.com/js/api.js?onload=${pt}`).catch(Bt=>V(Bt))}Je()}}).catch(F=>{throw Qr=null,F})}(Q),Qr}(Q),V=Gr().gapi;return ne(V,Q,"internal-error"),F.open({where:document.body,url:pc(Q),messageHandlersFilter:V.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fc,dontclear:!0},se=>new Promise(function(){var we=(0,s.Z)(function*(Ae,Je){yield se.restyle({setHideOnLeave:!1});const pt=R(Q,"network-request-failed"),Bt=Gr().setTimeout(()=>{Je(pt)},sb.get());function ln(){Gr().clearTimeout(Bt),Ae(se)}se.ping(ln).then(ln,()=>{Je(pt)})});return function(Ae,Je){return we.apply(this,arguments)}}()))}),Fa.apply(this,arguments)}const tf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nf=500,y0=600,rf="_blank",sf="http://localhost";class Mn{constructor(F){this.window=F,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const xu="__/auth/handler",b0="emulator/auth/handler";function Fd(Q,F,V,se,we,Ae){ne(Q.config.authDomain,Q,"auth-domain-config-required"),ne(Q.config.apiKey,Q,"invalid-api-key");const Je={apiKey:Q.config.apiKey,appName:Q.name,authType:V,redirectUrl:se,v:rt.SDK_VERSION,eventId:we};if(F instanceof bo){F.setDefaultLanguage(Q.languageCode),Je.providerId=F.providerId||"",(0,Ne.xb)(F.getCustomParameters())||(Je.customParameters=JSON.stringify(F.getCustomParameters()));for(const[Bt,ln]of Object.entries(Ae||{}))Je[Bt]=ln}if(F instanceof ol){const Bt=F.getScopes().filter(ln=>""!==ln);Bt.length>0&&(Je.scopes=Bt.join(","))}Q.tenantId&&(Je.tid=Q.tenantId);const pt=Je;for(const Bt of Object.keys(pt))void 0===pt[Bt]&&delete pt[Bt];return`${function na({config:Q}){return Q.emulator?P(Q,b0):`https://${Q.authDomain}/${xu}`}(Q)}?${(0,Ne.xO)(pt).slice(1)}`}const af="webStorageSupport",lf=class v0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Aa,this._completeRedirectFn=Rn,this._overrideRedirectResult=ef}_openPopup(F,V,se,we){var Ae=this;return(0,s.Z)(function*(){var Je;re(null===(Je=Ae.eventManagers[F._key()])||void 0===Je?void 0:Je.manager,"_initialize() not called before _openPopup()");const pt=Fd(F,V,se,W(),we);return function Pd(Q,F,V,se=nf,we=y0){const Ae=Math.max((window.screen.availHeight-we)/2,0).toString(),Je=Math.max((window.screen.availWidth-se)/2,0).toString();let pt="";const Bt=Object.assign(Object.assign({},tf),{width:se.toString(),height:we.toString(),top:Ae,left:Je}),ln=(0,Ne.z$)().toLowerCase();V&&(pt=vn(ln)?rf:V),lr(ln)&&(F=F||sf,Bt.scrollbars="yes");const On=Object.entries(Bt).reduce((Ni,[ms,Zd])=>`${Ni}${ms}=${Zd},`,"");if(function Qn(Q=(0,Ne.z$)()){var F;return gt(Q)&&!(null===(F=window.navigator)||void 0===F||!F.standalone)}(ln)&&"_self"!==pt)return function ob(Q,F){const V=document.createElement("a");V.href=Q,V.target=F;const se=document.createEvent("MouseEvent");se.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),V.dispatchEvent(se)}(F||"",pt),new Mn(null);const Nn=window.open(F||"",pt,On);ne(Nn,Q,"popup-blocked");try{Nn.focus()}catch{}return new Mn(Nn)}(F,pt,ka())})()}_openRedirect(F,V,se,we){var Ae=this;return(0,s.Z)(function*(){return yield Ae._originValidation(F),function ec(Q){Gr().location.href=Q}(Fd(F,V,se,W(),we)),new Promise(()=>{})})()}_initialize(F){const V=F._key();if(this.eventManagers[V]){const{manager:we,promise:Ae}=this.eventManagers[V];return we?Promise.resolve(we):(re(Ae,"If manager is not set, promise should be"),Ae)}const se=this.initAndGetManager(F);return this.eventManagers[V]={promise:se},se.catch(()=>{delete this.eventManagers[V]}),se}initAndGetManager(F){var V=this;return(0,s.Z)(function*(){const se=yield function T2(Q){return Fa.apply(this,arguments)}(F),we=new es(F);return se.register("authEvent",Ae=>(ne(Ae?.authEvent,F,"invalid-auth-event"),{status:we.onEvent(Ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),V.eventManagers[F._key()]={manager:we},V.iframes[F._key()]=se,we})()}_isIframeWebStorageSupported(F,V){this.iframes[F._key()].send(af,{type:af},we=>{var Ae;const Je=null===(Ae=we?.[0])||void 0===Ae?void 0:Ae[af];void 0!==Je&&V(!!Je),S(F,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(F){const V=F._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function hc(Q){return Jp.apply(this,arguments)}(F)),this.originValidationPromises[V]}get _shouldInitProactively(){return cn()||Zt()||gt()}};class E2{constructor(F){this.factorId=F}_process(F,V,se){switch(V.type){case"enroll":return this._finalizeEnroll(F,V.credential,se);case"signin":return this._finalizeSignIn(F,V.credential);default:return J("unexpected MultiFactorSessionType")}}}class ki extends E2{constructor(F){super("phone"),this.credential=F}static _fromCredential(F){return new ki(F)}_finalizeEnroll(F,V,se){return function f0(Q,F){return be(Q,"POST","/v2/accounts/mfaEnrollment:finalize",he(Q,F))}(F,{idToken:V,displayName:se,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(F,V){return function qh(Q,F){return be(Q,"POST","/v2/accounts/mfaSignIn:finalize",he(Q,F))}(F,{mfaPendingCredential:V,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let oi=(()=>{class Q{constructor(){}static assertion(V){return ki._fromCredential(V)}}return Q.FACTOR_ID="phone",Q})();var mc="@firebase/auth";class cf{constructor(F){this.auth=F,this.internalListeners=new Map}getUid(){var F;return this.assertAuthConfigured(),(null===(F=this.auth.currentUser)||void 0===F?void 0:F.uid)||null}getToken(F){var V=this;return(0,s.Z)(function*(){return V.assertAuthConfigured(),yield V.auth._initializationPromise,V.auth.currentUser?{accessToken:yield V.auth.currentUser.getIdToken(F)}:null})()}addAuthTokenListener(F){if(this.assertAuthConfigured(),this.internalListeners.has(F))return;const V=this.auth.onIdTokenChanged(se=>{var we;F((null===(we=se)||void 0===we?void 0:we.stsTokenManager.accessToken)||null)});this.internalListeners.set(F,V),this.updateProactiveRefresh()}removeAuthTokenListener(F){this.assertAuthConfigured();const V=this.internalListeners.get(F);V&&(this.internalListeners.delete(F),V(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xl(){return window}!function Ld(Q){(0,rt._registerComponent)(new B.wA("auth",(F,{options:V})=>{const se=F.getProvider("app").getImmediate(),we=F.getProvider("heartbeat"),{apiKey:Ae,authDomain:Je}=se.options;return((pt,Bt)=>{ne(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:pt.name}),ne(!Je?.includes(":"),"argument-error",{appName:pt.name});const ln={apiKey:Ae,authDomain:Je,clientPlatform:Q,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yn(Q)},On=new pr(pt,Bt,ln);return function $(Q,F){const V=F?.persistence||[],se=(Array.isArray(V)?V:[V]).map(fe);F?.errorMap&&Q._updateErrorMap(F.errorMap),Q._initializeWithPersistence(se,F?.popupRedirectResolver)}(On,V),On})(se,we)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((F,V,se)=>{F.getProvider("auth-internal").initialize()})),(0,rt._registerComponent)(new B.wA("auth-internal",F=>{const V=Cn(F.getProvider("auth").getImmediate());return new cf(V)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,rt.registerVersion)(mc,"0.20.5",function rs(Q){switch(Q){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Q)),(0,rt.registerVersion)(mc,"0.20.5","esm2017")}("Browser");const C0=2e3;function Du(){return Du=(0,s.Z)(function*(Q,F,V){var se;const{BuildInfo:we}=xl();re(F.sessionId,"AuthEvent did not contain a session ID");const Ae=yield function gc(Q){return Bd.apply(this,arguments)}(F.sessionId),Je={};return gt()?Je.ibi=we.packageName:In()?Je.apn=we.packageName:S(Q,"operation-not-supported-in-this-environment"),we.displayName&&(Je.appDisplayName=we.displayName),Je.sessionId=Ae,Fd(Q,V,F.type,void 0,null!==(se=F.eventId)&&void 0!==se?se:void 0,Je)}),Du.apply(this,arguments)}function nr(){return(nr=(0,s.Z)(function*(Q){const{BuildInfo:F}=xl(),V={};gt()?V.iosBundleId=F.packageName:In()?V.androidPackageName=F.packageName:S(Q,"operation-not-supported-in-this-environment"),yield ta(Q,V)})).apply(this,arguments)}function Ba(){return(Ba=(0,s.Z)(function*(Q,F,V){const{cordova:se}=xl();let we=()=>{};try{yield new Promise((Ae,Je)=>{let pt=null;function Bt(){var Nn;Ae();const Ni=null===(Nn=se.plugins.browsertab)||void 0===Nn?void 0:Nn.close;"function"==typeof Ni&&Ni(),"function"==typeof V?.close&&V.close()}function ln(){pt||(pt=window.setTimeout(()=>{Je(R(Q,"redirect-cancelled-by-user"))},C0))}function On(){"visible"===document?.visibilityState&&ln()}F.addPassiveListener(Bt),document.addEventListener("resume",ln,!1),In()&&document.addEventListener("visibilitychange",On,!1),we=()=>{F.removePassiveListener(Bt),document.removeEventListener("resume",ln,!1),document.removeEventListener("visibilitychange",On,!1),pt&&window.clearTimeout(pt)}})}finally{we()}})).apply(this,arguments)}function Bd(){return(Bd=(0,s.Z)(function*(Q){const F=function jd(Q){if(re(/[0-9a-zA-Z]+/.test(Q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Q);const F=new ArrayBuffer(Q.length),V=new Uint8Array(F);for(let se=0;se<Q.length;se++)V[se]=Q.charCodeAt(se);return V}(Q),V=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(V)).map(we=>we.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const uf=20;class Ud extends es{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(F)),super.onEvent(F)}initialized(){var F=this;return(0,s.Z)(function*(){yield F.initPromise})()}}function rm(Q){return ra.apply(this,arguments)}function ra(){return(ra=(0,s.Z)(function*(Q){const F=yield hf()._get(Vd(Q));return F&&(yield hf()._remove(Vd(Q))),F})).apply(this,arguments)}function im(){const Q=[],F="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<uf;V++){const se=Math.floor(Math.random()*F.length);Q.push(F.charAt(se))}return Q.join("")}function hf(){return fe(lu)}function Vd(Q){return tr("authEvent",Q.config.apiKey,Q.name)}function _c(Q){if(!Q?.includes("?"))return{};const[F,...V]=Q.split("?");return(0,Ne.zd)(V.join("?"))}const hb=class db{constructor(){this._redirectPersistence=Aa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Rn,this._overrideRedirectResult=ef}_initialize(F){var V=this;return(0,s.Z)(function*(){const se=F._key();let we=V.eventManagers.get(se);return we||(we=new Ud(F),V.eventManagers.set(se,we),V.attachCallbackListeners(F,we)),we})()}_openPopup(F){S(F,"operation-not-supported-in-this-environment")}_openRedirect(F,V,se,we){var Ae=this;return(0,s.Z)(function*(){!function nm(Q){var F,V,se,we,Ae,Je,pt,Bt,ln,On;const Nn=xl();ne("function"==typeof(null===(F=Nn?.universalLinks)||void 0===F?void 0:F.subscribe),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof(null===(V=Nn?.BuildInfo)||void 0===V?void 0:V.packageName)<"u",Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(Ae=null===(we=null===(se=Nn?.cordova)||void 0===se?void 0:se.plugins)||void 0===we?void 0:we.browsertab)||void 0===Ae?void 0:Ae.openUrl),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Bt=null===(pt=null===(Je=Nn?.cordova)||void 0===Je?void 0:Je.plugins)||void 0===pt?void 0:pt.browsertab)||void 0===Bt?void 0:Bt.isAvailable),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(On=null===(ln=Nn?.cordova)||void 0===ln?void 0:ln.InAppBrowser)||void 0===On?void 0:On.open),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const Je=yield Ae._initialize(F);yield Je.initialized(),Je.resetRedirect(),function Yp(){Pt.clear()}(),yield Ae._originValidation(F);const pt=function df(Q,F,V=null){return{type:F,eventId:V,urlResponse:null,sessionId:im(),postBody:null,tenantId:Q.tenantId,error:R(Q,"no-auth-event")}}(F,se,we);yield function Au(Q,F){return hf()._set(Vd(Q),F)}(F,pt);const Bt=yield function tm(Q,F,V){return Du.apply(this,arguments)}(F,pt,V),ln=yield function Iu(Q){const{cordova:F}=xl();return new Promise(V=>{F.plugins.browsertab.isAvailable(se=>{let we=null;se?F.plugins.browsertab.openUrl(Q):we=F.InAppBrowser.open(Q,function Rt(Q=(0,Ne.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(Q)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(Q)}()?"_blank":"_system","location=yes"),V(we)})})}(Bt);return function ab(Q,F,V){return Ba.apply(this,arguments)}(F,Je,ln)})()}_isIframeWebStorageSupported(F,V){throw new Error("Method not implemented.")}_originValidation(F){const V=F._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function La(Q){return nr.apply(this,arguments)}(F)),this.originValidationPromises[V]}attachCallbackListeners(F,V){const{universalLinks:se,handleOpenURL:we,BuildInfo:Ae}=xl(),Je=setTimeout((0,s.Z)(function*(){yield rm(F),V.onEvent(sm())}),500),pt=function(){var On=(0,s.Z)(function*(Nn){clearTimeout(Je);const Ni=yield rm(F);let ms=null;Ni&&Nn?.url&&(ms=function ku(Q,F){var V,se;const we=function cb(Q){const F=_c(Q),V=F.link?decodeURIComponent(F.link):void 0,se=_c(V).link,we=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return _c(we).link||we||se||V||Q}(F);if(we.includes("/__/auth/callback")){const Ae=_c(we),Je=Ae.firebaseError?function lb(Q){try{return JSON.parse(Q)}catch{return null}}(decodeURIComponent(Ae.firebaseError)):null,pt=null===(se=null===(V=Je?.code)||void 0===V?void 0:V.split("auth/"))||void 0===se?void 0:se[1],Bt=pt?R(pt):null;return Bt?{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,error:Bt,urlResponse:null,sessionId:null,postBody:null}:{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,sessionId:Q.sessionId,urlResponse:we,postBody:null}}return null}(Ni,Nn.url)),V.onEvent(ms||sm())});return function(Ni){return On.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,pt);const Bt=we,ln=`${Ae.packageName.toLowerCase()}://`;xl().handleOpenURL=function(){var On=(0,s.Z)(function*(Nn){if(Nn.toLowerCase().startsWith(ln)&&pt({url:Nn}),"function"==typeof Bt)try{Bt(Nn)}catch(Ni){console.error(Ni)}});return function(Nn){return On.apply(this,arguments)}}()}};function sm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:R("no-auth-event")}}const fb=1e3;function Io(){var Q;return(null===(Q=self?.location)||void 0===Q?void 0:Q.protocol)||null}function T0(Q=(0,Ne.z$)()){return!("file:"!==Io()&&"ionic:"!==Io()&&"capacitor:"!==Io()||!Q.toLowerCase().match(/iphone|ipad|ipod|android/))}function $d(){try{const Q=self.localStorage,F=ka();if(Q)return Q.setItem(F,"1"),Q.removeItem(F),!function Hd(Q=(0,Ne.z$)()){return function am(){return(0,Ne.w1)()&&11===document?.documentMode}()||function E0(Q=(0,Ne.z$)()){return/Edge\/\d+/.test(Q)}(Q)}()||(0,Ne.hl)()}catch{return Ao()&&(0,Ne.hl)()}return!1}function Ao(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mf(){return(function pf(){return"http:"===Io()||"https:"===Io()}()||(0,Ne.ru)()||T0())&&!function Dl(){return(0,Ne.b$)()||(0,Ne.UG)()}()&&$d()&&!Ao()}function gf(){return T0()&&typeof document<"u"}function ja(){return(ja=(0,s.Z)(function*(){return!!gf()&&new Promise(Q=>{const F=setTimeout(()=>{Q(!1)},fb);document.addEventListener("deviceready",()=>{clearTimeout(F),Q(!0)})})})).apply(this,arguments)}const Ps={LOCAL:"local",NONE:"none",SESSION:"session"},Ua=ne,zd="persistence";function ia(Q){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,s.Z)(function*(Q){yield Q._initializationPromise;const F=Mu(),V=tr(zd,Q.config.apiKey,Q.name);F&&F.setItem(V,Q._getPersistence())})).apply(this,arguments)}function Mu(){var Q;try{return(null===(Q=function cm(){return typeof window<"u"?window:null}())||void 0===Q?void 0:Q.sessionStorage)||null}catch{return null}}const S0=ne;class sa{constructor(){this.browserResolver=fe(lf),this.cordovaResolver=fe(hb),this.underlyingResolver=null,this._redirectPersistence=Aa,this._completeRedirectFn=Rn,this._overrideRedirectResult=ef}_initialize(F){var V=this;return(0,s.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,V,se,we){var Ae=this;return(0,s.Z)(function*(){return yield Ae.selectUnderlyingResolver(),Ae.assertedUnderlyingResolver._openPopup(F,V,se,we)})()}_openRedirect(F,V,se,we){var Ae=this;return(0,s.Z)(function*(){return yield Ae.selectUnderlyingResolver(),Ae.assertedUnderlyingResolver._openRedirect(F,V,se,we)})()}_isIframeWebStorageSupported(F,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,V)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return gf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return S0(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,s.Z)(function*(){if(F.underlyingResolver)return;const V=yield function lm(){return ja.apply(this,arguments)}();F.underlyingResolver=V?F.cordovaResolver:F.browserResolver})()}}function Ru(Q){return Q.unwrap()}function um(Q){return Ou(Q)}function Ou(Q){const{_tokenResponse:F}=Q instanceof Ne.ZR?Q.customData:Q;if(!F)return null;if(!(Q instanceof Ne.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return Rd.credentialFromResult(Q);const V=F.providerId;if(!V||V===y.PASSWORD)return null;let se;switch(V){case y.GOOGLE:se=Lp;break;case y.FACEBOOK:se=fd;break;case y.GITHUB:se=Bp;break;case y.TWITTER:se=d0;break;default:const{oauthIdToken:we,oauthAccessToken:Ae,oauthTokenSecret:Je,pendingToken:pt,nonce:Bt}=F;return Ae||Je||we||pt?pt?V.startsWith("saml.")?al._create(V,pt):Di._fromParams({providerId:V,signInMethod:V,pendingToken:pt,idToken:we,accessToken:Ae}):new $l(V).credential({idToken:we,accessToken:Ae,rawNonce:Bt}):null}return Q instanceof Ne.ZR?se.credentialFromError(Q):se.credentialFromResult(Q)}function yi(Q,F){return F.catch(V=>{throw V instanceof Ne.ZR&&function Il(Q,F){var V,se;const we=null===(V=F.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===(null===(se=F)||void 0===se?void 0:se.code))F.resolver=new pb(Q,function Gi(Q,F){var V;const se=(0,Ne.m9)(Q),we=F;return ne(F.customData.operationType,se,"argument-error"),ne(null===(V=we.customData._serverResponse)||void 0===V?void 0:V.mfaPendingCredential,se,"argument-error"),xd._fromError(se,we)}(Q,F));else if(we){const Ae=Ou(F),Je=F;Ae&&(Je.credential=Ae,Je.tenantId=we.tenantId||void 0,Je.email=we.email||void 0,Je.phoneNumber=we.phoneNumber||void 0)}}(Q,V),V}).then(V=>{const we=V.user;return{operationType:V.operationType,credential:um(V),additionalUserInfo:Vp(V),user:Va.getOrCreate(we)}})}function yc(Q,F){return Al.apply(this,arguments)}function Al(){return(Al=(0,s.Z)(function*(Q,F){const V=yield F;return{verificationId:V.verificationId,confirm:se=>yi(Q,V.confirm(se))}})).apply(this,arguments)}class pb{constructor(F,V){this.resolver=V,this.auth=function oa(Q){return Q.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return yi(Ru(this.auth),this.resolver.resolveSignIn(F))}}class Va{constructor(F){this._delegate=F,this.multiFactor=function Dd(Q){const F=(0,Ne.m9)(Q);return Ia.has(F)||Ia.set(F,Yl._fromUser(F)),Ia.get(F)}(F)}static getOrCreate(F){return Va.USER_MAP.has(F)||Va.USER_MAP.set(F,new Va(F)),Va.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var V=this;return(0,s.Z)(function*(){return yi(V.auth,Jr(V._delegate,F))})()}linkWithPhoneNumber(F,V){var se=this;return(0,s.Z)(function*(){return yc(se.auth,function g0(Q,F,V){return yu.apply(this,arguments)}(se._delegate,F,V))})()}linkWithPopup(F){var V=this;return(0,s.Z)(function*(){return yi(V.auth,function _0(Q,F,V){return ps.apply(this,arguments)}(V._delegate,F,sa))})()}linkWithRedirect(F){var V=this;return(0,s.Z)(function*(){return yield ia(Cn(V.auth)),nt(V._delegate,F,sa)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var V=this;return(0,s.Z)(function*(){return yi(V.auth,Sa(V._delegate,F))})()}reauthenticateWithPhoneNumber(F,V){return yc(this.auth,function qp(Q,F,V){return Zp.apply(this,arguments)}(this._delegate,F,V))}reauthenticateWithPopup(F){return yi(this.auth,function Qh(Q,F,V){return Xh.apply(this,arguments)}(this._delegate,F,sa))}reauthenticateWithRedirect(F){var V=this;return(0,s.Z)(function*(){return yield ia(Cn(V.auth)),me(V._delegate,F,sa)})()}sendEmailVerification(F){return function Lh(Q,F){return Cd.apply(this,arguments)}(this._delegate,F)}unlink(F){var V=this;return(0,s.Z)(function*(){return yield function Yc(Q,F){return ll.apply(this,arguments)}(V._delegate,F),V})()}updateEmail(F){return function Bh(Q,F){return jh((0,Ne.m9)(Q),F,null)}(this._delegate,F)}updatePassword(F){return function Kl(Q,F){return jh((0,Ne.m9)(Q),null,F)}(this._delegate,F)}updatePhoneNumber(F){return function bu(Q,F){return Kp.apply(this,arguments)}(this._delegate,F)}updateProfile(F){return function Da(Q,F){return ro.apply(this,arguments)}(this._delegate,F)}verifyBeforeUpdateEmail(F,V){return function ou(Q,F,V){return pi.apply(this,arguments)}(this._delegate,F,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Va.USER_MAP=new WeakMap;const yf=ne;let x0=(()=>{class Q{constructor(V,se){if(this.app=V,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:we}=V.options;yf(we,"invalid-api-key",{appName:V.name}),yf(we,"invalid-api-key",{appName:V.name});const Ae=typeof window<"u"?sa:void 0;this._delegate=se.initialize({options:{persistence:mb(we,V.name),popupRedirectResolver:Ae}}),this._delegate._updateErrorMap(p),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Va.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,se){!function En(Q,F,V){const se=Cn(Q);ne(se._canInitEmulator,se,"emulator-config-failed"),ne(/^https?:\/\//.test(F),se,"invalid-emulator-scheme");const we=!!V?.disableWarnings,Ae=Kn(F),{host:Je,port:pt}=function or(Q){const F=Kn(Q),V=/(\/\/)?([^?#/]+)/.exec(Q.substr(F.length));if(!V)return{host:"",port:null};const se=V[2].split("@").pop()||"",we=/^(\[[^\]]+\])(:|$)/.exec(se);if(we){const Ae=we[1];return{host:Ae,port:Pr(se.substr(Ae.length+1))}}{const[Ae,Je]=se.split(":");return{host:Ae,port:Pr(Je)}}}(F);se.config.emulator={url:`${Ae}//${Je}${null===pt?"":`:${pt}`}/`},se.settings.appVerificationDisabledForTesting=!0,se.emulatorConfig=Object.freeze({host:Je,port:pt,protocol:Ae.replace(":",""),options:Object.freeze({disableWarnings:we})}),we||function cr(){function Q(){const F=document.createElement("p"),V=F.style;F.innerText="Running in emulator mode. Do not use with production credentials.",V.position="fixed",V.width="100%",V.backgroundColor="#ffffff",V.border=".1em solid #000000",V.color="#b50000",V.bottom="0px",V.left="0px",V.margin="0px",V.zIndex="10000",V.textAlign="center",F.classList.add("firebase-emulator-warning"),document.body.appendChild(F)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",Q):Q())}()}(this._delegate,V,se)}applyActionCode(V){return function eu(Q,F){return Ph.apply(this,arguments)}(this._delegate,V)}checkActionCode(V){return tu(this._delegate,V)}confirmPasswordReset(V,se){return function Zl(Q,F,V){return Vn.apply(this,arguments)}(this._delegate,V,se)}createUserWithEmailAndPassword(V,se){var we=this;return(0,s.Z)(function*(){return yi(we._delegate,function jp(Q,F,V){return vd.apply(this,arguments)}(we._delegate,V,se))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return function iu(Q,F){return su.apply(this,arguments)}(this._delegate,V)}isSignInWithEmailLink(V){return function Fh(Q,F){return"EMAIL_SIGNIN"===Zo.parseLink(F)?.operation}(0,V)}getRedirectResult(){var V=this;return(0,s.Z)(function*(){yf(mf(),V._delegate,"operation-not-supported-in-this-environment");const se=yield function Xt(Q,F){return An.apply(this,arguments)}(V._delegate,sa);return se?yi(V._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function om(Q,F){Cn(Q)._logFramework(F)}(this._delegate,V)}onAuthStateChanged(V,se,we){const{next:Ae,error:Je,complete:pt}=bf(V,se,we);return this._delegate.onAuthStateChanged(Ae,Je,pt)}onIdTokenChanged(V,se,we){const{next:Ae,error:Je,complete:pt}=bf(V,se,we);return this._delegate.onIdTokenChanged(Ae,Je,pt)}sendSignInLinkToEmail(V,se){return function mr(Q,F,V){return wd.apply(this,arguments)}(this._delegate,V,se)}sendPasswordResetEmail(V,se){return function vo(Q,F,V){return ql.apply(this,arguments)}(this._delegate,V,se||void 0)}setPersistence(V){var se=this;return(0,s.Z)(function*(){let we;switch(function _f(Q,F){Ua(Object.values(Ps).includes(F),Q,"invalid-persistence-type"),(0,Ne.b$)()?Ua(F!==Ps.SESSION,Q,"unsupported-persistence-type"):(0,Ne.UG)()?Ua(F===Ps.NONE,Q,"unsupported-persistence-type"):Ao()?Ua(F===Ps.NONE||F===Ps.LOCAL&&(0,Ne.hl)(),Q,"unsupported-persistence-type"):Ua(F===Ps.NONE||$d(),Q,"unsupported-persistence-type")}(se._delegate,V),V){case Ps.SESSION:we=Aa;break;case Ps.LOCAL:we=(yield fe(Na)._isAvailable())?Na:lu;break;case Ps.NONE:we=Qt;break;default:return S("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(we)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return yi(this._delegate,function Oh(Q){return Ko.apply(this,arguments)}(this._delegate))}signInWithCredential(V){return yi(this._delegate,Wr(this._delegate,V))}signInWithCustomToken(V){return yi(this._delegate,function xa(Q,F){return fi.apply(this,arguments)}(this._delegate,V))}signInWithEmailAndPassword(V,se){return yi(this._delegate,function Et(Q,F,V){return Wr((0,Ne.m9)(Q),Wo.credential(F,V))}(this._delegate,V,se))}signInWithEmailLink(V,se){return yi(this._delegate,function zi(Q,F,V){return Wl.apply(this,arguments)}(this._delegate,V,se))}signInWithPhoneNumber(V,se){return yc(this._delegate,function dr(Q,F,V){return Md.apply(this,arguments)}(this._delegate,V,se))}signInWithPopup(V){var se=this;return(0,s.Z)(function*(){return yf(mf(),se._delegate,"operation-not-supported-in-this-environment"),yi(se._delegate,function Tl(Q,F,V){return Tu.apply(this,arguments)}(se._delegate,V,sa))})()}signInWithRedirect(V){var se=this;return(0,s.Z)(function*(){return yf(mf(),se._delegate,"operation-not-supported-in-this-environment"),yield ia(se._delegate),Eu(se._delegate,V,sa)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return function bd(Q,F){return nu.apply(this,arguments)}(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Q.Persistence=Ps,Q})();function bf(Q,F,V){let se=Q;"function"!=typeof Q&&({next:se,error:F,complete:V}=Q);const we=se;return{next:Je=>we(Je&&Va.getOrCreate(Je)),error:F,complete:V}}function mb(Q,F){const V=function qd(Q,F){const V=Mu();if(!V)return[];const se=tr(zd,Q,F);switch(V.getItem(se)){case Ps.NONE:return[Qt];case Ps.LOCAL:return[Na,Aa];case Ps.SESSION:return[Aa];default:return[]}}(Q,F);if(typeof self<"u"&&!V.includes(Na)&&V.push(Na),typeof window<"u")for(const se of[lu,Aa])V.includes(se)||V.push(se);return V.includes(Qt)||V.push(Qt),V}class vf{constructor(){this.providerId="phone",this._delegate=new Rd(Ru(et.Z.auth()))}static credential(F,V){return Rd.credential(F,V)}verifyPhoneNumber(F,V){return this._delegate.verifyPhoneNumber(F,V)}unwrap(){return this._delegate}}vf.PHONE_SIGN_IN_METHOD=Rd.PHONE_SIGN_IN_METHOD,vf.PROVIDER_ID=Rd.PROVIDER_ID;const wf=ne;class dm{constructor(F,V,se=et.Z.app()){var we;wf(null===(we=se.options)||void 0===we?void 0:we.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new lc(F,V,se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function hm(Q){Q.INTERNAL.registerComponent(new B.wA("auth-compat",F=>{const V=F.getProvider("app-compat").getImmediate(),se=F.getProvider("auth");return new x0(V,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:u_EMAIL_SIGNIN,PASSWORD_RESET:u_PASSWORD_RESET,RECOVER_EMAIL:u_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:u_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:u_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:u_VERIFY_EMAIL}},EmailAuthProvider:Wo,FacebookAuthProvider:fd,GithubAuthProvider:Bp,GoogleAuthProvider:Lp,OAuthProvider:$l,SAMLAuthProvider:no,PhoneAuthProvider:vf,PhoneMultiFactorGenerator:oi,RecaptchaVerifier:dm,TwitterAuthProvider:d0,Auth:x0,AuthCredential:Ur,Error:Ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Q.registerVersion("@firebase/auth-compat","0.2.18")}(et.Z)},9751:(Vt,St,Re)=>{"use strict";Re.d(St,{y:()=>A});var s=Re(930),et=Re(727),Ne=Re(8822),rt=Re(9635),_=Re(2416),z=Re(576),B=Re(2806);let A=(()=>{class u{constructor(b){b&&(this._subscribe=b)}lift(b){const p=new u;return p.source=this,p.operator=b,p}subscribe(b,p,m){const C=function d(u){return u&&u instanceof s.Lv||function g(u){return u&&(0,z.m)(u.next)&&(0,z.m)(u.error)&&(0,z.m)(u.complete)}(u)&&(0,et.Nn)(u)}(b)?b:new s.Hp(b,p,m);return(0,B.x)(()=>{const{operator:E,source:v}=this;C.add(E?E.call(C,v):v?this._subscribe(C):this._trySubscribe(C))}),C}_trySubscribe(b){try{return this._subscribe(b)}catch(p){b.error(p)}}forEach(b,p){return new(p=y(p))((m,C)=>{const E=new s.Hp({next:v=>{try{b(v)}catch(D){C(D),E.unsubscribe()}},error:C,complete:m});this.subscribe(E)})}_subscribe(b){var p;return null===(p=this.source)||void 0===p?void 0:p.subscribe(b)}[Ne.L](){return this}pipe(...b){return(0,rt.U)(b)(this)}toPromise(b){return new(b=y(b))((p,m)=>{let C;this.subscribe(E=>C=E,E=>m(E),()=>p(C))})}}return u.create=f=>new u(f),u})();function y(u){var f;return null!==(f=u??_.v.Promise)&&void 0!==f?f:Promise}},7579:(Vt,St,Re)=>{"use strict";Re.d(St,{x:()=>B});var s=Re(9751),et=Re(727);const rt=(0,Re(3888).d)(y=>function(){y(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _=Re(8737),z=Re(2806);let B=(()=>{class y extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(d){const u=new A(this,this);return u.operator=d,u}_throwIfClosed(){if(this.closed)throw new rt}next(d){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const u of this.currentObservers)u.next(d)}})}error(d){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=d;const{observers:u}=this;for(;u.length;)u.shift().error(d)}})}complete(){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:d}=this;for(;d.length;)d.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var d;return(null===(d=this.observers)||void 0===d?void 0:d.length)>0}_trySubscribe(d){return this._throwIfClosed(),super._trySubscribe(d)}_subscribe(d){return this._throwIfClosed(),this._checkFinalizedStatuses(d),this._innerSubscribe(d)}_innerSubscribe(d){const{hasError:u,isStopped:f,observers:b}=this;return u||f?et.Lc:(this.currentObservers=null,b.push(d),new et.w0(()=>{this.currentObservers=null,(0,_.P)(b,d)}))}_checkFinalizedStatuses(d){const{hasError:u,thrownError:f,isStopped:b}=this;u?d.error(f):b&&d.complete()}asObservable(){const d=new s.y;return d.source=this,d}}return y.create=(g,d)=>new A(g,d),y})();class A extends B{constructor(g,d){super(),this.destination=g,this.source=d}next(g){var d,u;null===(u=null===(d=this.destination)||void 0===d?void 0:d.next)||void 0===u||u.call(d,g)}error(g){var d,u;null===(u=null===(d=this.destination)||void 0===d?void 0:d.error)||void 0===u||u.call(d,g)}complete(){var g,d;null===(d=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===d||d.call(g)}_subscribe(g){var d,u;return null!==(u=null===(d=this.source)||void 0===d?void 0:d.subscribe(g))&&void 0!==u?u:et.Lc}}},930:(Vt,St,Re)=>{"use strict";Re.d(St,{Hp:()=>m,Lv:()=>u});var s=Re(576),et=Re(727),Ne=Re(2416),rt=Re(7849),_=Re(5032);const z=y("C",void 0,void 0);function y(S,R,L){return{kind:S,value:R,error:L}}var g=Re(3410),d=Re(2806);class u extends et.w0{constructor(R){super(),this.isStopped=!1,R?(this.destination=R,(0,et.Nn)(R)&&R.add(this)):this.destination=D}static create(R,L,Z){return new m(R,L,Z)}next(R){this.isStopped?v(function A(S){return y("N",S,void 0)}(R),this):this._next(R)}error(R){this.isStopped?v(function B(S){return y("E",void 0,S)}(R),this):(this.isStopped=!0,this._error(R))}complete(){this.isStopped?v(z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(R){this.destination.next(R)}_error(R){try{this.destination.error(R)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const f=Function.prototype.bind;function b(S,R){return f.call(S,R)}class p{constructor(R){this.partialObserver=R}next(R){const{partialObserver:L}=this;if(L.next)try{L.next(R)}catch(Z){C(Z)}}error(R){const{partialObserver:L}=this;if(L.error)try{L.error(R)}catch(Z){C(Z)}else C(R)}complete(){const{partialObserver:R}=this;if(R.complete)try{R.complete()}catch(L){C(L)}}}class m extends u{constructor(R,L,Z){let ee;if(super(),(0,s.m)(R)||!R)ee={next:R??void 0,error:L??void 0,complete:Z??void 0};else{let ne;this&&Ne.v.useDeprecatedNextContext?(ne=Object.create(R),ne.unsubscribe=()=>this.unsubscribe(),ee={next:R.next&&b(R.next,ne),error:R.error&&b(R.error,ne),complete:R.complete&&b(R.complete,ne)}):ee=R}this.destination=new p(ee)}}function C(S){Ne.v.useDeprecatedSynchronousErrorHandling?(0,d.O)(S):(0,rt.h)(S)}function v(S,R){const{onStoppedNotification:L}=Ne.v;L&&g.z.setTimeout(()=>L(S,R))}const D={closed:!0,next:_.Z,error:function E(S){throw S},complete:_.Z}},727:(Vt,St,Re)=>{"use strict";Re.d(St,{Lc:()=>z,w0:()=>_,Nn:()=>B});var s=Re(576);const Ne=(0,Re(3888).d)(y=>function(d){y(this),this.message=d?`${d.length} errors occurred during unsubscription:\n${d.map((u,f)=>`${f+1}) ${u.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=d});var rt=Re(8737);class _{constructor(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let g;if(!this.closed){this.closed=!0;const{_parentage:d}=this;if(d)if(this._parentage=null,Array.isArray(d))for(const b of d)b.remove(this);else d.remove(this);const{initialTeardown:u}=this;if((0,s.m)(u))try{u()}catch(b){g=b instanceof Ne?b.errors:[b]}const{_finalizers:f}=this;if(f){this._finalizers=null;for(const b of f)try{A(b)}catch(p){g=g??[],p instanceof Ne?g=[...g,...p.errors]:g.push(p)}}if(g)throw new Ne(g)}}add(g){var d;if(g&&g!==this)if(this.closed)A(g);else{if(g instanceof _){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=null!==(d=this._finalizers)&&void 0!==d?d:[]).push(g)}}_hasParent(g){const{_parentage:d}=this;return d===g||Array.isArray(d)&&d.includes(g)}_addParent(g){const{_parentage:d}=this;this._parentage=Array.isArray(d)?(d.push(g),d):d?[d,g]:g}_removeParent(g){const{_parentage:d}=this;d===g?this._parentage=null:Array.isArray(d)&&(0,rt.P)(d,g)}remove(g){const{_finalizers:d}=this;d&&(0,rt.P)(d,g),g instanceof _&&g._removeParent(this)}}_.EMPTY=(()=>{const y=new _;return y.closed=!0,y})();const z=_.EMPTY;function B(y){return y instanceof _||y&&"closed"in y&&(0,s.m)(y.remove)&&(0,s.m)(y.add)&&(0,s.m)(y.unsubscribe)}function A(y){(0,s.m)(y)?y():y.unsubscribe()}},2416:(Vt,St,Re)=>{"use strict";Re.d(St,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Vt,St,Re)=>{"use strict";Re.d(St,{E:()=>et});const et=new(Re(9751).y)(_=>_.complete())},8996:(Vt,St,Re)=>{"use strict";Re.d(St,{D:()=>R});var s=Re(8421),et=Re(5363),Ne=Re(9468),z=Re(9751),A=Re(2202),y=Re(576),g=Re(9672);function u(L,Z){if(!L)throw new Error("Iterable cannot be null");return new z.y(ee=>{(0,g.f)(ee,Z,()=>{const ne=L[Symbol.asyncIterator]();(0,g.f)(ee,Z,()=>{ne.next().then(J=>{J.done?ee.complete():ee.next(J.value)})},0,!0)})})}var f=Re(3670),b=Re(8239),p=Re(1144),m=Re(6495),C=Re(2206),E=Re(4532),v=Re(3260);function R(L,Z){return Z?function S(L,Z){if(null!=L){if((0,f.c)(L))return function rt(L,Z){return(0,s.Xf)(L).pipe((0,Ne.R)(Z),(0,et.Q)(Z))}(L,Z);if((0,p.z)(L))return function B(L,Z){return new z.y(ee=>{let ne=0;return Z.schedule(function(){ne===L.length?ee.complete():(ee.next(L[ne++]),ee.closed||this.schedule())})})}(L,Z);if((0,b.t)(L))return function _(L,Z){return(0,s.Xf)(L).pipe((0,Ne.R)(Z),(0,et.Q)(Z))}(L,Z);if((0,C.D)(L))return u(L,Z);if((0,m.T)(L))return function d(L,Z){return new z.y(ee=>{let ne;return(0,g.f)(ee,Z,()=>{ne=L[A.h](),(0,g.f)(ee,Z,()=>{let J,re;try{({value:J,done:re}=ne.next())}catch(oe){return void ee.error(oe)}re?ee.complete():ee.next(J)},0,!0)}),()=>(0,y.m)(ne?.return)&&ne.return()})}(L,Z);if((0,v.L)(L))return function D(L,Z){return u((0,v.Q)(L),Z)}(L,Z)}throw(0,E.z)(L)}(L,Z):(0,s.Xf)(L)}},8421:(Vt,St,Re)=>{"use strict";Re.d(St,{Xf:()=>f});var s=Re(7582),et=Re(1144),Ne=Re(8239),rt=Re(9751),_=Re(3670),z=Re(2206),B=Re(4532),A=Re(6495),y=Re(3260),g=Re(576),d=Re(7849),u=Re(8822);function f(S){if(S instanceof rt.y)return S;if(null!=S){if((0,_.c)(S))return function b(S){return new rt.y(R=>{const L=S[u.L]();if((0,g.m)(L.subscribe))return L.subscribe(R);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(S);if((0,et.z)(S))return function p(S){return new rt.y(R=>{for(let L=0;L<S.length&&!R.closed;L++)R.next(S[L]);R.complete()})}(S);if((0,Ne.t)(S))return function m(S){return new rt.y(R=>{S.then(L=>{R.closed||(R.next(L),R.complete())},L=>R.error(L)).then(null,d.h)})}(S);if((0,z.D)(S))return E(S);if((0,A.T)(S))return function C(S){return new rt.y(R=>{for(const L of S)if(R.next(L),R.closed)return;R.complete()})}(S);if((0,y.L)(S))return function v(S){return E((0,y.Q)(S))}(S)}throw(0,B.z)(S)}function E(S){return new rt.y(R=>{(function D(S,R){var L,Z,ee,ne;return(0,s.mG)(this,void 0,void 0,function*(){try{for(L=(0,s.KL)(S);!(Z=yield L.next()).done;)if(R.next(Z.value),R.closed)return}catch(J){ee={error:J}}finally{try{Z&&!Z.done&&(ne=L.return)&&(yield ne.call(L))}finally{if(ee)throw ee.error}}R.complete()})})(S,R).catch(L=>R.error(L))})}},6451:(Vt,St,Re)=>{"use strict";Re.d(St,{T:()=>z});var s=Re(8189),et=Re(8421),Ne=Re(515),rt=Re(3269),_=Re(8996);function z(...B){const A=(0,rt.yG)(B),y=(0,rt._6)(B,1/0),g=B;return g.length?1===g.length?(0,et.Xf)(g[0]):(0,s.J)(y)((0,_.D)(g,A)):Ne.E}},5403:(Vt,St,Re)=>{"use strict";Re.d(St,{x:()=>et});var s=Re(930);function et(rt,_,z,B,A){return new Ne(rt,_,z,B,A)}class Ne extends s.Lv{constructor(_,z,B,A,y,g){super(_),this.onFinalize=y,this.shouldUnsubscribe=g,this._next=z?function(d){try{z(d)}catch(u){_.error(u)}}:super._next,this._error=A?function(d){try{A(d)}catch(u){_.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=B?function(){try{B()}catch(d){_.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:z}=this;super.unsubscribe(),!z&&(null===(_=this.onFinalize)||void 0===_||_.call(this))}}}},4004:(Vt,St,Re)=>{"use strict";Re.d(St,{U:()=>Ne});var s=Re(4482),et=Re(5403);function Ne(rt,_){return(0,s.e)((z,B)=>{let A=0;z.subscribe((0,et.x)(B,y=>{B.next(rt.call(_,y,A++))}))})}},8189:(Vt,St,Re)=>{"use strict";Re.d(St,{J:()=>Ne});var s=Re(5577),et=Re(4671);function Ne(rt=1/0){return(0,s.z)(et.y,rt)}},5577:(Vt,St,Re)=>{"use strict";Re.d(St,{z:()=>A});var s=Re(4004),et=Re(8421),Ne=Re(4482),rt=Re(9672),_=Re(5403),B=Re(576);function A(y,g,d=1/0){return(0,B.m)(g)?A((u,f)=>(0,s.U)((b,p)=>g(u,b,f,p))((0,et.Xf)(y(u,f))),d):("number"==typeof g&&(d=g),(0,Ne.e)((u,f)=>function z(y,g,d,u,f,b,p,m){const C=[];let E=0,v=0,D=!1;const S=()=>{D&&!C.length&&!E&&g.complete()},R=Z=>E<u?L(Z):C.push(Z),L=Z=>{b&&g.next(Z),E++;let ee=!1;(0,et.Xf)(d(Z,v++)).subscribe((0,_.x)(g,ne=>{f?.(ne),b?R(ne):g.next(ne)},()=>{ee=!0},void 0,()=>{if(ee)try{for(E--;C.length&&E<u;){const ne=C.shift();p?(0,rt.f)(g,p,()=>L(ne)):L(ne)}S()}catch(ne){g.error(ne)}}))};return y.subscribe((0,_.x)(g,R,()=>{D=!0,S()})),()=>{m?.()}}(u,f,y,d)))}},5363:(Vt,St,Re)=>{"use strict";Re.d(St,{Q:()=>rt});var s=Re(9672),et=Re(4482),Ne=Re(5403);function rt(_,z=0){return(0,et.e)((B,A)=>{B.subscribe((0,Ne.x)(A,y=>(0,s.f)(A,_,()=>A.next(y),z),()=>(0,s.f)(A,_,()=>A.complete(),z),y=>(0,s.f)(A,_,()=>A.error(y),z)))})}},3099:(Vt,St,Re)=>{"use strict";Re.d(St,{B:()=>_});var s=Re(8421),et=Re(7579),Ne=Re(930),rt=Re(4482);function _(B={}){const{connector:A=(()=>new et.x),resetOnError:y=!0,resetOnComplete:g=!0,resetOnRefCountZero:d=!0}=B;return u=>{let f,b,p,m=0,C=!1,E=!1;const v=()=>{b?.unsubscribe(),b=void 0},D=()=>{v(),f=p=void 0,C=E=!1},S=()=>{const R=f;D(),R?.unsubscribe()};return(0,rt.e)((R,L)=>{m++,!E&&!C&&v();const Z=p=p??A();L.add(()=>{m--,0===m&&!E&&!C&&(b=z(S,d))}),Z.subscribe(L),!f&&m>0&&(f=new Ne.Hp({next:ee=>Z.next(ee),error:ee=>{E=!0,v(),b=z(D,y,ee),Z.error(ee)},complete:()=>{C=!0,v(),b=z(D,g),Z.complete()}}),(0,s.Xf)(R).subscribe(f))})(u)}}function z(B,A,...y){if(!0===A)return void B();if(!1===A)return;const g=new Ne.Hp({next:()=>{g.unsubscribe(),B()}});return(0,s.Xf)(A(...y)).subscribe(g)}},9468:(Vt,St,Re)=>{"use strict";Re.d(St,{R:()=>et});var s=Re(4482);function et(Ne,rt=0){return(0,s.e)((_,z)=>{z.add(Ne.schedule(()=>_.subscribe(z),rt))})}},8505:(Vt,St,Re)=>{"use strict";Re.d(St,{b:()=>_});var s=Re(576),et=Re(4482),Ne=Re(5403),rt=Re(4671);function _(z,B,A){const y=(0,s.m)(z)||B||A?{next:z,error:B,complete:A}:z;return y?(0,et.e)((g,d)=>{var u;null===(u=y.subscribe)||void 0===u||u.call(y);let f=!0;g.subscribe((0,Ne.x)(d,b=>{var p;null===(p=y.next)||void 0===p||p.call(y,b),d.next(b)},()=>{var b;f=!1,null===(b=y.complete)||void 0===b||b.call(y),d.complete()},b=>{var p;f=!1,null===(p=y.error)||void 0===p||p.call(y,b),d.error(b)},()=>{var b,p;f&&(null===(b=y.unsubscribe)||void 0===b||b.call(y)),null===(p=y.finalize)||void 0===p||p.call(y)}))}):rt.y}},4408:(Vt,St,Re)=>{"use strict";Re.d(St,{o:()=>_});var s=Re(727);class et extends s.w0{constructor(B,A){super()}schedule(B,A=0){return this}}const Ne={setInterval(z,B,...A){const{delegate:y}=Ne;return y?.setInterval?y.setInterval(z,B,...A):setInterval(z,B,...A)},clearInterval(z){const{delegate:B}=Ne;return(B?.clearInterval||clearInterval)(z)},delegate:void 0};var rt=Re(8737);class _ extends et{constructor(B,A){super(B,A),this.scheduler=B,this.work=A,this.pending=!1}schedule(B,A=0){var y;if(this.closed)return this;this.state=B;const g=this.id,d=this.scheduler;return null!=g&&(this.id=this.recycleAsyncId(d,g,A)),this.pending=!0,this.delay=A,this.id=null!==(y=this.id)&&void 0!==y?y:this.requestAsyncId(d,this.id,A),this}requestAsyncId(B,A,y=0){return Ne.setInterval(B.flush.bind(B,this),y)}recycleAsyncId(B,A,y=0){if(null!=y&&this.delay===y&&!1===this.pending)return A;null!=A&&Ne.clearInterval(A)}execute(B,A){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const y=this._execute(B,A);if(y)return y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(B,A){let g,y=!1;try{this.work(B)}catch(d){y=!0,g=d||new Error("Scheduled action threw falsy error")}if(y)return this.unsubscribe(),g}unsubscribe(){if(!this.closed){const{id:B,scheduler:A}=this,{actions:y}=A;this.work=this.state=this.scheduler=null,this.pending=!1,(0,rt.P)(y,this),null!=B&&(this.id=this.recycleAsyncId(A,B,null)),this.delay=null,super.unsubscribe()}}}},7565:(Vt,St,Re)=>{"use strict";Re.d(St,{v:()=>Ne});var s=Re(6063);class et{constructor(_,z=et.now){this.schedulerActionCtor=_,this.now=z}schedule(_,z=0,B){return new this.schedulerActionCtor(this,_).schedule(B,z)}}et.now=s.l.now;class Ne extends et{constructor(_,z=et.now){super(_,z),this.actions=[],this._active=!1}flush(_){const{actions:z}=this;if(this._active)return void z.push(_);let B;this._active=!0;do{if(B=_.execute(_.state,_.delay))break}while(_=z.shift());if(this._active=!1,B){for(;_=z.shift();)_.unsubscribe();throw B}}}},4986:(Vt,St,Re)=>{"use strict";Re.d(St,{P:()=>rt,z:()=>Ne});var s=Re(4408);const Ne=new(Re(7565).v)(s.o),rt=Ne},6063:(Vt,St,Re)=>{"use strict";Re.d(St,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Vt,St,Re)=>{"use strict";Re.d(St,{z:()=>s});const s={setTimeout(et,Ne,...rt){const{delegate:_}=s;return _?.setTimeout?_.setTimeout(et,Ne,...rt):setTimeout(et,Ne,...rt)},clearTimeout(et){const{delegate:Ne}=s;return(Ne?.clearTimeout||clearTimeout)(et)},delegate:void 0}},2202:(Vt,St,Re)=>{"use strict";Re.d(St,{h:()=>et});const et=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Vt,St,Re)=>{"use strict";Re.d(St,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Vt,St,Re)=>{"use strict";Re.d(St,{_6:()=>z,jO:()=>rt,yG:()=>_});var s=Re(576),et=Re(3532);function Ne(B){return B[B.length-1]}function rt(B){return(0,s.m)(Ne(B))?B.pop():void 0}function _(B){return(0,et.K)(Ne(B))?B.pop():void 0}function z(B,A){return"number"==typeof Ne(B)?B.pop():A}},8737:(Vt,St,Re)=>{"use strict";function s(et,Ne){if(et){const rt=et.indexOf(Ne);0<=rt&&et.splice(rt,1)}}Re.d(St,{P:()=>s})},3888:(Vt,St,Re)=>{"use strict";function s(et){const rt=et(_=>{Error.call(_),_.stack=(new Error).stack});return rt.prototype=Object.create(Error.prototype),rt.prototype.constructor=rt,rt}Re.d(St,{d:()=>s})},2806:(Vt,St,Re)=>{"use strict";Re.d(St,{O:()=>rt,x:()=>Ne});var s=Re(2416);let et=null;function Ne(_){if(s.v.useDeprecatedSynchronousErrorHandling){const z=!et;if(z&&(et={errorThrown:!1,error:null}),_(),z){const{errorThrown:B,error:A}=et;if(et=null,B)throw A}}else _()}function rt(_){s.v.useDeprecatedSynchronousErrorHandling&&et&&(et.errorThrown=!0,et.error=_)}},9672:(Vt,St,Re)=>{"use strict";function s(et,Ne,rt,_=0,z=!1){const B=Ne.schedule(function(){rt(),z?et.add(this.schedule(null,_)):this.unsubscribe()},_);if(et.add(B),!z)return B}Re.d(St,{f:()=>s})},4671:(Vt,St,Re)=>{"use strict";function s(et){return et}Re.d(St,{y:()=>s})},1144:(Vt,St,Re)=>{"use strict";Re.d(St,{z:()=>s});const s=et=>et&&"number"==typeof et.length&&"function"!=typeof et},2206:(Vt,St,Re)=>{"use strict";Re.d(St,{D:()=>et});var s=Re(576);function et(Ne){return Symbol.asyncIterator&&(0,s.m)(Ne?.[Symbol.asyncIterator])}},576:(Vt,St,Re)=>{"use strict";function s(et){return"function"==typeof et}Re.d(St,{m:()=>s})},3670:(Vt,St,Re)=>{"use strict";Re.d(St,{c:()=>Ne});var s=Re(8822),et=Re(576);function Ne(rt){return(0,et.m)(rt[s.L])}},6495:(Vt,St,Re)=>{"use strict";Re.d(St,{T:()=>Ne});var s=Re(2202),et=Re(576);function Ne(rt){return(0,et.m)(rt?.[s.h])}},8239:(Vt,St,Re)=>{"use strict";Re.d(St,{t:()=>et});var s=Re(576);function et(Ne){return(0,s.m)(Ne?.then)}},3260:(Vt,St,Re)=>{"use strict";Re.d(St,{L:()=>rt,Q:()=>Ne});var s=Re(7582),et=Re(576);function Ne(_){return(0,s.FC)(this,arguments,function*(){const B=_.getReader();try{for(;;){const{value:A,done:y}=yield(0,s.qq)(B.read());if(y)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(A)}}finally{B.releaseLock()}})}function rt(_){return(0,et.m)(_?.getReader)}},3532:(Vt,St,Re)=>{"use strict";Re.d(St,{K:()=>et});var s=Re(576);function et(Ne){return Ne&&(0,s.m)(Ne.schedule)}},4482:(Vt,St,Re)=>{"use strict";Re.d(St,{A:()=>et,e:()=>Ne});var s=Re(576);function et(rt){return(0,s.m)(rt?.lift)}function Ne(rt){return _=>{if(et(_))return _.lift(function(z){try{return rt(z,this)}catch(B){this.error(B)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Vt,St,Re)=>{"use strict";function s(){}Re.d(St,{Z:()=>s})},9635:(Vt,St,Re)=>{"use strict";Re.d(St,{U:()=>Ne,z:()=>et});var s=Re(4671);function et(...rt){return Ne(rt)}function Ne(rt){return 0===rt.length?s.y:1===rt.length?rt[0]:function(z){return rt.reduce((B,A)=>A(B),z)}}},7849:(Vt,St,Re)=>{"use strict";Re.d(St,{h:()=>Ne});var s=Re(2416),et=Re(3410);function Ne(rt){et.z.setTimeout(()=>{const{onUnhandledError:_}=s.v;if(!_)throw rt;_(rt)})}},4532:(Vt,St,Re)=>{"use strict";function s(et){return new TypeError(`You provided ${null!==et&&"object"==typeof et?"an invalid object":`'${et}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Re.d(St,{z:()=>s})},4642:(Vt,St,Re)=>{var s=Re(3801);function et(Ne){var rt,_;function z(A,y){try{var g=Ne[A](y),d=g.value,u=d instanceof s;Promise.resolve(u?d.v:d).then(function(f){if(u){var b="return"===A?"return":"next";if(!d.k||f.done)return z(b,f);f=Ne[b](f).value}B(g.done?"return":"normal",f)},function(f){z("throw",f)})}catch(f){B("throw",f)}}function B(A,y){switch(A){case"return":rt.resolve({value:y,done:!0});break;case"throw":rt.reject(y);break;default:rt.resolve({value:y,done:!1})}(rt=rt.next)?z(rt.key,rt.arg):_=null}this._invoke=function(A,y){return new Promise(function(g,d){var u={key:A,arg:y,resolve:g,reject:d,next:null};_?_=_.next=u:(rt=_=u,z(A,y))})},"function"!=typeof Ne.return&&(this.return=void 0)}et.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},et.prototype.next=function(Ne){return this._invoke("next",Ne)},et.prototype.throw=function(Ne){return this._invoke("throw",Ne)},et.prototype.return=function(Ne){return this._invoke("return",Ne)},Vt.exports=et,Vt.exports.__esModule=!0,Vt.exports.default=Vt.exports},3801:Vt=>{Vt.exports=function St(Re,s){this.v=Re,this.k=s},Vt.exports.__esModule=!0,Vt.exports.default=Vt.exports},8237:Vt=>{function Re(s){function et(Ne){if(Object(Ne)!==Ne)return Promise.reject(new TypeError(Ne+" is not an object."));var rt=Ne.done;return Promise.resolve(Ne.value).then(function(_){return{value:_,done:rt}})}return(Re=function(rt){this.s=rt,this.n=rt.next}).prototype={s:null,n:null,next:function(){return et(this.n.apply(this.s,arguments))},return:function(rt){var _=this.s.return;return void 0===_?Promise.resolve({value:rt,done:!0}):et(_.apply(this.s,arguments))},throw:function(rt){var _=this.s.return;return void 0===_?Promise.reject(rt):et(_.apply(this.s,arguments))}},new Re(s)}Vt.exports=function St(s){var et,Ne,rt,_=2;for(typeof Symbol<"u"&&(Ne=Symbol.asyncIterator,rt=Symbol.iterator);_--;){if(Ne&&null!=(et=s[Ne]))return et.call(s);if(rt&&null!=(et=s[rt]))return new Re(et.call(s));Ne="@@asyncIterator",rt="@@iterator"}throw new TypeError("Object is not async iterable")},Vt.exports.__esModule=!0,Vt.exports.default=Vt.exports},7156:Vt=>{function St(s,et,Ne,rt,_,z,B){try{var A=s[z](B),y=A.value}catch(g){return void Ne(g)}A.done?et(y):Promise.resolve(y).then(rt,_)}Vt.exports=function Re(s){return function(){var et=this,Ne=arguments;return new Promise(function(rt,_){var z=s.apply(et,Ne);function B(y){St(z,rt,_,B,A,"next",y)}function A(y){St(z,rt,_,B,A,"throw",y)}B(void 0)})}},Vt.exports.__esModule=!0,Vt.exports.default=Vt.exports},6737:(Vt,St,Re)=>{var s=Re(3801);Vt.exports=function et(Ne){return new s(Ne,0)},Vt.exports.__esModule=!0,Vt.exports.default=Vt.exports},8186:(Vt,St,Re)=>{var s=Re(4642);Vt.exports=function et(Ne){return function(){return new s(Ne.apply(this,arguments))}},Vt.exports.__esModule=!0,Vt.exports.default=Vt.exports},4650:(Vt,St,Re)=>{"use strict";Re.d(St,{$8M:()=>gu,$WT:()=>Pr,$Z:()=>sC,AFp:()=>c1,ALo:()=>Yv,AaK:()=>A,AsE:()=>__,BQk:()=>s_,CHM:()=>wd,CRH:()=>t1,CZH:()=>G_,CqO:()=>Uu,D6c:()=>_h,EJc:()=>Z_,EiD:()=>MD,EpF:()=>BC,F$t:()=>l_,F4k:()=>jC,FYo:()=>kb,FiY:()=>Su,Gf:()=>j_,GfV:()=>B2,Gpc:()=>d,Hsn:()=>zC,Ikx:()=>y_,JOm:()=>Mn,JVY:()=>On,JZr:()=>m,KtG:()=>Fh,L6k:()=>Nn,LAX:()=>ms,LFG:()=>Be,LMc:()=>C1,Lbi:()=>wE,Lck:()=>HA,MAs:()=>OC,MGl:()=>Gf,MMx:()=>$v,MR2:()=>FD,NdJ:()=>Fm,OlP:()=>dr,Oqu:()=>m_,P3R:()=>A2,PXZ:()=>Lk,Q6J:()=>Hf,QGY:()=>nv,QbO:()=>Ck,Qsj:()=>zD,QtT:()=>jA,R0b:()=>as,RDi:()=>mb,Rgc:()=>F_,SBq:()=>kf,SDv:()=>BA,Sil:()=>CE,Suo:()=>Qm,TTD:()=>Yc,TgZ:()=>Om,Tol:()=>dv,Udp:()=>cv,VKq:()=>qv,W1O:()=>oE,WLB:()=>qu,X6Q:()=>zk,XFs:()=>Ve,Xpm:()=>Qn,Xts:()=>vb,Y36:()=>Pf,YKP:()=>Vv,YNc:()=>RC,Yjl:()=>Wn,Yz7:()=>he,Z0I:()=>q,ZZ4:()=>np,_Bn:()=>Uv,_UZ:()=>Pm,_Vd:()=>Af,_c5:()=>sg,_uU:()=>Um,aQg:()=>ls,c2e:()=>Tk,cJS:()=>K,cg1:()=>w_,d8E:()=>b_,dDg:()=>B4,dqk:()=>tt,eBb:()=>Ni,eFA:()=>kE,eJc:()=>lE,ekj:()=>uv,eoX:()=>Mk,f3M:()=>Ue,g9A:()=>vE,h0i:()=>Kf,hGG:()=>zE,hij:()=>g_,iGM:()=>B_,ifc:()=>an,ip1:()=>Ds,jDz:()=>LT,kEZ:()=>zT,kL8:()=>vT,lG2:()=>Cn,lcZ:()=>QA,lqb:()=>Kd,lri:()=>kk,mCW:()=>bc,n5z:()=>Wh,oAB:()=>yn,oJD:()=>x2,oxw:()=>$C,pB0:()=>Zd,pQV:()=>OT,q3G:()=>ai,q4F:()=>j2,qLn:()=>vm,qOj:()=>X0,qZA:()=>r_,qzn:()=>Bt,rWj:()=>Nk,s9C:()=>zf,sBO:()=>Gk,s_b:()=>da,soG:()=>q_,tb:()=>Ok,tp0:()=>me,uIk:()=>th,vHH:()=>C,vpe:()=>Nc,wAp:()=>Pn,xp6:()=>Y2,ynx:()=>i_,z2F:()=>hr,z3N:()=>pt,zSh:()=>Fu,zs3:()=>Mf});var s=Re(7579),et=Re(727),Ne=Re(9751),rt=Re(6451),_=Re(3099);function z(a){for(let l in a)if(a[l]===z)return l;throw Error("Could not find renamed property on target object.")}function B(a,l){for(const h in l)l.hasOwnProperty(h)&&!a.hasOwnProperty(h)&&(a[h]=l[h])}function A(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(A).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const h=l.indexOf("\n");return-1===h?l:l.substring(0,h)}function y(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const g=z({__forward_ref__:z});function d(a){return a.__forward_ref__=d,a.toString=function(){return A(this())},a}function u(a){return f(a)?a():a}function f(a){return"function"==typeof a&&a.hasOwnProperty(g)&&a.__forward_ref__===d}function b(a){return a&&!!a.\u0275providers}const m="https://g.co/ng/security#xss";class C extends Error{constructor(l,h){super(E(l,h)),this.code=l}}function E(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}function v(a){return"string"==typeof a?a:null==a?"":String(a)}function Z(a,l){throw new C(-201,!1)}function P(a,l,h,x){throw new Error(`ASSERTION ERROR: ${a}`+(null==x?"":` [Expected=> ${h} ${x} ${l} <=Actual]`))}function he(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function K(a){return{providers:a.providers||[],imports:a.imports||[]}}function _e(a){return G(a,Me)||G(a,ke)}function q(a){return null!==_e(a)}function G(a,l){return a.hasOwnProperty(l)?a[l]:null}function Te(a){return a&&(a.hasOwnProperty(Ee)||a.hasOwnProperty(We))?a[Ee]:null}const Me=z({\u0275prov:z}),Ee=z({\u0275inj:z}),ke=z({ngInjectableDef:z}),We=z({ngInjectorDef:z});var Ve=(()=>((Ve=Ve||{})[Ve.Default=0]="Default",Ve[Ve.Host=1]="Host",Ve[Ve.Self=2]="Self",Ve[Ve.SkipSelf=4]="SkipSelf",Ve[Ve.Optional=8]="Optional",Ve))();let Se;function ze(a){const l=Se;return Se=a,l}function Ye(a,l,h){const x=_e(a);return x&&"root"==x.providedIn?void 0===x.value?x.value=x.factory():x.value:h&Ve.Optional?null:void 0!==l?l:void Z(A(a))}const tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),kt={},Wt="__NG_DI_FLAG__",Nt="ngTempTokenPath",qt="ngTokenPath",Dn=/\n/gm,gn="\u0275",Mt="__source";let sn;function Dt(a){const l=sn;return sn=a,l}function Fe(a,l=Ve.Default){if(void 0===sn)throw new C(-203,!1);return null===sn?Ye(a,void 0,l):sn.get(a,l&Ve.Optional?null:void 0,l)}function Be(a,l=Ve.Default){return(function qe(){return Se}()||Fe)(u(a),l)}function Ue(a,l=Ve.Default){return Be(a,Ze(l))}function Ze(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function ot(a){const l=[];for(let h=0;h<a.length;h++){const x=u(a[h]);if(Array.isArray(x)){if(0===x.length)throw new C(900,!1);let O,j=Ve.Default;for(let X=0;X<x.length;X++){const le=x[X],pe=Jt(le);"number"==typeof pe?-1===pe?O=le.token:j|=pe:O=le}l.push(Be(O,j))}else l.push(Be(x))}return l}function yt(a,l){return a[Wt]=l,a.prototype[Wt]=l,a}function Jt(a){return a[Wt]}function tr(a){return{toString:a}.toString()}var Ut=(()=>((Ut=Ut||{})[Ut.OnPush=0]="OnPush",Ut[Ut.Default=1]="Default",Ut))(),an=(()=>{return(a=an||(an={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",an;var a})();const lr={},Zt=[],vn=z({\u0275cmp:z}),Bi=z({\u0275dir:z}),In=z({\u0275pipe:z}),Ge=z({\u0275mod:z}),ct=z({\u0275fac:z}),gt=z({__NG_ELEMENT_ID__:z});let Rt=0;function Qn(a){return tr(()=>{const l=Ur(a),h={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===Ut.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||an.Emulated,id:"c"+Rt++,styles:a.styles||Zt,_:null,schemas:a.schemas||null,tView:null};Le(h);const x=a.dependencies;return h.directiveDefs=at(x,!1),h.pipeDefs=at(x,!0),h})}function cn(a){return En(a)||Kn(a)}function fr(a){return null!==a}function yn(a){return tr(()=>({type:a.type,bootstrap:a.bootstrap||Zt,declarations:a.declarations||Zt,imports:a.imports||Zt,exports:a.exports||Zt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function pr(a,l){if(null==a)return lr;const h={};for(const x in a)if(a.hasOwnProperty(x)){let O=a[x],j=O;Array.isArray(O)&&(j=O[1],O=O[0]),h[O]=x,l&&(l[O]=j)}return h}function Cn(a){return tr(()=>{const l=Ur(a);return Le(l),l})}function Wn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function En(a){return a[vn]||null}function Kn(a){return a[Bi]||null}function or(a){return a[In]||null}function Pr(a){const l=En(a)||Kn(a)||or(a);return null!==l&&l.standalone}function cr(a,l){const h=a[Ge]||null;if(!h&&!0===l)throw new Error(`Type ${A(a)} does not have '\u0275mod' property.`);return h}function Ur(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||Zt,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pr(a.inputs,l),outputs:pr(a.outputs)}}function Le(a){a.features?.forEach(l=>l(a))}function at(a,l){if(!a)return null;const h=l?or:cn;return()=>("function"==typeof a?a():a).map(x=>h(x)).filter(fr)}const Tt=0,Qe=1,wt=2,zt=3,Yt=4,jn=5,mn=6,hn=7,pn=8,Tr=9,er=10,tn=11,yr=12,Nr=13,ji=14,Fr=15,Dr=16,ds=17,Rs=18,ri=19,Yn=20,Gn=21,Cr=22,Di=1,Ui=2,Vi=7,Hi=8,$r=9,Yr=10;function zr(a){return Array.isArray(a)&&"object"==typeof a[Di]}function Qi(a){return Array.isArray(a)&&!0===a[Di]}function to(a){return 0!=(4&a.flags)}function Xi(a){return a.componentOffset>-1}function qo(a){return 1==(1&a.flags)}function hi(a){return!!a.template}function Zo(a){return 0!=(256&a[wt])}function Ca(a,l){return a.hasOwnProperty(ct)?a[ct]:null}class Ta{constructor(l,h,x){this.previousValue=l,this.currentValue=h,this.firstChange=x}isFirstChange(){return this.firstChange}}function Yc(){return ll}function ll(a){return a.type.prototype.ngOnChanges&&(a.setInput=cl),Jc}function Jc(){const a=zl(this),l=a?.current;if(l){const h=a.previous;if(h===lr)a.previous=l;else for(let x in l)h[x]=l[x];a.current=null,this.ngOnChanges(l)}}function cl(a,l,h,x){const O=this.declaredInputs[h],j=zl(a)||function gd(a,l){return a[Ea]=l}(a,{previous:lr,current:null}),X=j.current||(j.current={}),le=j.previous,pe=le[O];X[O]=new Ta(pe&&pe.currentValue,l,le===lr),a[x]=l}Yc.ngInherit=!0;const Ea="__ngSimpleChanges__";function zl(a){return a[Ea]||null}const vs=function(a,l,h){};function Jr(a){for(;Array.isArray(a);)a=a[Tt];return a}function Sa(a,l){return Jr(l[a])}function ii(a,l){return Jr(l[a.index])}function fl(a,l){return a.data[l]}function xa(a,l){return a[l]}function fi(a,l){const h=l[a];return zr(h)?h:h[Tt]}function pl(a){return 64==(64&a[wt])}function vo(a,l){return null==l?null:a[l]}function ql(a){a[Rs]=0}function Zl(a,l){a[jn]+=l;let h=a,x=a[zt];for(;null!==x&&(1===l&&1===h[jn]||-1===l&&0===h[jn]);)x[jn]+=l,h=x,x=x[zt]}const Vn={lFrame:nb(null),bindingsEnabled:!0};function nu(){return Vn.bindingsEnabled}function Et(){return Vn.lFrame.lView}function mr(){return Vn.lFrame.tView}function wd(a){return Vn.lFrame.contextLView=a,a[pn]}function Fh(a){return Vn.lFrame.contextLView=null,a}function zi(){let a=Wl();for(;null!==a&&64===a.type;)a=a.parent;return a}function Wl(){return Vn.lFrame.currentTNode}function ru(){const a=Vn.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function ws(a,l){const h=Vn.lFrame;h.currentTNode=a,h.isParent=l}function iu(){return Vn.lFrame.isParent}function su(){Vn.lFrame.isParent=!1}function pi(){const a=Vn.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Cs(){return Vn.lFrame.bindingIndex}function Da(){return Vn.lFrame.bindingIndex++}function ro(a){const l=Vn.lFrame,h=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,h}function Kl(a){Vn.lFrame.inI18n=a}function jh(a,l){const h=Vn.lFrame;h.bindingIndex=h.bindingRootIndex=a,Ed(l)}function Ed(a){Vn.lFrame.currentDirectiveIndex=a}function wo(a){const l=Vn.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Uh(){return Vn.lFrame.currentQueryIndex}function Sd(a){Vn.lFrame.currentQueryIndex=a}function Vh(a){const l=a[Qe];return 2===l.type?l.declTNode:1===l.type?a[mn]:null}function Up(a,l,h){if(h&Ve.SkipSelf){let O=l,j=a;for(;!(O=O.parent,null!==O||h&Ve.Host||(O=Vh(j),null===O||(j=j[Fr],10&O.type))););if(null===O)return!1;l=O,a=j}const x=Vn.lFrame=Vp();return x.currentTNode=l,x.lView=a,!0}function au(a){const l=Vp(),h=a[Qe];Vn.lFrame=l,l.currentTNode=h.firstChild,l.lView=a,l.tView=h,l.contextLView=a,l.bindingIndex=h.bindingStartIndex,l.inI18n=!1}function Vp(){const a=Vn.lFrame,l=null===a?null:a.child;return null===l?nb(a):l}function nb(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function rb(){const a=Vn.lFrame;return Vn.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Hh=rb;function h0(){const a=rb();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function fs(){return Vn.lFrame.selectedIndex}function ml(a){Vn.lFrame.selectedIndex=a}function Lr(){const a=Vn.lFrame;return fl(a.tView,a.selectedIndex)}function Yl(a,l){for(let h=l.directiveStart,x=l.directiveEnd;h<x;h++){const j=a.data[h].type.prototype,{ngAfterContentInit:X,ngAfterContentChecked:le,ngAfterViewInit:pe,ngAfterViewChecked:ve,ngOnDestroy:De}=j;X&&(a.contentHooks??(a.contentHooks=[])).push(-h,X),le&&((a.contentHooks??(a.contentHooks=[])).push(h,le),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(h,le)),pe&&(a.viewHooks??(a.viewHooks=[])).push(-h,pe),ve&&((a.viewHooks??(a.viewHooks=[])).push(h,ve),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(h,ve)),null!=De&&(a.destroyHooks??(a.destroyHooks=[])).push(h,De)}}function Ia(a,l,h){Jl(a,l,3,h)}function Dd(a,l,h,x){(3&a[wt])===h&&Jl(a,l,h,x)}function Jo(a,l){let h=a[wt];(3&h)===l&&(h&=2047,h+=1,a[wt]=h)}function Jl(a,l,h,x){const j=x??-1,X=l.length-1;let le=0;for(let pe=void 0!==x?65535&a[Rs]:0;pe<X;pe++)if("number"==typeof l[pe+1]){if(le=l[pe],null!=x&&le>=x)break}else l[pe]<0&&(a[Rs]+=65536),(le<j||-1==j)&&(Ql(a,h,l,pe),a[Rs]=(4294901760&a[Rs])+pe+2),pe++}function Ql(a,l,h,x){const O=h[x]<0,j=h[x+1],le=a[O?-h[x]:h[x]];if(O){if(a[wt]>>11<a[Rs]>>16&&(3&a[wt])===l){a[wt]+=2048,vs(4,le,j);try{j.call(le)}finally{vs(5,le,j)}}}else{vs(4,le,j);try{j.call(le)}finally{vs(5,le,j)}}}const _l=-1;class Qo{constructor(l,h,x){this.factory=l,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=x}}function Gr(a,l,h){let x=0;for(;x<h.length;){const O=h[x];if("number"==typeof O){if(0!==O)break;x++;const j=h[x++],X=h[x++],le=h[x++];a.setAttribute(l,X,le,j)}else{const j=O,X=h[++x];Co(j)?a.setProperty(l,j,X):a.setAttribute(l,j,X),x++}}return x}function ec(a){return 3===a||4===a||6===a}function Co(a){return 64===a.charCodeAt(0)}function To(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let h=-1;for(let x=0;x<l.length;x++){const O=l[x];"number"==typeof O?h=O:0===h||yl(a,h,O,null,-1===h||2===h?l[++x]:null)}}return a}function yl(a,l,h,x,O){let j=0,X=a.length;if(-1===l)X=-1;else for(;j<a.length;){const le=a[j++];if("number"==typeof le){if(le===l){X=-1;break}if(le>l){X=j-1;break}}}for(;j<a.length;){const le=a[j];if("number"==typeof le)break;if(le===h){if(null===x)return void(null!==O&&(a[j+1]=O));if(x===a[j+1])return void(a[j+2]=O)}j++,null!==x&&j++,null!==O&&j++}-1!==X&&(a.splice(X,0,l),j=X+1),a.splice(j++,0,h),null!==x&&a.splice(j++,0,x),null!==O&&a.splice(j++,0,O)}function Id(a){return a!==_l}function tc(a){return 32767&a}function uu(a,l){let h=function cu(a){return a>>16}(a),x=l;for(;h>0;)x=x[Fr],h--;return x}let Xo=!0;function bl(a){const l=Xo;return Xo=a,l}const nc=255,rc=5;let du=0;const qi={};function wl(a,l){const h=sc(a,l);if(-1!==h)return h;const x=l[Qe];x.firstCreatePass&&(a.injectorIndex=l.length,ea(x.data,a),ea(l,null),ea(x.blueprint,null));const O=hu(a,l),j=a.injectorIndex;if(Id(O)){const X=tc(O),le=uu(O,l),pe=le[Qe].data;for(let ve=0;ve<8;ve++)l[j+ve]=le[X+ve]|pe[X+ve]}return l[j+8]=O,j}function ea(a,l){a.push(0,0,0,0,0,0,0,0,l)}function sc(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function hu(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let h=0,x=null,O=l;for(;null!==O;){if(x=kd(O),null===x)return _l;if(h++,O=O[Fr],-1!==x.injectorIndex)return x.injectorIndex|h<<16}return _l}function oc(a,l,h){!function ic(a,l,h){let x;"string"==typeof h?x=h.charCodeAt(0)||0:h.hasOwnProperty(gt)&&(x=h[gt]),null==x&&(x=h[gt]=du++);const O=x&nc;l.data[a+(O>>rc)]|=1<<O}(a,l,h)}function Na(a,l,h){if(h&Ve.Optional||void 0!==a)return a;Z()}function ac(a,l,h,x){if(h&Ve.Optional&&void 0===x&&(x=null),!(h&(Ve.Self|Ve.Host))){const O=a[Tr],j=ze(void 0);try{return O?O.get(l,x,h&Ve.Optional):Ye(l,x,h&Ve.Optional)}finally{ze(j)}}return Na(x,0,h)}function qh(a,l,h,x=Ve.Default,O){if(null!==a){if(1024&l[wt]){const X=function Kh(a,l,h,x,O){let j=a,X=l;for(;null!==j&&null!==X&&1024&X[wt]&&!(256&X[wt]);){const le=io(j,X,h,x|Ve.Self,qi);if(le!==qi)return le;let pe=j.parent;if(!pe){const ve=X[Gn];if(ve){const De=ve.get(h,qi,x);if(De!==qi)return De}pe=kd(X),X=X[Fr]}j=pe}return O}(a,l,h,x,qi);if(X!==qi)return X}const j=io(a,l,h,x,qi);if(j!==qi)return j}return ac(l,h,x,O)}function io(a,l,h,x,O){const j=function Zh(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(gt)?a[gt]:void 0;return"number"==typeof l?l>=0?l&nc:m0:l}(h);if("function"==typeof j){if(!Up(l,a,x))return x&Ve.Host?Na(O,0,x):ac(l,h,x,O);try{const X=j(x);if(null!=X||x&Ve.Optional)return X;Z()}finally{Hh()}}else if("number"==typeof j){let X=null,le=sc(a,l),pe=_l,ve=x&Ve.Host?l[Dr][mn]:null;for((-1===le||x&Ve.SkipSelf)&&(pe=-1===le?hu(a,l):l[le+8],pe!==_l&&Eo(x,!1)?(X=l[Qe],le=tc(pe),l=uu(pe,l)):le=-1);-1!==le;){const De=l[Qe];if(pu(j,le,De.data)){const je=fu(le,l,h,X,x,ve);if(je!==qi)return je}pe=l[le+8],pe!==_l&&Eo(x,l[Qe].data[le+8]===ve)&&pu(j,le,l)?(X=De,le=tc(pe),l=uu(pe,l)):le=-1}}return O}function fu(a,l,h,x,O,j){const X=l[Qe],le=X.data[a+8],De=Ma(le,X,h,null==x?Xi(le)&&Xo:x!=X&&0!=(3&le.type),O&Ve.Host&&j===le);return null!==De?so(l,X,De,le):qi}function Ma(a,l,h,x,O){const j=a.providerIndexes,X=l.data,le=1048575&j,pe=a.directiveStart,De=j>>20,Xe=O?le+De:a.directiveEnd;for(let dt=x?le:le+De;dt<Xe;dt++){const It=X[dt];if(dt<pe&&h===It||dt>=pe&&It.type===h)return dt}if(O){const dt=X[pe];if(dt&&hi(dt)&&dt.type===h)return pe}return null}function so(a,l,h,x){let O=a[h];const j=l.data;if(function Os(a){return a instanceof Qo}(O)){const X=O;X.resolving&&function S(a,l){const h=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new C(-200,`Circular dependency in DI detected for ${a}${h}`)}(function D(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():v(a)}(j[h]));const le=bl(X.canSeeViewProviders);X.resolving=!0;const pe=X.injectImpl?ze(X.injectImpl):null;Up(a,x,Ve.Default);try{O=a[h]=X.factory(void 0,j,a,x),l.firstCreatePass&&h>=x.directiveStart&&function p0(a,l,h){const{ngOnChanges:x,ngOnInit:O,ngDoCheck:j}=l.type.prototype;if(x){const X=ll(l);(h.preOrderHooks??(h.preOrderHooks=[])).push(a,X),(h.preOrderCheckHooks??(h.preOrderCheckHooks=[])).push(a,X)}O&&(h.preOrderHooks??(h.preOrderHooks=[])).push(0-a,O),j&&((h.preOrderHooks??(h.preOrderHooks=[])).push(a,j),(h.preOrderCheckHooks??(h.preOrderCheckHooks=[])).push(a,j))}(h,j[h],l)}finally{null!==pe&&ze(pe),bl(le),X.resolving=!1,Hh()}}return O}function pu(a,l,h){return!!(h[l+(a>>rc)]&1<<a)}function Eo(a,l){return!(a&Ve.Self||a&Ve.Host&&l)}class qs{constructor(l,h){this._tNode=l,this._lView=h}get(l,h,x){return qh(this._tNode,this._lView,l,Ze(x),h)}}function m0(){return new qs(zi(),Et())}function Wh(a){return tr(()=>{const l=a.prototype.constructor,h=l[ct]||mu(l),x=Object.prototype;let O=Object.getPrototypeOf(a.prototype).constructor;for(;O&&O!==x;){const j=O[ct]||mu(O);if(j&&j!==h)return j;O=Object.getPrototypeOf(O)}return j=>new j})}function mu(a){return f(a)?()=>{const l=mu(u(a));return l&&l()}:Ca(a)}function kd(a){const l=a[Qe],h=l.type;return 2===h?l.declTNode:1===h?a[mn]:null}function gu(a){return function Ad(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const h=a.attrs;if(h){const x=h.length;let O=0;for(;O<x;){const j=h[O];if(ec(j))break;if(0===j)O+=2;else if("number"==typeof j)for(O++;O<x&&"string"==typeof h[O];)O++;else{if(j===l)return h[O+1];O+=2}}}return null}(zi(),a)}const Cl="__parameters__";function lc(a,l,h){return tr(()=>{const x=function zp(a){return function(...h){if(a){const x=a(...h);for(const O in x)this[O]=x[O]}}}(l);function O(...j){if(this instanceof O)return x.apply(this,j),this;const X=new O(...j);return le.annotation=X,le;function le(pe,ve,De){const je=pe.hasOwnProperty(Cl)?pe[Cl]:Object.defineProperty(pe,Cl,{value:[]})[Cl];for(;je.length<=De;)je.push(null);return(je[De]=je[De]||[]).push(X),pe}}return h&&(O.prototype=Object.create(h.prototype)),O.prototype.ngMetadataName=a,O.annotationCls=O,O})}class dr{constructor(l,h){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=he({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function oo(a,l){a.forEach(h=>Array.isArray(h)?oo(h,l):l(h))}function Cu(a,l,h){l>=a.length?a.push(h):a.splice(l,0,h)}function cc(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Tl(a,l){const h=[];for(let x=0;x<a;x++)h.push(l);return h}function ps(a,l,h){let x=mi(a,l);return x>=0?a[1|x]=h:(x=~x,function Xh(a,l,h,x){let O=a.length;if(O==l)a.push(h,x);else if(1===O)a.push(x,a[0]),a[0]=h;else{for(O--,a.push(a[O-1],a[O]);O>l;)a[O]=a[O-2],O--;a[l]=h,a[l+1]=x}}(a,x,l,h)),x}function $n(a,l){const h=mi(a,l);if(h>=0)return a[1|h]}function mi(a,l){return function br(a,l,h){let x=0,O=a.length>>h;for(;O!==x;){const j=x+(O-x>>1),X=a[j<<h];if(l===X)return j<<h;X>l?O=j:x=j+1}return~(O<<h)}(a,l,1)}const Su=yt(lc("Optional"),8),me=yt(lc("SkipSelf"),4);var Mn=(()=>((Mn=Mn||{})[Mn.Important=1]="Important",Mn[Mn.DashCase=2]="DashCase",Mn))();const Pd=/^>|^->|<!--|-->|--!>|<!-$/g,ob=/(<|>)/,xu="\u200b$1\u200b";const Fd=new Map;let na=0;const cf="__ngContext__";function rs(a,l){zr(l)?(a[cf]=l[Yn],function v0(a){Fd.set(a[Yn],a)}(l)):a[cf]=l}let nm;function gc(a,l){return nm(a,l)}function jd(a){const l=a[zt];return Qi(l)?l[zt]:l}function df(a){return rm(a[Nr])}function Au(a){return rm(a[Yt])}function rm(a){for(;null!==a&&!Qi(a);)a=a[Yt];return a}function ra(a,l,h,x,O){if(null!=x){let j,X=!1;Qi(x)?j=x:zr(x)&&(X=!0,x=x[Tt]);const le=Jr(x);0===a&&null!==h?null==O?am(l,h,le):Dl(l,h,le,O||null,!0):1===a&&null!==h?Dl(l,h,le,O||null,!0):2===a?Gd(l,le,X):3===a&&l.destroyNode(le),null!=j&&function Ru(a,l,h,x,O){const j=h[Vi];j!==Jr(h)&&ra(l,a,x,j,O);for(let le=Yr;le<h.length;le++){const pe=h[le];Mu(pe[Qe],pe,a,l,x,j)}}(l,a,j,h,O)}}function ku(a,l){return a.createText(l)}function im(a,l,h){a.setValue(l,h)}function hf(a,l){return a.createComment(function b0(a){return a.replace(Pd,l=>l.replace(ob,xu))}(l))}function Vd(a,l,h){return a.createElement(l,h)}function sm(a,l){const h=a[$r],x=h.indexOf(l),O=l[zt];512&l[wt]&&(l[wt]&=-513,Zl(O,-1)),h.splice(x,1)}function om(a,l){if(a.length<=Yr)return;const h=Yr+l,x=a[h];if(x){const O=x[ds];null!==O&&O!==a&&sm(O,x),l>0&&(a[h-1][Yt]=x[Yt]);const j=cc(a,Yr+l);!function lb(a,l){Mu(a,l,l[tn],2,null,null),l[Tt]=null,l[mn]=null}(x[Qe],x);const X=j[ri];null!==X&&X.detachView(j[Qe]),x[zt]=null,x[Yt]=null,x[wt]&=-65}return x}function ff(a,l){if(!(128&l[wt])){const h=l[tn];h.destroyNode&&Mu(a,l,h,3,null,null),function ub(a){let l=a[Nr];if(!l)return Nu(a[Qe],a);for(;l;){let h=null;if(zr(l))h=l[Nr];else{const x=l[Yr];x&&(h=x)}if(!h){for(;l&&!l[Yt]&&l!==a;)zr(l)&&Nu(l[Qe],l),l=l[zt];null===l&&(l=a),zr(l)&&Nu(l[Qe],l),h=l&&l[Yt]}l=h}}(l)}}function Nu(a,l){if(!(128&l[wt])){l[wt]&=-65,l[wt]|=128,function Io(a,l){let h;if(null!=a&&null!=(h=a.destroyHooks))for(let x=0;x<h.length;x+=2){const O=l[h[x]];if(!(O instanceof Qo)){const j=h[x+1];if(Array.isArray(j))for(let X=0;X<j.length;X+=2){const le=O[j[X]],pe=j[X+1];vs(4,le,pe);try{pe.call(le)}finally{vs(5,le,pe)}}else{vs(4,O,j);try{j.call(O)}finally{vs(5,O,j)}}}}}(a,l),function fb(a,l){const h=a.cleanup,x=l[hn];let O=-1;if(null!==h)for(let j=0;j<h.length-1;j+=2)if("string"==typeof h[j]){const X=h[j+3];X>=0?x[O=X]():x[O=-X].unsubscribe(),j+=2}else{const X=x[O=h[j+1]];h[j].call(X)}if(null!==x){for(let j=O+1;j<x.length;j++)(0,x[j])();l[hn]=null}}(a,l),1===l[Qe].type&&l[tn].destroy();const h=l[ds];if(null!==h&&Qi(l[zt])){h!==l[zt]&&sm(h,l);const x=l[ri];null!==x&&x.detachView(a)}!function E2(a){Fd.delete(a[Yn])}(l)}}function pf(a,l,h){return T0(a,l.parent,h)}function T0(a,l,h){let x=l;for(;null!==x&&40&x.type;)x=(l=x).parent;if(null===x)return h[Tt];{const{componentOffset:O}=x;if(O>-1){const{encapsulation:j}=a.data[x.directiveStart+O];if(j===an.None||j===an.Emulated)return null}return ii(x,h)}}function Dl(a,l,h,x,O){a.insertBefore(l,h,x,O)}function am(a,l,h){a.appendChild(l,h)}function E0(a,l,h,x,O){null!==x?Dl(a,l,h,x,O):am(a,l,h)}function Ao(a,l){return a.parentNode(l)}function gf(a,l,h){return ja(a,l,h)}function lm(a,l,h){return 40&a.type?ii(a,h):null}let cm,yi,bf,wf,ja=lm;function Ps(a,l){ja=a,cm=l}function Ua(a,l,h,x){const O=pf(a,x,l),j=l[tn],le=gf(x.parent||l[mn],x,l);if(null!=O)if(Array.isArray(h))for(let pe=0;pe<h.length;pe++)E0(j,O,h[pe],le,!1);else E0(j,O,h,le,!1);void 0!==cm&&cm(j,x,l,h,O)}function zd(a,l){if(null!==l){const h=l.type;if(3&h)return ii(l,a);if(4&h)return ia(-1,a[l.index]);if(8&h){const x=l.child;if(null!==x)return zd(a,x);{const O=a[l.index];return Qi(O)?ia(-1,O):Jr(O)}}if(32&h)return gc(l,a)()||Jr(a[l.index]);{const x=_f(a,l);return null!==x?Array.isArray(x)?x[0]:zd(jd(a[Dr]),x):zd(a,l.next)}}return null}function _f(a,l){return null!==l?a[Dr][mn].projection[l.projection]:null}function ia(a,l){const h=Yr+a+1;if(h<l.length){const x=l[h],O=x[Qe].firstChild;if(null!==O)return zd(x,O)}return l[Vi]}function Gd(a,l,h){const x=Ao(a,l);x&&function Hd(a,l,h,x){a.removeChild(l,h,x)}(a,x,l,h)}function qd(a,l,h,x,O,j,X){for(;null!=h;){const le=x[h.index],pe=h.type;if(X&&0===l&&(le&&rs(Jr(le),x),h.flags|=2),32!=(32&h.flags))if(8&pe)qd(a,l,h.child,x,O,j,!1),ra(l,a,O,le,j);else if(32&pe){const ve=gc(h,x);let De;for(;De=ve();)ra(l,a,O,De,j);ra(l,a,O,le,j)}else 16&pe?sa(a,l,x,h,O,j):ra(l,a,O,le,j);h=X?h.projectionNext:h.next}}function Mu(a,l,h,x,O,j){qd(h,x,a.firstChild,l,O,j,!1)}function sa(a,l,h,x,O,j){const X=h[Dr],pe=X[mn].projection[x.projection];if(Array.isArray(pe))for(let ve=0;ve<pe.length;ve++)ra(l,a,O,pe[ve],j);else qd(a,l,pe,X[zt],O,j,!0)}function Il(a,l,h){""===h?a.removeAttribute(l,"class"):a.setAttribute(l,"class",h)}function Ou(a,l,h){const{mergedAttrs:x,classes:O,styles:j}=h;null!==x&&Gr(a,l,x),null!==O&&Il(a,l,O),null!==j&&function um(a,l,h){a.setAttribute(l,"style",h)}(a,l,j)}function Al(a){return function yc(){if(void 0===yi&&(yi=null,tt.trustedTypes))try{yi=tt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return yi}()?.createHTML(a)||a}function mb(a){bf=a}function vf(){return void 0!==bf?bf:typeof document<"u"?document:void 0}function dm(){if(void 0===wf&&(wf=null,tt.trustedTypes))try{wf=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return wf}function D0(a){return dm()?.createHTML(a)||a}function Q(a){return dm()?.createScriptURL(a)||a}class F{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${m})`}}class V extends F{getTypeName(){return"HTML"}}class se extends F{getTypeName(){return"Style"}}class we extends F{getTypeName(){return"Script"}}class Ae extends F{getTypeName(){return"URL"}}class Je extends F{getTypeName(){return"ResourceURL"}}function pt(a){return a instanceof F?a.changingThisBreaksApplicationSecurity:a}function Bt(a,l){const h=function ln(a){return a instanceof F&&a.getTypeName()||null}(a);if(null!=h&&h!==l){if("ResourceURL"===h&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${h} (see ${m})`)}return h===l}function On(a){return new V(a)}function Nn(a){return new se(a)}function Ni(a){return new we(a)}function ms(a){return new Ae(a)}function Zd(a){return new Je(a)}function fm(a){const l=new pm(a);return function Cf(){try{return!!(new window.DOMParser).parseFromString(Al(""),"text/html")}catch{return!1}}()?new Pu(l):l}class Pu{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const h=(new window.DOMParser).parseFromString(Al(l),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(l):(h.removeChild(h.firstChild),h)}catch{return null}}}class pm{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const h=this.inertDocument.createElement("template");return h.innerHTML=Al(l),h}}const Tf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bc(a){return(a=String(a)).match(Tf)?a:"unsafe:"+a}function lo(a){const l={};for(const h of a.split(","))l[h]=!0;return l}function vc(...a){const l={};for(const h of a)for(const x in h)h.hasOwnProperty(x)&&(l[x]=!0);return l}const wc=lo("area,br,col,hr,img,wbr"),I0=lo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ef=lo("rp,rt"),k0=vc(wc,vc(I0,lo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vc(Ef,lo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vc(Ef,I0)),N0=lo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mm=vc(N0,lo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),lo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),R0=lo("script,style,template");class kD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let h=l.firstChild,x=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?x=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,x&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let O=this.checkClobberedElement(h,h.nextSibling);if(O){h=O;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(l){const h=l.nodeName.toLowerCase();if(!k0.hasOwnProperty(h))return this.sanitizedSomething=!0,!R0.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const x=l.attributes;for(let O=0;O<x.length;O++){const j=x.item(O),X=j.name,le=X.toLowerCase();if(!mm.hasOwnProperty(le)){this.sanitizedSomething=!0;continue}let pe=j.value;N0[le]&&(pe=bc(pe)),this.buf.push(" ",X,'="',_b(pe),'"')}return this.buf.push(">"),!0}endElement(l){const h=l.nodeName.toLowerCase();k0.hasOwnProperty(h)&&!wc.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(l){this.buf.push(_b(l))}checkClobberedElement(l,h){if(h&&(l.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return h}}const ND=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gb=/([^\#-~ |!])/g;function _b(a){return a.replace(/&/g,"&amp;").replace(ND,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(gb,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yb;function MD(a,l){let h=null;try{yb=yb||fm(a);let x=l?String(l):"";h=yb.getInertBodyElement(x);let O=5,j=x;do{if(0===O)throw new Error("Failed to sanitize html because the input is unstable");O--,x=j,j=h.innerHTML,h=yb.getInertBodyElement(x)}while(x!==j);return Al((new kD).sanitizeChildren(S2(h)||h))}finally{if(h){const x=S2(h)||h;for(;x.firstChild;)x.removeChild(x.firstChild)}}}function S2(a){return"content"in a&&function j6(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var ai=(()=>((ai=ai||{})[ai.NONE=0]="NONE",ai[ai.HTML=1]="HTML",ai[ai.STYLE=2]="STYLE",ai[ai.SCRIPT=3]="SCRIPT",ai[ai.URL=4]="URL",ai[ai.RESOURCE_URL=5]="RESOURCE_URL",ai))();function x2(a){const l=_m();return l?D0(l.sanitize(ai.HTML,a)||""):Bt(a,"HTML")?D0(pt(a)):MD(vf(),v(a))}function D2(a){const l=_m();return l?l.sanitize(ai.URL,a)||"":Bt(a,"URL")?pt(a):bc(v(a))}function O0(a){const l=_m();if(l)return Q(l.sanitize(ai.RESOURCE_URL,a)||"");if(Bt(a,"ResourceURL"))return Q(pt(a));throw new C(904,!1)}function A2(a,l,h){return function OD(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?O0:D2}(l,h)(a)}function _m(){const a=Et();return a&&a[yr]}const vb=new dr("ENVIRONMENT_INITIALIZER"),Wd=new dr("INJECTOR",-1),Sf=new dr("INJECTOR_DEF_TYPES");class k2{get(l,h=kt){if(h===kt){const x=new Error(`NullInjectorError: No provider for ${A(l)}!`);throw x.name="NullInjectorError",x}return h}}function FD(a){return{\u0275providers:a}}function ym(...a){return{\u0275providers:xf(0,a),\u0275fromNgModule:!0}}function xf(a,...l){const h=[],x=new Set;let O;return oo(l,j=>{const X=j;wb(X,h,[],x)&&(O||(O=[]),O.push(X))}),void 0!==O&&N2(O,h),h}function N2(a,l){for(let h=0;h<a.length;h++){const{providers:O}=a[h];Cb(O,j=>{l.push(j)})}}function wb(a,l,h,x){if(!(a=u(a)))return!1;let O=null,j=Te(a);const X=!j&&En(a);if(j||X){if(X&&!X.standalone)return!1;O=a}else{const pe=a.ngModule;if(j=Te(pe),!j)return!1;O=pe}const le=x.has(O);if(X){if(le)return!1;if(x.add(O),X.dependencies){const pe="function"==typeof X.dependencies?X.dependencies():X.dependencies;for(const ve of pe)wb(ve,l,h,x)}}else{if(!j)return!1;{if(null!=j.imports&&!le){let ve;x.add(O);try{oo(j.imports,De=>{wb(De,l,h,x)&&(ve||(ve=[]),ve.push(De))})}finally{}void 0!==ve&&N2(ve,l)}if(!le){const ve=Ca(O)||(()=>new O);l.push({provide:O,useFactory:ve,deps:Zt},{provide:Sf,useValue:O,multi:!0},{provide:vb,useValue:()=>Be(O),multi:!0})}const pe=j.providers;null==pe||le||Cb(pe,De=>{l.push(De)})}}return O!==a&&void 0!==a.providers}function Cb(a,l){for(let h of a)b(h)&&(h=h.\u0275providers),Array.isArray(h)?Cb(h,l):l(h)}const LD=z({provide:String,useValue:z});function Tb(a){return null!==a&&"object"==typeof a&&LD in a}function Cc(a){return"function"==typeof a}const Fu=new dr("Set Injector scope."),F0={},jD={};let Eb;function L0(){return void 0===Eb&&(Eb=new k2),Eb}class Kd{}class R2 extends Kd{get destroyed(){return this._destroyed}constructor(l,h,x,O){super(),this.parent=h,this.source=x,this.scopes=O,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,If(l,X=>this.processProvider(X)),this.records.set(Wd,Df(void 0,this)),O.has("environment")&&this.records.set(Kd,Df(void 0,this));const j=this.records.get(Fu);null!=j&&"string"==typeof j.value&&this.scopes.add(j.value),this.injectorDefTypes=new Set(this.get(Sf.multi,Zt,Ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const h=Dt(this),x=ze(void 0);try{return l()}finally{Dt(h),ze(x)}}get(l,h=kt,x=Ve.Default){this.assertNotDestroyed(),x=Ze(x);const O=Dt(this),j=ze(void 0);try{if(!(x&Ve.SkipSelf)){let le=this.records.get(l);if(void 0===le){const pe=function Ib(a){return"function"==typeof a||"object"==typeof a&&a instanceof dr}(l)&&_e(l);le=pe&&this.injectableDefInScope(pe)?Df(Sb(l),F0):null,this.records.set(l,le)}if(null!=le)return this.hydrate(l,le)}return(x&Ve.Self?L0():this.parent).get(l,h=x&Ve.Optional&&h===kt?null:h)}catch(X){if("NullInjectorError"===X.name){if((X[Nt]=X[Nt]||[]).unshift(A(l)),O)throw X;return function on(a,l,h,x){const O=a[Nt];throw l[Mt]&&O.unshift(l[Mt]),a.message=function Qt(a,l,h,x=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==gn?a.slice(2):a;let O=A(l);if(Array.isArray(l))O=l.map(A).join(" -> ");else if("object"==typeof l){let j=[];for(let X in l)if(l.hasOwnProperty(X)){let le=l[X];j.push(X+":"+("string"==typeof le?JSON.stringify(le):A(le)))}O=`{${j.join(", ")}}`}return`${h}${x?"("+x+")":""}[${O}]: ${a.replace(Dn,"\n  ")}`}("\n"+a.message,O,h,x),a[qt]=O,a[Nt]=null,a}(X,l,"R3InjectorError",this.source)}throw X}finally{ze(j),Dt(O)}}resolveInjectorInitializers(){const l=Dt(this),h=ze(void 0);try{const x=this.get(vb.multi,Zt,Ve.Self);for(const O of x)O()}finally{Dt(l),ze(h)}}toString(){const l=[],h=this.records;for(const x of h.keys())l.push(A(x));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(l){let h=Cc(l=u(l))?l:u(l&&l.provide);const x=function VD(a){return Tb(a)?Df(void 0,a.useValue):Df(xb(a),F0)}(l);if(Cc(l)||!0!==l.multi)this.records.get(h);else{let O=this.records.get(h);O||(O=Df(void 0,F0,!0),O.factory=()=>ot(O.multi),this.records.set(h,O)),h=l,O.multi.push(l)}this.records.set(h,x)}hydrate(l,h){return h.value===F0&&(h.value=jD,h.value=h.factory()),"object"==typeof h.value&&h.value&&function O2(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(l){if(!l.providedIn)return!1;const h=u(l.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}}function Sb(a){const l=_e(a),h=null!==l?l.factory:Ca(a);if(null!==h)return h;if(a instanceof dr)throw new C(204,!1);if(a instanceof Function)return function UD(a){const l=a.length;if(l>0)throw Tl(l,"?"),new C(204,!1);const h=function ue(a){return a&&(a[Me]||a[ke])||null}(a);return null!==h?()=>h.factory(a):()=>new a}(a);throw new C(204,!1)}function xb(a,l,h){let x;if(Cc(a)){const O=u(a);return Ca(O)||Sb(O)}if(Tb(a))x=()=>u(a.useValue);else if(function M2(a){return!(!a||!a.useFactory)}(a))x=()=>a.useFactory(...ot(a.deps||[]));else if(function BD(a){return!(!a||!a.useExisting)}(a))x=()=>Be(u(a.useExisting));else{const O=u(a&&(a.useClass||a.provide));if(!function Db(a){return!!a.deps}(a))return Ca(O)||Sb(O);x=()=>new O(...ot(a.deps))}return x}function Df(a,l,h=!1){return{factory:a,value:l,multi:h?[]:void 0}}function If(a,l){for(const h of a)Array.isArray(h)?If(h,l):h&&b(h)?If(h.\u0275providers,l):l(h)}class HD{}class P2{}class L2{resolveComponentFactory(l){throw function $D(a){const l=Error(`No component factory found for ${A(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Af=(()=>{class a{}return a.NULL=new L2,a})();function B0(){return Tc(zi(),Et())}function Tc(a,l){return new kf(ii(a,l))}let kf=(()=>{class a{constructor(h){this.nativeElement=h}}return a.__NG_ELEMENT_ID__=B0,a})();function bm(a){return a instanceof kf?a.nativeElement:a}class kb{}let zD=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function GD(){const a=Et(),h=fi(zi().index,a);return(zr(h)?h:a)[tn]}(),a})(),qD=(()=>{class a{}return a.\u0275prov=he({token:a,providedIn:"root",factory:()=>null}),a})();class B2{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const j2=new B2("15.2.10"),j0={},Nb="ngOriginalError";function Mb(a){return a[Nb]}class vm{constructor(){this._console=console}handleError(l){const h=this._findOriginalError(l);this._console.error("ERROR",l),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(l){let h=l&&Mb(l);for(;h&&Mb(h);)h=Mb(h);return h||null}}function kl(a){return a instanceof Function?a():a}function G2(a,l,h){let x=a.length;for(;;){const O=a.indexOf(l,h);if(-1===O)return O;if(0===O||a.charCodeAt(O-1)<=32){const j=l.length;if(O+j===x||a.charCodeAt(O+j)<=32)return O}h=O+1}}const Rb="ng-template";function Ob(a,l,h){let x=0,O=!0;for(;x<a.length;){let j=a[x++];if("string"==typeof j&&O){const X=a[x++];if(h&&"class"===j&&-1!==G2(X.toLowerCase(),l,0))return!0}else{if(1===j){for(;x<a.length&&"string"==typeof(j=a[x++]);)if(j.toLowerCase()===l)return!0;return!1}"number"==typeof j&&(O=!1)}}return!1}function Pb(a){return 4===a.type&&a.value!==Rb}function Nf(a,l,h){return l===(4!==a.type||h?a.value:Rb)}function Fb(a,l,h){let x=4;const O=a.attrs||[],j=function Z2(a){for(let l=0;l<a.length;l++)if(ec(a[l]))return l;return a.length}(O);let X=!1;for(let le=0;le<l.length;le++){const pe=l[le];if("number"!=typeof pe){if(!X)if(4&x){if(x=2|1&x,""!==pe&&!Nf(a,pe,h)||""===pe&&1===l.length){if(Ha(x))return!1;X=!0}}else{const ve=8&x?pe:l[++le];if(8&x&&null!==a.attrs){if(!Ob(a.attrs,ve,h)){if(Ha(x))return!1;X=!0}continue}const je=q2(8&x?"class":pe,O,Pb(a),h);if(-1===je){if(Ha(x))return!1;X=!0;continue}if(""!==ve){let Xe;Xe=je>j?"":O[je+1].toLowerCase();const dt=8&x?Xe:null;if(dt&&-1!==G2(dt,ve,0)||2&x&&ve!==Xe){if(Ha(x))return!1;X=!0}}}}else{if(!X&&!Ha(x)&&!Ha(pe))return!1;if(X&&Ha(pe))continue;X=!1,x=pe|1&x}}return Ha(x)||X}function Ha(a){return 0==(1&a)}function q2(a,l,h,x){if(null===l)return-1;let O=0;if(x||!h){let j=!1;for(;O<l.length;){const X=l[O];if(X===a)return O;if(3===X||6===X)j=!0;else{if(1===X||2===X){let le=l[++O];for(;"string"==typeof le;)le=l[++O];continue}if(4===X)break;if(0===X){O+=4;continue}}O+=j?1:2}return-1}return function W2(a,l){let h=a.indexOf(4);if(h>-1)for(h++;h<a.length;){const x=a[h];if("number"==typeof x)return-1;if(x===l)return h;h++}return-1}(l,a)}function Cm(a,l,h=!1){for(let x=0;x<l.length;x++)if(Fb(a,l[x],h))return!0;return!1}function XD(a,l){e:for(let h=0;h<l.length;h++){const x=l[h];if(a.length===x.length){for(let O=0;O<a.length;O++)if(a[O]!==x[O])continue e;return!0}}return!1}function K2(a,l){return a?":not("+l.trim()+")":l}function eI(a){let l=a[0],h=1,x=2,O="",j=!1;for(;h<a.length;){let X=a[h];if("string"==typeof X)if(2&x){const le=a[++h];O+="["+X+(le.length>0?'="'+le+'"':"")+"]"}else 8&x?O+="."+X:4&x&&(O+=" "+X);else""!==O&&!Ha(X)&&(l+=K2(j,O),O=""),x=X,j=j||!Ha(x);h++}return""!==O&&(l+=K2(j,O)),l}const qn={};function Y2(a){J2(mr(),Et(),fs()+a,!1)}function J2(a,l,h,x){if(!x)if(3==(3&l[wt])){const j=a.preOrderCheckHooks;null!==j&&Ia(l,j,h)}else{const j=a.preOrderHooks;null!==j&&Dd(l,j,0,h)}ml(h)}function X2(a,l=null,h=null,x){const O=Bb(a,l,h,x);return O.resolveInjectorInitializers(),O}function Bb(a,l=null,h=null,x,O=new Set){const j=[h||Zt,ym(a)];return x=x||("object"==typeof a?void 0:A(a)),new R2(j,l||L0(),x||null,O)}let Mf=(()=>{class a{static create(h,x){if(Array.isArray(h))return X2({name:""},x,h,"");{const O=h.name??"";return X2({name:O},h.parent,h.providers,O)}}}return a.THROW_IF_NOT_FOUND=kt,a.NULL=new k2,a.\u0275prov=he({token:a,providedIn:"any",factory:()=>Be(Wd)}),a.__NG_ELEMENT_ID__=-1,a})();function Pf(a,l=Ve.Default){const h=Et();return null===h?Be(a,l):qh(zi(),h,u(a),l)}function sC(){throw new Error("invalid")}function oC(a,l){const h=a.contentQueries;if(null!==h)for(let x=0;x<h.length;x+=2){const j=h[x+1];if(-1!==j){const X=a.data[j];Sd(h[x]),X.contentQueries(2,l[j],j)}}}function $0(a,l,h,x,O,j,X,le,pe,ve,De){const je=l.blueprint.slice();return je[Tt]=O,je[wt]=76|x,(null!==De||a&&1024&a[wt])&&(je[wt]|=1024),ql(je),je[zt]=je[Fr]=a,je[pn]=h,je[er]=X||a&&a[er],je[tn]=le||a&&a[tn],je[yr]=pe||a&&a[yr]||null,je[Tr]=ve||a&&a[Tr]||null,je[mn]=j,je[Yn]=function af(){return na++}(),je[Gn]=De,je[Dr]=2==l.type?a[Dr]:je,je}function xm(a,l,h,x,O){let j=a.data[l];if(null===j)j=z0(a,l,h,x,O),function Bh(){return Vn.lFrame.inI18n}()&&(j.flags|=32);else if(64&j.type){j.type=h,j.value=x,j.attrs=O;const X=ru();j.injectorIndex=null===X?-1:X.injectorIndex}return ws(j,!0),j}function z0(a,l,h,x,O){const j=Wl(),X=iu(),pe=a.data[l]=function J6(a,l,h,x,O,j){return{type:h,index:x,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:O,attrs:j,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,X?j:j&&j.parent,h,l,x,O);return null===a.firstChild&&(a.firstChild=pe),null!==j&&(X?null==j.child&&null!==pe.parent&&(j.child=pe):null===j.next&&(j.next=pe,pe.prev=j)),pe}function Dm(a,l,h,x){if(0===h)return-1;const O=l.length;for(let j=0;j<h;j++)l.push(x),a.blueprint.push(x),a.data.push(null);return O}function $a(a,l,h){au(l);try{const x=a.viewQuery;null!==x&&Kb(1,x,h);const O=a.template;null!==O&&$b(a,l,O,1,h),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&oC(a,l),a.staticViewQueries&&Kb(2,a.viewQuery,h);const j=a.components;null!==j&&function aC(a,l){for(let h=0;h<l.length;h++)FI(a,l[h])}(l,j)}catch(x){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),x}finally{l[wt]&=-5,h0()}}function G0(a,l,h,x){const O=l[wt];if(128!=(128&O)){au(l);try{ql(l),function Yo(a){return Vn.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==h&&$b(a,l,h,2,x);const X=3==(3&O);if(X){const ve=a.preOrderCheckHooks;null!==ve&&Ia(l,ve,null)}else{const ve=a.preOrderHooks;null!==ve&&Dd(l,ve,0,null),Jo(l,0)}if(function OI(a){for(let l=df(a);null!==l;l=Au(l)){if(!l[Ui])continue;const h=l[$r];for(let x=0;x<h.length;x++){const O=h[x];512&O[wt]||Zl(O[zt],1),O[wt]|=512}}}(l),function RI(a){for(let l=df(a);null!==l;l=Au(l))for(let h=Yr;h<l.length;h++){const x=l[h],O=x[Qe];pl(x)&&G0(O,x,O.template,x[pn])}}(l),null!==a.contentQueries&&oC(a,l),X){const ve=a.contentCheckHooks;null!==ve&&Ia(l,ve)}else{const ve=a.contentHooks;null!==ve&&Dd(l,ve,1),Jo(l,1)}!function gI(a,l){const h=a.hostBindingOpCodes;if(null!==h)try{for(let x=0;x<h.length;x++){const O=h[x];if(O<0)ml(~O);else{const j=O,X=h[++x],le=h[++x];jh(X,j),le(2,l[j])}}}finally{ml(-1)}}(a,l);const le=a.components;null!==le&&function _I(a,l){for(let h=0;h<l.length;h++)PI(a,l[h])}(l,le);const pe=a.viewQuery;if(null!==pe&&Kb(2,pe,x),X){const ve=a.viewCheckHooks;null!==ve&&Ia(l,ve)}else{const ve=a.viewHooks;null!==ve&&Dd(l,ve,2),Jo(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[wt]&=-41,512&l[wt]&&(l[wt]&=-513,Zl(l[zt],-1))}finally{h0()}}}function $b(a,l,h,x,O){const j=fs(),X=2&x;try{ml(-1),X&&l.length>Cr&&J2(a,l,Cr,!1),vs(X?2:0,O),h(x,O)}finally{ml(j),vs(X?3:1,O)}}function lC(a,l,h){if(to(l)){const O=l.directiveEnd;for(let j=l.directiveStart;j<O;j++){const X=a.data[j];X.contentQueries&&X.contentQueries(1,h[j],j)}}}function q0(a,l,h){nu()&&(function EI(a,l,h,x){const O=h.directiveStart,j=h.directiveEnd;Xi(h)&&function kI(a,l,h){const x=ii(l,a),O=Z0(h),j=a[er],X=W0(a,$0(a,O,null,h.onPush?32:16,x,l,j,j.createRenderer(x,h),null,null,null));a[l.index]=X}(l,h,a.data[O+h.componentOffset]),a.firstCreatePass||wl(h,l),rs(x,l);const X=h.initialInputs;for(let le=O;le<j;le++){const pe=a.data[le],ve=so(l,a,le,h);rs(ve,l),null!==X&&NI(0,le-O,ve,pe,0,X),hi(pe)&&(fi(h.index,l)[pn]=so(l,a,le,h))}}(a,l,h,ii(h,l)),64==(64&h.flags)&&fC(a,l,h))}function Jd(a,l,h=ii){const x=l.localNames;if(null!==x){let O=l.index+1;for(let j=0;j<x.length;j+=2){const X=x[j+1],le=-1===X?h(l,a):a[X];a[O++]=le}}}function Z0(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=cC(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function cC(a,l,h,x,O,j,X,le,pe,ve){const De=Cr+x,je=De+O,Xe=function uC(a,l){const h=[];for(let x=0;x<l;x++)h.push(x<a?null:qn);return h}(De,je),dt="function"==typeof ve?ve():ve;return Xe[Qe]={type:a,blueprint:Xe,template:h,queries:null,viewQuery:le,declTNode:l,data:Xe.slice().fill(null,De),bindingStartIndex:De,expandoStartIndex:je,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof j?j():j,pipeRegistry:"function"==typeof X?X():X,firstChild:null,schemas:pe,consts:dt,incompleteFirstPass:!1}}function yI(a,l,h,x){const O=mC(l);null===h?O.push(x):(O.push(h),a.firstCreatePass&&gC(a).push(x,O.length-1))}function bI(a,l,h,x){for(let O in a)if(a.hasOwnProperty(O)){h=null===h?{}:h;const j=a[O];null===x?vI(h,l,O,j):x.hasOwnProperty(O)&&vI(h,l,x[O],j)}return h}function vI(a,l,h,x){a.hasOwnProperty(h)?a[h].push(l,x):a[h]=[l,x]}function co(a,l,h,x,O,j,X,le){const pe=ii(l,h);let De,ve=l.inputs;!le&&null!=ve&&(De=ve[x])?(Yb(a,h,De,x,O),Xi(l)&&function zb(a,l){const h=fi(l,a);16&h[wt]||(h[wt]|=32)}(h,l.index)):3&l.type&&(x=function Im(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(x),O=null!=X?X(O,l.value||"",x):O,j.setProperty(pe,x,O))}function Gb(a,l,h,x){if(nu()){const O=null===x?null:{"":-1},j=function xI(a,l){const h=a.directiveRegistry;let x=null,O=null;if(h)for(let j=0;j<h.length;j++){const X=h[j];if(Cm(l,X.selectors,!1))if(x||(x=[]),hi(X))if(null!==X.findHostDirectiveDefs){const le=[];O=O||new Map,X.findHostDirectiveDefs(X,le,O),x.unshift(...le,X),qb(a,l,le.length)}else x.unshift(X),qb(a,l,0);else O=O||new Map,X.findHostDirectiveDefs?.(X,x,O),x.push(X)}return null===x?null:[x,O]}(a,h);let X,le;null===j?X=le=null:[X,le]=j,null!==X&&hC(a,l,h,X,O,le),O&&function DI(a,l,h){if(l){const x=a.localNames=[];for(let O=0;O<l.length;O+=2){const j=h[l[O+1]];if(null==j)throw new C(-301,!1);x.push(l[O],j)}}}(h,x,O)}h.mergedAttrs=To(h.mergedAttrs,h.attrs)}function hC(a,l,h,x,O,j){for(let ve=0;ve<x.length;ve++)oc(wl(h,l),a,x[ve].type);!function II(a,l,h){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+h,a.providerIndexes=l}(h,a.data.length,x.length);for(let ve=0;ve<x.length;ve++){const De=x[ve];De.providersResolver&&De.providersResolver(De)}let X=!1,le=!1,pe=Dm(a,l,x.length,null);for(let ve=0;ve<x.length;ve++){const De=x[ve];h.mergedAttrs=To(h.mergedAttrs,De.hostAttrs),AI(a,h,l,pe,De),X6(pe,De,O),null!==De.contentQueries&&(h.flags|=4),(null!==De.hostBindings||null!==De.hostAttrs||0!==De.hostVars)&&(h.flags|=64);const je=De.type.prototype;!X&&(je.ngOnChanges||je.ngOnInit||je.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(h.index),X=!0),!le&&(je.ngOnChanges||je.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(h.index),le=!0),pe++}!function dC(a,l,h){const O=l.directiveEnd,j=a.data,X=l.attrs,le=[];let pe=null,ve=null;for(let De=l.directiveStart;De<O;De++){const je=j[De],Xe=h?h.get(je):null,It=Xe?Xe.outputs:null;pe=bI(je.inputs,De,pe,Xe?Xe.inputs:null),ve=bI(je.outputs,De,ve,It);const Gt=null===pe||null===X||Pb(l)?null:MI(pe,De,X);le.push(Gt)}null!==pe&&(pe.hasOwnProperty("class")&&(l.flags|=8),pe.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=le,l.inputs=pe,l.outputs=ve}(a,h,j)}function fC(a,l,h){const x=h.directiveStart,O=h.directiveEnd,j=h.index,X=function Td(){return Vn.lFrame.currentDirectiveIndex}();try{ml(j);for(let le=x;le<O;le++){const pe=a.data[le],ve=l[le];Ed(le),(null!==pe.hostBindings||0!==pe.hostVars||null!==pe.hostAttrs)&&SI(pe,ve)}}finally{ml(-1),Ed(X)}}function SI(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function qb(a,l,h){l.componentOffset=h,(a.components??(a.components=[])).push(l.index)}function X6(a,l,h){if(h){if(l.exportAs)for(let x=0;x<l.exportAs.length;x++)h[l.exportAs[x]]=a;hi(l)&&(h[""]=a)}}function AI(a,l,h,x,O){a.data[x]=O;const j=O.factory||(O.factory=Ca(O.type)),X=new Qo(j,hi(O),Pf);a.blueprint[x]=X,h[x]=X,function CI(a,l,h,x,O){const j=O.hostBindings;if(j){let X=a.hostBindingOpCodes;null===X&&(X=a.hostBindingOpCodes=[]);const le=~l.index;(function TI(a){let l=a.length;for(;l>0;){const h=a[--l];if("number"==typeof h&&h<0)return h}return 0})(X)!=le&&X.push(le),X.push(h,x,j)}}(a,l,x,Dm(a,h,O.hostVars,qn),O)}function Zb(a,l,h,x,O,j,X){if(null==j)a.removeAttribute(l,O,h);else{const le=null==X?v(j):X(j,x||"",O);a.setAttribute(l,O,le,h)}}function NI(a,l,h,x,O,j){const X=j[l];if(null!==X){const le=x.setInput;for(let pe=0;pe<X.length;){const ve=X[pe++],De=X[pe++],je=X[pe++];null!==le?x.setInput(h,je,ve,De):h[De]=je}}}function MI(a,l,h){let x=null,O=0;for(;O<h.length;){const j=h[O];if(0!==j)if(5!==j){if("number"==typeof j)break;if(a.hasOwnProperty(j)){null===x&&(x=[]);const X=a[j];for(let le=0;le<X.length;le+=2)if(X[le]===l){x.push(j,X[le+1],h[O+1]);break}}O+=2}else O+=2;else O+=4}return x}function pC(a,l,h,x){return[a,!0,!1,l,null,0,x,h,null,null]}function PI(a,l){const h=fi(l,a);if(pl(h)){const x=h[Qe];48&h[wt]?G0(x,h,x.template,h[pn]):h[jn]>0&&Wb(h)}}function Wb(a){for(let x=df(a);null!==x;x=Au(x))for(let O=Yr;O<x.length;O++){const j=x[O];if(pl(j))if(512&j[wt]){const X=j[Qe];G0(X,j,X.template,j[pn])}else j[jn]>0&&Wb(j)}const h=a[Qe].components;if(null!==h)for(let x=0;x<h.length;x++){const O=fi(h[x],a);pl(O)&&O[jn]>0&&Wb(O)}}function FI(a,l){const h=fi(l,a),x=h[Qe];(function LI(a,l){for(let h=l.length;h<a.blueprint.length;h++)l.push(a.blueprint[h])})(x,h),$a(x,h,h[pn])}function W0(a,l){return a[Nr]?a[ji][Yt]=l:a[Nr]=l,a[ji]=l,l}function K0(a){for(;a;){a[wt]|=32;const l=jd(a);if(Zo(a)&&!l)return a;a=l}return null}function Y0(a,l,h,x=!0){const O=l[er];O.begin&&O.begin();try{G0(a,l,a.template,h)}catch(X){throw x&&_C(l,X),X}finally{O.end&&O.end()}}function Kb(a,l,h){Sd(0),l(a,h)}function mC(a){return a[hn]||(a[hn]=[])}function gC(a){return a.cleanup||(a.cleanup=[])}function _C(a,l){const h=a[Tr],x=h?h.get(vm,null):null;x&&x.handleError(l)}function Yb(a,l,h,x,O){for(let j=0;j<h.length;){const X=h[j++],le=h[j++],pe=l[X],ve=a.data[X];null!==ve.setInput?ve.setInput(pe,O,x,le):pe[le]=O}}function Ec(a,l,h){const x=Sa(l,a);im(a[tn],x,h)}function Ff(a,l,h){let x=h?a.styles:null,O=h?a.classes:null,j=0;if(null!==l)for(let X=0;X<l.length;X++){const le=l[X];"number"==typeof le?j=le:1==j?O=y(O,le):2==j&&(x=y(x,le+": "+l[++X]+";"))}h?a.styles=x:a.stylesWithoutHost=x,h?a.classes=O:a.classesWithoutHost=O}function za(a,l,h,x,O=!1){for(;null!==h;){const j=l[h.index];if(null!==j&&x.push(Jr(j)),Qi(j))for(let le=Yr;le<j.length;le++){const pe=j[le],ve=pe[Qe].firstChild;null!==ve&&za(pe[Qe],pe,ve,x)}const X=h.type;if(8&X)za(a,l,h.child,x);else if(32&X){const le=gc(h,l);let pe;for(;pe=le();)x.push(pe)}else if(16&X){const le=_f(l,h);if(Array.isArray(le))x.push(...le);else{const pe=jd(l[Dr]);za(pe[Qe],pe,le,x,!0)}}h=O?h.projectionNext:h.next}return x}class Lf{get rootNodes(){const l=this._lView,h=l[Qe];return za(h,l,h.firstChild,[])}constructor(l,h){this._lView=l,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(l){this._lView[pn]=l}get destroyed(){return 128==(128&this._lView[wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[zt];if(Qi(l)){const h=l[Hi],x=h?h.indexOf(this):-1;x>-1&&(om(l,x),cc(h,x))}this._attachedToViewContainer=!1}ff(this._lView[Qe],this._lView)}onDestroy(l){yI(this._lView[Qe],this._lView,null,l)}markForCheck(){K0(this._cdRefInjectingView||this._lView)}detach(){this._lView[wt]&=-65}reattach(){this._lView[wt]|=64}detectChanges(){Y0(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _c(a,l){Mu(a,l,l[tn],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=l}}class Jb extends Lf{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Y0(l[Qe],l,l[pn],!1)}checkNoChanges(){}get context(){return null}}class J0 extends Af{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const h=En(l);return new Qd(h,this.ngModule)}}function Q0(a){const l=[];for(let h in a)a.hasOwnProperty(h)&&l.push({propName:a[h],templateName:h});return l}class yC{constructor(l,h){this.injector=l,this.parentInjector=h}get(l,h,x){x=Ze(x);const O=this.injector.get(l,j0,x);return O!==j0||h===j0?O:this.parentInjector.get(l,h,x)}}class Qd extends P2{get inputs(){return Q0(this.componentDef.inputs)}get outputs(){return Q0(this.componentDef.outputs)}constructor(l,h){super(),this.componentDef=l,this.ngModule=h,this.componentType=l.type,this.selector=function tI(a){return a.map(eI).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!h}create(l,h,x,O){let j=(O=O||this.ngModule)instanceof Kd?O:O?.injector;j&&null!==this.componentDef.getStandaloneInjector&&(j=this.componentDef.getStandaloneInjector(j)||j);const X=j?new yC(l,j):l,le=X.get(kb,null);if(null===le)throw new C(407,!1);const pe=X.get(qD,null),ve=le.createRenderer(null,this.componentDef),De=this.componentDef.selectors[0][0]||"div",je=x?function Y6(a,l,h){return a.selectRootElement(l,h===an.ShadowDom)}(ve,x,this.componentDef.encapsulation):Vd(ve,De,function ko(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(De)),Xe=this.componentDef.onPush?288:272,dt=cC(0,null,null,1,0,null,null,null,null,null),It=$0(null,dt,null,Xe,null,null,le,ve,pe,X,null);let Gt,nn;au(It);try{const wn=this.componentDef;let Un,Lt=null;wn.findHostDirectiveDefs?(Un=[],Lt=new Map,wn.findHostDirectiveDefs(wn,Un,Lt),Un.push(wn)):Un=[wn];const Xn=function Qb(a,l){const h=a[Qe],x=Cr;return a[x]=l,xm(h,x,2,"#host",null)}(It,je),Xr=function n4(a,l,h,x,O,j,X,le){const pe=O[Qe];!function UI(a,l,h,x){for(const O of a)l.mergedAttrs=To(l.mergedAttrs,O.hostAttrs);null!==l.mergedAttrs&&(Ff(l,l.mergedAttrs,!0),null!==h&&Ou(x,h,l))}(x,a,l,X);const ve=j.createRenderer(l,h),De=$0(O,Z0(h),null,h.onPush?32:16,O[a.index],a,j,ve,le||null,null,null);return pe.firstCreatePass&&qb(pe,a,x.length-1),W0(O,De),O[a.index]=De}(Xn,je,wn,Un,It,le,ve);nn=fl(dt,Cr),je&&function vC(a,l,h,x){if(x)Gr(a,h,["ng-version",j2.full]);else{const{attrs:O,classes:j}=function nI(a){const l=[],h=[];let x=1,O=2;for(;x<a.length;){let j=a[x];if("string"==typeof j)2===O?""!==j&&l.push(j,a[++x]):8===O&&h.push(j);else{if(!Ha(O))break;O=j}x++}return{attrs:l,classes:h}}(l.selectors[0]);O&&Gr(a,h,O),j&&j.length>0&&Il(a,h,j.join(" "))}}(ve,wn,je,x),void 0!==h&&function VI(a,l,h){const x=a.projection=[];for(let O=0;O<l.length;O++){const j=h[O];x.push(null!=j?Array.from(j):null)}}(nn,this.ngContentSelectors,h),Gt=function Xd(a,l,h,x,O,j){const X=zi(),le=O[Qe],pe=ii(X,O);hC(le,O,X,h,null,x);for(let De=0;De<h.length;De++)rs(so(O,le,X.directiveStart+De,X),O);fC(le,O,X),pe&&rs(pe,O);const ve=so(O,le,X.directiveStart+X.componentOffset,X);if(a[pn]=O[pn]=ve,null!==j)for(const De of j)De(ve,l);return lC(le,X,a),ve}(Xr,wn,Un,Lt,It,[r4]),$a(dt,It,null)}finally{h0()}return new bC(this.componentType,Gt,Tc(nn,It),It,nn)}}class bC extends HD{constructor(l,h,x,O,j){super(),this.location=x,this._rootLView=O,this._tNode=j,this.instance=h,this.hostView=this.changeDetectorRef=new Jb(O),this.componentType=l}setInput(l,h){const x=this._tNode.inputs;let O;if(null!==x&&(O=x[l])){const j=this._rootLView;Yb(j[Qe],j,O,l,h),K0(fi(this._tNode.index,j))}}get injector(){return new qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function r4(){const a=zi();Yl(Et()[Qe],a)}function X0(a){let l=function wC(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),h=!0;const x=[a];for(;l;){let O;if(hi(a))O=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new C(903,!1);O=l.\u0275dir}if(O){if(h){x.push(O);const X=a;X.inputs=TC(a.inputs),X.declaredInputs=TC(a.declaredInputs),X.outputs=TC(a.outputs);const le=O.hostBindings;le&&HI(a,le);const pe=O.viewQuery,ve=O.contentQueries;if(pe&&EC(a,pe),ve&&Xb(a,ve),B(a.inputs,O.inputs),B(a.declaredInputs,O.declaredInputs),B(a.outputs,O.outputs),hi(O)&&O.data.animation){const De=a.data;De.animation=(De.animation||[]).concat(O.data.animation)}}const j=O.features;if(j)for(let X=0;X<j.length;X++){const le=j[X];le&&le.ngInherit&&le(a),le===X0&&(h=!1)}}l=Object.getPrototypeOf(l)}!function CC(a){let l=0,h=null;for(let x=a.length-1;x>=0;x--){const O=a[x];O.hostVars=l+=O.hostVars,O.hostAttrs=To(O.hostAttrs,h=To(h,O.hostAttrs))}}(x)}function TC(a){return a===lr?{}:a===Zt?[]:a}function EC(a,l){const h=a.viewQuery;a.viewQuery=h?(x,O)=>{l(x,O),h(x,O)}:l}function Xb(a,l){const h=a.contentQueries;a.contentQueries=h?(x,O,j)=>{l(x,O,j),h(x,O,j)}:l}function HI(a,l){const h=a.hostBindings;a.hostBindings=h?(x,O)=>{l(x,O),h(x,O)}:l}function eh(a){return!!t_(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function t_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Ga(a,l,h){return a[l]=h}function Es(a,l,h){return!Object.is(a[l],h)&&(a[l]=h,!0)}function Lu(a,l,h,x){const O=Es(a,l,h);return Es(a,l+1,x)||O}function th(a,l,h,x){const O=Et();return Es(O,Da(),l)&&(mr(),function Nl(a,l,h,x,O,j){const X=ii(a,l);Zb(l[tn],X,j,a.value,h,x,O)}(Lr(),O,a,l,h,x)),th}function Bu(a,l,h,x){return Es(a,Da(),h)?l+v(h)+x:qn}function RC(a,l,h,x,O,j,X,le){const pe=Et(),ve=mr(),De=a+Cr,je=ve.firstCreatePass?function n_(a,l,h,x,O,j,X,le,pe){const ve=l.consts,De=xm(l,a,4,X||null,vo(ve,le));Gb(l,h,De,vo(ve,pe)),Yl(l,De);const je=De.tView=cC(2,De,x,O,j,l.directiveRegistry,l.pipeRegistry,null,l.schemas,ve);return null!==l.queries&&(l.queries.template(l,De),je.queries=l.queries.embeddedTView(De)),De}(De,ve,pe,l,h,x,O,j,X):ve.data[De];ws(je,!1);const Xe=pe[tn].createComment("");Ua(ve,pe,Xe,je),rs(Xe,pe),W0(pe,pe[De]=pC(Xe,pe,Xe,je)),qo(je)&&q0(ve,pe,je),null!=X&&Jd(pe,je,le)}function OC(a){return xa(function Lh(){return Vn.lFrame.contextLView}(),Cr+a)}function Hf(a,l,h){const x=Et();return Es(x,Da(),l)&&co(mr(),Lr(),x,a,l,x[tn],h,!1),Hf}function $f(a,l,h,x,O){const X=O?"class":"style";Yb(a,h,l.inputs[X],X,x)}function Om(a,l,h,x){const O=Et(),j=mr(),X=Cr+a,le=O[tn],pe=j.firstCreatePass?function PC(a,l,h,x,O,j){const X=l.consts,pe=xm(l,a,2,x,vo(X,O));return Gb(l,h,pe,vo(X,j)),null!==pe.attrs&&Ff(pe,pe.attrs,!1),null!==pe.mergedAttrs&&Ff(pe,pe.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,pe),pe}(X,j,O,l,h,x):j.data[X],ve=O[X]=Vd(le,l,function f0(){return Vn.lFrame.currentNamespace}()),De=qo(pe);return ws(pe,!0),Ou(le,ve,pe),32!=(32&pe.flags)&&Ua(j,O,ve,pe),0===function tu(){return Vn.lFrame.elementDepthCount}()&&rs(ve,O),function yd(){Vn.lFrame.elementDepthCount++}(),De&&(q0(j,O,pe),lC(j,pe,O)),null!==x&&Jd(O,pe),Om}function r_(){let a=zi();iu()?su():(a=a.parent,ws(a,!1));const l=a;!function bd(){Vn.lFrame.elementDepthCount--}();const h=mr();return h.firstCreatePass&&(Yl(h,a),to(a)&&h.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Gh(a){return 0!=(8&a.flags)}(l)&&$f(h,l,Et(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function $p(a){return 0!=(16&a.flags)}(l)&&$f(h,l,Et(),l.stylesWithoutHost,!1),r_}function Pm(a,l,h,x){return Om(a,l,h,x),r_(),Pm}function i_(a,l,h){const x=Et(),O=mr(),j=a+Cr,X=O.firstCreatePass?function FC(a,l,h,x,O){const j=l.consts,X=vo(j,x),le=xm(l,a,8,"ng-container",X);return null!==X&&Ff(le,X,!0),Gb(l,h,le,vo(j,O)),null!==l.queries&&l.queries.elementStart(l,le),le}(j,O,x,l,h):O.data[j];ws(X,!0);const le=x[j]=x[tn].createComment("");return Ua(O,x,le,X),rs(le,x),qo(X)&&(q0(O,x,X),lC(O,X,x)),null!=h&&Jd(x,X),i_}function s_(){let a=zi();const l=mr();return iu()?su():(a=a.parent,ws(a,!1)),l.firstCreatePass&&(Yl(l,a),to(a)&&l.queries.elementEnd(a)),s_}function BC(){return Et()}function nv(a){return!!a&&"function"==typeof a.then}function jC(a){return!!a&&"function"==typeof a.subscribe}const Uu=jC;function Fm(a,l,h,x){const O=Et(),j=mr(),X=zi();return function UC(a,l,h,x,O,j,X){const le=qo(x),ve=a.firstCreatePass&&gC(a),De=l[pn],je=mC(l);let Xe=!0;if(3&x.type||X){const Gt=ii(x,l),nn=X?X(Gt):Gt,wn=je.length,Un=X?Xn=>X(Jr(Xn[x.index])):x.index;let Lt=null;if(!X&&le&&(Lt=function a_(a,l,h,x){const O=a.cleanup;if(null!=O)for(let j=0;j<O.length-1;j+=2){const X=O[j];if(X===h&&O[j+1]===x){const le=l[hn],pe=O[j+2];return le.length>pe?le[pe]:null}"string"==typeof X&&(j+=2)}return null}(a,l,O,x.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=j,Lt.__ngLastListenerFn__=j,Xe=!1;else{j=HC(x,l,De,j,!1);const Xn=h.listen(nn,O,j);je.push(j,Xn),ve&&ve.push(O,Un,wn,wn+1)}}else j=HC(x,l,De,j,!1);const dt=x.outputs;let It;if(Xe&&null!==dt&&(It=dt[O])){const Gt=It.length;if(Gt)for(let nn=0;nn<Gt;nn+=2){const Xr=l[It[nn]][It[nn+1]].subscribe(j),Ri=je.length;je.push(j,Xr),ve&&ve.push(O,x.index,Ri,-(Ri+1))}}}(j,O,O[tn],X,a,l,x),Fm}function VC(a,l,h,x){try{return vs(6,l,h),!1!==h(x)}catch(O){return _C(a,O),!1}finally{vs(7,l,h)}}function HC(a,l,h,x,O){return function j(X){if(X===Function)return x;K0(a.componentOffset>-1?fi(a.index,l):l);let pe=VC(l,h,x,X),ve=j.__ngNextListenerFn__;for(;ve;)pe=VC(l,h,ve,X)&&pe,ve=ve.__ngNextListenerFn__;return O&&!1===pe&&(X.preventDefault(),X.returnValue=!1),pe}}function $C(a=1){return function ib(a){return(Vn.lFrame.contextLView=function $h(a,l){for(;a>0;)l=l[Fr],a--;return l}(a,Vn.lFrame.contextLView))[pn]}(a)}function WI(a,l){let h=null;const x=function U0(a){const l=a.attrs;if(null!=l){const h=l.indexOf(5);if(!(1&h))return l[h+1]}return null}(a);for(let O=0;O<l.length;O++){const j=l[O];if("*"!==j){if(null===x?Cm(a,j,!0):XD(x,j))return O}else h=O}return h}function l_(a){const l=Et()[Dr][mn];if(!l.projection){const x=l.projection=Tl(a?a.length:1,null),O=x.slice();let j=l.child;for(;null!==j;){const X=a?WI(j,a):0;null!==X&&(O[X]?O[X].projectionNext=j:x[X]=j,O[X]=j),j=j.next}}}function zC(a,l=0,h){const x=Et(),O=mr(),j=xm(O,Cr+a,16,null,h||null);null===j.projection&&(j.projection=l),su(),32!=(32&j.flags)&&function S0(a,l,h){sa(l[tn],0,l,h,pf(a,h,l),gf(h.parent||l[mn],h,l))}(O,x,j)}function zf(a,l,h){return Gf(a,"",l,"",h),zf}function Gf(a,l,h,x,O){const j=Et(),X=Bu(j,l,h,x);return X!==qn&&co(mr(),Lr(),j,a,X,j[tn],O,!1),Gf}function u_(a,l){return a<<17|l<<2}function xc(a){return a>>17&32767}function KC(a){return 2|a}function rh(a){return(131068&a)>>2}function sv(a,l){return-131069&a|l<<2}function ov(a){return 1|a}function JC(a,l,h,x,O){const j=a[h+1],X=null===l;let le=x?xc(j):rh(j),pe=!1;for(;0!==le&&(!1===pe||X);){const De=a[le+1];QC(a[le],l)&&(pe=!0,a[le+1]=x?ov(De):KC(De)),le=x?xc(De):rh(De)}pe&&(a[h+1]=x?KC(j):ov(j))}function QC(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&mi(a,l)>=0}const is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function d_(a){return a.substring(is.key,is.keyEnd)}function XC(a,l){const h=is.textEnd;return h===l?-1:(l=is.keyEnd=function lv(a,l,h){for(;l<h&&a.charCodeAt(l)>32;)l++;return l}(a,is.key=l,h),Ss(a,l,h))}function Ss(a,l,h){for(;l<h&&a.charCodeAt(l)<=32;)l++;return l}function cv(a,l,h){return ua(a,l,h,!1),cv}function uv(a,l){return ua(a,l,null,!0),uv}function dv(a){!function vi(a,l,h,x){const O=mr(),j=ro(2);O.firstUpdatePass&&rT(O,null,j,x);const X=Et();if(h!==qn&&Es(X,j,h)){const le=O.data[fs()];if(hv(le,x)&&!ih(O,j)){let pe=x?le.classesWithoutHost:le.stylesWithoutHost;null!==pe&&(h=y(pe,h||"")),$f(O,le,X,h,x)}else!function oT(a,l,h,x,O,j,X,le){O===qn&&(O=Zt);let pe=0,ve=0,De=0<O.length?O[0]:null,je=0<j.length?j[0]:null;for(;null!==De||null!==je;){const Xe=pe<O.length?O[pe+1]:void 0,dt=ve<j.length?j[ve+1]:void 0;let Gt,It=null;De===je?(pe+=2,ve+=2,Xe!==dt&&(It=je,Gt=dt)):null===je||null!==De&&De<je?(pe+=2,It=De):(ve+=2,It=je,Gt=dt),null!==It&&aT(a,l,h,x,It,Gt,X,le),De=pe<O.length?O[pe]:null,je=ve<j.length?j[ve]:null}}(O,le,X,X[tn],X[j+1],X[j+1]=function oA(a,l,h){if(null==h||""===h)return Zt;const x=[],O=pt(h);if(Array.isArray(O))for(let j=0;j<O.length;j++)a(x,O[j],!0);else if("object"==typeof O)for(const j in O)O.hasOwnProperty(j)&&a(x,j,O[j]);else"string"==typeof O&&l(x,O);return x}(a,l,h),x,j)}}(aA,qa,a,!0)}function qa(a,l){for(let h=function eA(a){return function eT(a){is.key=0,is.keyEnd=0,is.value=0,is.valueEnd=0,is.textEnd=a.length}(a),XC(a,Ss(a,0,is.textEnd))}(l);h>=0;h=XC(l,h))ps(a,d_(l),!0)}function ua(a,l,h,x){const O=Et(),j=mr(),X=ro(2);j.firstUpdatePass&&rT(j,a,X,x),l!==qn&&Es(O,X,l)&&aT(j,j.data[fs()],O,O[tn],a,O[X+1]=function lA(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=A(pt(a)))),a}(l,h),x,X)}function ih(a,l){return l>=a.expandoStartIndex}function rT(a,l,h,x){const O=a.data;if(null===O[h+1]){const j=O[fs()],X=ih(a,h);hv(j,x)&&null===l&&!X&&(l=!1),l=function iA(a,l,h,x){const O=wo(a);let j=x?l.residualClasses:l.residualStyles;if(null===O)0===(x?l.classBindings:l.styleBindings)&&(h=jm(h=qf(null,a,l,h,x),l.attrs,x),j=null);else{const X=l.directiveStylingLast;if(-1===X||a[X]!==O)if(h=qf(O,a,l,h,x),null===j){let pe=function iT(a,l,h){const x=h?l.classBindings:l.styleBindings;if(0!==rh(x))return a[xc(x)]}(a,l,x);void 0!==pe&&Array.isArray(pe)&&(pe=qf(null,a,l,pe[1],x),pe=jm(pe,l.attrs,x),function sA(a,l,h,x){a[xc(h?l.classBindings:l.styleBindings)]=x}(a,l,x,pe))}else j=function sT(a,l,h){let x;const O=l.directiveEnd;for(let j=1+l.directiveStylingLast;j<O;j++)x=jm(x,a[j].hostAttrs,h);return jm(x,l.attrs,h)}(a,l,x)}return void 0!==j&&(x?l.residualClasses=j:l.residualStyles=j),h}(O,j,l,x),function YC(a,l,h,x,O,j){let X=j?l.classBindings:l.styleBindings,le=xc(X),pe=rh(X);a[x]=h;let De,ve=!1;if(Array.isArray(h)?(De=h[1],(null===De||mi(h,De)>0)&&(ve=!0)):De=h,O)if(0!==pe){const Xe=xc(a[le+1]);a[x+1]=u_(Xe,le),0!==Xe&&(a[Xe+1]=sv(a[Xe+1],x)),a[le+1]=function WC(a,l){return 131071&a|l<<17}(a[le+1],x)}else a[x+1]=u_(le,0),0!==le&&(a[le+1]=sv(a[le+1],x)),le=x;else a[x+1]=u_(pe,0),0===le?le=x:a[pe+1]=sv(a[pe+1],x),pe=x;ve&&(a[x+1]=KC(a[x+1])),JC(a,De,x,!0),JC(a,De,x,!1),function QI(a,l,h,x,O){const j=O?a.residualClasses:a.residualStyles;null!=j&&"string"==typeof l&&mi(j,l)>=0&&(h[x+1]=ov(h[x+1]))}(l,De,a,x,j),X=u_(le,pe),j?l.classBindings=X:l.styleBindings=X}(O,j,l,h,X,x)}}function qf(a,l,h,x,O){let j=null;const X=h.directiveEnd;let le=h.directiveStylingLast;for(-1===le?le=h.directiveStart:le++;le<X&&(j=l[le],x=jm(x,j.hostAttrs,O),j!==a);)le++;return null!==a&&(h.directiveStylingLast=le),x}function jm(a,l,h){const x=h?1:2;let O=-1;if(null!==l)for(let j=0;j<l.length;j++){const X=l[j];"number"==typeof X?O=X:O===x&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ps(a,X,!!h||l[++j]))}return void 0===a?null:a}function aA(a,l,h){const x=String(l);""!==x&&!x.includes(" ")&&ps(a,x,h)}function aT(a,l,h,x,O,j,X,le){if(!(3&l.type))return;const pe=a.data,ve=pe[le+1],De=function JI(a){return 1==(1&a)}(ve)?lT(pe,l,h,O,rh(ve),X):void 0;p_(De)||(p_(j)||function iv(a){return 2==(2&a)}(ve)&&(j=lT(pe,null,h,O,le,X)),function oa(a,l,h,x,O){if(l)O?a.addClass(h,x):a.removeClass(h,x);else{let j=-1===x.indexOf("-")?void 0:Mn.DashCase;null==O?a.removeStyle(h,x,j):("string"==typeof O&&O.endsWith("!important")&&(O=O.slice(0,-10),j|=Mn.Important),a.setStyle(h,x,O,j))}}(x,X,Sa(fs(),h),O,j))}function lT(a,l,h,x,O,j){const X=null===l;let le;for(;O>0;){const pe=a[O],ve=Array.isArray(pe),De=ve?pe[1]:pe,je=null===De;let Xe=h[O+1];Xe===qn&&(Xe=je?Zt:void 0);let dt=je?$n(Xe,x):De===x?Xe:void 0;if(ve&&!p_(dt)&&(dt=$n(pe,x)),p_(dt)&&(le=dt,X))return le;const It=a[O+1];O=X?xc(It):rh(It)}if(null!==l){let pe=j?l.residualClasses:l.residualStyles;null!=pe&&(le=$n(pe,x))}return le}function p_(a){return void 0!==a}function hv(a,l){return 0!=(a.flags&(l?8:16))}function Um(a,l=""){const h=Et(),x=mr(),O=a+Cr,j=x.firstCreatePass?xm(x,O,1,l,null):x.data[O],X=h[O]=ku(h[tn],l);Ua(x,h,X,j),ws(j,!1)}function m_(a){return g_("",a,""),m_}function g_(a,l,h){const x=Et(),O=Bu(x,a,l,h);return O!==qn&&Ec(x,fs(),O),g_}function __(a,l,h,x,O){const j=Et(),X=function nh(a,l,h,x,O,j){const le=Lu(a,Cs(),h,O);return ro(2),le?l+v(h)+x+v(O)+j:qn}(j,a,l,h,x,O);return X!==qn&&Ec(j,fs(),X),__}function y_(a,l,h){const x=Et();return Es(x,Da(),l)&&co(mr(),Lr(),x,a,l,x[tn],h,!0),y_}function b_(a,l,h){const x=Et();if(Es(x,Da(),l)){const j=mr(),X=Lr();co(j,X,x,a,l,function BI(a,l,h){return(null===a||hi(a))&&(h=function hl(a){for(;Array.isArray(a);){if("object"==typeof a[Di])return a;a=a[Tt]}return null}(h[l.index])),h[tn]}(wo(j.data),X,x),h,!0)}return b_}const Hu=void 0;var v_=["en",[["a","p"],["AM","PM"],Hu],[["AM","PM"],Hu,Hu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hu,"{1} 'at' {0}",Hu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bT(a){const h=Math.floor(Math.abs(a)),x=a.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===x?1:5}];let oh={};function w_(a){const l=function wT(a){return a.toLowerCase().replace(/_/g,"-")}(a);let h=vv(l);if(h)return h;const x=l.split("-")[0];if(h=vv(x),h)return h;if("en"===x)return v_;throw new C(701,!1)}function vT(a){return w_(a)[Pn.PluralCase]}function vv(a){return a in oh||(oh[a]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[a]),oh[a]}var Pn=(()=>((Pn=Pn||{})[Pn.LocaleId=0]="LocaleId",Pn[Pn.DayPeriodsFormat=1]="DayPeriodsFormat",Pn[Pn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pn[Pn.DaysFormat=3]="DaysFormat",Pn[Pn.DaysStandalone=4]="DaysStandalone",Pn[Pn.MonthsFormat=5]="MonthsFormat",Pn[Pn.MonthsStandalone=6]="MonthsStandalone",Pn[Pn.Eras=7]="Eras",Pn[Pn.FirstDayOfWeek=8]="FirstDayOfWeek",Pn[Pn.WeekendRange=9]="WeekendRange",Pn[Pn.DateFormat=10]="DateFormat",Pn[Pn.TimeFormat=11]="TimeFormat",Pn[Pn.DateTimeFormat=12]="DateTimeFormat",Pn[Pn.NumberSymbols=13]="NumberSymbols",Pn[Pn.NumberFormats=14]="NumberFormats",Pn[Pn.CurrencyCode=15]="CurrencyCode",Pn[Pn.CurrencySymbol=16]="CurrencySymbol",Pn[Pn.CurrencyName=17]="CurrencyName",Pn[Pn.Currencies=18]="Currencies",Pn[Pn.Directionality=19]="Directionality",Pn[Pn.PluralCase=20]="PluralCase",Pn[Pn.ExtraData=21]="ExtraData",Pn))();const wv=["zero","one","two","few","many"],ah="en-US",Zf={marker:"element"},lh={marker:"ICU"};var li=(()=>((li=li||{})[li.SHIFT=2]="SHIFT",li[li.APPEND_EAGERLY=1]="APPEND_EAGERLY",li[li.COMMENT=2]="COMMENT",li))();let Cv=ah;function Fs(a){(function N(a,l){null==a&&P(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(Cv=a.toLowerCase().replace(/_/g,"-"))}function Tv(a,l,h){const x=l.insertBeforeIndex,O=Array.isArray(x)?x[0]:x;return null===O?lm(a,0,h):Jr(h[O])}function vA(a,l,h,x,O){const j=l.insertBeforeIndex;if(Array.isArray(j)){let X=x,le=null;if(3&l.type||(le=X,X=O),null!==X&&-1===l.componentOffset)for(let pe=1;pe<j.length;pe++)Dl(a,X,h[j[pe]],le,!1)}}function wA(a,l){if(a.push(l),a.length>1)for(let h=a.length-2;h>=0;h--){const x=a[h];zu(x)||ch(x,l)&&null===Ev(x)&&C_(x,l.index)}}function zu(a){return!(64&a.type)}function ch(a,l){return zu(l)||a.index>l.index}function Ev(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function C_(a,l){const h=a.insertBeforeIndex;Array.isArray(h)?h[0]=l:(Ps(Tv,vA),a.insertBeforeIndex=l)}function Vm(a,l){const h=a.data[l];return null===h||"string"==typeof h?null:h.hasOwnProperty("currentCaseLViewIndex")?h:h.value}function u4(a,l,h){const x=z0(a,h,64,null,null);return wA(l,x),x}function xv(a,l){const h=l[a.currentCaseLViewIndex];return null===h?h:h<0?~h:h}function TA(a){return a>>>17}function EA(a){return(131070&a)>>>1}let T_=0,Hm=0;function ST(a,l,h,x){const O=h[tn];let X,j=null;for(let le=0;le<l.length;le++){const pe=l[le];if("string"==typeof pe){const ve=l[++le];null===h[ve]&&(h[ve]=ku(O,pe))}else if("number"==typeof pe)switch(1&pe){case 0:const ve=TA(pe);let De,je;if(null===j&&(j=ve,X=Ao(O,x)),ve===j?(De=x,je=X):(De=null,je=Jr(h[ve])),null!==je){const Gt=EA(pe);Dl(O,je,h[Gt],De,!1);const wn=Vm(a,Gt);if(null!==wn&&"object"==typeof wn){const Un=xv(wn,h);null!==Un&&ST(a,wn.create[Un],h,h[wn.anchorIdx])}}break;case 1:const dt=l[++le],It=l[++le];Zb(O,Sa(pe>>>1,h),null,null,dt,It,null)}else switch(pe){case lh:const ve=l[++le],De=l[++le];null===h[De]&&rs(h[De]=hf(O,ve),h);break;case Zf:const je=l[++le],Xe=l[++le];null===h[Xe]&&rs(h[Xe]=Vd(O,je,null),h)}}}function E_(a,l,h,x,O){for(let j=0;j<h.length;j++){const X=h[j],le=h[++j];if(X&O){let pe="";for(let ve=j+1;ve<=j+le;ve++){const De=h[ve];if("string"==typeof De)pe+=De;else if("number"==typeof De)if(De<0)pe+=v(l[x-De]);else{const je=De>>>2;switch(3&De){case 1:const Xe=h[++ve],dt=h[++ve],It=a.data[je];"string"==typeof It?Zb(l[tn],l[je],null,It,Xe,pe,dt):co(a,It,l,Xe,pe,l[tn],dt,!1);break;case 0:const Gt=l[je];null!==Gt&&im(l[tn],Gt,pe);break;case 2:S_(a,Vm(a,je),l,pe);break;case 3:Wf(a,Vm(a,je),x,l)}}}}else{const pe=h[j+1];if(pe>0&&3==(3&pe)){const De=Vm(a,pe>>>2);l[De.currentCaseLViewIndex]<0&&Wf(a,De,x,l)}}j+=le}}function Wf(a,l,h,x){let O=x[l.currentCaseLViewIndex];if(null!==O){let j=T_;O<0&&(O=x[l.currentCaseLViewIndex]=~O,j=-1),E_(a,x,l.update[O],h,j)}}function S_(a,l,h,x){const O=function $m(a,l){let h=a.cases.indexOf(l);if(-1===h)switch(a.type){case 1:{const x=function CT(a,l){const h=vT(l)(parseInt(a,10)),x=wv[h];return void 0!==x?x:"other"}(l,function $u(){return Cv}());h=a.cases.indexOf(x),-1===h&&"other"!==x&&(h=a.cases.indexOf("other"));break}case 0:h=a.cases.indexOf("other")}return-1===h?null:h}(l,x);if(xv(l,h)!==O&&(uh(a,l,h),h[l.currentCaseLViewIndex]=null===O?null:~O,null!==O)){const X=h[l.anchorIdx];X&&ST(a,l.create[O],h,X)}}function uh(a,l,h){let x=xv(l,h);if(null!==x){const O=l.remove[x];for(let j=0;j<O.length;j++){const X=O[j];if(X>0){const le=Sa(X,h);null!==le&&Gd(h[tn],le)}else uh(a,Vm(a,~X),h)}}}function Dv(){const a=[];let h,x,l=-1;function j(le,pe){l=0;const ve=xv(le,pe);x=null!==ve?le.remove[ve]:Zt}function X(){if(l<x.length){const le=x[l++];return le>0?h[le]:(a.push(l,x),j(h[Qe].data[~le],h),X())}return 0===a.length?null:(x=a.pop(),l=a.pop(),X())}return function O(le,pe){for(h=pe;a.length;)a.pop();return j(le.value,pe),X}}const zm=/\ufffd(\d+):?\d*\ufffd/gi,Zi=/\ufffd(\d+)\ufffd/,IA=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,x_="\ufffd",AA=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,p4=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,dh=/\uE500/g;function Zm(a,l,h,x,O,j,X){const le=Dm(a,x,1,null);let pe=le<<li.SHIFT,ve=ru();l===ve&&(ve=null),null===ve&&(pe|=li.APPEND_EAGERLY),X&&(pe|=li.COMMENT,function Bd(a){void 0===nm&&(nm=a())}(Dv)),O.push(pe,null===j?"":j);const De=z0(a,le,X?32:1,null===j?"":j,null);wA(h,De);const je=De.index;return ws(De,!1),null!==ve&&l!==ve&&function CA(a,l){let h=a.insertBeforeIndex;null===h?(Ps(Tv,vA),h=a.insertBeforeIndex=[null,l]):(function oe(a,l,h){a!=l&&P(h,a,l,"==")}(Array.isArray(h),!0,"Expecting array here"),h.push(l))}(ve,je),De}function D_(a,l,h,x,O,j,X){const le=X.match(zm),pe=Zm(a,l,h,j,x,le?null:X,!1);le&&hh(O,X,pe.index,null,0,null)}function hh(a,l,h,x,O,j){const X=a.length,le=X+1;a.push(null,null);const pe=X+2,ve=l.split(zm);let De=0;for(let je=0;je<ve.length;je++){const Xe=ve[je];if(1&je){const dt=O+parseInt(Xe,10);a.push(-1-dt),De|=IT(dt)}else""!==Xe&&a.push(Xe)}return a.push(h<<2|(x?1:0)),x&&a.push(x,j),a[X]=De,a[le]=a.length-pe,De}function IT(a){return 1<<Math.min(a,31)}function Nv(a){let l,j,h="",x=0,O=!1;for(;null!==(l=AA.exec(a));)O?l[0]===`${x_}/*${j}${x_}`&&(x=l.index,O=!1):(h+=a.substring(x,l.index+l[0].length),j=l[1],O=!0);return h+=a.slice(x),h}function Mv(a,l,h,x,O,j){let X=0;const le={type:O.type,currentCaseLViewIndex:Dm(a,l,1,null),anchorIdx:j,cases:[],create:[],remove:[],update:[]};(function Rv(a,l,h){a.push(IT(l.mainBinding),2,-1-l.mainBinding,h<<2|2)})(h,O,j),function Sv(a,l,h){const x=a.data[l];null===x?a.data[l]=h:x.value=h}(a,j,le);const pe=O.values;for(let ve=0;ve<pe.length;ve++){const De=pe[ve],je=[];for(let Xe=0;Xe<De.length;Xe++){const dt=De[Xe];if("string"!=typeof dt){const It=je.push(dt)-1;De[Xe]=`\x3c!--\ufffd${It}\ufffd--\x3e`}}X=OA(a,le,l,h,x,O.cases[ve],De.join(""),je)|X}X&&function FA(a,l,h){a.push(l,1,h<<2|3)}(h,X,j)}function RA(a){const l=[],h=[];let x=1,O=0;const j=AT(a=a.replace(IA,function(X,le,pe){return x="select"===pe?0:1,O=parseInt(le.slice(1),10),""}));for(let X=0;X<j.length;){let le=j[X++].trim();1===x&&(le=le.replace(/\s*(?:=)?(\w+)\s*/,"$1")),le.length&&l.push(le);const pe=AT(j[X++]);l.length>h.length&&h.push(pe)}return{type:x,mainBinding:O,cases:l,values:h}}function AT(a){if(!a)return[];let l=0;const h=[],x=[],O=/[{}]/g;let j;for(O.lastIndex=0;j=O.exec(a);){const le=j.index;if("}"==j[0]){if(h.pop(),0==h.length){const pe=a.substring(l,le);IA.test(pe)?x.push(RA(pe)):x.push(pe),l=le+1}}else{if(0==h.length){const pe=a.substring(l,le);x.push(pe),l=le+1}h.push("{")}}const X=a.substring(l);return x.push(X),x}function OA(a,l,h,x,O,j,X,le){const pe=[],ve=[],De=[];l.cases.push(j),l.create.push(pe),l.remove.push(ve),l.update.push(De);const Xe=fm(vf()).getInertBodyElement(X),dt=S2(Xe)||Xe;return dt?A_(a,l,h,x,pe,ve,De,dt,O,le,0):0}function A_(a,l,h,x,O,j,X,le,pe,ve,De){let je=0,Xe=le.firstChild;for(;Xe;){const dt=Dm(a,h,1,null);switch(Xe.nodeType){case Node.ELEMENT_NODE:const It=Xe,Gt=It.tagName.toLowerCase();if(k0.hasOwnProperty(Gt)){k_(O,Zf,Gt,pe,dt),a.data[dt]=Gt;const Lt=It.attributes;for(let Xn=0;Xn<Lt.length;Xn++){const Xr=Lt.item(Xn),Ri=Xr.name.toLowerCase();Xr.value.match(zm)?mm.hasOwnProperty(Ri)&&hh(X,Xr.value,dt,Xr.name,0,N0[Ri]?bc:null):Ov(O,dt,Xr)}je=A_(a,l,h,x,O,j,X,Xe,dt,ve,De+1)|je,PA(j,dt,De)}break;case Node.TEXT_NODE:const nn=Xe.textContent||"",wn=nn.match(zm);k_(O,null,wn?"":nn,pe,dt),PA(j,dt,De),wn&&(je=hh(X,nn,dt,null,0,null)|je);break;case Node.COMMENT_NODE:const Un=Zi.exec(Xe.textContent||"");if(Un){const Xn=ve[parseInt(Un[1],10)];k_(O,lh,"",pe,dt),Mv(a,h,x,pe,Xn,dt),m4(j,dt,De)}}Xe=Xe.nextSibling}return je}function PA(a,l,h){0===h&&a.push(l)}function m4(a,l,h){0===h&&(a.push(~l),a.push(l))}function k_(a,l,h,x,O){null!==l&&a.push(l),a.push(h,O,function d4(a,l,h){return a|l<<17|h<<1}(0,x,O))}function Ov(a,l,h){a.push(l<<1|1,h.name,h.value)}function RT(a,l,h=-1){const x=mr(),O=Et(),j=Cr+a,X=vo(x.consts,l),le=ru();x.firstCreatePass&&function qm(a,l,h,x,O,j){const X=ru(),le=[],pe=[],ve=[[]];O=function MA(a,l){if(function NA(a){return-1===a}(l))return Nv(a);{const h=a.indexOf(`:${l}${x_}`)+2+l.toString().length,x=a.search(new RegExp(`${x_}\\/\\*\\d+:${l}${x_}`));return Nv(a.substring(h,x))}}(O,j);const De=function Gm(a){return a.replace(dh," ")}(O).split(p4);for(let je=0;je<De.length;je++){let Xe=De[je];if(1&je){const dt=47===Xe.charCodeAt(0),Gt=(Xe.charCodeAt(dt?1:0),Cr+Number.parseInt(Xe.substring(dt?2:1)));if(dt)ve.shift(),ws(ru(),!1);else{const nn=u4(a,ve[0],Gt);ve.unshift([]),ws(nn,!0)}}else{const dt=AT(Xe);for(let It=0;It<dt.length;It++){let Gt=dt[It];if(1&It){const nn=Gt;if("object"!=typeof nn)throw new Error(`Unable to parse ICU expression in "${O}" message.`);Mv(a,h,pe,l,nn,Zm(a,X,ve[0],h,le,"",!0).index)}else""!==Gt&&D_(a,X,ve[0],le,pe,h,Gt)}}}a.data[x]={create:le,update:pe}}(x,null===le?0:le.index,O,j,X,h);const pe=x.data[j],De=T0(x,le===O[mn]?null:le,O);(function DA(a,l,h,x){const O=a[tn];for(let j=0;j<l.length;j++){const X=l[j++],le=l[j],ve=(X&li.APPEND_EAGERLY)===li.APPEND_EAGERLY,De=X>>>li.SHIFT;let je=a[De];null===je&&(je=a[De]=(X&li.COMMENT)===li.COMMENT?O.createComment(le):ku(O,le)),ve&&null!==h&&Dl(O,h,je,x,!1)}})(O,pe.create,De,le&&8&le.type?O[le.index]:null),Kl(!0)}function BA(a,l,h){RT(a,l,h),function Fv(){Kl(!1)}()}function OT(a){return function ET(a){a&&(T_|=1<<Math.min(Hm,31)),Hm++}(Es(Et(),Da(),a)),OT}function jA(a){!function xA(a,l,h){if(Hm>0){const x=a.data[h];E_(a,l,Array.isArray(x)?x:x.update,Cs()-Hm-1,T_)}T_=0,Hm=0}(mr(),Et(),a+Cr)}function Lv(a,l,h,x,O){if(a=u(a),Array.isArray(a))for(let j=0;j<a.length;j++)Lv(a[j],l,h,x,O);else{const j=mr(),X=Et();let le=Cc(a)?a:u(a.provide),pe=xb(a);const ve=zi(),De=1048575&ve.providerIndexes,je=ve.directiveStart,Xe=ve.providerIndexes>>20;if(Cc(a)||!a.multi){const dt=new Qo(pe,O,Pf),It=Ac(le,l,O?De:De+Xe,je);-1===It?(oc(wl(ve,X),j,le),N_(j,a,l.length),l.push(le),ve.directiveStart++,ve.directiveEnd++,O&&(ve.providerIndexes+=1048576),h.push(dt),X.push(dt)):(h[It]=dt,X[It]=dt)}else{const dt=Ac(le,l,De+Xe,je),It=Ac(le,l,De,De+Xe),nn=It>=0&&h[It];if(O&&!nn||!O&&!(dt>=0&&h[dt])){oc(wl(ve,X),j,le);const wn=function b4(a,l,h,x,O){const j=new Qo(a,h,Pf);return j.multi=[],j.index=l,j.componentProviders=0,Bv(j,O,x&&!h),j}(O?Km:VA,h.length,O,x,pe);!O&&nn&&(h[It].providerFactory=wn),N_(j,a,l.length,0),l.push(le),ve.directiveStart++,ve.directiveEnd++,O&&(ve.providerIndexes+=1048576),h.push(wn),X.push(wn)}else N_(j,a,dt>-1?dt:It,Bv(h[O?It:dt],pe,!O&&x));!O&&x&&nn&&h[It].componentProviders++}}}function N_(a,l,h,x){const O=Cc(l),j=function P0(a){return!!a.useClass}(l);if(O||j){const pe=(j?u(l.useClass):l).prototype.ngOnDestroy;if(pe){const ve=a.destroyHooks||(a.destroyHooks=[]);if(!O&&l.multi){const De=ve.indexOf(h);-1===De?ve.push(h,[x,pe]):ve[De+1].push(x,pe)}else ve.push(h,pe)}}}function Bv(a,l,h){return h&&a.componentProviders++,a.multi.push(l)-1}function Ac(a,l,h,x){for(let O=h;O<x;O++)if(l[O]===a)return O;return-1}function VA(a,l,h,x){return jv(this.multi,[])}function Km(a,l,h,x){const O=this.multi;let j;if(this.providerFactory){const X=this.providerFactory.componentProviders,le=so(h,h[Qe],this.providerFactory.index,x);j=le.slice(0,X),jv(O,j);for(let pe=X;pe<le.length;pe++)j.push(le[pe])}else j=[],jv(O,j);return j}function jv(a,l){for(let h=0;h<a.length;h++)l.push((0,a[h])());return l}function Uv(a,l=[]){return h=>{h.providersResolver=(x,O)=>function PT(a,l,h){const x=mr();if(x.firstCreatePass){const O=hi(a);Lv(h,x.data,x.blueprint,O,!0),Lv(l,x.data,x.blueprint,O,!1)}}(x,O?O(a):a,l)}}class Kf{}class Vv{}function HA(a,l){return new M_(a,l??null)}class M_ extends Kf{constructor(l,h){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new J0(this);const x=cr(l);this._bootstrapComponents=kl(x.bootstrap),this._r3Injector=Bb(l,h,[{provide:Kf,useValue:this},{provide:Af,useValue:this.componentFactoryResolver}],A(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Hv extends Vv{constructor(l){super(),this.moduleType=l}create(l){return new M_(this.moduleType,l)}}class FT extends Kf{constructor(l,h,x){super(),this.componentFactoryResolver=new J0(this),this.instance=null;const O=new R2([...l,{provide:Kf,useValue:this},{provide:Af,useValue:this.componentFactoryResolver}],h||L0(),x,new Set(["environment"]));this.injector=O,O.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function $v(a,l,h=null){return new FT(a,l,h).injector}let kc=(()=>{class a{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h.id)){const x=xf(0,h.type),O=x.length>0?$v([x],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h.id,O)}return this.cachedInjectors.get(h.id)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=he({token:a,providedIn:"environment",factory:()=>new a(Be(Kd))}),a})();function LT(a){a.getStandaloneInjector=l=>l.get(kc).getOrCreateStandaloneInjector(a)}function qv(a,l,h,x){return ZT(Et(),pi(),a,l,h,x)}function qu(a,l,h,x,O){return function Wv(a,l,h,x,O,j,X){const le=l+h;return Lu(a,le,O,j)?Ga(a,le+2,X?x.call(X,O,j):x(O,j)):Yf(a,le+2)}(Et(),pi(),a,l,h,x,O)}function zT(a,l,h,x,O,j){return function WT(a,l,h,x,O,j,X,le){const pe=l+h;return function No(a,l,h,x,O){const j=Lu(a,l,h,x);return Es(a,l+2,O)||j}(a,pe,O,j,X)?Ga(a,pe+3,le?x.call(le,O,j,X):x(O,j,X)):Yf(a,pe+3)}(Et(),pi(),a,l,h,x,O,j)}function Yf(a,l){const h=a[l];return h===qn?void 0:h}function ZT(a,l,h,x,O,j){const X=l+h;return Es(a,X,O)?Ga(a,X+1,j?x.call(j,O):x(O)):Yf(a,X+1)}function Yv(a,l){const h=mr();let x;const O=a+Cr;h.firstCreatePass?(x=function YA(a,l){if(l)for(let h=l.length-1;h>=0;h--){const x=l[h];if(a===x.name)return x}}(l,h.pipeRegistry),h.data[O]=x,x.onDestroy&&(h.destroyHooks??(h.destroyHooks=[])).push(O,x.onDestroy)):x=h.data[O];const j=x.factory||(x.factory=Ca(x.type)),X=ze(Pf);try{const le=bl(!1),pe=j();return bl(le),function ZI(a,l,h,x){h>=a.data.length&&(a.data[h]=null,a.blueprint[h]=null),l[h]=x}(h,Et(),O,pe),pe}finally{ze(X)}}function QA(a,l,h){const x=a+Cr,O=Et(),j=xa(O,x);return function P_(a,l){return a[Qe].data[l].pure}(O,x)?ZT(O,pi(),l,j.transform,h,j):j.transform(h)}function JT(a){return l=>{setTimeout(a,void 0,l)}}const Nc=class C4 extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,h,x){let O=l,j=h||(()=>null),X=x;if(l&&"object"==typeof l){const pe=l;O=pe.next?.bind(pe),j=pe.error?.bind(pe),X=pe.complete?.bind(pe)}this.__isAsync&&(j=JT(j),O&&(O=JT(O)),X&&(X=JT(X)));const le=super.subscribe({next:O,error:j,complete:X});return l instanceof et.w0&&l.add(le),le}};function T4(){return this._results[Symbol.iterator]()}class QT{get changes(){return this._changes||(this._changes=new Nc)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=QT.prototype;h[Symbol.iterator]||(h[Symbol.iterator]=T4)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,h){return this._results.reduce(l,h)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,h){const x=this;x.dirty=!1;const O=function Ts(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Od(a,l,h){if(a.length!==l.length)return!1;for(let x=0;x<a.length;x++){let O=a[x],j=l[x];if(h&&(O=h(O),j=h(j)),j!==O)return!1}return!0}(x._results,O,h))&&(x._results=O,x.length=O.length,x.last=O[this.length-1],x.first=O[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let F_=(()=>{class a{}return a.__NG_ELEMENT_ID__=L_,a})();const XT=F_,ek=class extends XT{constructor(l,h,x){super(),this._declarationLView=l,this._declarationTContainer=h,this.elementRef=x}createEmbeddedView(l,h){const x=this._declarationTContainer.tView,O=$0(this._declarationLView,x,l,16,null,x.declTNode,null,null,null,null,h||null);O[ds]=this._declarationLView[this._declarationTContainer.index];const X=this._declarationLView[ri];return null!==X&&(O[ri]=X.createEmbeddedView(x)),$a(x,O,l),new Lf(O)}};function L_(){return Jf(zi(),Et())}function Jf(a,l){return 4&a.type?new ek(l,a,Tc(a,l)):null}let da=(()=>{class a{}return a.__NG_ELEMENT_ID__=E4,a})();function E4(){return Qv(zi(),Et())}const tk=da,eE=class extends tk{constructor(l,h,x){super(),this._lContainer=l,this._hostTNode=h,this._hostLView=x}get element(){return Tc(this._hostTNode,this._hostLView)}get injector(){return new qs(this._hostTNode,this._hostLView)}get parentInjector(){const l=hu(this._hostTNode,this._hostLView);if(Id(l)){const h=uu(l,this._hostLView),x=tc(l);return new qs(h[Qe].data[x+8],h)}return new qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const h=tE(this._lContainer);return null!==h&&h[l]||null}get length(){return this._lContainer.length-Yr}createEmbeddedView(l,h,x){let O,j;"number"==typeof x?O=x:null!=x&&(O=x.index,j=x.injector);const X=l.createEmbeddedView(h||{},j);return this.insert(X,O),X}createComponent(l,h,x,O,j){const X=l&&!function wu(a){return"function"==typeof a}(l);let le;if(X)le=h;else{const je=h||{};le=je.index,x=je.injector,O=je.projectableNodes,j=je.environmentInjector||je.ngModuleRef}const pe=X?l:new Qd(En(l)),ve=x||this.parentInjector;if(!j&&null==pe.ngModule){const Xe=(X?ve:this.parentInjector).get(Kd,null);Xe&&(j=Xe)}const De=pe.create(ve,O,void 0,j);return this.insert(De.hostView,le),De}insert(l,h){const x=l._lView,O=x[Qe];if(function Xc(a){return Qi(a[zt])}(x)){const De=this.indexOf(l);if(-1!==De)this.detach(De);else{const je=x[zt],Xe=new eE(je,je[mn],je[zt]);Xe.detach(Xe.indexOf(l))}}const j=this._adjustIndex(h),X=this._lContainer;!function db(a,l,h,x){const O=Yr+x,j=h.length;x>0&&(h[O-1][Yt]=l),x<j-Yr?(l[Yt]=h[O],Cu(h,Yr+x,l)):(h.push(l),l[Yt]=null),l[zt]=h;const X=l[ds];null!==X&&h!==X&&function hb(a,l){const h=a[$r];l[Dr]!==l[zt][zt][Dr]&&(a[Ui]=!0),null===h?a[$r]=[l]:h.push(l)}(X,l);const le=l[ri];null!==le&&le.insertView(a),l[wt]|=64}(O,x,X,j);const le=ia(j,X),pe=x[tn],ve=Ao(pe,X[Vi]);return null!==ve&&function cb(a,l,h,x,O,j){x[Tt]=O,x[mn]=l,Mu(a,x,h,1,O,j)}(O,X[mn],pe,x,ve,le),l.attachToViewContainerRef(),Cu(Jv(X),j,l),l}move(l,h){return this.insert(l,h)}indexOf(l){const h=tE(this._lContainer);return null!==h?h.indexOf(l):-1}remove(l){const h=this._adjustIndex(l,-1),x=om(this._lContainer,h);x&&(cc(Jv(this._lContainer),h),ff(x[Qe],x))}detach(l){const h=this._adjustIndex(l,-1),x=om(this._lContainer,h);return x&&null!=cc(Jv(this._lContainer),h)?new Lf(x):null}_adjustIndex(l,h=0){return l??this.length+h}};function tE(a){return a[Hi]}function Jv(a){return a[Hi]||(a[Hi]=[])}function Qv(a,l){let h;const x=l[a.index];if(Qi(x))h=x;else{let O;if(8&a.type)O=Jr(x);else{const j=l[tn];O=j.createComment("");const X=ii(a,l);Dl(j,Ao(j,X),O,function mf(a,l){return a.nextSibling(l)}(j,X),!1)}l[a.index]=h=pC(x,l,O,a),W0(l,h)}return new eE(h,a,l)}class Qf{constructor(l){this.queryList=l,this.matches=null}clone(){return new Qf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pl{constructor(l=[]){this.queries=l}createEmbeddedView(l){const h=l.queries;if(null!==h){const x=null!==l.contentQueries?l.contentQueries[0]:h.length,O=[];for(let j=0;j<x;j++){const X=h.getByIndex(j);O.push(this.queries[X.indexInDeclarationView].clone())}return new Pl(O)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let h=0;h<this.queries.length;h++)null!==sE(l,h).matches&&this.queries[h].setDirty()}}class nk{constructor(l,h,x=null){this.predicate=l,this.flags=h,this.read=x}}class Xv{constructor(l=[]){this.queries=l}elementStart(l,h){for(let x=0;x<this.queries.length;x++)this.queries[x].elementStart(l,h)}elementEnd(l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(l)}embeddedTView(l){let h=null;for(let x=0;x<this.length;x++){const O=null!==h?h.length:0,j=this.getByIndex(x).embeddedTView(l,O);j&&(j.indexInDeclarationView=x,null!==h?h.push(j):h=[j])}return null!==h?new Xv(h):null}template(l,h){for(let x=0;x<this.queries.length;x++)this.queries[x].template(l,h)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class e1{constructor(l,h=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(l,h){this.isApplyingToNode(h)&&this.matchTNode(l,h)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,h){this.elementStart(l,h)}embeddedTView(l,h){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,h),new e1(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let x=l.parent;for(;null!==x&&8&x.type&&x.index!==h;)x=x.parent;return h===(null!==x?x.index:-1)}return this._appliesToNextNode}matchTNode(l,h){const x=this.metadata.predicate;if(Array.isArray(x))for(let O=0;O<x.length;O++){const j=x[O];this.matchTNodeWithReadOption(l,h,nE(h,j)),this.matchTNodeWithReadOption(l,h,Ma(h,l,j,!1,!1))}else x===F_?4&h.type&&this.matchTNodeWithReadOption(l,h,-1):this.matchTNodeWithReadOption(l,h,Ma(h,l,x,!1,!1))}matchTNodeWithReadOption(l,h,x){if(null!==x){const O=this.metadata.read;if(null!==O)if(O===kf||O===da||O===F_&&4&h.type)this.addMatch(h.index,-2);else{const j=Ma(h,l,O,!1,!1);null!==j&&this.addMatch(h.index,j)}else this.addMatch(h.index,x)}}addMatch(l,h){null===this.matches?this.matches=[l,h]:this.matches.push(l,h)}}function nE(a,l){const h=a.localNames;if(null!==h)for(let x=0;x<h.length;x+=2)if(h[x]===l)return h[x+1];return null}function iE(a,l,h,x){return-1===h?function rE(a,l){return 11&a.type?Tc(a,l):4&a.type?Jf(a,l):null}(l,a):-2===h?function rk(a,l,h){return h===kf?Tc(l,a):h===F_?Jf(l,a):h===da?Qv(l,a):void 0}(a,l,x):so(a,a[Qe],h,l)}function Xf(a,l,h,x){const O=l[ri].queries[x];if(null===O.matches){const j=a.data,X=h.matches,le=[];for(let pe=0;pe<X.length;pe+=2){const ve=X[pe];le.push(ve<0?null:iE(l,j[ve],X[pe+1],h.metadata.read))}O.matches=le}return O.matches}function wi(a,l,h,x){const O=a.queries.getByIndex(h),j=O.matches;if(null!==j){const X=Xf(a,l,O,h);for(let le=0;le<j.length;le+=2){const pe=j[le];if(pe>0)x.push(X[le/2]);else{const ve=j[le+1],De=l[-pe];for(let je=Yr;je<De.length;je++){const Xe=De[je];Xe[ds]===Xe[zt]&&wi(Xe[Qe],Xe,ve,x)}if(null!==De[$r]){const je=De[$r];for(let Xe=0;Xe<je.length;Xe++){const dt=je[Xe];wi(dt[Qe],dt,ve,x)}}}}}return x}function B_(a){const l=Et(),h=mr(),x=Uh();Sd(x+1);const O=sE(h,x);if(a.dirty&&function Gl(a){return 4==(4&a[wt])}(l)===(2==(2&O.metadata.flags))){if(null===O.matches)a.reset([]);else{const j=O.crossesNgTemplate?wi(h,l,x,[]):Xf(h,l,O,x);a.reset(j,bm),a.notifyOnChanges()}return!0}return!1}function j_(a,l,h){const x=mr();x.firstCreatePass&&(i1(x,new nk(a,l,h),-1),2==(2&l)&&(x.staticViewQueries=!0)),r1(x,Et(),l)}function Qm(a,l,h,x){const O=mr();if(O.firstCreatePass){const j=zi();i1(O,new nk(l,h,x),j.index),function ik(a,l){const h=a.contentQueries||(a.contentQueries=[]);l!==(h.length?h[h.length-1]:-1)&&h.push(a.queries.length-1,l)}(O,a),2==(2&h)&&(O.staticContentQueries=!0)}r1(O,Et(),h)}function t1(){return function n1(a,l){return a[ri].queries[l].queryList}(Et(),Uh())}function r1(a,l,h){const x=new QT(4==(4&h));yI(a,l,x,x.destroy),null===l[ri]&&(l[ri]=new Pl),l[ri].queries.push(new Qf(x))}function i1(a,l,h){null===a.queries&&(a.queries=new Xv),a.queries.track(new e1(l,h))}function sE(a,l){return a.queries.getByIndex(l)}function oE(a,l){return Jf(a,l)}function lE(a){return!!cr(a)}function z_(...a){}const Ds=new dr("Application Initializer");let G_=(()=>{class a{constructor(h){this.appInits=h,this.resolve=z_,this.reject=z_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((x,O)=>{this.resolve=x,this.reject=O})}runInitializers(){if(this.initialized)return;const h=[],x=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let O=0;O<this.appInits.length;O++){const j=this.appInits[O]();if(nv(j))h.push(j);else if(Uu(j)){const X=new Promise((le,pe)=>{j.subscribe({complete:le,error:pe})});h.push(X)}}Promise.all(h).then(()=>{x()}).catch(O=>{this.reject(O)}),0===h.length&&x(),this.initialized=!0}}return a.\u0275fac=function(h){return new(h||a)(Be(Ds,8))},a.\u0275prov=he({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const c1=new dr("AppId",{providedIn:"root",factory:function bE(){return`${u1()}${u1()}${u1()}`}});function u1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vE=new dr("Platform Initializer"),wE=new dr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ck=new dr("AnimationModuleType");let Tk=(()=>{class a{log(h){console.log(h)}warn(h){console.warn(h)}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=he({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const q_=new dr("LocaleId",{providedIn:"root",factory:()=>Ue(q_,Ve.Optional|Ve.SkipSelf)||function Ek(){return typeof $localize<"u"&&$localize.locale||ah}()}),Z_=new dr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xk{constructor(l,h){this.ngModuleFactory=l,this.componentFactories=h}}let CE=(()=>{class a{compileModuleSync(h){return new Hv(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const x=this.compileModuleSync(h),j=kl(cr(h).declarations).reduce((X,le)=>{const pe=En(le);return pe&&X.push(new Qd(pe)),X},[]);return new xk(x,j)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=he({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Zu=(()=>Promise.resolve(0))();function gh(a){typeof Zone>"u"?Zu.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class as{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:x=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nc(!1),this.onMicrotaskEmpty=new Nc(!1),this.onStable=new Nc(!1),this.onError=new Nc(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const O=this;O._nesting=0,O._outer=O._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(O._inner=O._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(O._inner=O._inner.fork(Zone.longStackTraceZoneSpec)),O.shouldCoalesceEventChangeDetection=!x&&h,O.shouldCoalesceRunChangeDetection=x,O.lastRequestAnimationFrameId=-1,O.nativeRequestAnimationFrame=function EE(){let a=tt.requestAnimationFrame,l=tt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h);const x=l[Zone.__symbol__("OriginalDelegate")];x&&(l=x)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Ln(a){const l=()=>{!function SE(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(tt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,xE(a),a.isCheckStableRunning=!0,m1(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),xE(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,x,O,j,X,le)=>{try{return Ik(a),h.invokeTask(O,j,X,le)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===j.type||a.shouldCoalesceRunChangeDetection)&&l(),Ak(a)}},onInvoke:(h,x,O,j,X,le,pe)=>{try{return Ik(a),h.invoke(O,j,X,le,pe)}finally{a.shouldCoalesceRunChangeDetection&&l(),Ak(a)}},onHasTask:(h,x,O,j)=>{h.hasTask(O,j),x===O&&("microTask"==j.change?(a._hasPendingMicrotasks=j.microTask,xE(a),m1(a)):"macroTask"==j.change&&(a.hasPendingMacrotasks=j.macroTask))},onHandleError:(h,x,O,j)=>(h.handleError(O,j),a.runOutsideAngular(()=>a.onError.emit(j)),!1)})}(O)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!as.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(as.isInAngularZone())throw new C(909,!1)}run(l,h,x){return this._inner.run(l,h,x)}runTask(l,h,x,O){const j=this._inner,X=j.scheduleEventTask("NgZoneEvent: "+O,l,p1,z_,z_);try{return j.runTask(X,h,x)}finally{j.cancelTask(X)}}runGuarded(l,h,x){return this._inner.runGuarded(l,h,x)}runOutsideAngular(l){return this._outer.run(l)}}const p1={};function m1(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function xE(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Ik(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Ak(a){a._nesting--,m1(a)}class L4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nc,this.onMicrotaskEmpty=new Nc,this.onStable=new Nc,this.onError=new Nc}run(l,h,x){return l.apply(h,x)}runGuarded(l,h,x){return l.apply(h,x)}runOutsideAngular(l){return l()}runTask(l,h,x,O){return l.apply(h,x)}}const kk=new dr(""),Nk=new dr("");let g1,B4=(()=>{class a{constructor(h,x,O){this._ngZone=h,this.registry=x,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,g1||(function Rk(a){g1=a}(O),O.addToWindow(x)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{as.assertNotInAngularZone(),gh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gh(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(x=>!x.updateCb||!x.updateCb(h)||(clearTimeout(x.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,x,O){let j=-1;x&&x>0&&(j=setTimeout(()=>{this._callbacks=this._callbacks.filter(X=>X.timeoutId!==j),h(this._didWork,this.getPendingTasks())},x)),this._callbacks.push({doneCb:h,timeoutId:j,updateCb:O})}whenStable(h,x,O){if(O&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,x,O),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,x,O){return[]}}return a.\u0275fac=function(h){return new(h||a)(Be(as),Be(Mk),Be(Nk))},a.\u0275prov=he({token:a,factory:a.\u0275fac}),a})(),Mk=(()=>{class a{constructor(){this._applications=new Map}registerApplication(h,x){this._applications.set(h,x)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,x=!0){return g1?.findTestabilityInTree(this,h,x)??null}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=he({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Mc=!1;let Fl=null;const DE=new dr("AllowMultipleToken"),IE=new dr("PlatformDestroyListeners"),Ok=new dr("appBootstrapListener");class Lk{constructor(l,h){this.name=l,this.token=h}}function kE(a,l,h=[]){const x=`Platform: ${l}`,O=new dr(x);return(j=[])=>{let X=RE();if(!X||X.injector.get(DE,!1)){const le=[...h,...j,{provide:O,useValue:!0}];a?a(le):function Bk(a){if(Fl&&!Fl.get(DE,!1))throw new C(400,!1);Fl=a;const l=a.get(Vk);(function AE(a){const l=a.get(vE,null);l&&l.forEach(h=>h())})(a)}(function Uk(a=[],l){return Mf.create({name:l,providers:[{provide:Fu,useValue:"platform"},{provide:IE,useValue:new Set([()=>Fl=null])},...a]})}(le,x))}return function NE(a){const l=RE();if(!l)throw new C(401,!1);return l}()}}function RE(){return Fl?.get(Vk)??null}let Vk=(()=>{class a{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,x){const O=function $k(a,l){let h;return h="noop"===a?new L4:("zone.js"===a?void 0:a)||new as(l),h}(x?.ngZone,function Hk(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(x)),j=[{provide:as,useValue:O}];return O.run(()=>{const X=Mf.create({providers:j,parent:this.injector,name:h.moduleType.name}),le=h.create(X),pe=le.injector.get(vm,null);if(!pe)throw new C(402,!1);return O.runOutsideAngular(()=>{const ve=O.onError.subscribe({next:De=>{pe.handleError(De)}});le.onDestroy(()=>{ig(this._modules,le),ve.unsubscribe()})}),function OE(a,l,h){try{const x=h();return nv(x)?x.catch(O=>{throw l.runOutsideAngular(()=>a.handleError(O)),O}):x}catch(x){throw l.runOutsideAngular(()=>a.handleError(x)),x}}(pe,O,()=>{const ve=le.injector.get(G_);return ve.runInitializers(),ve.donePromise.then(()=>(Fs(le.injector.get(q_,ah)||ah),this._moduleDoBootstrap(le),le))})})}bootstrapModule(h,x=[]){const O=_1({},x);return function Pk(a,l,h){const x=new Hv(h);return Promise.resolve(x)}(0,0,h).then(j=>this.bootstrapModuleFactory(j,O))}_moduleDoBootstrap(h){const x=h.injector.get(hr);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(O=>x.bootstrap(O));else{if(!h.instance.ngDoBootstrap)throw new C(-403,!1);h.instance.ngDoBootstrap(x)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(x=>x.destroy()),this._destroyListeners.forEach(x=>x());const h=this._injector.get(IE,null);h&&(h.forEach(x=>x()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(h){return new(h||a)(Be(Mf))},a.\u0275prov=he({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function _1(a,l){return Array.isArray(l)?l.reduce(_1,a):{...a,...l}}let hr=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(h,x,O){this._zone=h,this._injector=x,this._exceptionHandler=O,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const j=new Ne.y(le=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{le.next(this._stable),le.complete()})}),X=new Ne.y(le=>{let pe;this._zone.runOutsideAngular(()=>{pe=this._zone.onStable.subscribe(()=>{as.assertNotInAngularZone(),gh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,le.next(!0))})})});const ve=this._zone.onUnstable.subscribe(()=>{as.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{le.next(!1)}))});return()=>{pe.unsubscribe(),ve.unsubscribe()}});this.isStable=(0,rt.T)(j,X.pipe((0,_.B)()))}bootstrap(h,x){const O=h instanceof P2;if(!this._injector.get(G_).done){!O&&Pr(h);throw new C(405,Mc)}let X;X=O?h:this._injector.get(Af).resolveComponentFactory(h),this.componentTypes.push(X.componentType);const le=function Fk(a){return a.isBoundToModule}(X)?void 0:this._injector.get(Kf),ve=X.create(Mf.NULL,[],x||X.selector,le),De=ve.location.nativeElement,je=ve.injector.get(kk,null);return je?.registerApplication(De),ve.onDestroy(()=>{this.detachView(ve.hostView),ig(this.components,ve),je?.unregisterApplication(De)}),this._loadComponent(ve),ve}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const x=h;this._views.push(x),x.attachToAppRef(this)}detachView(h){const x=h;ig(this._views,x),x.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h);const x=this._injector.get(Ok,[]);x.push(...this._bootstrapListeners),x.forEach(O=>O(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>ig(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new C(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(h){return new(h||a)(Be(as),Be(Kd),Be(vm))},a.\u0275prov=he({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function ig(a,l){const h=a.indexOf(l);h>-1&&a.splice(h,1)}function zk(){return!1}let Gk=(()=>{class a{}return a.__NG_ELEMENT_ID__=qk,a})();function qk(a){return function Zk(a,l,h){if(Xi(a)&&!h){const x=fi(a.index,l);return new Lf(x,x)}return 47&a.type?new Lf(l[Dr],l):null}(zi(),Et(),16==(16&a))}class Jk{constructor(){}supports(l){return eh(l)}create(l){return new Rc(l)}}const K4=(a,l)=>l;class Rc{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||K4}forEachItem(l){let h;for(h=this._itHead;null!==h;h=h._next)l(h)}forEachOperation(l){let h=this._itHead,x=this._removalsHead,O=0,j=null;for(;h||x;){const X=!x||h&&h.currentIndex<UE(x,O,j)?h:x,le=UE(X,O,j),pe=X.currentIndex;if(X===x)O--,x=x._nextRemoved;else if(h=h._next,null==X.previousIndex)O++;else{j||(j=[]);const ve=le-O,De=pe-O;if(ve!=De){for(let Xe=0;Xe<ve;Xe++){const dt=Xe<j.length?j[Xe]:j[Xe]=0,It=dt+Xe;De<=It&&It<ve&&(j[Xe]=dt+1)}j[X.previousIndex]=De-ve}}le!==pe&&l(X,le,pe)}}forEachPreviousItem(l){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachMovedItem(l){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}forEachIdentityChange(l){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)l(h)}diff(l){if(null==l&&(l=[]),!eh(l))throw new C(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let O,j,X,h=this._itHead,x=!1;if(Array.isArray(l)){this.length=l.length;for(let le=0;le<this.length;le++)j=l[le],X=this._trackByFn(le,j),null!==h&&Object.is(h.trackById,X)?(x&&(h=this._verifyReinsertion(h,j,X,le)),Object.is(h.item,j)||this._addIdentityChange(h,j)):(h=this._mismatch(h,j,X,le),x=!0),h=h._next}else O=0,function Nm(a,l){if(Array.isArray(a))for(let h=0;h<a.length;h++)l(a[h]);else{const h=a[Symbol.iterator]();let x;for(;!(x=h.next()).done;)l(x.value)}}(l,le=>{X=this._trackByFn(O,le),null!==h&&Object.is(h.trackById,X)?(x&&(h=this._verifyReinsertion(h,le,X,O)),Object.is(h.item,le)||this._addIdentityChange(h,le)):(h=this._mismatch(h,le,X,O),x=!0),h=h._next,O++}),this.length=O;return this._truncate(h),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,h,x,O){let j;return null===l?j=this._itTail:(j=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(x,null))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._reinsertAfter(l,j,O)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(x,O))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._moveAfter(l,j,O)):l=this._addAfter(new Qk(h,x),j,O),l}_verifyReinsertion(l,h,x,O){let j=null===this._unlinkedRecords?null:this._unlinkedRecords.get(x,null);return null!==j?l=this._reinsertAfter(j,l._prev,O):l.currentIndex!=O&&(l.currentIndex=O,this._addToMoves(l,O)),l}_truncate(l){for(;null!==l;){const h=l._next;this._addToRemovals(this._unlink(l)),l=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,h,x){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const O=l._prevRemoved,j=l._nextRemoved;return null===O?this._removalsHead=j:O._nextRemoved=j,null===j?this._removalsTail=O:j._prevRemoved=O,this._insertAfter(l,h,x),this._addToMoves(l,x),l}_moveAfter(l,h,x){return this._unlink(l),this._insertAfter(l,h,x),this._addToMoves(l,x),l}_addAfter(l,h,x){return this._insertAfter(l,h,x),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,h,x){const O=null===h?this._itHead:h._next;return l._next=O,l._prev=h,null===O?this._itTail=l:O._prev=l,null===h?this._itHead=l:h._next=l,null===this._linkedRecords&&(this._linkedRecords=new jE),this._linkedRecords.put(l),l.currentIndex=x,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const h=l._prev,x=l._next;return null===h?this._itHead=x:h._next=x,null===x?this._itTail=h:x._prev=h,l}_addToMoves(l,h){return l.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jE),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,h){return l.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Qk{constructor(l,h){this.item=l,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xk{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,h){let x;for(x=this._head;null!==x;x=x._nextDup)if((null===h||h<=x.currentIndex)&&Object.is(x.trackById,l))return x;return null}remove(l){const h=l._prevDup,x=l._nextDup;return null===h?this._head=x:h._nextDup=x,null===x?this._tail=h:x._prevDup=h,null===this._head}}class jE{constructor(){this.map=new Map}put(l){const h=l.trackById;let x=this.map.get(h);x||(x=new Xk,this.map.set(h,x)),x.add(l)}get(l,h){const O=this.map.get(l);return O?O.get(l,h):null}remove(l){const h=l.trackById;return this.map.get(h).remove(l)&&this.map.delete(h),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UE(a,l,h){const x=a.previousIndex;if(null===x)return x;let O=0;return h&&x<h.length&&(O=h[x]),x+l+O}class VE{constructor(){}supports(l){return l instanceof Map||t_(l)}create(){return new e3}}class e3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let h;for(h=this._mapHead;null!==h;h=h._next)l(h)}forEachPreviousItem(l){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)l(h)}forEachChangedItem(l){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}diff(l){if(l){if(!(l instanceof Map||t_(l)))throw new C(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(l,(x,O)=>{if(h&&h.key===O)this._maybeAddToChanges(h,x),this._appendAfter=h,h=h._next;else{const j=this._getOrCreateRecordForKey(O,x);h=this._insertBeforeOrAppend(h,j)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let x=h;null!==x;x=x._nextRemoved)x===this._mapHead&&(this._mapHead=null),this._records.delete(x.key),x._nextRemoved=x._next,x.previousValue=x.currentValue,x.currentValue=null,x._prev=null,x._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,h){if(l){const x=l._prev;return h._next=l,h._prev=x,l._prev=h,x&&(x._next=h),l===this._mapHead&&(this._mapHead=h),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(l,h){if(this._records.has(l)){const O=this._records.get(l);this._maybeAddToChanges(O,h);const j=O._prev,X=O._next;return j&&(j._next=X),X&&(X._prev=j),O._next=null,O._prev=null,O}const x=new Y4(l);return this._records.set(l,x),x.currentValue=h,this._addToAdditions(x),x}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,h){Object.is(h,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=h,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,h){l instanceof Map?l.forEach(h):Object.keys(l).forEach(x=>h(l[x],x))}}class Y4{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function w1(){return new np([new Jk])}let np=(()=>{class a{constructor(h){this.factories=h}static create(h,x){if(null!=x){const O=x.factories.slice();h=h.concat(O)}return new a(h)}static extend(h){return{provide:a,useFactory:x=>a.create(h,x||w1()),deps:[[a,new me,new Su]]}}find(h){const x=this.factories.find(O=>O.supports(h));if(null!=x)return x;throw new C(901,!1)}}return a.\u0275prov=he({token:a,providedIn:"root",factory:w1}),a})();function HE(){return new ls([new VE])}let ls=(()=>{class a{constructor(h){this.factories=h}static create(h,x){if(x){const O=x.factories.slice();h=h.concat(O)}return new a(h)}static extend(h){return{provide:a,useFactory:x=>a.create(h,x||HE()),deps:[[a,new me,new Su]]}}find(h){const x=this.factories.find(O=>O.supports(h));if(x)return x;throw new C(901,!1)}}return a.\u0275prov=he({token:a,providedIn:"root",factory:HE}),a})();const sg=kE(null,"core",[]);let zE=(()=>{class a{constructor(h){}}return a.\u0275fac=function(h){return new(h||a)(Be(hr))},a.\u0275mod=yn({type:a}),a.\u0275inj=K({}),a})();function _h(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function C1(a,l){const h=En(a),x=l.elementInjector||L0();return new Qd(h).create(x,l.projectableNodes,l.hostElement,l.environmentInjector)}},3942:(Vt,St,Re)=>{"use strict";Re.d(St,{Z:()=>p});var s=Re(2090),et=Re(4859),Ne=Re(9681),rt=Re(1877);class _{constructor(C,E){this._delegate=C,this.firebase=E,(0,Ne._addComponent)(C,new et.wA("app-compat",()=>this,"PUBLIC")),this.container=C.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(C){this._delegate.automaticDataCollectionEnabled=C}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(C=>{this._delegate.checkDestroyed(),C()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Ne.deleteApp)(this._delegate)))}_getService(C,E=Ne._DEFAULT_ENTRY_NAME){var v;this._delegate.checkDestroyed();const D=this._delegate.container.getProvider(C);return!D.isInitialized()&&"EXPLICIT"===(null===(v=D.getComponent())||void 0===v?void 0:v.instantiationMode)&&D.initialize(),D.getImmediate({identifier:E})}_removeServiceInstance(C,E=Ne._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(C).clearInstance(E)}_addComponent(C){(0,Ne._addComponent)(this._delegate,C)}_addOrOverwriteComponent(C){(0,Ne._addOrOverwriteComponent)(this._delegate,C)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const B=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),g=function y(){const m=function A(m){const C={},E={__esModule:!0,initializeApp:function S(ee,ne={}){const J=Ne.initializeApp(ee,ne);if((0,s.r3)(C,J.name))return C[J.name];const re=new m(J,E);return C[J.name]=re,re},app:D,registerVersion:Ne.registerVersion,setLogLevel:Ne.setLogLevel,onLog:Ne.onLog,apps:null,SDK_VERSION:Ne.SDK_VERSION,INTERNAL:{registerComponent:function L(ee){const ne=ee.name,J=ne.replace("-compat","");if(Ne._registerComponent(ee)&&"PUBLIC"===ee.type){const re=(oe=D())=>{if("function"!=typeof oe[J])throw B.create("invalid-app-argument",{appName:ne});return oe[J]()};void 0!==ee.serviceProps&&(0,s.ZB)(re,ee.serviceProps),E[J]=re,m.prototype[J]=function(...oe){return this._getService.bind(this,ne).apply(this,ee.multipleInstances?oe:[])}}return"PUBLIC"===ee.type?E[J]:null},removeApp:function v(ee){delete C[ee]},useAsService:function Z(ee,ne){return"serverAuth"===ne?null:ne},modularAPIs:Ne}};function D(ee){if(!(0,s.r3)(C,ee=ee||Ne._DEFAULT_ENTRY_NAME))throw B.create("no-app",{appName:ee});return C[ee]}return E.default=E,Object.defineProperty(E,"apps",{get:function R(){return Object.keys(C).map(ee=>C[ee])}}),D.App=m,E}(_);return m.INTERNAL=Object.assign(Object.assign({},m.INTERNAL),{createFirebaseNamespace:y,extendNamespace:function C(E){(0,s.ZB)(m,E)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),m}(),d=new rt.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const p=g;!function b(m){(0,Ne.registerVersion)("@firebase/app-compat","0.1.32",m)}()},9681:(Vt,St,Re)=>{"use strict";Re.r(St),Re.d(St,{FirebaseError:()=>rt.ZR,SDK_VERSION:()=>ue,_DEFAULT_ENTRY_NAME:()=>I,_addComponent:()=>U,_addOrOverwriteComponent:()=>Y,_apps:()=>N,_clearComponents:()=>K,_components:()=>P,_getProvider:()=>he,_registerComponent:()=>ce,_removeServiceInstance:()=>be,deleteApp:()=>ke,getApp:()=>Me,getApps:()=>Ee,initializeApp:()=>Te,onLog:()=>Se,registerVersion:()=>Ve,setLogLevel:()=>qe});var s=Re(5861),et=Re(4859),Ne=Re(1877),rt=Re(2090),_=Re(8766);class z{constructor(Ue){this.container=Ue}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function B(Pe){return"VERSION"===Pe.getComponent()?.type}(Ze)){const ot=Ze.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(Ze=>Ze).join(" ")}}const A="@firebase/app",y="0.7.31",g=new Ne.Yd("@firebase/app"),I="[DEFAULT]",k={[A]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},N=new Map,P=new Map;function U(Pe,Ue){try{Pe.container.addComponent(Ue)}catch(Ze){g.debug(`Component ${Ue.name} failed to register with FirebaseApp ${Pe.name}`,Ze)}}function Y(Pe,Ue){Pe.container.addOrOverwriteComponent(Ue)}function ce(Pe){const Ue=Pe.name;if(P.has(Ue))return g.debug(`There were multiple attempts to register component ${Ue}.`),!1;P.set(Ue,Pe);for(const Ze of N.values())U(Ze,Pe);return!0}function he(Pe,Ue){const Ze=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),Pe.container.getProvider(Ue)}function be(Pe,Ue,Ze=I){he(Pe,Ue).clearInstance(Ze)}function K(){P.clear()}const q=new rt.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class G{constructor(Ue,Ze,ot){this._isDeleted=!1,this._options=Object.assign({},Ue),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new et.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ue){this._isDeleted=Ue}checkDestroyed(){if(this.isDeleted)throw q.create("app-deleted",{appName:this._name})}}const ue="9.9.3";function Te(Pe,Ue={}){"object"!=typeof Ue&&(Ue={name:Ue});const Ze=Object.assign({name:I,automaticDataCollectionEnabled:!1},Ue),ot=Ze.name;if("string"!=typeof ot||!ot)throw q.create("bad-app-name",{appName:String(ot)});const yt=N.get(ot);if(yt){if((0,rt.vZ)(Pe,yt.options)&&(0,rt.vZ)(Ze,yt.config))return yt;throw q.create("duplicate-app",{appName:ot})}const Jt=new et.H0(ot);for(const Qt of P.values())Jt.addComponent(Qt);const on=new G(Pe,Ze,Jt);return N.set(ot,on),on}function Me(Pe=I){const Ue=N.get(Pe);if(!Ue)throw q.create("no-app",{appName:Pe});return Ue}function Ee(){return Array.from(N.values())}function ke(Pe){return We.apply(this,arguments)}function We(){return(We=(0,s.Z)(function*(Pe){const Ue=Pe.name;N.has(Ue)&&(N.delete(Ue),yield Promise.all(Pe.container.getProviders().map(Ze=>Ze.delete())),Pe.isDeleted=!0)})).apply(this,arguments)}function Ve(Pe,Ue,Ze){var ot;let yt=null!==(ot=k[Pe])&&void 0!==ot?ot:Pe;Ze&&(yt+=`-${Ze}`);const Jt=yt.match(/\s|\//),on=Ue.match(/\s|\//);if(Jt||on){const Qt=[`Unable to register library "${yt}" with version "${Ue}":`];return Jt&&Qt.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),Jt&&on&&Qt.push("and"),on&&Qt.push(`version name "${Ue}" contains illegal characters (whitespace or "/")`),void g.warn(Qt.join(" "))}ce(new et.wA(`${yt}-version`,()=>({library:yt,version:Ue}),"VERSION"))}function Se(Pe,Ue){if(null!==Pe&&"function"!=typeof Pe)throw q.create("invalid-log-argument");(0,Ne.Am)(Pe,Ue)}function qe(Pe){(0,Ne.Ub)(Pe)}const ze="firebase-heartbeat-database",Ye=1,st="firebase-heartbeat-store";let tt=null;function it(){return tt||(tt=(0,_.X3)(ze,Ye,{upgrade:(Pe,Ue)=>{0===Ue&&Pe.createObjectStore(st)}}).catch(Pe=>{throw q.create("idb-open",{originalErrorMessage:Pe.message})})),tt}function ht(){return(ht=(0,s.Z)(function*(Pe){var Ue;try{return(yield it()).transaction(st).objectStore(st).get(Nt(Pe))}catch(Ze){if(Ze instanceof rt.ZR)g.warn(Ze.message);else{const ot=q.create("idb-get",{originalErrorMessage:null===(Ue=Ze)||void 0===Ue?void 0:Ue.message});g.warn(ot.message)}}})).apply(this,arguments)}function kt(Pe,Ue){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(Pe,Ue){var Ze;try{const yt=(yield it()).transaction(st,"readwrite");return yield yt.objectStore(st).put(Ue,Nt(Pe)),yt.done}catch(ot){if(ot instanceof rt.ZR)g.warn(ot.message);else{const yt=q.create("idb-set",{originalErrorMessage:null===(Ze=ot)||void 0===Ze?void 0:Ze.message});g.warn(yt.message)}}})).apply(this,arguments)}function Nt(Pe){return`${Pe.name}!${Pe.options.appId}`}class gn{constructor(Ue){this.container=Ue,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Dt(Ze),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var Ue=this;return(0,s.Z)(function*(){const ot=Ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=Mt();if(null===Ue._heartbeatsCache&&(Ue._heartbeatsCache=yield Ue._heartbeatsCachePromise),Ue._heartbeatsCache.lastSentHeartbeatDate!==yt&&!Ue._heartbeatsCache.heartbeats.some(Jt=>Jt.date===yt))return Ue._heartbeatsCache.heartbeats.push({date:yt,agent:ot}),Ue._heartbeatsCache.heartbeats=Ue._heartbeatsCache.heartbeats.filter(Jt=>{const on=new Date(Jt.date).valueOf();return Date.now()-on<=2592e6}),Ue._storage.overwrite(Ue._heartbeatsCache)})()}getHeartbeatsHeader(){var Ue=this;return(0,s.Z)(function*(){if(null===Ue._heartbeatsCache&&(yield Ue._heartbeatsCachePromise),null===Ue._heartbeatsCache||0===Ue._heartbeatsCache.heartbeats.length)return"";const Ze=Mt(),{heartbeatsToSend:ot,unsentEntries:yt}=function sn(Pe,Ue=1024){const Ze=[];let ot=Pe.slice();for(const yt of Pe){const Jt=Ze.find(on=>on.agent===yt.agent);if(Jt){if(Jt.dates.push(yt.date),Fe(Ze)>Ue){Jt.dates.pop();break}}else if(Ze.push({agent:yt.agent,dates:[yt.date]}),Fe(Ze)>Ue){Ze.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:ot}}(Ue._heartbeatsCache.heartbeats),Jt=(0,rt.L)(JSON.stringify({version:2,heartbeats:ot}));return Ue._heartbeatsCache.lastSentHeartbeatDate=Ze,yt.length>0?(Ue._heartbeatsCache.heartbeats=yt,yield Ue._storage.overwrite(Ue._heartbeatsCache)):(Ue._heartbeatsCache.heartbeats=[],Ue._storage.overwrite(Ue._heartbeatsCache)),Jt})()}}function Mt(){return(new Date).toISOString().substring(0,10)}class Dt{constructor(Ue){this.app=Ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,rt.hl)()&&(0,rt.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ue=this;return(0,s.Z)(function*(){return(yield Ue._canUseIndexedDBPromise)&&(yield function lt(Pe){return ht.apply(this,arguments)}(Ue.app))||{heartbeats:[]}})()}overwrite(Ue){var Ze=this;return(0,s.Z)(function*(){var ot;if(yield Ze._canUseIndexedDBPromise){const Jt=yield Ze.read();return kt(Ze.app,{lastSentHeartbeatDate:null!==(ot=Ue.lastSentHeartbeatDate)&&void 0!==ot?ot:Jt.lastSentHeartbeatDate,heartbeats:Ue.heartbeats})}})()}add(Ue){var Ze=this;return(0,s.Z)(function*(){var ot;if(yield Ze._canUseIndexedDBPromise){const Jt=yield Ze.read();return kt(Ze.app,{lastSentHeartbeatDate:null!==(ot=Ue.lastSentHeartbeatDate)&&void 0!==ot?ot:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...Ue.heartbeats]})}})()}}function Fe(Pe){return(0,rt.L)(JSON.stringify({version:2,heartbeats:Pe})).length}!function Be(Pe){ce(new et.wA("platform-logger",Ue=>new z(Ue),"PRIVATE")),ce(new et.wA("heartbeat",Ue=>new gn(Ue),"PRIVATE")),Ve(A,y,Pe),Ve(A,y,"esm2017"),Ve("fire-js","")}("")},4859:(Vt,St,Re)=>{"use strict";Re.d(St,{H0:()=>A,wA:()=>Ne,zt:()=>_});var s=Re(5861),et=Re(2090);class Ne{constructor(g,d,u){this.name=g,this.instanceFactory=d,this.type=u,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(g){return this.instantiationMode=g,this}setMultipleInstances(g){return this.multipleInstances=g,this}setServiceProps(g){return this.serviceProps=g,this}setInstanceCreatedCallback(g){return this.onInstanceCreated=g,this}}const rt="[DEFAULT]";class _{constructor(g,d){this.name=g,this.container=d,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(g){const d=this.normalizeInstanceIdentifier(g);if(!this.instancesDeferred.has(d)){const u=new et.BH;if(this.instancesDeferred.set(d,u),this.isInitialized(d)||this.shouldAutoInitialize())try{const f=this.getOrInitializeService({instanceIdentifier:d});f&&u.resolve(f)}catch{}}return this.instancesDeferred.get(d).promise}getImmediate(g){var d;const u=this.normalizeInstanceIdentifier(g?.identifier),f=null!==(d=g?.optional)&&void 0!==d&&d;if(!this.isInitialized(u)&&!this.shouldAutoInitialize()){if(f)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:u})}catch(b){if(f)return null;throw b}}getComponent(){return this.component}setComponent(g){if(g.name!==this.name)throw Error(`Mismatching Component ${g.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=g,this.shouldAutoInitialize()){if(function B(y){return"EAGER"===y.instantiationMode}(g))try{this.getOrInitializeService({instanceIdentifier:rt})}catch{}for(const[d,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(d);try{const b=this.getOrInitializeService({instanceIdentifier:f});u.resolve(b)}catch{}}}}clearInstance(g=rt){this.instancesDeferred.delete(g),this.instancesOptions.delete(g),this.instances.delete(g)}delete(){var g=this;return(0,s.Z)(function*(){const d=Array.from(g.instances.values());yield Promise.all([...d.filter(u=>"INTERNAL"in u).map(u=>u.INTERNAL.delete()),...d.filter(u=>"_delete"in u).map(u=>u._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(g=rt){return this.instances.has(g)}getOptions(g=rt){return this.instancesOptions.get(g)||{}}initialize(g={}){const{options:d={}}=g,u=this.normalizeInstanceIdentifier(g.instanceIdentifier);if(this.isInitialized(u))throw Error(`${this.name}(${u}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const f=this.getOrInitializeService({instanceIdentifier:u,options:d});for(const[b,p]of this.instancesDeferred.entries())u===this.normalizeInstanceIdentifier(b)&&p.resolve(f);return f}onInit(g,d){var u;const f=this.normalizeInstanceIdentifier(d),b=null!==(u=this.onInitCallbacks.get(f))&&void 0!==u?u:new Set;b.add(g),this.onInitCallbacks.set(f,b);const p=this.instances.get(f);return p&&g(p,f),()=>{b.delete(g)}}invokeOnInitCallbacks(g,d){const u=this.onInitCallbacks.get(d);if(u)for(const f of u)try{f(g,d)}catch{}}getOrInitializeService({instanceIdentifier:g,options:d={}}){let u=this.instances.get(g);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:(y=g,y===rt?void 0:y),options:d}),this.instances.set(g,u),this.instancesOptions.set(g,d),this.invokeOnInitCallbacks(u,g),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,g,u)}catch{}var y;return u||null}normalizeInstanceIdentifier(g=rt){return this.component?this.component.multipleInstances?g:rt:g}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class A{constructor(g){this.name=g,this.providers=new Map}addComponent(g){const d=this.getProvider(g.name);if(d.isComponentSet())throw new Error(`Component ${g.name} has already been registered with ${this.name}`);d.setComponent(g)}addOrOverwriteComponent(g){this.getProvider(g.name).isComponentSet()&&this.providers.delete(g.name),this.addComponent(g)}getProvider(g){if(this.providers.has(g))return this.providers.get(g);const d=new _(g,this);return this.providers.set(g,d),d}getProviders(){return Array.from(this.providers.values())}}},1877:(Vt,St,Re)=>{"use strict";Re.d(St,{Am:()=>y,Ub:()=>A,Yd:()=>B,in:()=>et});const s=[];var et=(()=>{return(g=et||(et={}))[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT",et;var g})();const Ne={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},rt=et.INFO,_={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},z=(g,d,...u)=>{if(d<g.logLevel)return;const f=(new Date).toISOString(),b=_[d];if(!b)throw new Error(`Attempted to log a message with an invalid logType (value: ${d})`);console[b](`[${f}]  ${g.name}:`,...u)};class B{constructor(d){this.name=d,this._logLevel=rt,this._logHandler=z,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(d){if(!(d in et))throw new TypeError(`Invalid value "${d}" assigned to \`logLevel\``);this._logLevel=d}setLogLevel(d){this._logLevel="string"==typeof d?Ne[d]:d}get logHandler(){return this._logHandler}set logHandler(d){if("function"!=typeof d)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=d}get userLogHandler(){return this._userLogHandler}set userLogHandler(d){this._userLogHandler=d}debug(...d){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...d),this._logHandler(this,et.DEBUG,...d)}log(...d){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...d),this._logHandler(this,et.VERBOSE,...d)}info(...d){this._userLogHandler&&this._userLogHandler(this,et.INFO,...d),this._logHandler(this,et.INFO,...d)}warn(...d){this._userLogHandler&&this._userLogHandler(this,et.WARN,...d),this._logHandler(this,et.WARN,...d)}error(...d){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...d),this._logHandler(this,et.ERROR,...d)}}function A(g){s.forEach(d=>{d.setLogLevel(g)})}function y(g,d){for(const u of s){let f=null;d&&d.level&&(f=Ne[d.level]),u.userLogHandler=null===g?null:(b,p,...m)=>{const C=m.map(E=>{if(null==E)return null;if("string"==typeof E)return E;if("number"==typeof E||"boolean"==typeof E)return E.toString();if(E instanceof Error)return E.message;try{return JSON.stringify(E)}catch{return null}}).filter(E=>E).join(" ");p>=(f??b.logLevel)&&g({level:et[p].toLowerCase(),message:C,args:m,type:b.name})}}}},8766:(Vt,St,Re)=>{"use strict";Re.d(St,{Lj:()=>S,X3:()=>D});var s=Re(5861);const et=(ne,J)=>J.some(re=>ne instanceof re);let Ne,rt;const B=new WeakMap,A=new WeakMap,y=new WeakMap,g=new WeakMap,d=new WeakMap;let b={get(ne,J,re){if(ne instanceof IDBTransaction){if("done"===J)return A.get(ne);if("objectStoreNames"===J)return ne.objectStoreNames||y.get(ne);if("store"===J)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return E(ne[J])},set:(ne,J,re)=>(ne[J]=re,!0),has:(ne,J)=>ne instanceof IDBTransaction&&("done"===J||"store"===J)||J in ne};function C(ne){return"function"==typeof ne?function m(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function z(){return rt||(rt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...J){return ne.apply(v(this),J),E(B.get(this))}:function(...J){return E(ne.apply(v(this),J))}:function(J,...re){const oe=ne.call(v(this),J,...re);return y.set(oe,J.sort?J.sort():[J]),E(oe)}}(ne):(ne instanceof IDBTransaction&&function f(ne){if(A.has(ne))return;const J=new Promise((re,oe)=>{const fe=()=>{ne.removeEventListener("complete",ae),ne.removeEventListener("error",$),ne.removeEventListener("abort",$)},ae=()=>{re(),fe()},$=()=>{oe(ne.error||new DOMException("AbortError","AbortError")),fe()};ne.addEventListener("complete",ae),ne.addEventListener("error",$),ne.addEventListener("abort",$)});A.set(ne,J)}(ne),et(ne,function _(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,b):ne)}function E(ne){if(ne instanceof IDBRequest)return function u(ne){const J=new Promise((re,oe)=>{const fe=()=>{ne.removeEventListener("success",ae),ne.removeEventListener("error",$)},ae=()=>{re(E(ne.result)),fe()},$=()=>{oe(ne.error),fe()};ne.addEventListener("success",ae),ne.addEventListener("error",$)});return J.then(re=>{re instanceof IDBCursor&&B.set(re,ne)}).catch(()=>{}),d.set(J,ne),J}(ne);if(g.has(ne))return g.get(ne);const J=C(ne);return J!==ne&&(g.set(ne,J),d.set(J,ne)),J}const v=ne=>d.get(ne);function D(ne,J,{blocked:re,upgrade:oe,blocking:fe,terminated:ae}={}){const $=indexedDB.open(ne,J),W=E($);return oe&&$.addEventListener("upgradeneeded",ie=>{oe(E($.result),ie.oldVersion,ie.newVersion,E($.transaction))}),re&&$.addEventListener("blocked",()=>re()),W.then(ie=>{ae&&ie.addEventListener("close",()=>ae()),fe&&ie.addEventListener("versionchange",()=>fe())}).catch(()=>{}),W}function S(ne,{blocked:J}={}){const re=indexedDB.deleteDatabase(ne);return J&&re.addEventListener("blocked",()=>J()),E(re).then(()=>{})}const R=["get","getKey","getAll","getAllKeys","count"],L=["put","add","delete","clear"],Z=new Map;function ee(ne,J){if(!(ne instanceof IDBDatabase)||J in ne||"string"!=typeof J)return;if(Z.get(J))return Z.get(J);const re=J.replace(/FromIndex$/,""),oe=J!==re,fe=L.includes(re);if(!(re in(oe?IDBIndex:IDBObjectStore).prototype)||!fe&&!R.includes(re))return;const ae=function(){var $=(0,s.Z)(function*(W,...ie){const T=this.transaction(W,fe?"readwrite":"readonly");let I=T.store;return oe&&(I=I.index(ie.shift())),(yield Promise.all([I[re](...ie),fe&&T.done]))[0]});return function(ie){return $.apply(this,arguments)}}();return Z.set(J,ae),ae}!function p(ne){b=ne(b)}(ne=>({...ne,get:(J,re,oe)=>ee(J,re)||ne.get(J,re,oe),has:(J,re)=>!!ee(J,re)||ne.has(J,re)}))},5861:(Vt,St,Re)=>{"use strict";function s(Ne,rt,_,z,B,A,y){try{var g=Ne[A](y),d=g.value}catch(u){return void _(u)}g.done?rt(d):Promise.resolve(d).then(z,B)}function et(Ne){return function(){var rt=this,_=arguments;return new Promise(function(z,B){var A=Ne.apply(rt,_);function y(d){s(A,z,B,y,g,"next",d)}function g(d){s(A,z,B,y,g,"throw",d)}y(void 0)})}}Re.d(St,{Z:()=>et})},7582:(Vt,St,Re)=>{"use strict";function rt(I,k){var N={};for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&k.indexOf(P)<0&&(N[P]=I[P]);if(null!=I&&"function"==typeof Object.getOwnPropertySymbols){var U=0;for(P=Object.getOwnPropertySymbols(I);U<P.length;U++)k.indexOf(P[U])<0&&Object.prototype.propertyIsEnumerable.call(I,P[U])&&(N[P[U]]=I[P[U]])}return N}function u(I,k,N,P){return new(N||(N=Promise))(function(Y,ce){function he(_e){try{K(P.next(_e))}catch(q){ce(q)}}function be(_e){try{K(P.throw(_e))}catch(q){ce(q)}}function K(_e){_e.done?Y(_e.value):function U(Y){return Y instanceof N?Y:new N(function(ce){ce(Y)})}(_e.value).then(he,be)}K((P=P.apply(I,k||[])).next())})}function S(I){return this instanceof S?(this.v=I,this):new S(I)}function R(I,k,N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,P=N.apply(I,k||[]),Y=[];return U={},ce("next"),ce("throw"),ce("return"),U[Symbol.asyncIterator]=function(){return this},U;function ce(G){P[G]&&(U[G]=function(ue){return new Promise(function(Te,Me){Y.push([G,ue,Te,Me])>1||he(G,ue)})})}function he(G,ue){try{!function be(G){G.value instanceof S?Promise.resolve(G.value.v).then(K,_e):q(Y[0][2],G)}(P[G](ue))}catch(Te){q(Y[0][3],Te)}}function K(G){he("next",G)}function _e(G){he("throw",G)}function q(G,ue){G(ue),Y.shift(),Y.length&&he(Y[0][0],Y[0][1])}}function Z(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N,k=I[Symbol.asyncIterator];return k?k.call(I):(I=function m(I){var k="function"==typeof Symbol&&Symbol.iterator,N=k&&I[k],P=0;if(N)return N.call(I);if(I&&"number"==typeof I.length)return{next:function(){return I&&P>=I.length&&(I=void 0),{value:I&&I[P++],done:!I}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}(I),N={},P("next"),P("throw"),P("return"),N[Symbol.asyncIterator]=function(){return this},N);function P(Y){N[Y]=I[Y]&&function(ce){return new Promise(function(he,be){!function U(Y,ce,he,be){Promise.resolve(be).then(function(K){Y({value:K,done:he})},ce)}(he,be,(ce=I[Y](ce)).done,ce.value)})}}}Re.d(St,{FC:()=>R,KL:()=>Z,_T:()=>rt,mG:()=>u,qq:()=>S}),"function"==typeof SuppressedError&&SuppressedError}},Vt=>{Vt(Vt.s=1961)}]);